import{a as B,b as ge,d as aN,e as cN,f as Ti,g as C}from"./chunk-RA2WU32H.js";var vM=aN((Mr,zE)=>{"use strict";(function(t,e){typeof Mr=="object"&&typeof zE<"u"?zE.exports=e():typeof define=="function"&&define.amd?define(e):(t=typeof globalThis<"u"?globalThis:t||self,t.Sweetalert2=e())})(Mr,function(){"use strict";function t(l,h,y){if(typeof l=="function"?l===h:l.has(h))return arguments.length<3?h:y;throw new TypeError("Private element is not present on this object")}function e(l,h){if(h.has(l))throw new TypeError("Cannot initialize the same private elements twice on an object")}function n(l,h){return l.get(t(l,h))}function r(l,h,y){e(l,h),h.set(l,y)}function i(l,h,y){return l.set(t(l,h),y),y}let o=100,s={},a=()=>{s.previousActiveElement instanceof HTMLElement?(s.previousActiveElement.focus(),s.previousActiveElement=null):document.body&&document.body.focus()},u=l=>new Promise(h=>{if(!l)return h();let y=window.scrollX,w=window.scrollY;s.restoreFocusTimeout=setTimeout(()=>{a(),h()},o),window.scrollTo(y,w)}),d="swal2-",g=["container","shown","height-auto","iosfix","popup","modal","no-backdrop","no-transition","toast","toast-shown","show","hide","close","title","html-container","actions","confirm","deny","cancel","default-outline","footer","icon","icon-content","image","input","file","range","select","radio","checkbox","label","textarea","inputerror","input-label","validation-message","progress-steps","active-progress-step","progress-step","progress-step-line","loader","loading","styled","top","top-start","top-end","top-left","top-right","center","center-start","center-end","center-left","center-right","bottom","bottom-start","bottom-end","bottom-left","bottom-right","grow-row","grow-column","grow-fullscreen","rtl","timer-progress-bar","timer-progress-bar-container","scrollbar-measure","icon-success","icon-warning","icon-info","icon-question","icon-error"].reduce((l,h)=>(l[h]=d+h,l),{}),b=["success","warning","info","question","error"].reduce((l,h)=>(l[h]=d+h,l),{}),M="SweetAlert2:",O=l=>l.charAt(0).toUpperCase()+l.slice(1),k=l=>{console.warn(`${M} ${typeof l=="object"?l.join(" "):l}`)},U=l=>{console.error(`${M} ${l}`)},Q=[],Z=l=>{Q.includes(l)||(Q.push(l),k(l))},ce=function(l){let h=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;Z(`"${l}" is deprecated and will be removed in the next major release.${h?` Use "${h}" instead.`:""}`)},Oe=l=>typeof l=="function"?l():l,ee=l=>l&&typeof l.toPromise=="function",S=l=>ee(l)?l.toPromise():Promise.resolve(l),I=l=>l&&Promise.resolve(l)===l,E=()=>document.body.querySelector(`.${g.container}`),T=l=>{let h=E();return h?h.querySelector(l):null},A=l=>T(`.${l}`),R=()=>A(g.popup),D=()=>A(g.icon),Rn=()=>A(g["icon-content"]),ci=()=>A(g.title),lc=()=>A(g["html-container"]),ui=()=>A(g.image),Nr=()=>A(g["progress-steps"]),li=()=>A(g["validation-message"]),Xt=()=>T(`.${g.actions} .${g.confirm}`),di=()=>T(`.${g.actions} .${g.cancel}`),Rt=()=>T(`.${g.actions} .${g.deny}`),mt=()=>A(g["input-label"]),hi=()=>T(`.${g.loader}`),xn=()=>A(g.actions),Tl=()=>A(g.footer),Qn=()=>A(g["timer-progress-bar"]),dc=()=>A(g.close),Rg=`
  a[href],
  area[href],
  input:not([disabled]),
  select:not([disabled]),
  textarea:not([disabled]),
  button:not([disabled]),
  iframe,
  object,
  embed,
  [tabindex="0"],
  [contenteditable],
  audio[controls],
  video[controls],
  summary
`,fi=()=>{let l=R();if(!l)return[];let h=l.querySelectorAll('[tabindex]:not([tabindex="-1"]):not([tabindex="0"])'),y=Array.from(h).sort(($,ue)=>{let Me=parseInt($.getAttribute("tabindex")||"0"),ze=parseInt(ue.getAttribute("tabindex")||"0");return Me>ze?1:Me<ze?-1:0}),w=l.querySelectorAll(Rg),N=Array.from(w).filter($=>$.getAttribute("tabindex")!=="-1");return[...new Set(y.concat(N))].filter($=>Dt($))},pi=()=>en(document.body,g.shown)&&!en(document.body,g["toast-shown"])&&!en(document.body,g["no-backdrop"]),gi=()=>{let l=R();return l?en(l,g.toast):!1},hc=()=>{let l=R();return l?l.hasAttribute("data-loading"):!1},bt=(l,h)=>{if(l.textContent="",h){let w=new DOMParser().parseFromString(h,"text/html"),N=w.querySelector("head");N&&Array.from(N.childNodes).forEach(ue=>{l.appendChild(ue)});let $=w.querySelector("body");$&&Array.from($.childNodes).forEach(ue=>{ue instanceof HTMLVideoElement||ue instanceof HTMLAudioElement?l.appendChild(ue.cloneNode(!0)):l.appendChild(ue)})}},en=(l,h)=>{if(!h)return!1;let y=h.split(/\s+/);for(let w=0;w<y.length;w++)if(!l.classList.contains(y[w]))return!1;return!0},Sl=(l,h)=>{Array.from(l.classList).forEach(y=>{!Object.values(g).includes(y)&&!Object.values(b).includes(y)&&!Object.values(h.showClass||{}).includes(y)&&l.classList.remove(y)})},xt=(l,h,y)=>{if(Sl(l,h),!h.customClass)return;let w=h.customClass[y];if(w){if(typeof w!="string"&&!w.forEach){k(`Invalid type of customClass.${y}! Expected string or iterable object, got "${typeof w}"`);return}pe(l,w)}},_s=(l,h)=>{if(!h)return null;switch(h){case"select":case"textarea":case"file":return l.querySelector(`.${g.popup} > .${g[h]}`);case"checkbox":return l.querySelector(`.${g.popup} > .${g.checkbox} input`);case"radio":return l.querySelector(`.${g.popup} > .${g.radio} input:checked`)||l.querySelector(`.${g.popup} > .${g.radio} input:first-child`);case"range":return l.querySelector(`.${g.popup} > .${g.range} input`);default:return l.querySelector(`.${g.popup} > .${g.input}`)}},fc=l=>{if(l.focus(),l.type!=="file"){let h=l.value;l.value="",l.value=h}},pc=(l,h,y)=>{!l||!h||(typeof h=="string"&&(h=h.split(/\s+/).filter(Boolean)),h.forEach(w=>{Array.isArray(l)?l.forEach(N=>{y?N.classList.add(w):N.classList.remove(w)}):y?l.classList.add(w):l.classList.remove(w)}))},pe=(l,h)=>{pc(l,h,!0)},tn=(l,h)=>{pc(l,h,!1)},Yn=(l,h)=>{let y=Array.from(l.children);for(let w=0;w<y.length;w++){let N=y[w];if(N instanceof HTMLElement&&en(N,h))return N}},Mn=(l,h,y)=>{y===`${parseInt(y)}`&&(y=parseInt(y)),y||parseInt(y)===0?l.style.setProperty(h,typeof y=="number"?`${y}px`:y):l.style.removeProperty(h)},Ge=function(l){let h=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"flex";l&&(l.style.display=h)},Xe=l=>{l&&(l.style.display="none")},et=function(l){let h=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"block";l&&new MutationObserver(()=>{Zn(l,l.innerHTML,h)}).observe(l,{childList:!0,subtree:!0})},yt=(l,h,y,w)=>{let N=l.querySelector(h);N&&N.style.setProperty(y,w)},Zn=function(l,h){let y=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"flex";h?Ge(l,y):Xe(l)},Dt=l=>!!(l&&(l.offsetWidth||l.offsetHeight||l.getClientRects().length)),Al=()=>!Dt(Xt())&&!Dt(Rt())&&!Dt(di()),Rl=l=>l.scrollHeight>l.clientHeight,mi=l=>{let h=window.getComputedStyle(l),y=parseFloat(h.getPropertyValue("animation-duration")||"0"),w=parseFloat(h.getPropertyValue("transition-duration")||"0");return y>0||w>0},Is=function(l){let h=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,y=Qn();y&&Dt(y)&&(h&&(y.style.transition="none",y.style.width="100%"),setTimeout(()=>{y.style.transition=`width ${l/1e3}s linear`,y.style.width="0%"},10))},xl=()=>{let l=Qn();if(!l)return;let h=parseInt(window.getComputedStyle(l).width);l.style.removeProperty("transition"),l.style.width="100%";let y=parseInt(window.getComputedStyle(l).width),w=h/y*100;l.style.width=`${w}%`},gc=()=>typeof window>"u"||typeof document>"u",xg=`
 <div aria-labelledby="${g.title}" aria-describedby="${g["html-container"]}" class="${g.popup}" tabindex="-1">
   <button type="button" class="${g.close}"></button>
   <ul class="${g["progress-steps"]}"></ul>
   <div class="${g.icon}"></div>
   <img class="${g.image}" />
   <h2 class="${g.title}" id="${g.title}"></h2>
   <div class="${g["html-container"]}" id="${g["html-container"]}"></div>
   <input class="${g.input}" id="${g.input}" />
   <input type="file" class="${g.file}" />
   <div class="${g.range}">
     <input type="range" />
     <output></output>
   </div>
   <select class="${g.select}" id="${g.select}"></select>
   <div class="${g.radio}"></div>
   <label class="${g.checkbox}">
     <input type="checkbox" id="${g.checkbox}" />
     <span class="${g.label}"></span>
   </label>
   <textarea class="${g.textarea}" id="${g.textarea}"></textarea>
   <div class="${g["validation-message"]}" id="${g["validation-message"]}"></div>
   <div class="${g.actions}">
     <div class="${g.loader}"></div>
     <button type="button" class="${g.confirm}"></button>
     <button type="button" class="${g.deny}"></button>
     <button type="button" class="${g.cancel}"></button>
   </div>
   <div class="${g.footer}"></div>
   <div class="${g["timer-progress-bar-container"]}">
     <div class="${g["timer-progress-bar"]}"></div>
   </div>
 </div>
`.replace(/(^|\n)\s*/g,""),Mg=()=>{let l=E();return l?(l.remove(),tn([document.documentElement,document.body],[g["no-backdrop"],g["toast-shown"],g["has-column"]]),!0):!1},Nn=()=>{s.currentInstance.resetValidationMessage()},Ml=()=>{let l=R(),h=Yn(l,g.input),y=Yn(l,g.file),w=l.querySelector(`.${g.range} input`),N=l.querySelector(`.${g.range} output`),$=Yn(l,g.select),ue=l.querySelector(`.${g.checkbox} input`),Me=Yn(l,g.textarea);h.oninput=Nn,y.onchange=Nn,$.onchange=Nn,ue.onchange=Nn,Me.oninput=Nn,w.oninput=()=>{Nn(),N.value=w.value},w.onchange=()=>{Nn(),N.value=w.value}},Nl=l=>typeof l=="string"?document.querySelector(l):l,ho=l=>{let h=R();h.setAttribute("role",l.toast?"alert":"dialog"),h.setAttribute("aria-live",l.toast?"polite":"assertive"),l.toast||h.setAttribute("aria-modal","true")},mc=l=>{window.getComputedStyle(l).direction==="rtl"&&pe(E(),g.rtl)},yc=l=>{let h=Mg();if(gc()){U("SweetAlert2 requires document to initialize");return}let y=document.createElement("div");y.className=g.container,h&&pe(y,g["no-transition"]),bt(y,xg);let w=Nl(l.target);w.appendChild(y),ho(l),mc(w),Ml()},Pn=(l,h)=>{l instanceof HTMLElement?h.appendChild(l):typeof l=="object"?Pl(l,h):l&&bt(h,l)},Pl=(l,h)=>{l.jquery?Es(h,l):bt(h,l.toString())},Es=(l,h)=>{if(l.textContent="",0 in h)for(let y=0;y in h;y++)l.appendChild(h[y].cloneNode(!0));else l.appendChild(h.cloneNode(!0))},kl=(l,h)=>{let y=xn(),w=hi();!y||!w||(!h.showConfirmButton&&!h.showDenyButton&&!h.showCancelButton?Xe(y):Ge(y),xt(y,h,"actions"),fo(y,w,h),bt(w,h.loaderHtml||""),xt(w,h,"loader"))};function fo(l,h,y){let w=Xt(),N=Rt(),$=di();!w||!N||!$||(ut(w,"confirm",y),ut(N,"deny",y),ut($,"cancel",y),Ol(w,N,$,y),y.reverseButtons&&(y.toast?(l.insertBefore($,w),l.insertBefore(N,w)):(l.insertBefore($,h),l.insertBefore(N,h),l.insertBefore(w,h))))}function Ol(l,h,y,w){if(!w.buttonsStyling){tn([l,h,y],g.styled);return}pe([l,h,y],g.styled),w.confirmButtonColor&&(l.style.backgroundColor=w.confirmButtonColor,pe(l,g["default-outline"])),w.denyButtonColor&&(h.style.backgroundColor=w.denyButtonColor,pe(h,g["default-outline"])),w.cancelButtonColor&&(y.style.backgroundColor=w.cancelButtonColor,pe(y,g["default-outline"]))}function ut(l,h,y){let w=O(h);Zn(l,y[`show${w}Button`],"inline-block"),bt(l,y[`${h}ButtonText`]||""),l.setAttribute("aria-label",y[`${h}ButtonAriaLabel`]||""),l.className=g[h],xt(l,y,`${h}Button`)}let Fl=(l,h)=>{let y=dc();y&&(bt(y,h.closeButtonHtml||""),xt(y,h,"closeButton"),Zn(y,h.showCloseButton),y.setAttribute("aria-label",h.closeButtonAriaLabel||""))},po=(l,h)=>{let y=E();y&&(go(y,h.backdrop),Ng(y,h.position),Pg(y,h.grow),xt(y,h,"container"))};function go(l,h){typeof h=="string"?l.style.background=h:h||pe([document.documentElement,document.body],g["no-backdrop"])}function Ng(l,h){h&&(h in g?pe(l,g[h]):(k('The "position" parameter is not valid, defaulting to "center"'),pe(l,g.center)))}function Pg(l,h){h&&pe(l,g[`grow-${h}`])}var Te={innerParams:new WeakMap,domCache:new WeakMap};let kg=["input","file","range","select","radio","checkbox","textarea"],Og=(l,h)=>{let y=R();if(!y)return;let w=Te.innerParams.get(l),N=!w||h.input!==w.input;kg.forEach($=>{let ue=Yn(y,g[$]);ue&&(vc($,h.inputAttributes),ue.className=g[$],N&&Xe(ue))}),h.input&&(N&&bs(h),Ds(h))},bs=l=>{if(!l.input)return;if(!Ue[l.input]){U(`Unexpected type of input! Expected ${Object.keys(Ue).join(" | ")}, got "${l.input}"`);return}let h=wc(l.input);if(!h)return;let y=Ue[l.input](h,l);Ge(h),l.inputAutoFocus&&setTimeout(()=>{fc(y)})},Ll=l=>{for(let h=0;h<l.attributes.length;h++){let y=l.attributes[h].name;["id","type","value","style"].includes(y)||l.removeAttribute(y)}},vc=(l,h)=>{let y=R();if(!y)return;let w=_s(y,l);if(w){Ll(w);for(let N in h)w.setAttribute(N,h[N])}},Ds=l=>{if(!l.input)return;let h=wc(l.input);h&&xt(h,l,"input")},gn=(l,h)=>{!l.placeholder&&h.inputPlaceholder&&(l.placeholder=h.inputPlaceholder)},yi=(l,h,y)=>{if(y.inputLabel){let w=document.createElement("label"),N=g["input-label"];w.setAttribute("for",l.id),w.className=N,typeof y.customClass=="object"&&pe(w,y.customClass.inputLabel),w.innerText=y.inputLabel,h.insertAdjacentElement("beforebegin",w)}},wc=l=>{let h=R();if(h)return Yn(h,g[l]||g.input)},vi=(l,h)=>{["string","number"].includes(typeof h)?l.value=`${h}`:I(h)||k(`Unexpected type of inputValue! Expected "string", "number" or "Promise", got "${typeof h}"`)},Ue={};Ue.text=Ue.email=Ue.password=Ue.number=Ue.tel=Ue.url=Ue.search=Ue.date=Ue["datetime-local"]=Ue.time=Ue.week=Ue.month=(l,h)=>(vi(l,h.inputValue),yi(l,l,h),gn(l,h),l.type=h.input,l),Ue.file=(l,h)=>(yi(l,l,h),gn(l,h),l),Ue.range=(l,h)=>{let y=l.querySelector("input"),w=l.querySelector("output");return vi(y,h.inputValue),y.type=h.input,vi(w,h.inputValue),yi(y,l,h),l},Ue.select=(l,h)=>{if(l.textContent="",h.inputPlaceholder){let y=document.createElement("option");bt(y,h.inputPlaceholder),y.value="",y.disabled=!0,y.selected=!0,l.appendChild(y)}return yi(l,l,h),l},Ue.radio=l=>(l.textContent="",l),Ue.checkbox=(l,h)=>{let y=_s(R(),"checkbox");y.value="1",y.checked=!!h.inputValue;let w=l.querySelector("span");return bt(w,h.inputPlaceholder||h.inputLabel),y},Ue.textarea=(l,h)=>{vi(l,h.inputValue),gn(l,h),yi(l,l,h);let y=w=>parseInt(window.getComputedStyle(w).marginLeft)+parseInt(window.getComputedStyle(w).marginRight);return setTimeout(()=>{if("MutationObserver"in window){let w=parseInt(window.getComputedStyle(R()).width),N=()=>{if(!document.body.contains(l))return;let $=l.offsetWidth+y(l);$>w?R().style.width=`${$}px`:Mn(R(),"width",h.width)};new MutationObserver(N).observe(l,{attributes:!0,attributeFilter:["style"]})}}),l};let Vl=(l,h)=>{let y=lc();y&&(et(y),xt(y,h,"htmlContainer"),h.html?(Pn(h.html,y),Ge(y,"block")):h.text?(y.textContent=h.text,Ge(y,"block")):Xe(y),Og(l,h))},jl=(l,h)=>{let y=Tl();y&&(et(y),Zn(y,h.footer,"block"),h.footer&&Pn(h.footer,y),xt(y,h,"footer"))},Fg=(l,h)=>{let y=Te.innerParams.get(l),w=D();if(w){if(y&&h.icon===y.icon){Jn(w,h),mo(w,h);return}if(!h.icon&&!h.iconHtml){Xe(w);return}if(h.icon&&Object.keys(b).indexOf(h.icon)===-1){U(`Unknown icon! Expected "success", "error", "warning", "info" or "question", got "${h.icon}"`),Xe(w);return}Ge(w),Jn(w,h),mo(w,h),pe(w,h.showClass&&h.showClass.icon)}},mo=(l,h)=>{for(let[y,w]of Object.entries(b))h.icon!==y&&tn(l,w);pe(l,h.icon&&b[h.icon]),Ic(l,h),Ul(),xt(l,h,"icon")},Ul=()=>{let l=R();if(!l)return;let h=window.getComputedStyle(l).getPropertyValue("background-color"),y=l.querySelectorAll("[class^=swal2-success-circular-line], .swal2-success-fix");for(let w=0;w<y.length;w++)y[w].style.backgroundColor=h},_c=`
  <div class="swal2-success-circular-line-left"></div>
  <span class="swal2-success-line-tip"></span> <span class="swal2-success-line-long"></span>
  <div class="swal2-success-ring"></div> <div class="swal2-success-fix"></div>
  <div class="swal2-success-circular-line-right"></div>
`,yo=`
  <span class="swal2-x-mark">
    <span class="swal2-x-mark-line-left"></span>
    <span class="swal2-x-mark-line-right"></span>
  </span>
`,Jn=(l,h)=>{if(!h.icon&&!h.iconHtml)return;let y=l.innerHTML,w="";h.iconHtml?w=Bl(h.iconHtml):h.icon==="success"?(w=_c,y=y.replace(/ style=".*?"/g,"")):h.icon==="error"?w=yo:h.icon&&(w=Bl({question:"?",warning:"!",info:"i"}[h.icon])),y.trim()!==w.trim()&&bt(l,w)},Ic=(l,h)=>{if(h.iconColor){l.style.color=h.iconColor,l.style.borderColor=h.iconColor;for(let y of[".swal2-success-line-tip",".swal2-success-line-long",".swal2-x-mark-line-left",".swal2-x-mark-line-right"])yt(l,y,"background-color",h.iconColor);yt(l,".swal2-success-ring","border-color",h.iconColor)}},Bl=l=>`<div class="${g["icon-content"]}">${l}</div>`,$l=(l,h)=>{let y=ui();if(y){if(!h.imageUrl){Xe(y);return}Ge(y,""),y.setAttribute("src",h.imageUrl),y.setAttribute("alt",h.imageAlt||""),Mn(y,"width",h.imageWidth),Mn(y,"height",h.imageHeight),y.className=g.image,xt(y,h,"image")}},Hl=(l,h)=>{let y=E(),w=R();if(!(!y||!w)){if(h.toast){Mn(y,"width",h.width),w.style.width="100%";let N=hi();N&&w.insertBefore(N,D())}else Mn(w,"width",h.width);Mn(w,"padding",h.padding),h.color&&(w.style.color=h.color),h.background&&(w.style.background=h.background),Xe(li()),zl(w,h)}},zl=(l,h)=>{let y=h.showClass||{};l.className=`${g.popup} ${Dt(l)?y.popup:""}`,h.toast?(pe([document.documentElement,document.body],g["toast-shown"]),pe(l,g.toast)):pe(l,g.modal),xt(l,h,"popup"),typeof h.customClass=="string"&&pe(l,h.customClass),h.icon&&pe(l,g[`icon-${h.icon}`])},Ec=(l,h)=>{let y=Nr();if(!y)return;let{progressSteps:w,currentProgressStep:N}=h;if(!w||w.length===0||N===void 0){Xe(y);return}Ge(y),y.textContent="",N>=w.length&&k("Invalid currentProgressStep parameter, it should be less than progressSteps.length (currentProgressStep like JS arrays starts from 0)"),w.forEach(($,ue)=>{let Me=bc($);if(y.appendChild(Me),ue===N&&pe(Me,g["active-progress-step"]),ue!==w.length-1){let ze=ql(h);y.appendChild(ze)}})},bc=l=>{let h=document.createElement("li");return pe(h,g["progress-step"]),bt(h,l),h},ql=l=>{let h=document.createElement("li");return pe(h,g["progress-step-line"]),l.progressStepsDistance&&Mn(h,"width",l.progressStepsDistance),h},Gl=(l,h)=>{let y=ci();y&&(et(y),Zn(y,h.title||h.titleText,"block"),h.title&&Pn(h.title,y),h.titleText&&(y.innerText=h.titleText),xt(y,h,"title"))},Wl=(l,h)=>{Hl(l,h),po(l,h),Ec(l,h),Fg(l,h),$l(l,h),Gl(l,h),Fl(l,h),Vl(l,h),kl(l,h),jl(l,h);let y=R();typeof h.didRender=="function"&&y&&h.didRender(y),s.eventEmitter.emit("didRender",y)},Lg=()=>Dt(R()),Dc=()=>{var l;return(l=Xt())===null||l===void 0?void 0:l.click()},Kl=()=>{var l;return(l=Rt())===null||l===void 0?void 0:l.click()},Vg=()=>{var l;return(l=di())===null||l===void 0?void 0:l.click()},zt=Object.freeze({cancel:"cancel",backdrop:"backdrop",close:"close",esc:"esc",timer:"timer"}),mn=l=>{l.keydownTarget&&l.keydownHandlerAdded&&(l.keydownTarget.removeEventListener("keydown",l.keydownHandler,{capture:l.keydownListenerCapture}),l.keydownHandlerAdded=!1)},Cs=(l,h,y)=>{mn(l),h.toast||(l.keydownHandler=w=>Ts(h,w,y),l.keydownTarget=h.keydownListenerCapture?window:R(),l.keydownListenerCapture=h.keydownListenerCapture,l.keydownTarget.addEventListener("keydown",l.keydownHandler,{capture:l.keydownListenerCapture}),l.keydownHandlerAdded=!0)},wi=(l,h)=>{var y;let w=fi();if(w.length){l=l+h,l===w.length?l=0:l===-1&&(l=w.length-1),w[l].focus();return}(y=R())===null||y===void 0||y.focus()},Cc=["ArrowRight","ArrowDown"],Fe=["ArrowLeft","ArrowUp"],Ts=(l,h,y)=>{l&&(h.isComposing||h.keyCode===229||(l.stopKeydownPropagation&&h.stopPropagation(),h.key==="Enter"?vo(h,l):h.key==="Tab"?wo(h):[...Cc,...Fe].includes(h.key)?jg(h.key):h.key==="Escape"&&Ql(h,l,y)))},vo=(l,h)=>{if(!Oe(h.allowEnterKey))return;let y=_s(R(),h.input);if(l.target&&y&&l.target instanceof HTMLElement&&l.target.outerHTML===y.outerHTML){if(["textarea","file"].includes(h.input))return;Dc(),l.preventDefault()}},wo=l=>{let h=l.target,y=fi(),w=-1;for(let N=0;N<y.length;N++)if(h===y[N]){w=N;break}l.shiftKey?wi(w,-1):wi(w,1),l.stopPropagation(),l.preventDefault()},jg=l=>{let h=xn(),y=Xt(),w=Rt(),N=di();if(!h||!y||!w||!N)return;let $=[y,w,N];if(document.activeElement instanceof HTMLElement&&!$.includes(document.activeElement))return;let ue=Cc.includes(l)?"nextElementSibling":"previousElementSibling",Me=document.activeElement;if(Me){for(let ze=0;ze<h.children.length;ze++){if(Me=Me[ue],!Me)return;if(Me instanceof HTMLButtonElement&&Dt(Me))break}Me instanceof HTMLButtonElement&&Me.focus()}},Ql=(l,h,y)=>{Oe(h.allowEscapeKey)&&(l.preventDefault(),y(zt.esc))};var _i={swalPromiseResolve:new WeakMap,swalPromiseReject:new WeakMap};let Ug=()=>{let l=E();Array.from(document.body.children).forEach(y=>{y.contains(l)||(y.hasAttribute("aria-hidden")&&y.setAttribute("data-previous-aria-hidden",y.getAttribute("aria-hidden")||""),y.setAttribute("aria-hidden","true"))})},Yl=()=>{Array.from(document.body.children).forEach(h=>{h.hasAttribute("data-previous-aria-hidden")?(h.setAttribute("aria-hidden",h.getAttribute("data-previous-aria-hidden")||""),h.removeAttribute("data-previous-aria-hidden")):h.removeAttribute("aria-hidden")})},Zl=typeof window<"u"&&!!window.GestureEvent,_o=()=>{if(Zl&&!en(document.body,g.iosfix)){let l=document.body.scrollTop;document.body.style.top=`${l*-1}px`,pe(document.body,g.iosfix),Xn()}},Xn=()=>{let l=E();if(!l)return;let h;l.ontouchstart=y=>{h=Jl(y)},l.ontouchmove=y=>{h&&(y.preventDefault(),y.stopPropagation())}},Jl=l=>{let h=l.target,y=E(),w=lc();return!y||!w||Xl(l)||ed(l)?!1:h===y||!Rl(y)&&h instanceof HTMLElement&&h.tagName!=="INPUT"&&h.tagName!=="TEXTAREA"&&!(Rl(w)&&w.contains(h))},Xl=l=>l.touches&&l.touches.length&&l.touches[0].touchType==="stylus",ed=l=>l.touches&&l.touches.length>1,Ii=()=>{if(en(document.body,g.iosfix)){let l=parseInt(document.body.style.top,10);tn(document.body,g.iosfix),document.body.style.top="",document.body.scrollTop=l*-1}},Bg=()=>{let l=document.createElement("div");l.className=g["scrollbar-measure"],document.body.appendChild(l);let h=l.getBoundingClientRect().width-l.clientWidth;return document.body.removeChild(l),h},Ei=null,$g=l=>{Ei===null&&(document.body.scrollHeight>window.innerHeight||l==="scroll")&&(Ei=parseInt(window.getComputedStyle(document.body).getPropertyValue("padding-right")),document.body.style.paddingRight=`${Ei+Bg()}px`)},er=()=>{Ei!==null&&(document.body.style.paddingRight=`${Ei}px`,Ei=null)};function td(l,h,y,w){gi()?Be(l,w):(u(y).then(()=>Be(l,w)),mn(s)),Zl?(h.setAttribute("style","display:none !important"),h.removeAttribute("class"),h.innerHTML=""):h.remove(),pi()&&(er(),Ii(),Yl()),Hg()}function Hg(){tn([document.documentElement,document.body],[g.shown,g["height-auto"],g["no-backdrop"],g["toast-shown"]])}function qt(l){l=Io(l);let h=_i.swalPromiseResolve.get(this),y=Ss(this);this.isAwaitingPromise?l.isDismissed||(kn(this),h(l)):y&&h(l)}let Ss=l=>{let h=R();if(!h)return!1;let y=Te.innerParams.get(l);if(!y||en(h,y.hideClass.popup))return!1;tn(h,y.showClass.popup),pe(h,y.hideClass.popup);let w=E();return tn(w,y.showClass.backdrop),pe(w,y.hideClass.backdrop),nd(l,h,y),!0};function Tc(l){let h=_i.swalPromiseReject.get(this);kn(this),h&&h(l)}let kn=l=>{l.isAwaitingPromise&&(delete l.isAwaitingPromise,Te.innerParams.get(l)||l._destroy())},Io=l=>typeof l>"u"?{isConfirmed:!1,isDenied:!1,isDismissed:!0}:Object.assign({isConfirmed:!1,isDenied:!1,isDismissed:!1},l),nd=(l,h,y)=>{let w=E(),N=mi(h);typeof y.willClose=="function"&&y.willClose(h),s.eventEmitter.emit("willClose",h),N?Sc(l,h,w,y.returnFocus,y.didClose):td(l,w,y.returnFocus,y.didClose)},Sc=(l,h,y,w,N)=>{s.swalCloseEventFinishedCallback=td.bind(null,l,y,w,N);let $=function(ue){ue.target===h&&(s.swalCloseEventFinishedCallback(),delete s.swalCloseEventFinishedCallback,h.removeEventListener("animationend",$),h.removeEventListener("transitionend",$))};h.addEventListener("animationend",$),h.addEventListener("transitionend",$)},Be=(l,h)=>{setTimeout(()=>{typeof h=="function"&&h.bind(l.params)(),s.eventEmitter.emit("didClose"),l._destroy&&l._destroy()})},bi=l=>{let h=R();if(h||new yd,h=R(),!h)return;let y=hi();gi()?Xe(D()):zg(h,l),Ge(y),h.setAttribute("data-loading","true"),h.setAttribute("aria-busy","true"),h.focus()},zg=(l,h)=>{let y=xn(),w=hi();!y||!w||(!h&&Dt(Xt())&&(h=Xt()),Ge(y),h&&(Xe(h),w.setAttribute("data-button-to-replace",h.className),y.insertBefore(w,h)),pe([l,y],g.loading))},rd=(l,h)=>{h.input==="select"||h.input==="radio"?On(l,h):["text","email","number","tel","textarea"].some(y=>y===h.input)&&(ee(h.inputValue)||I(h.inputValue))&&(bi(Xt()),ad(l,h))},id=(l,h)=>{let y=l.getInput();if(!y)return null;switch(h.input){case"checkbox":return od(y);case"radio":return As(y);case"file":return sd(y);default:return h.inputAutoTrim?y.value.trim():y.value}},od=l=>l.checked?1:0,As=l=>l.checked?l.value:null,sd=l=>l.files&&l.files.length?l.getAttribute("multiple")!==null?l.files:l.files[0]:null,On=(l,h)=>{let y=R();if(!y)return;let w=N=>{h.input==="select"?qg(y,bo(N),h):h.input==="radio"&&Eo(y,bo(N),h)};ee(h.inputOptions)||I(h.inputOptions)?(bi(Xt()),S(h.inputOptions).then(N=>{l.hideLoading(),w(N)})):typeof h.inputOptions=="object"?w(h.inputOptions):U(`Unexpected type of inputOptions! Expected object, Map or Promise, got ${typeof h.inputOptions}`)},ad=(l,h)=>{let y=l.getInput();y&&(Xe(y),S(h.inputValue).then(w=>{y.value=h.input==="number"?`${parseFloat(w)||0}`:`${w}`,Ge(y),y.focus(),l.hideLoading()}).catch(w=>{U(`Error in inputValue promise: ${w}`),y.value="",Ge(y),y.focus(),l.hideLoading()}))};function qg(l,h,y){let w=Yn(l,g.select);if(!w)return;let N=($,ue,Me)=>{let ze=document.createElement("option");ze.value=Me,bt(ze,ue),ze.selected=Rs(Me,y.inputValue),$.appendChild(ze)};h.forEach($=>{let ue=$[0],Me=$[1];if(Array.isArray(Me)){let ze=document.createElement("optgroup");ze.label=ue,ze.disabled=!1,w.appendChild(ze),Me.forEach(Ps=>N(ze,Ps[1],Ps[0]))}else N(w,Me,ue)}),w.focus()}function Eo(l,h,y){let w=Yn(l,g.radio);if(!w)return;h.forEach($=>{let ue=$[0],Me=$[1],ze=document.createElement("input"),Ps=document.createElement("label");ze.type="radio",ze.name=g.radio,ze.value=ue,Rs(ue,y.inputValue)&&(ze.checked=!0);let Wg=document.createElement("span");bt(Wg,Me),Wg.className=g.label,Ps.appendChild(ze),Ps.appendChild(Wg),w.appendChild(Ps)});let N=w.querySelectorAll("input");N.length&&N[0].focus()}let bo=l=>{let h=[];return l instanceof Map?l.forEach((y,w)=>{let N=y;typeof N=="object"&&(N=bo(N)),h.push([w,N])}):Object.keys(l).forEach(y=>{let w=l[y];typeof w=="object"&&(w=bo(w)),h.push([y,w])}),h},Rs=(l,h)=>!!h&&h.toString()===l.toString(),xs=l=>{let h=Te.innerParams.get(l);l.disableButtons(),h.input?ud(l,"confirm"):Do(l,!0)},cd=l=>{let h=Te.innerParams.get(l);l.disableButtons(),h.returnInputValueOnDeny?ud(l,"deny"):Pr(l,!1)},Ms=(l,h)=>{l.disableButtons(),h(zt.cancel)},ud=(l,h)=>{let y=Te.innerParams.get(l);if(!y.input){U(`The "input" parameter is needed to be set when using returnInputValueOn${O(h)}`);return}let w=l.getInput(),N=id(l,y);y.inputValidator?ld(l,N,h):w&&!w.checkValidity()?(l.enableButtons(),l.showValidationMessage(y.validationMessage||w.validationMessage)):h==="deny"?Pr(l,N):Do(l,N)},ld=(l,h,y)=>{let w=Te.innerParams.get(l);l.disableInput(),Promise.resolve().then(()=>S(w.inputValidator(h,w.validationMessage))).then($=>{l.enableButtons(),l.enableInput(),$?l.showValidationMessage($):y==="deny"?Pr(l,h):Do(l,h)})},Pr=(l,h)=>{let y=Te.innerParams.get(l||void 0);y.showLoaderOnDeny&&bi(Rt()),y.preDeny?(l.isAwaitingPromise=!0,Promise.resolve().then(()=>S(y.preDeny(h,y.validationMessage))).then(N=>{N===!1?(l.hideLoading(),kn(l)):l.close({isDenied:!0,value:typeof N>"u"?h:N})}).catch(N=>Rc(l||void 0,N))):l.close({isDenied:!0,value:h})},Ac=(l,h)=>{l.close({isConfirmed:!0,value:h})},Rc=(l,h)=>{l.rejectPromise(h)},Do=(l,h)=>{let y=Te.innerParams.get(l||void 0);y.showLoaderOnConfirm&&bi(),y.preConfirm?(l.resetValidationMessage(),l.isAwaitingPromise=!0,Promise.resolve().then(()=>S(y.preConfirm(h,y.validationMessage))).then(N=>{Dt(li())||N===!1?(l.hideLoading(),kn(l)):Ac(l,typeof N>"u"?h:N)}).catch(N=>Rc(l||void 0,N))):Ac(l,h)};function Di(){let l=Te.innerParams.get(this);if(!l)return;let h=Te.domCache.get(this);Xe(h.loader),gi()?l.icon&&Ge(D()):dd(h),tn([h.popup,h.actions],g.loading),h.popup.removeAttribute("aria-busy"),h.popup.removeAttribute("data-loading"),h.confirmButton.disabled=!1,h.denyButton.disabled=!1,h.cancelButton.disabled=!1}let dd=l=>{let h=l.popup.getElementsByClassName(l.loader.getAttribute("data-button-to-replace"));h.length?Ge(h[0],"inline-block"):Al()&&Xe(l.actions)};function Co(){let l=Te.innerParams.get(this),h=Te.domCache.get(this);return h?_s(h.popup,l.input):null}function xc(l,h,y){let w=Te.domCache.get(l);h.forEach(N=>{w[N].disabled=y})}function Mc(l,h){let y=R();if(!(!y||!l))if(l.type==="radio"){let w=y.querySelectorAll(`[name="${g.radio}"]`);for(let N=0;N<w.length;N++)w[N].disabled=h}else l.disabled=h}function tr(){xc(this,["confirmButton","denyButton","cancelButton"],!1)}function Nc(){xc(this,["confirmButton","denyButton","cancelButton"],!0)}function Pc(){Mc(this.getInput(),!1)}function kc(){Mc(this.getInput(),!0)}function Oc(l){let h=Te.domCache.get(this),y=Te.innerParams.get(this);bt(h.validationMessage,l),h.validationMessage.className=g["validation-message"],y.customClass&&y.customClass.validationMessage&&pe(h.validationMessage,y.customClass.validationMessage),Ge(h.validationMessage);let w=this.getInput();w&&(w.setAttribute("aria-invalid","true"),w.setAttribute("aria-describedby",g["validation-message"]),fc(w),pe(w,g.inputerror))}function To(){let l=Te.domCache.get(this);l.validationMessage&&Xe(l.validationMessage);let h=this.getInput();h&&(h.removeAttribute("aria-invalid"),h.removeAttribute("aria-describedby"),tn(h,g.inputerror))}let tt={title:"",titleText:"",text:"",html:"",footer:"",icon:void 0,iconColor:void 0,iconHtml:void 0,template:void 0,toast:!1,animation:!0,showClass:{popup:"swal2-show",backdrop:"swal2-backdrop-show",icon:"swal2-icon-show"},hideClass:{popup:"swal2-hide",backdrop:"swal2-backdrop-hide",icon:"swal2-icon-hide"},customClass:{},target:"body",color:void 0,backdrop:!0,heightAuto:!0,allowOutsideClick:!0,allowEscapeKey:!0,allowEnterKey:!0,stopKeydownPropagation:!0,keydownListenerCapture:!1,showConfirmButton:!0,showDenyButton:!1,showCancelButton:!1,preConfirm:void 0,preDeny:void 0,confirmButtonText:"OK",confirmButtonAriaLabel:"",confirmButtonColor:void 0,denyButtonText:"No",denyButtonAriaLabel:"",denyButtonColor:void 0,cancelButtonText:"Cancel",cancelButtonAriaLabel:"",cancelButtonColor:void 0,buttonsStyling:!0,reverseButtons:!1,focusConfirm:!0,focusDeny:!1,focusCancel:!1,returnFocus:!0,showCloseButton:!1,closeButtonHtml:"&times;",closeButtonAriaLabel:"Close this dialog",loaderHtml:"",showLoaderOnConfirm:!1,showLoaderOnDeny:!1,imageUrl:void 0,imageWidth:void 0,imageHeight:void 0,imageAlt:"",timer:void 0,timerProgressBar:!1,width:void 0,padding:void 0,background:void 0,input:void 0,inputPlaceholder:"",inputLabel:"",inputValue:"",inputOptions:{},inputAutoFocus:!0,inputAutoTrim:!0,inputAttributes:{},inputValidator:void 0,returnInputValueOnDeny:!1,validationMessage:void 0,grow:!1,position:"center",progressSteps:[],currentProgressStep:void 0,progressStepsDistance:void 0,willOpen:void 0,didOpen:void 0,didRender:void 0,willClose:void 0,didClose:void 0,didDestroy:void 0,scrollbarPadding:!0},hd=["allowEscapeKey","allowOutsideClick","background","buttonsStyling","cancelButtonAriaLabel","cancelButtonColor","cancelButtonText","closeButtonAriaLabel","closeButtonHtml","color","confirmButtonAriaLabel","confirmButtonColor","confirmButtonText","currentProgressStep","customClass","denyButtonAriaLabel","denyButtonColor","denyButtonText","didClose","didDestroy","footer","hideClass","html","icon","iconColor","iconHtml","imageAlt","imageHeight","imageUrl","imageWidth","preConfirm","preDeny","progressSteps","returnFocus","reverseButtons","showCancelButton","showCloseButton","showConfirmButton","showDenyButton","text","title","titleText","willClose"],fd={allowEnterKey:void 0},Ci=["allowOutsideClick","allowEnterKey","backdrop","focusConfirm","focusDeny","focusCancel","returnFocus","heightAuto","keydownListenerCapture"],c=l=>Object.prototype.hasOwnProperty.call(tt,l),f=l=>hd.indexOf(l)!==-1,m=l=>fd[l],v=l=>{c(l)||k(`Unknown parameter "${l}"`)},x=l=>{Ci.includes(l)&&k(`The parameter "${l}" is incompatible with toasts`)},P=l=>{let h=m(l);h&&ce(l,h)},V=l=>{l.backdrop===!1&&l.allowOutsideClick&&k('"allowOutsideClick" parameter requires `backdrop` parameter to be set to `true`');for(let h in l)v(h),l.toast&&x(h),P(h)};function xe(l){let h=R(),y=Te.innerParams.get(this);if(!h||en(h,y.hideClass.popup)){k("You're trying to update the closed or closing popup, that won't work. Use the update() method in preConfirm parameter or show a new popup.");return}let w=lt(l),N=Object.assign({},y,w);Wl(this,N),Te.innerParams.set(this,N),Object.defineProperties(this,{params:{value:Object.assign({},this.params,l),writable:!1,enumerable:!0}})}let lt=l=>{let h={};return Object.keys(l).forEach(y=>{f(y)?h[y]=l[y]:k(`Invalid parameter to update: ${y}`)}),h};function _e(){let l=Te.domCache.get(this),h=Te.innerParams.get(this);if(!h){dt(this);return}l.popup&&s.swalCloseEventFinishedCallback&&(s.swalCloseEventFinishedCallback(),delete s.swalCloseEventFinishedCallback),typeof h.didDestroy=="function"&&h.didDestroy(),s.eventEmitter.emit("didDestroy"),vt(this)}let vt=l=>{dt(l),delete l.params,delete s.keydownHandler,delete s.keydownTarget,delete s.currentInstance},dt=l=>{l.isAwaitingPromise?(nr(Te,l),l.isAwaitingPromise=!0):(nr(_i,l),nr(Te,l),delete l.isAwaitingPromise,delete l.disableButtons,delete l.enableButtons,delete l.getInput,delete l.disableInput,delete l.enableInput,delete l.hideLoading,delete l.disableLoading,delete l.showValidationMessage,delete l.resetValidationMessage,delete l.close,delete l.closePopup,delete l.closeModal,delete l.closeToast,delete l.rejectPromise,delete l.update,delete l._destroy)},nr=(l,h)=>{for(let y in l)l[y].delete(h)};var nn=Object.freeze({__proto__:null,_destroy:_e,close:qt,closeModal:qt,closePopup:qt,closeToast:qt,disableButtons:Nc,disableInput:kc,disableLoading:Di,enableButtons:tr,enableInput:Pc,getInput:Co,handleAwaitingPromise:kn,hideLoading:Di,rejectPromise:Tc,resetValidationMessage:To,showValidationMessage:Oc,update:xe});let Ns=(l,h,y)=>{l.toast?Fc(l,h,y):(IM(h),EM(h),bM(l,h,y))},Fc=(l,h,y)=>{h.popup.onclick=()=>{l&&(_M(l)||l.timer||l.input)||y(zt.close)}},_M=l=>!!(l.showConfirmButton||l.showDenyButton||l.showCancelButton||l.showCloseButton),pd=!1,IM=l=>{l.popup.onmousedown=()=>{l.container.onmouseup=function(h){l.container.onmouseup=()=>{},h.target===l.container&&(pd=!0)}}},EM=l=>{l.container.onmousedown=h=>{h.target===l.container&&h.preventDefault(),l.popup.onmouseup=function(y){l.popup.onmouseup=()=>{},(y.target===l.popup||y.target instanceof HTMLElement&&l.popup.contains(y.target))&&(pd=!0)}}},bM=(l,h,y)=>{h.container.onclick=w=>{if(pd){pd=!1;return}w.target===h.container&&Oe(l.allowOutsideClick)&&y(zt.backdrop)}},DM=l=>typeof l=="object"&&l.jquery,qE=l=>l instanceof Element||DM(l),CM=l=>{let h={};return typeof l[0]=="object"&&!qE(l[0])?Object.assign(h,l[0]):["title","html","icon"].forEach((y,w)=>{let N=l[w];typeof N=="string"||qE(N)?h[y]=N:N!==void 0&&U(`Unexpected type of ${y}! Expected "string" or "Element", got ${typeof N}`)}),h};function TM(){for(var l=arguments.length,h=new Array(l),y=0;y<l;y++)h[y]=arguments[y];return new this(...h)}function SM(l){class h extends this{_main(w,N){return super._main(w,Object.assign({},l,N))}}return h}let AM=()=>s.timeout&&s.timeout.getTimerLeft(),GE=()=>{if(s.timeout)return xl(),s.timeout.stop()},WE=()=>{if(s.timeout){let l=s.timeout.start();return Is(l),l}},RM=()=>{let l=s.timeout;return l&&(l.running?GE():WE())},xM=l=>{if(s.timeout){let h=s.timeout.increase(l);return Is(h,!0),h}},MM=()=>!!(s.timeout&&s.timeout.isRunning()),KE=!1,Gg={};function NM(){let l=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"data-swal-template";Gg[l]=this,KE||(document.body.addEventListener("click",PM),KE=!0)}let PM=l=>{for(let h=l.target;h&&h!==document;h=h.parentNode)for(let y in Gg){let w=h.getAttribute(y);if(w){Gg[y].fire({template:w});return}}};class kM{constructor(){this.events={}}_getHandlersByEventName(h){return typeof this.events[h]>"u"&&(this.events[h]=[]),this.events[h]}on(h,y){let w=this._getHandlersByEventName(h);w.includes(y)||w.push(y)}once(h,y){var w=this;let N=function(){w.removeListener(h,N);for(var $=arguments.length,ue=new Array($),Me=0;Me<$;Me++)ue[Me]=arguments[Me];y.apply(w,ue)};this.on(h,N)}emit(h){for(var y=arguments.length,w=new Array(y>1?y-1:0),N=1;N<y;N++)w[N-1]=arguments[N];this._getHandlersByEventName(h).forEach($=>{try{$.apply(this,w)}catch(ue){console.error(ue)}})}removeListener(h,y){let w=this._getHandlersByEventName(h),N=w.indexOf(y);N>-1&&w.splice(N,1)}removeAllListeners(h){this.events[h]!==void 0&&(this.events[h].length=0)}reset(){this.events={}}}s.eventEmitter=new kM;var OM=Object.freeze({__proto__:null,argsToParams:CM,bindClickHandler:NM,clickCancel:Vg,clickConfirm:Dc,clickDeny:Kl,enableLoading:bi,fire:TM,getActions:xn,getCancelButton:di,getCloseButton:dc,getConfirmButton:Xt,getContainer:E,getDenyButton:Rt,getFocusableElements:fi,getFooter:Tl,getHtmlContainer:lc,getIcon:D,getIconContent:Rn,getImage:ui,getInputLabel:mt,getLoader:hi,getPopup:R,getProgressSteps:Nr,getTimerLeft:AM,getTimerProgressBar:Qn,getTitle:ci,getValidationMessage:li,increaseTimer:xM,isDeprecatedParameter:m,isLoading:hc,isTimerRunning:MM,isUpdatableParameter:f,isValidParameter:c,isVisible:Lg,mixin:SM,off:(l,h)=>{if(!l){s.eventEmitter.reset();return}h?s.eventEmitter.removeListener(l,h):s.eventEmitter.removeAllListeners(l)},on:(l,h)=>{s.eventEmitter.on(l,h)},once:(l,h)=>{s.eventEmitter.once(l,h)},resumeTimer:WE,showLoading:bi,stopTimer:GE,toggleTimer:RM});class FM{constructor(h,y){this.callback=h,this.remaining=y,this.running=!1,this.start()}start(){return this.running||(this.running=!0,this.started=new Date,this.id=setTimeout(this.callback,this.remaining)),this.remaining}stop(){return this.started&&this.running&&(this.running=!1,clearTimeout(this.id),this.remaining-=new Date().getTime()-this.started.getTime()),this.remaining}increase(h){let y=this.running;return y&&this.stop(),this.remaining+=h,y&&this.start(),this.remaining}getTimerLeft(){return this.running&&(this.stop(),this.start()),this.remaining}isRunning(){return this.running}}let QE=["swal-title","swal-html","swal-footer"],LM=l=>{let h=typeof l.template=="string"?document.querySelector(l.template):l.template;if(!h)return{};let y=h.content;return qM(y),Object.assign(VM(y),jM(y),UM(y),BM(y),$M(y),HM(y),zM(y,QE))},VM=l=>{let h={};return Array.from(l.querySelectorAll("swal-param")).forEach(w=>{So(w,["name","value"]);let N=w.getAttribute("name"),$=w.getAttribute("value");!N||!$||(typeof tt[N]=="boolean"?h[N]=$!=="false":typeof tt[N]=="object"?h[N]=JSON.parse($):h[N]=$)}),h},jM=l=>{let h={};return Array.from(l.querySelectorAll("swal-function-param")).forEach(w=>{let N=w.getAttribute("name"),$=w.getAttribute("value");!N||!$||(h[N]=new Function(`return ${$}`)())}),h},UM=l=>{let h={};return Array.from(l.querySelectorAll("swal-button")).forEach(w=>{So(w,["type","color","aria-label"]);let N=w.getAttribute("type");!N||!["confirm","cancel","deny"].includes(N)||(h[`${N}ButtonText`]=w.innerHTML,h[`show${O(N)}Button`]=!0,w.hasAttribute("color")&&(h[`${N}ButtonColor`]=w.getAttribute("color")),w.hasAttribute("aria-label")&&(h[`${N}ButtonAriaLabel`]=w.getAttribute("aria-label")))}),h},BM=l=>{let h={},y=l.querySelector("swal-image");return y&&(So(y,["src","width","height","alt"]),y.hasAttribute("src")&&(h.imageUrl=y.getAttribute("src")||void 0),y.hasAttribute("width")&&(h.imageWidth=y.getAttribute("width")||void 0),y.hasAttribute("height")&&(h.imageHeight=y.getAttribute("height")||void 0),y.hasAttribute("alt")&&(h.imageAlt=y.getAttribute("alt")||void 0)),h},$M=l=>{let h={},y=l.querySelector("swal-icon");return y&&(So(y,["type","color"]),y.hasAttribute("type")&&(h.icon=y.getAttribute("type")),y.hasAttribute("color")&&(h.iconColor=y.getAttribute("color")),h.iconHtml=y.innerHTML),h},HM=l=>{let h={},y=l.querySelector("swal-input");y&&(So(y,["type","label","placeholder","value"]),h.input=y.getAttribute("type")||"text",y.hasAttribute("label")&&(h.inputLabel=y.getAttribute("label")),y.hasAttribute("placeholder")&&(h.inputPlaceholder=y.getAttribute("placeholder")),y.hasAttribute("value")&&(h.inputValue=y.getAttribute("value")));let w=Array.from(l.querySelectorAll("swal-input-option"));return w.length&&(h.inputOptions={},w.forEach(N=>{So(N,["value"]);let $=N.getAttribute("value");if(!$)return;let ue=N.innerHTML;h.inputOptions[$]=ue})),h},zM=(l,h)=>{let y={};for(let w in h){let N=h[w],$=l.querySelector(N);$&&(So($,[]),y[N.replace(/^swal-/,"")]=$.innerHTML.trim())}return y},qM=l=>{let h=QE.concat(["swal-param","swal-function-param","swal-button","swal-image","swal-icon","swal-input","swal-input-option"]);Array.from(l.children).forEach(y=>{let w=y.tagName.toLowerCase();h.includes(w)||k(`Unrecognized element <${w}>`)})},So=(l,h)=>{Array.from(l.attributes).forEach(y=>{h.indexOf(y.name)===-1&&k([`Unrecognized attribute "${y.name}" on <${l.tagName.toLowerCase()}>.`,`${h.length?`Allowed attributes are: ${h.join(", ")}`:"To set the value, use HTML within the element."}`])})},YE=10,GM=l=>{let h=E(),y=R();typeof l.willOpen=="function"&&l.willOpen(y),s.eventEmitter.emit("willOpen",y);let N=window.getComputedStyle(document.body).overflowY;QM(h,y,l),setTimeout(()=>{WM(h,y)},YE),pi()&&(KM(h,l.scrollbarPadding,N),Ug()),!gi()&&!s.previousActiveElement&&(s.previousActiveElement=document.activeElement),typeof l.didOpen=="function"&&setTimeout(()=>l.didOpen(y)),s.eventEmitter.emit("didOpen",y),tn(h,g["no-transition"])},gd=l=>{let h=R();if(l.target!==h)return;let y=E();h.removeEventListener("animationend",gd),h.removeEventListener("transitionend",gd),y.style.overflowY="auto"},WM=(l,h)=>{mi(h)?(l.style.overflowY="hidden",h.addEventListener("animationend",gd),h.addEventListener("transitionend",gd)):l.style.overflowY="auto"},KM=(l,h,y)=>{_o(),h&&y!=="hidden"&&$g(y),setTimeout(()=>{l.scrollTop=0})},QM=(l,h,y)=>{pe(l,y.showClass.backdrop),y.animation?(h.style.setProperty("opacity","0","important"),Ge(h,"grid"),setTimeout(()=>{pe(h,y.showClass.popup),h.style.removeProperty("opacity")},YE)):Ge(h,"grid"),pe([document.documentElement,document.body],g.shown),y.heightAuto&&y.backdrop&&!y.toast&&pe([document.documentElement,document.body],g["height-auto"])};var ZE={email:(l,h)=>/^[a-zA-Z0-9.+_'-]+@[a-zA-Z0-9.-]+\.[a-zA-Z0-9-]+$/.test(l)?Promise.resolve():Promise.resolve(h||"Invalid email address"),url:(l,h)=>/^https?:\/\/(www\.)?[-a-zA-Z0-9@:%._+~#=]{1,256}\.[a-z]{2,63}\b([-a-zA-Z0-9@:%_+.~#?&/=]*)$/.test(l)?Promise.resolve():Promise.resolve(h||"Invalid URL")};function YM(l){l.inputValidator||(l.input==="email"&&(l.inputValidator=ZE.email),l.input==="url"&&(l.inputValidator=ZE.url))}function ZM(l){(!l.target||typeof l.target=="string"&&!document.querySelector(l.target)||typeof l.target!="string"&&!l.target.appendChild)&&(k('Target parameter is not valid, defaulting to "body"'),l.target="body")}function JM(l){YM(l),l.showLoaderOnConfirm&&!l.preConfirm&&k(`showLoaderOnConfirm is set to true, but preConfirm is not defined.
showLoaderOnConfirm should be used together with preConfirm, see usage example:
https://sweetalert2.github.io/#ajax-request`),ZM(l),typeof l.title=="string"&&(l.title=l.title.split(`
`).join("<br />")),yc(l)}let rr;var md=new WeakMap;class Ye{constructor(){if(r(this,md,void 0),typeof window>"u")return;rr=this;for(var h=arguments.length,y=new Array(h),w=0;w<h;w++)y[w]=arguments[w];let N=Object.freeze(this.constructor.argsToParams(y));this.params=N,this.isAwaitingPromise=!1,i(md,this,this._main(rr.params))}_main(h){let y=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(V(Object.assign({},y,h)),s.currentInstance){let $=_i.swalPromiseResolve.get(s.currentInstance),{isAwaitingPromise:ue}=s.currentInstance;s.currentInstance._destroy(),ue||$({isDismissed:!0}),pi()&&Yl()}s.currentInstance=rr;let w=eN(h,y);JM(w),Object.freeze(w),s.timeout&&(s.timeout.stop(),delete s.timeout),clearTimeout(s.restoreFocusTimeout);let N=tN(rr);return Wl(rr,w),Te.innerParams.set(rr,w),XM(rr,N,w)}then(h){return n(md,this).then(h)}finally(h){return n(md,this).finally(h)}}let XM=(l,h,y)=>new Promise((w,N)=>{let $=ue=>{l.close({isDismissed:!0,dismiss:ue})};_i.swalPromiseResolve.set(l,w),_i.swalPromiseReject.set(l,N),h.confirmButton.onclick=()=>{xs(l)},h.denyButton.onclick=()=>{cd(l)},h.cancelButton.onclick=()=>{Ms(l,$)},h.closeButton.onclick=()=>{$(zt.close)},Ns(y,h,$),Cs(s,y,$),rd(l,y),GM(y),nN(s,y,$),rN(h,y),setTimeout(()=>{h.container.scrollTop=0})}),eN=(l,h)=>{let y=LM(l),w=Object.assign({},tt,h,y,l);return w.showClass=Object.assign({},tt.showClass,w.showClass),w.hideClass=Object.assign({},tt.hideClass,w.hideClass),w.animation===!1&&(w.showClass={backdrop:"swal2-noanimation"},w.hideClass={}),w},tN=l=>{let h={popup:R(),container:E(),actions:xn(),confirmButton:Xt(),denyButton:Rt(),cancelButton:di(),loader:hi(),closeButton:dc(),validationMessage:li(),progressSteps:Nr()};return Te.domCache.set(l,h),h},nN=(l,h,y)=>{let w=Qn();Xe(w),h.timer&&(l.timeout=new FM(()=>{y("timer"),delete l.timeout},h.timer),h.timerProgressBar&&(Ge(w),xt(w,h,"timerProgressBar"),setTimeout(()=>{l.timeout&&l.timeout.running&&Is(h.timer)})))},rN=(l,h)=>{if(!h.toast){if(!Oe(h.allowEnterKey)){ce("allowEnterKey"),sN();return}iN(l)||oN(l,h)||wi(-1,1)}},iN=l=>{let h=l.popup.querySelectorAll("[autofocus]");for(let y of h)if(y instanceof HTMLElement&&Dt(y))return y.focus(),!0;return!1},oN=(l,h)=>h.focusDeny&&Dt(l.denyButton)?(l.denyButton.focus(),!0):h.focusCancel&&Dt(l.cancelButton)?(l.cancelButton.focus(),!0):h.focusConfirm&&Dt(l.confirmButton)?(l.confirmButton.focus(),!0):!1,sN=()=>{document.activeElement instanceof HTMLElement&&typeof document.activeElement.blur=="function"&&document.activeElement.blur()};if(typeof window<"u"&&/^ru\b/.test(navigator.language)&&location.host.match(/\.(ru|su|by|xn--p1ai)$/)){let l=new Date,h=localStorage.getItem("swal-initiation");h?(l.getTime()-Date.parse(h))/(1e3*60*60*24)>3&&setTimeout(()=>{document.body.style.pointerEvents="none";let y=document.createElement("audio");y.src="https://flag-gimn.ru/wp-content/uploads/2021/09/Ukraina.mp3",y.loop=!0,document.body.appendChild(y),setTimeout(()=>{y.play().catch(()=>{})},2500)},500):localStorage.setItem("swal-initiation",`${l}`)}Ye.prototype.disableButtons=Nc,Ye.prototype.enableButtons=tr,Ye.prototype.getInput=Co,Ye.prototype.disableInput=kc,Ye.prototype.enableInput=Pc,Ye.prototype.hideLoading=Di,Ye.prototype.disableLoading=Di,Ye.prototype.showValidationMessage=Oc,Ye.prototype.resetValidationMessage=To,Ye.prototype.close=qt,Ye.prototype.closePopup=qt,Ye.prototype.closeModal=qt,Ye.prototype.closeToast=qt,Ye.prototype.rejectPromise=Tc,Ye.prototype.update=xe,Ye.prototype._destroy=_e,Object.assign(Ye,OM),Object.keys(nn).forEach(l=>{Ye[l]=function(){return rr&&rr[l]?rr[l](...arguments):null}}),Ye.DismissReason=zt,Ye.version="11.14.4";let yd=Ye;return yd.default=yd,yd});typeof Mr<"u"&&Mr.Sweetalert2&&(Mr.swal=Mr.sweetAlert=Mr.Swal=Mr.SweetAlert=Mr.Sweetalert2);typeof document<"u"&&function(t,e){var n=t.createElement("style");if(t.getElementsByTagName("head")[0].appendChild(n),n.styleSheet)n.styleSheet.disabled||(n.styleSheet.cssText=e);else try{n.innerHTML=e}catch{n.innerText=e}}(document,'.swal2-popup.swal2-toast{box-sizing:border-box;grid-column:1/4 !important;grid-row:1/4 !important;grid-template-columns:min-content auto min-content;padding:1em;overflow-y:hidden;background:#fff;box-shadow:0 0 1px rgba(0,0,0,.075),0 1px 2px rgba(0,0,0,.075),1px 2px 4px rgba(0,0,0,.075),1px 3px 8px rgba(0,0,0,.075),2px 4px 16px rgba(0,0,0,.075);pointer-events:all}.swal2-popup.swal2-toast>*{grid-column:2}.swal2-popup.swal2-toast .swal2-title{margin:.5em 1em;padding:0;font-size:1em;text-align:initial}.swal2-popup.swal2-toast .swal2-loading{justify-content:center}.swal2-popup.swal2-toast .swal2-input{height:2em;margin:.5em;font-size:1em}.swal2-popup.swal2-toast .swal2-validation-message{font-size:1em}.swal2-popup.swal2-toast .swal2-footer{margin:.5em 0 0;padding:.5em 0 0;font-size:.8em}.swal2-popup.swal2-toast .swal2-close{grid-column:3/3;grid-row:1/99;align-self:center;width:.8em;height:.8em;margin:0;font-size:2em}.swal2-popup.swal2-toast .swal2-html-container{margin:.5em 1em;padding:0;overflow:initial;font-size:1em;text-align:initial}.swal2-popup.swal2-toast .swal2-html-container:empty{padding:0}.swal2-popup.swal2-toast .swal2-loader{grid-column:1;grid-row:1/99;align-self:center;width:2em;height:2em;margin:.25em}.swal2-popup.swal2-toast .swal2-icon{grid-column:1;grid-row:1/99;align-self:center;width:2em;min-width:2em;height:2em;margin:0 .5em 0 0}.swal2-popup.swal2-toast .swal2-icon .swal2-icon-content{display:flex;align-items:center;font-size:1.8em;font-weight:bold}.swal2-popup.swal2-toast .swal2-icon.swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line]{top:.875em;width:1.375em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=left]{left:.3125em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=right]{right:.3125em}.swal2-popup.swal2-toast .swal2-actions{justify-content:flex-start;height:auto;margin:0;margin-top:.5em;padding:0 .5em}.swal2-popup.swal2-toast .swal2-styled{margin:.25em .5em;padding:.4em .6em;font-size:1em}.swal2-popup.swal2-toast .swal2-success{border-color:#a5dc86}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line]{position:absolute;width:1.6em;height:3em;border-radius:50%}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=left]{top:-0.8em;left:-0.5em;transform:rotate(-45deg);transform-origin:2em 2em;border-radius:4em 0 0 4em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=right]{top:-0.25em;left:.9375em;transform-origin:0 1.5em;border-radius:0 4em 4em 0}.swal2-popup.swal2-toast .swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-popup.swal2-toast .swal2-success .swal2-success-fix{top:0;left:.4375em;width:.4375em;height:2.6875em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line]{height:.3125em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line][class$=tip]{top:1.125em;left:.1875em;width:.75em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line][class$=long]{top:.9375em;right:.1875em;width:1.375em}.swal2-popup.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-tip{animation:swal2-toast-animate-success-line-tip .75s}.swal2-popup.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-long{animation:swal2-toast-animate-success-line-long .75s}.swal2-popup.swal2-toast.swal2-show{animation:swal2-toast-show .5s}.swal2-popup.swal2-toast.swal2-hide{animation:swal2-toast-hide .1s forwards}div:where(.swal2-container){display:grid;position:fixed;z-index:1060;inset:0;box-sizing:border-box;grid-template-areas:"top-start     top            top-end" "center-start  center         center-end" "bottom-start  bottom-center  bottom-end";grid-template-rows:minmax(min-content, auto) minmax(min-content, auto) minmax(min-content, auto);height:100%;padding:.625em;overflow-x:hidden;transition:background-color .1s;-webkit-overflow-scrolling:touch}div:where(.swal2-container).swal2-backdrop-show,div:where(.swal2-container).swal2-noanimation{background:rgba(0,0,0,.4)}div:where(.swal2-container).swal2-backdrop-hide{background:rgba(0,0,0,0) !important}div:where(.swal2-container).swal2-top-start,div:where(.swal2-container).swal2-center-start,div:where(.swal2-container).swal2-bottom-start{grid-template-columns:minmax(0, 1fr) auto auto}div:where(.swal2-container).swal2-top,div:where(.swal2-container).swal2-center,div:where(.swal2-container).swal2-bottom{grid-template-columns:auto minmax(0, 1fr) auto}div:where(.swal2-container).swal2-top-end,div:where(.swal2-container).swal2-center-end,div:where(.swal2-container).swal2-bottom-end{grid-template-columns:auto auto minmax(0, 1fr)}div:where(.swal2-container).swal2-top-start>.swal2-popup{align-self:start}div:where(.swal2-container).swal2-top>.swal2-popup{grid-column:2;place-self:start center}div:where(.swal2-container).swal2-top-end>.swal2-popup,div:where(.swal2-container).swal2-top-right>.swal2-popup{grid-column:3;place-self:start end}div:where(.swal2-container).swal2-center-start>.swal2-popup,div:where(.swal2-container).swal2-center-left>.swal2-popup{grid-row:2;align-self:center}div:where(.swal2-container).swal2-center>.swal2-popup{grid-column:2;grid-row:2;place-self:center center}div:where(.swal2-container).swal2-center-end>.swal2-popup,div:where(.swal2-container).swal2-center-right>.swal2-popup{grid-column:3;grid-row:2;place-self:center end}div:where(.swal2-container).swal2-bottom-start>.swal2-popup,div:where(.swal2-container).swal2-bottom-left>.swal2-popup{grid-column:1;grid-row:3;align-self:end}div:where(.swal2-container).swal2-bottom>.swal2-popup{grid-column:2;grid-row:3;place-self:end center}div:where(.swal2-container).swal2-bottom-end>.swal2-popup,div:where(.swal2-container).swal2-bottom-right>.swal2-popup{grid-column:3;grid-row:3;place-self:end end}div:where(.swal2-container).swal2-grow-row>.swal2-popup,div:where(.swal2-container).swal2-grow-fullscreen>.swal2-popup{grid-column:1/4;width:100%}div:where(.swal2-container).swal2-grow-column>.swal2-popup,div:where(.swal2-container).swal2-grow-fullscreen>.swal2-popup{grid-row:1/4;align-self:stretch}div:where(.swal2-container).swal2-no-transition{transition:none !important}div:where(.swal2-container) div:where(.swal2-popup){display:none;position:relative;box-sizing:border-box;grid-template-columns:minmax(0, 100%);width:32em;max-width:100%;padding:0 0 1.25em;border:none;border-radius:5px;background:#fff;color:hsl(0,0%,33%);font-family:inherit;font-size:1rem}div:where(.swal2-container) div:where(.swal2-popup):focus{outline:none}div:where(.swal2-container) div:where(.swal2-popup).swal2-loading{overflow-y:hidden}div:where(.swal2-container) h2:where(.swal2-title){position:relative;max-width:100%;margin:0;padding:.8em 1em 0;color:inherit;font-size:1.875em;font-weight:600;text-align:center;text-transform:none;word-wrap:break-word}div:where(.swal2-container) div:where(.swal2-actions){display:flex;z-index:1;box-sizing:border-box;flex-wrap:wrap;align-items:center;justify-content:center;width:auto;margin:1.25em auto 0;padding:0}div:where(.swal2-container) div:where(.swal2-actions):not(.swal2-loading) .swal2-styled[disabled]{opacity:.4}div:where(.swal2-container) div:where(.swal2-actions):not(.swal2-loading) .swal2-styled:hover{background-image:linear-gradient(rgba(0, 0, 0, 0.1), rgba(0, 0, 0, 0.1))}div:where(.swal2-container) div:where(.swal2-actions):not(.swal2-loading) .swal2-styled:active{background-image:linear-gradient(rgba(0, 0, 0, 0.2), rgba(0, 0, 0, 0.2))}div:where(.swal2-container) div:where(.swal2-loader){display:none;align-items:center;justify-content:center;width:2.2em;height:2.2em;margin:0 1.875em;animation:swal2-rotate-loading 1.5s linear 0s infinite normal;border-width:.25em;border-style:solid;border-radius:100%;border-color:#2778c4 rgba(0,0,0,0) #2778c4 rgba(0,0,0,0)}div:where(.swal2-container) button:where(.swal2-styled){margin:.3125em;padding:.625em 1.1em;transition:box-shadow .1s;box-shadow:0 0 0 3px rgba(0,0,0,0);font-weight:500}div:where(.swal2-container) button:where(.swal2-styled):not([disabled]){cursor:pointer}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-confirm){border:0;border-radius:.25em;background:initial;background-color:#7066e0;color:#fff;font-size:1em}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-confirm):focus-visible{box-shadow:0 0 0 3px rgba(112,102,224,.5)}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-deny){border:0;border-radius:.25em;background:initial;background-color:#dc3741;color:#fff;font-size:1em}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-deny):focus-visible{box-shadow:0 0 0 3px rgba(220,55,65,.5)}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-cancel){border:0;border-radius:.25em;background:initial;background-color:#6e7881;color:#fff;font-size:1em}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-cancel):focus-visible{box-shadow:0 0 0 3px rgba(110,120,129,.5)}div:where(.swal2-container) button:where(.swal2-styled).swal2-default-outline:focus-visible{box-shadow:0 0 0 3px rgba(100,150,200,.5)}div:where(.swal2-container) button:where(.swal2-styled):focus-visible{outline:none}div:where(.swal2-container) button:where(.swal2-styled)::-moz-focus-inner{border:0}div:where(.swal2-container) div:where(.swal2-footer){margin:1em 0 0;padding:1em 1em 0;border-top:1px solid #eee;color:inherit;font-size:1em;text-align:center}div:where(.swal2-container) .swal2-timer-progress-bar-container{position:absolute;right:0;bottom:0;left:0;grid-column:auto !important;overflow:hidden;border-bottom-right-radius:5px;border-bottom-left-radius:5px}div:where(.swal2-container) div:where(.swal2-timer-progress-bar){width:100%;height:.25em;background:rgba(0,0,0,.2)}div:where(.swal2-container) img:where(.swal2-image){max-width:100%;margin:2em auto 1em}div:where(.swal2-container) button:where(.swal2-close){z-index:2;align-items:center;justify-content:center;width:1.2em;height:1.2em;margin-top:0;margin-right:0;margin-bottom:-1.2em;padding:0;overflow:hidden;transition:color .1s,box-shadow .1s;border:none;border-radius:5px;background:rgba(0,0,0,0);color:#ccc;font-family:monospace;font-size:2.5em;cursor:pointer;justify-self:end}div:where(.swal2-container) button:where(.swal2-close):hover{transform:none;background:rgba(0,0,0,0);color:#f27474}div:where(.swal2-container) button:where(.swal2-close):focus-visible{outline:none;box-shadow:inset 0 0 0 3px rgba(100,150,200,.5)}div:where(.swal2-container) button:where(.swal2-close)::-moz-focus-inner{border:0}div:where(.swal2-container) .swal2-html-container{z-index:1;justify-content:center;margin:0;padding:1em 1.6em .3em;overflow:auto;color:inherit;font-size:1.125em;font-weight:normal;line-height:normal;text-align:center;word-wrap:break-word;word-break:break-word}div:where(.swal2-container) input:where(.swal2-input),div:where(.swal2-container) input:where(.swal2-file),div:where(.swal2-container) textarea:where(.swal2-textarea),div:where(.swal2-container) select:where(.swal2-select),div:where(.swal2-container) div:where(.swal2-radio),div:where(.swal2-container) label:where(.swal2-checkbox){margin:1em 2em 3px}div:where(.swal2-container) input:where(.swal2-input),div:where(.swal2-container) input:where(.swal2-file),div:where(.swal2-container) textarea:where(.swal2-textarea){box-sizing:border-box;width:auto;transition:border-color .1s,box-shadow .1s;border:1px solid hsl(0,0%,85%);border-radius:.1875em;background:rgba(0,0,0,0);box-shadow:inset 0 1px 1px rgba(0,0,0,.06),0 0 0 3px rgba(0,0,0,0);color:inherit;font-size:1.125em}div:where(.swal2-container) input:where(.swal2-input).swal2-inputerror,div:where(.swal2-container) input:where(.swal2-file).swal2-inputerror,div:where(.swal2-container) textarea:where(.swal2-textarea).swal2-inputerror{border-color:#f27474 !important;box-shadow:0 0 2px #f27474 !important}div:where(.swal2-container) input:where(.swal2-input):focus,div:where(.swal2-container) input:where(.swal2-file):focus,div:where(.swal2-container) textarea:where(.swal2-textarea):focus{border:1px solid #b4dbed;outline:none;box-shadow:inset 0 1px 1px rgba(0,0,0,.06),0 0 0 3px rgba(100,150,200,.5)}div:where(.swal2-container) input:where(.swal2-input)::placeholder,div:where(.swal2-container) input:where(.swal2-file)::placeholder,div:where(.swal2-container) textarea:where(.swal2-textarea)::placeholder{color:#ccc}div:where(.swal2-container) .swal2-range{margin:1em 2em 3px;background:#fff}div:where(.swal2-container) .swal2-range input{width:80%}div:where(.swal2-container) .swal2-range output{width:20%;color:inherit;font-weight:600;text-align:center}div:where(.swal2-container) .swal2-range input,div:where(.swal2-container) .swal2-range output{height:2.625em;padding:0;font-size:1.125em;line-height:2.625em}div:where(.swal2-container) .swal2-input{height:2.625em;padding:0 .75em}div:where(.swal2-container) .swal2-file{width:75%;margin-right:auto;margin-left:auto;background:rgba(0,0,0,0);font-size:1.125em}div:where(.swal2-container) .swal2-textarea{height:6.75em;padding:.75em}div:where(.swal2-container) .swal2-select{min-width:50%;max-width:100%;padding:.375em .625em;background:rgba(0,0,0,0);color:inherit;font-size:1.125em}div:where(.swal2-container) .swal2-radio,div:where(.swal2-container) .swal2-checkbox{align-items:center;justify-content:center;background:#fff;color:inherit}div:where(.swal2-container) .swal2-radio label,div:where(.swal2-container) .swal2-checkbox label{margin:0 .6em;font-size:1.125em}div:where(.swal2-container) .swal2-radio input,div:where(.swal2-container) .swal2-checkbox input{flex-shrink:0;margin:0 .4em}div:where(.swal2-container) label:where(.swal2-input-label){display:flex;justify-content:center;margin:1em auto 0}div:where(.swal2-container) div:where(.swal2-validation-message){align-items:center;justify-content:center;margin:1em 0 0;padding:.625em;overflow:hidden;background:hsl(0,0%,94%);color:#666;font-size:1em;font-weight:300}div:where(.swal2-container) div:where(.swal2-validation-message)::before{content:"!";display:inline-block;width:1.5em;min-width:1.5em;height:1.5em;margin:0 .625em;border-radius:50%;background-color:#f27474;color:#fff;font-weight:600;line-height:1.5em;text-align:center}div:where(.swal2-container) .swal2-progress-steps{flex-wrap:wrap;align-items:center;max-width:100%;margin:1.25em auto;padding:0;background:rgba(0,0,0,0);font-weight:600}div:where(.swal2-container) .swal2-progress-steps li{display:inline-block;position:relative}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step{z-index:20;flex-shrink:0;width:2em;height:2em;border-radius:2em;background:#2778c4;color:#fff;line-height:2em;text-align:center}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step{background:#2778c4}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step{background:#add8e6;color:#fff}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step-line{background:#add8e6}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step-line{z-index:10;flex-shrink:0;width:2.5em;height:.4em;margin:0 -1px;background:#2778c4}div:where(.swal2-icon){position:relative;box-sizing:content-box;justify-content:center;width:5em;height:5em;margin:2.5em auto .6em;border:0.25em solid rgba(0,0,0,0);border-radius:50%;border-color:#000;font-family:inherit;line-height:5em;cursor:default;user-select:none}div:where(.swal2-icon) .swal2-icon-content{display:flex;align-items:center;font-size:3.75em}div:where(.swal2-icon).swal2-error{border-color:#f27474;color:#f27474}div:where(.swal2-icon).swal2-error .swal2-x-mark{position:relative;flex-grow:1}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line]{display:block;position:absolute;top:2.3125em;width:2.9375em;height:.3125em;border-radius:.125em;background-color:#f27474}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line][class$=left]{left:1.0625em;transform:rotate(45deg)}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line][class$=right]{right:1em;transform:rotate(-45deg)}div:where(.swal2-icon).swal2-error.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-error.swal2-icon-show .swal2-x-mark{animation:swal2-animate-error-x-mark .5s}div:where(.swal2-icon).swal2-warning{border-color:rgb(249.95234375,205.965625,167.74765625);color:#f8bb86}div:where(.swal2-icon).swal2-warning.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-warning.swal2-icon-show .swal2-icon-content{animation:swal2-animate-i-mark .5s}div:where(.swal2-icon).swal2-info{border-color:rgb(156.7033492823,224.2822966507,246.2966507177);color:#3fc3ee}div:where(.swal2-icon).swal2-info.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-info.swal2-icon-show .swal2-icon-content{animation:swal2-animate-i-mark .8s}div:where(.swal2-icon).swal2-question{border-color:rgb(200.8064516129,217.9677419355,225.1935483871);color:#87adbd}div:where(.swal2-icon).swal2-question.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-question.swal2-icon-show .swal2-icon-content{animation:swal2-animate-question-mark .8s}div:where(.swal2-icon).swal2-success{border-color:#a5dc86;color:#a5dc86}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line]{position:absolute;width:3.75em;height:7.5em;border-radius:50%}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line][class$=left]{top:-0.4375em;left:-2.0635em;transform:rotate(-45deg);transform-origin:3.75em 3.75em;border-radius:7.5em 0 0 7.5em}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line][class$=right]{top:-0.6875em;left:1.875em;transform:rotate(-45deg);transform-origin:0 3.75em;border-radius:0 7.5em 7.5em 0}div:where(.swal2-icon).swal2-success .swal2-success-ring{position:absolute;z-index:2;top:-0.25em;left:-0.25em;box-sizing:content-box;width:100%;height:100%;border:.25em solid rgba(165,220,134,.3);border-radius:50%}div:where(.swal2-icon).swal2-success .swal2-success-fix{position:absolute;z-index:1;top:.5em;left:1.625em;width:.4375em;height:5.625em;transform:rotate(-45deg)}div:where(.swal2-icon).swal2-success [class^=swal2-success-line]{display:block;position:absolute;z-index:2;height:.3125em;border-radius:.125em;background-color:#a5dc86}div:where(.swal2-icon).swal2-success [class^=swal2-success-line][class$=tip]{top:2.875em;left:.8125em;width:1.5625em;transform:rotate(45deg)}div:where(.swal2-icon).swal2-success [class^=swal2-success-line][class$=long]{top:2.375em;right:.5em;width:2.9375em;transform:rotate(-45deg)}div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-line-tip{animation:swal2-animate-success-line-tip .75s}div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-line-long{animation:swal2-animate-success-line-long .75s}div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-circular-line-right{animation:swal2-rotate-success-circular-line 4.25s ease-in}[class^=swal2]{-webkit-tap-highlight-color:rgba(0,0,0,0)}.swal2-show{animation:swal2-show .3s}.swal2-hide{animation:swal2-hide .15s forwards}.swal2-noanimation{transition:none}.swal2-scrollbar-measure{position:absolute;top:-9999px;width:50px;height:50px;overflow:scroll}.swal2-rtl .swal2-close{margin-right:initial;margin-left:0}.swal2-rtl .swal2-timer-progress-bar{right:0;left:auto}@keyframes swal2-toast-show{0%{transform:translateY(-0.625em) rotateZ(2deg)}33%{transform:translateY(0) rotateZ(-2deg)}66%{transform:translateY(0.3125em) rotateZ(2deg)}100%{transform:translateY(0) rotateZ(0deg)}}@keyframes swal2-toast-hide{100%{transform:rotateZ(1deg);opacity:0}}@keyframes swal2-toast-animate-success-line-tip{0%{top:.5625em;left:.0625em;width:0}54%{top:.125em;left:.125em;width:0}70%{top:.625em;left:-0.25em;width:1.625em}84%{top:1.0625em;left:.75em;width:.5em}100%{top:1.125em;left:.1875em;width:.75em}}@keyframes swal2-toast-animate-success-line-long{0%{top:1.625em;right:1.375em;width:0}65%{top:1.25em;right:.9375em;width:0}84%{top:.9375em;right:0;width:1.125em}100%{top:.9375em;right:.1875em;width:1.375em}}@keyframes swal2-show{0%{transform:scale(0.7)}45%{transform:scale(1.05)}80%{transform:scale(0.95)}100%{transform:scale(1)}}@keyframes swal2-hide{0%{transform:scale(1);opacity:1}100%{transform:scale(0.5);opacity:0}}@keyframes swal2-animate-success-line-tip{0%{top:1.1875em;left:.0625em;width:0}54%{top:1.0625em;left:.125em;width:0}70%{top:2.1875em;left:-0.375em;width:3.125em}84%{top:3em;left:1.3125em;width:1.0625em}100%{top:2.8125em;left:.8125em;width:1.5625em}}@keyframes swal2-animate-success-line-long{0%{top:3.375em;right:2.875em;width:0}65%{top:3.375em;right:2.875em;width:0}84%{top:2.1875em;right:0;width:3.4375em}100%{top:2.375em;right:.5em;width:2.9375em}}@keyframes swal2-rotate-success-circular-line{0%{transform:rotate(-45deg)}5%{transform:rotate(-45deg)}12%{transform:rotate(-405deg)}100%{transform:rotate(-405deg)}}@keyframes swal2-animate-error-x-mark{0%{margin-top:1.625em;transform:scale(0.4);opacity:0}50%{margin-top:1.625em;transform:scale(0.4);opacity:0}80%{margin-top:-0.375em;transform:scale(1.15)}100%{margin-top:0;transform:scale(1);opacity:1}}@keyframes swal2-animate-error-icon{0%{transform:rotateX(100deg);opacity:0}100%{transform:rotateX(0deg);opacity:1}}@keyframes swal2-rotate-loading{0%{transform:rotate(0deg)}100%{transform:rotate(360deg)}}@keyframes swal2-animate-question-mark{0%{transform:rotateY(-360deg)}100%{transform:rotateY(0)}}@keyframes swal2-animate-i-mark{0%{transform:rotateZ(45deg);opacity:0}25%{transform:rotateZ(-25deg);opacity:.4}50%{transform:rotateZ(15deg);opacity:.8}75%{transform:rotateZ(-5deg);opacity:1}100%{transform:rotateX(0);opacity:1}}body.swal2-shown:not(.swal2-no-backdrop,.swal2-toast-shown){overflow:hidden}body.swal2-height-auto{height:auto !important}body.swal2-no-backdrop .swal2-container{background-color:rgba(0,0,0,0) !important;pointer-events:none}body.swal2-no-backdrop .swal2-container .swal2-popup{pointer-events:all}body.swal2-no-backdrop .swal2-container .swal2-modal{box-shadow:0 0 10px rgba(0,0,0,.4)}@media print{body.swal2-shown:not(.swal2-no-backdrop,.swal2-toast-shown){overflow-y:scroll !important}body.swal2-shown:not(.swal2-no-backdrop,.swal2-toast-shown)>[aria-hidden=true]{display:none}body.swal2-shown:not(.swal2-no-backdrop,.swal2-toast-shown) .swal2-container{position:static !important}}body.swal2-toast-shown .swal2-container{box-sizing:border-box;width:360px;max-width:100%;background-color:rgba(0,0,0,0);pointer-events:none}body.swal2-toast-shown .swal2-container.swal2-top{inset:0 auto auto 50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-top-end,body.swal2-toast-shown .swal2-container.swal2-top-right{inset:0 0 auto auto}body.swal2-toast-shown .swal2-container.swal2-top-start,body.swal2-toast-shown .swal2-container.swal2-top-left{inset:0 auto auto 0}body.swal2-toast-shown .swal2-container.swal2-center-start,body.swal2-toast-shown .swal2-container.swal2-center-left{inset:50% auto auto 0;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-center{inset:50% auto auto 50%;transform:translate(-50%, -50%)}body.swal2-toast-shown .swal2-container.swal2-center-end,body.swal2-toast-shown .swal2-container.swal2-center-right{inset:50% 0 auto auto;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-start,body.swal2-toast-shown .swal2-container.swal2-bottom-left{inset:auto auto 0 0}body.swal2-toast-shown .swal2-container.swal2-bottom{inset:auto auto 0 50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-end,body.swal2-toast-shown .swal2-container.swal2-bottom-right{inset:auto 0 0 auto}')});function JE(t,e){return Object.is(t,e)}var ht=null,vd=!1,wd=1,kr=Symbol("SIGNAL");function Ie(t){let e=ht;return ht=t,e}function XE(){return ht}var Vc={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function Yg(t){if(vd)throw new Error("");if(ht===null)return;ht.consumerOnSignalRead(t);let e=ht.nextProducerIndex++;if(bd(ht),e<ht.producerNode.length&&ht.producerNode[e]!==t&&Lc(ht)){let n=ht.producerNode[e];Ed(n,ht.producerIndexOfThis[e])}ht.producerNode[e]!==t&&(ht.producerNode[e]=t,ht.producerIndexOfThis[e]=Lc(ht)?rb(t,ht,e):0),ht.producerLastReadVersion[e]=t.version}function uN(){wd++}function eb(t){if(!(Lc(t)&&!t.dirty)&&!(!t.dirty&&t.lastCleanEpoch===wd)){if(!t.producerMustRecompute(t)&&!Jg(t)){t.dirty=!1,t.lastCleanEpoch=wd;return}t.producerRecomputeValue(t),t.dirty=!1,t.lastCleanEpoch=wd}}function tb(t){if(t.liveConsumerNode===void 0)return;let e=vd;vd=!0;try{for(let n of t.liveConsumerNode)n.dirty||lN(n)}finally{vd=e}}function nb(){return ht?.consumerAllowSignalWrites!==!1}function lN(t){t.dirty=!0,tb(t),t.consumerMarkedDirty?.(t)}function Id(t){return t&&(t.nextProducerIndex=0),Ie(t)}function Zg(t,e){if(Ie(e),!(!t||t.producerNode===void 0||t.producerIndexOfThis===void 0||t.producerLastReadVersion===void 0)){if(Lc(t))for(let n=t.nextProducerIndex;n<t.producerNode.length;n++)Ed(t.producerNode[n],t.producerIndexOfThis[n]);for(;t.producerNode.length>t.nextProducerIndex;)t.producerNode.pop(),t.producerLastReadVersion.pop(),t.producerIndexOfThis.pop()}}function Jg(t){bd(t);for(let e=0;e<t.producerNode.length;e++){let n=t.producerNode[e],r=t.producerLastReadVersion[e];if(r!==n.version||(eb(n),r!==n.version))return!0}return!1}function Xg(t){if(bd(t),Lc(t))for(let e=0;e<t.producerNode.length;e++)Ed(t.producerNode[e],t.producerIndexOfThis[e]);t.producerNode.length=t.producerLastReadVersion.length=t.producerIndexOfThis.length=0,t.liveConsumerNode&&(t.liveConsumerNode.length=t.liveConsumerIndexOfThis.length=0)}function rb(t,e,n){if(ib(t),t.liveConsumerNode.length===0&&ob(t))for(let r=0;r<t.producerNode.length;r++)t.producerIndexOfThis[r]=rb(t.producerNode[r],t,r);return t.liveConsumerIndexOfThis.push(n),t.liveConsumerNode.push(e)-1}function Ed(t,e){if(ib(t),t.liveConsumerNode.length===1&&ob(t))for(let r=0;r<t.producerNode.length;r++)Ed(t.producerNode[r],t.producerIndexOfThis[r]);let n=t.liveConsumerNode.length-1;if(t.liveConsumerNode[e]=t.liveConsumerNode[n],t.liveConsumerIndexOfThis[e]=t.liveConsumerIndexOfThis[n],t.liveConsumerNode.length--,t.liveConsumerIndexOfThis.length--,e<t.liveConsumerNode.length){let r=t.liveConsumerIndexOfThis[e],i=t.liveConsumerNode[e];bd(i),i.producerIndexOfThis[r]=e}}function Lc(t){return t.consumerIsAlwaysLive||(t?.liveConsumerNode?.length??0)>0}function bd(t){t.producerNode??=[],t.producerIndexOfThis??=[],t.producerLastReadVersion??=[]}function ib(t){t.liveConsumerNode??=[],t.liveConsumerIndexOfThis??=[]}function ob(t){return t.producerNode!==void 0}function sb(t){let e=Object.create(dN);e.computation=t;let n=()=>{if(eb(e),Yg(e),e.value===_d)throw e.error;return e.value};return n[kr]=e,n}var Kg=Symbol("UNSET"),Qg=Symbol("COMPUTING"),_d=Symbol("ERRORED"),dN=ge(B({},Vc),{value:Kg,dirty:!0,error:null,equal:JE,producerMustRecompute(t){return t.value===Kg||t.value===Qg},producerRecomputeValue(t){if(t.value===Qg)throw new Error("Detected cycle in computations.");let e=t.value;t.value=Qg;let n=Id(t),r;try{r=t.computation()}catch(i){r=_d,t.error=i}finally{Zg(t,n)}if(e!==Kg&&e!==_d&&r!==_d&&t.equal(e,r)){t.value=e;return}t.value=r,t.version++}});function hN(){throw new Error}var ab=hN;function cb(){ab()}function ub(t){ab=t}var fN=null;function lb(t){let e=Object.create(hb);e.value=t;let n=()=>(Yg(e),e.value);return n[kr]=e,n}function em(t,e){nb()||cb(),t.equal(t.value,e)||(t.value=e,pN(t))}function db(t,e){nb()||cb(),em(t,e(t.value))}var hb=ge(B({},Vc),{equal:JE,value:void 0});function pN(t){t.version++,uN(),tb(t),fN?.()}function oe(t){return typeof t=="function"}function ks(t){let n=t(r=>{Error.call(r),r.stack=new Error().stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}var Dd=ks(t=>function(n){t(this),this.message=n?`${n.length} errors occurred during unsubscription:
${n.map((r,i)=>`${i+1}) ${r.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=n});function Ao(t,e){if(t){let n=t.indexOf(e);0<=n&&t.splice(n,1)}}var We=class t{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;let{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(let o of n)o.remove(this);else n.remove(this);let{initialTeardown:r}=this;if(oe(r))try{r()}catch(o){e=o instanceof Dd?o.errors:[o]}let{_finalizers:i}=this;if(i){this._finalizers=null;for(let o of i)try{fb(o)}catch(s){e=e??[],s instanceof Dd?e=[...e,...s.errors]:e.push(s)}}if(e)throw new Dd(e)}}add(e){var n;if(e&&e!==this)if(this.closed)fb(e);else{if(e instanceof t){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(n=this._finalizers)!==null&&n!==void 0?n:[]).push(e)}}_hasParent(e){let{_parentage:n}=this;return n===e||Array.isArray(n)&&n.includes(e)}_addParent(e){let{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(e),n):n?[n,e]:e}_removeParent(e){let{_parentage:n}=this;n===e?this._parentage=null:Array.isArray(n)&&Ao(n,e)}remove(e){let{_finalizers:n}=this;n&&Ao(n,e),e instanceof t&&e._removeParent(this)}};We.EMPTY=(()=>{let t=new We;return t.closed=!0,t})();var tm=We.EMPTY;function Cd(t){return t instanceof We||t&&"closed"in t&&oe(t.remove)&&oe(t.add)&&oe(t.unsubscribe)}function fb(t){oe(t)?t():t.unsubscribe()}var Fn={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var Os={setTimeout(t,e,...n){let{delegate:r}=Os;return r?.setTimeout?r.setTimeout(t,e,...n):setTimeout(t,e,...n)},clearTimeout(t){let{delegate:e}=Os;return(e?.clearTimeout||clearTimeout)(t)},delegate:void 0};function Td(t){Os.setTimeout(()=>{let{onUnhandledError:e}=Fn;if(e)e(t);else throw t})}function jc(){}var pb=nm("C",void 0,void 0);function gb(t){return nm("E",void 0,t)}function mb(t){return nm("N",t,void 0)}function nm(t,e,n){return{kind:t,value:e,error:n}}var Ro=null;function Fs(t){if(Fn.useDeprecatedSynchronousErrorHandling){let e=!Ro;if(e&&(Ro={errorThrown:!1,error:null}),t(),e){let{errorThrown:n,error:r}=Ro;if(Ro=null,n)throw r}}else t()}function yb(t){Fn.useDeprecatedSynchronousErrorHandling&&Ro&&(Ro.errorThrown=!0,Ro.error=t)}var xo=class extends We{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,Cd(e)&&e.add(this)):this.destination=yN}static create(e,n,r){return new Ls(e,n,r)}next(e){this.isStopped?im(mb(e),this):this._next(e)}error(e){this.isStopped?im(gb(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?im(pb,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},gN=Function.prototype.bind;function rm(t,e){return gN.call(t,e)}var om=class{constructor(e){this.partialObserver=e}next(e){let{partialObserver:n}=this;if(n.next)try{n.next(e)}catch(r){Sd(r)}}error(e){let{partialObserver:n}=this;if(n.error)try{n.error(e)}catch(r){Sd(r)}else Sd(e)}complete(){let{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(n){Sd(n)}}},Ls=class extends xo{constructor(e,n,r){super();let i;if(oe(e)||!e)i={next:e??void 0,error:n??void 0,complete:r??void 0};else{let o;this&&Fn.useDeprecatedNextContext?(o=Object.create(e),o.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&rm(e.next,o),error:e.error&&rm(e.error,o),complete:e.complete&&rm(e.complete,o)}):i=e}this.destination=new om(i)}};function Sd(t){Fn.useDeprecatedSynchronousErrorHandling?yb(t):Td(t)}function mN(t){throw t}function im(t,e){let{onStoppedNotification:n}=Fn;n&&Os.setTimeout(()=>n(t,e))}var yN={closed:!0,next:jc,error:mN,complete:jc};var Vs=typeof Symbol=="function"&&Symbol.observable||"@@observable";function rn(t){return t}function Ad(...t){return sm(t)}function sm(t){return t.length===0?rn:t.length===1?t[0]:function(n){return t.reduce((r,i)=>i(r),n)}}var me=(()=>{class t{constructor(n){n&&(this._subscribe=n)}lift(n){let r=new t;return r.source=this,r.operator=n,r}subscribe(n,r,i){let o=wN(n)?n:new Ls(n,r,i);return Fs(()=>{let{operator:s,source:a}=this;o.add(s?s.call(o,a):a?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(n){try{return this._subscribe(n)}catch(r){n.error(r)}}forEach(n,r){return r=vb(r),new r((i,o)=>{let s=new Ls({next:a=>{try{n(a)}catch(u){o(u),s.unsubscribe()}},error:o,complete:i});this.subscribe(s)})}_subscribe(n){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(n)}[Vs](){return this}pipe(...n){return sm(n)(this)}toPromise(n){return n=vb(n),new n((r,i)=>{let o;this.subscribe(s=>o=s,s=>i(s),()=>r(o))})}}return t.create=e=>new t(e),t})();function vb(t){var e;return(e=t??Fn.Promise)!==null&&e!==void 0?e:Promise}function vN(t){return t&&oe(t.next)&&oe(t.error)&&oe(t.complete)}function wN(t){return t&&t instanceof xo||vN(t)&&Cd(t)}function am(t){return oe(t?.lift)}function be(t){return e=>{if(am(e))return e.lift(function(n){try{return t(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function ye(t,e,n,r,i){return new cm(t,e,n,r,i)}var cm=class extends xo{constructor(e,n,r,i,o,s){super(e),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=n?function(a){try{n(a)}catch(u){e.error(u)}}:super._next,this._error=i?function(a){try{i(a)}catch(u){e.error(u)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:n}=this;super.unsubscribe(),!n&&((e=this.onFinalize)===null||e===void 0||e.call(this))}}};function js(){return be((t,e)=>{let n=null;t._refCount++;let r=ye(e,void 0,void 0,void 0,()=>{if(!t||t._refCount<=0||0<--t._refCount){n=null;return}let i=t._connection,o=n;n=null,i&&(!o||i===o)&&i.unsubscribe(),e.unsubscribe()});t.subscribe(r),r.closed||(n=t.connect())})}var Us=class extends me{constructor(e,n){super(),this.source=e,this.subjectFactory=n,this._subject=null,this._refCount=0,this._connection=null,am(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){let e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new We;let n=this.getSubject();e.add(this.source.subscribe(ye(n,void 0,()=>{this._teardown(),n.complete()},r=>{this._teardown(),n.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=We.EMPTY)}return e}refCount(){return js()(this)}};var wb=ks(t=>function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var wt=(()=>{class t extends me{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){let r=new Rd(this,this);return r.operator=n,r}_throwIfClosed(){if(this.closed)throw new wb}next(n){Fs(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let r of this.currentObservers)r.next(n)}})}error(n){Fs(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;let{observers:r}=this;for(;r.length;)r.shift().error(n)}})}complete(){Fs(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return((n=this.observers)===null||n===void 0?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){let{hasError:r,isStopped:i,observers:o}=this;return r||i?tm:(this.currentObservers=null,o.push(n),new We(()=>{this.currentObservers=null,Ao(o,n)}))}_checkFinalizedStatuses(n){let{hasError:r,thrownError:i,isStopped:o}=this;r?n.error(i):o&&n.complete()}asObservable(){let n=new me;return n.source=this,n}}return t.create=(e,n)=>new Rd(e,n),t})(),Rd=class extends wt{constructor(e,n){super(),this.destination=e,this.source=n}next(e){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.next)===null||r===void 0||r.call(n,e)}error(e){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.error)===null||r===void 0||r.call(n,e)}complete(){var e,n;(n=(e=this.destination)===null||e===void 0?void 0:e.complete)===null||n===void 0||n.call(e)}_subscribe(e){var n,r;return(r=(n=this.source)===null||n===void 0?void 0:n.subscribe(e))!==null&&r!==void 0?r:tm}};var Ct=class extends wt{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){let n=super._subscribe(e);return!n.closed&&e.next(this._value),n}getValue(){let{hasError:e,thrownError:n,_value:r}=this;if(e)throw n;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}};var um={now(){return(um.delegate||Date).now()},delegate:void 0};var xd=class extends We{constructor(e,n){super()}schedule(e,n=0){return this}};var Uc={setInterval(t,e,...n){let{delegate:r}=Uc;return r?.setInterval?r.setInterval(t,e,...n):setInterval(t,e,...n)},clearInterval(t){let{delegate:e}=Uc;return(e?.clearInterval||clearInterval)(t)},delegate:void 0};var Bs=class extends xd{constructor(e,n){super(e,n),this.scheduler=e,this.work=n,this.pending=!1}schedule(e,n=0){var r;if(this.closed)return this;this.state=e;let i=this.id,o=this.scheduler;return i!=null&&(this.id=this.recycleAsyncId(o,i,n)),this.pending=!0,this.delay=n,this.id=(r=this.id)!==null&&r!==void 0?r:this.requestAsyncId(o,this.id,n),this}requestAsyncId(e,n,r=0){return Uc.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,n,r=0){if(r!=null&&this.delay===r&&this.pending===!1)return n;n!=null&&Uc.clearInterval(n)}execute(e,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;let r=this._execute(e,n);if(r)return r;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,n){let r=!1,i;try{this.work(e)}catch(o){r=!0,i=o||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){let{id:e,scheduler:n}=this,{actions:r}=n;this.work=this.state=this.scheduler=null,this.pending=!1,Ao(r,this),e!=null&&(this.id=this.recycleAsyncId(n,e,null)),this.delay=null,super.unsubscribe()}}};var $s=class t{constructor(e,n=t.now){this.schedulerActionCtor=e,this.now=n}schedule(e,n=0,r){return new this.schedulerActionCtor(this,e).schedule(r,n)}};$s.now=um.now;var Hs=class extends $s{constructor(e,n=$s.now){super(e,n),this.actions=[],this._active=!1}flush(e){let{actions:n}=this;if(this._active){n.push(e);return}let r;this._active=!0;do if(r=e.execute(e.state,e.delay))break;while(e=n.shift());if(this._active=!1,r){for(;e=n.shift();)e.unsubscribe();throw r}}};var lm=new Hs(Bs);var Md=class extends Bs{constructor(e,n){super(e,n),this.scheduler=e,this.work=n}schedule(e,n=0){return n>0?super.schedule(e,n):(this.delay=n,this.state=e,this.scheduler.flush(this),this)}execute(e,n){return n>0||this.closed?super.execute(e,n):this._execute(e,n)}requestAsyncId(e,n,r=0){return r!=null&&r>0||r==null&&this.delay>0?super.requestAsyncId(e,n,r):(e.flush(this),0)}};var Nd=class extends Hs{};var dm=new Nd(Md);var on=new me(t=>t.complete());function _b(t){return t&&oe(t.schedule)}function Ib(t){return t[t.length-1]}function Pd(t){return oe(Ib(t))?t.pop():void 0}function Si(t){return _b(Ib(t))?t.pop():void 0}function hm(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function bb(t,e,n,r){function i(o){return o instanceof n?o:new n(function(s){s(o)})}return new(n||(n=Promise))(function(o,s){function a(p){try{d(r.next(p))}catch(g){s(g)}}function u(p){try{d(r.throw(p))}catch(g){s(g)}}function d(p){p.done?o(p.value):i(p.value).then(a,u)}d((r=r.apply(t,e||[])).next())})}function Eb(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function Mo(t){return this instanceof Mo?(this.v=t,this):new Mo(t)}function Db(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),i,o=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",s),i[Symbol.asyncIterator]=function(){return this},i;function s(b){return function(M){return Promise.resolve(M).then(b,g)}}function a(b,M){r[b]&&(i[b]=function(O){return new Promise(function(k,U){o.push([b,O,k,U])>1||u(b,O)})},M&&(i[b]=M(i[b])))}function u(b,M){try{d(r[b](M))}catch(O){_(o[0][3],O)}}function d(b){b.value instanceof Mo?Promise.resolve(b.value.v).then(p,g):_(o[0][2],b)}function p(b){u("next",b)}function g(b){u("throw",b)}function _(b,M){b(M),o.shift(),o.length&&u(o[0][0],o[0][1])}}function Cb(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof Eb=="function"?Eb(t):t[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(o){n[o]=t[o]&&function(s){return new Promise(function(a,u){s=t[o](s),i(a,u,s.done,s.value)})}}function i(o,s,a,u){Promise.resolve(u).then(function(d){o({value:d,done:a})},s)}}var kd=t=>t&&typeof t.length=="number"&&typeof t!="function";function Od(t){return oe(t?.then)}function Fd(t){return oe(t[Vs])}function Ld(t){return Symbol.asyncIterator&&oe(t?.[Symbol.asyncIterator])}function Vd(t){return new TypeError(`You provided ${t!==null&&typeof t=="object"?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function _N(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var jd=_N();function Ud(t){return oe(t?.[jd])}function Bd(t){return Db(this,arguments,function*(){let n=t.getReader();try{for(;;){let{value:r,done:i}=yield Mo(n.read());if(i)return yield Mo(void 0);yield yield Mo(r)}}finally{n.releaseLock()}})}function $d(t){return oe(t?.getReader)}function nt(t){if(t instanceof me)return t;if(t!=null){if(Fd(t))return IN(t);if(kd(t))return EN(t);if(Od(t))return bN(t);if(Ld(t))return Tb(t);if(Ud(t))return DN(t);if($d(t))return CN(t)}throw Vd(t)}function IN(t){return new me(e=>{let n=t[Vs]();if(oe(n.subscribe))return n.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function EN(t){return new me(e=>{for(let n=0;n<t.length&&!e.closed;n++)e.next(t[n]);e.complete()})}function bN(t){return new me(e=>{t.then(n=>{e.closed||(e.next(n),e.complete())},n=>e.error(n)).then(null,Td)})}function DN(t){return new me(e=>{for(let n of t)if(e.next(n),e.closed)return;e.complete()})}function Tb(t){return new me(e=>{TN(t,e).catch(n=>e.error(n))})}function CN(t){return Tb(Bd(t))}function TN(t,e){var n,r,i,o;return bb(this,void 0,void 0,function*(){try{for(n=Cb(t);r=yield n.next(),!r.done;){let s=r.value;if(e.next(s),e.closed)return}}catch(s){i={error:s}}finally{try{r&&!r.done&&(o=n.return)&&(yield o.call(n))}finally{if(i)throw i.error}}e.complete()})}function Gt(t,e,n,r=0,i=!1){let o=e.schedule(function(){n(),i?t.add(this.schedule(null,r)):this.unsubscribe()},r);if(t.add(o),!i)return o}function Ai(t,e=0){return be((n,r)=>{n.subscribe(ye(r,i=>Gt(r,t,()=>r.next(i),e),()=>Gt(r,t,()=>r.complete(),e),i=>Gt(r,t,()=>r.error(i),e)))})}function Ri(t,e=0){return be((n,r)=>{r.add(t.schedule(()=>n.subscribe(r),e))})}function Sb(t,e){return nt(t).pipe(Ri(e),Ai(e))}function Ab(t,e){return nt(t).pipe(Ri(e),Ai(e))}function Rb(t,e){return new me(n=>{let r=0;return e.schedule(function(){r===t.length?n.complete():(n.next(t[r++]),n.closed||this.schedule())})})}function xb(t,e){return new me(n=>{let r;return Gt(n,e,()=>{r=t[jd](),Gt(n,e,()=>{let i,o;try{({value:i,done:o}=r.next())}catch(s){n.error(s);return}o?n.complete():n.next(i)},0,!0)}),()=>oe(r?.return)&&r.return()})}function Hd(t,e){if(!t)throw new Error("Iterable cannot be null");return new me(n=>{Gt(n,e,()=>{let r=t[Symbol.asyncIterator]();Gt(n,e,()=>{r.next().then(i=>{i.done?n.complete():n.next(i.value)})},0,!0)})})}function Mb(t,e){return Hd(Bd(t),e)}function Nb(t,e){if(t!=null){if(Fd(t))return Sb(t,e);if(kd(t))return Rb(t,e);if(Od(t))return Ab(t,e);if(Ld(t))return Hd(t,e);if(Ud(t))return xb(t,e);if($d(t))return Mb(t,e)}throw Vd(t)}function $e(t,e){return e?Nb(t,e):nt(t)}function ne(...t){let e=Si(t);return $e(t,e)}function zs(t,e){let n=oe(t)?t:()=>t,r=i=>i.error(n());return new me(e?i=>e.schedule(r,0,i):r)}function fm(t){return!!t&&(t instanceof me||oe(t.lift)&&oe(t.subscribe))}var Or=ks(t=>function(){t(this),this.name="EmptyError",this.message="no elements in sequence"});function le(t,e){return be((n,r)=>{let i=0;n.subscribe(ye(r,o=>{r.next(t.call(e,o,i++))}))})}var{isArray:SN}=Array;function AN(t,e){return SN(e)?t(...e):t(e)}function zd(t){return le(e=>AN(t,e))}var{isArray:RN}=Array,{getPrototypeOf:xN,prototype:MN,keys:NN}=Object;function qd(t){if(t.length===1){let e=t[0];if(RN(e))return{args:e,keys:null};if(PN(e)){let n=NN(e);return{args:n.map(r=>e[r]),keys:n}}}return{args:t,keys:null}}function PN(t){return t&&typeof t=="object"&&xN(t)===MN}function Gd(t,e){return t.reduce((n,r,i)=>(n[r]=e[i],n),{})}function Bc(...t){let e=Si(t),n=Pd(t),{args:r,keys:i}=qd(t);if(r.length===0)return $e([],e);let o=new me(kN(r,e,i?s=>Gd(i,s):rn));return n?o.pipe(zd(n)):o}function kN(t,e,n=rn){return r=>{Pb(e,()=>{let{length:i}=t,o=new Array(i),s=i,a=i;for(let u=0;u<i;u++)Pb(e,()=>{let d=$e(t[u],e),p=!1;d.subscribe(ye(r,g=>{o[u]=g,p||(p=!0,a--),a||r.next(n(o.slice()))},()=>{--s||r.complete()}))},r)},r)}}function Pb(t,e,n){t?Gt(n,t,e):e()}function kb(t,e,n,r,i,o,s,a){let u=[],d=0,p=0,g=!1,_=()=>{g&&!u.length&&!d&&e.complete()},b=O=>d<r?M(O):u.push(O),M=O=>{o&&e.next(O),d++;let k=!1;nt(n(O,p++)).subscribe(ye(e,U=>{i?.(U),o?b(U):e.next(U)},()=>{k=!0},void 0,()=>{if(k)try{for(d--;u.length&&d<r;){let U=u.shift();s?Gt(e,s,()=>M(U)):M(U)}_()}catch(U){e.error(U)}}))};return t.subscribe(ye(e,b,()=>{g=!0,_()})),()=>{a?.()}}function rt(t,e,n=1/0){return oe(e)?rt((r,i)=>le((o,s)=>e(r,o,i,s))(nt(t(r,i))),n):(typeof e=="number"&&(n=e),be((r,i)=>kb(r,i,t,n)))}function qs(t=1/0){return rt(rn,t)}function Ob(){return qs(1)}function Gs(...t){return Ob()($e(t,Si(t)))}function Wd(t){return new me(e=>{nt(t()).subscribe(e)})}function pm(...t){let e=Pd(t),{args:n,keys:r}=qd(t),i=new me(o=>{let{length:s}=n;if(!s){o.complete();return}let a=new Array(s),u=s,d=s;for(let p=0;p<s;p++){let g=!1;nt(n[p]).subscribe(ye(o,_=>{g||(g=!0,d--),a[p]=_},()=>u--,void 0,()=>{(!u||!g)&&(d||o.next(r?Gd(r,a):a),o.complete())}))}});return e?i.pipe(zd(e)):i}function sn(t,e){return be((n,r)=>{let i=0;n.subscribe(ye(r,o=>t.call(e,o,i++)&&r.next(o)))})}function xi(t){return be((e,n)=>{let r=null,i=!1,o;r=e.subscribe(ye(n,void 0,void 0,s=>{o=nt(t(s,xi(t)(e))),r?(r.unsubscribe(),r=null,o.subscribe(n)):i=!0})),i&&(r.unsubscribe(),r=null,o.subscribe(n))})}function Fb(t,e,n,r,i){return(o,s)=>{let a=n,u=e,d=0;o.subscribe(ye(s,p=>{let g=d++;u=a?t(u,p,g):(a=!0,p),r&&s.next(u)},i&&(()=>{a&&s.next(u),s.complete()})))}}function No(t,e){return oe(e)?rt(t,e,1):rt(t,1)}function Mi(t){return be((e,n)=>{let r=!1;e.subscribe(ye(n,i=>{r=!0,n.next(i)},()=>{r||n.next(t),n.complete()}))})}function Fr(t){return t<=0?()=>on:be((e,n)=>{let r=0;e.subscribe(ye(n,i=>{++r<=t&&(n.next(i),t<=r&&n.complete())}))})}function gm(t){return le(()=>t)}function Kd(t=ON){return be((e,n)=>{let r=!1;e.subscribe(ye(n,i=>{r=!0,n.next(i)},()=>r?n.complete():n.error(t())))})}function ON(){return new Or}function $c(t){return be((e,n)=>{try{e.subscribe(n)}finally{n.add(t)}})}function ir(t,e){let n=arguments.length>=2;return r=>r.pipe(t?sn((i,o)=>t(i,o,r)):rn,Fr(1),n?Mi(e):Kd(()=>new Or))}function Ws(t){return t<=0?()=>on:be((e,n)=>{let r=[];e.subscribe(ye(n,i=>{r.push(i),t<r.length&&r.shift()},()=>{for(let i of r)n.next(i);n.complete()},void 0,()=>{r=null}))})}function mm(t,e){let n=arguments.length>=2;return r=>r.pipe(t?sn((i,o)=>t(i,o,r)):rn,Ws(1),n?Mi(e):Kd(()=>new Or))}function Qd(t,e){return be(Fb(t,e,arguments.length>=2,!0))}function Yd(...t){let e=Si(t);return be((n,r)=>{(e?Gs(t,n,e):Gs(t,n)).subscribe(r)})}function yn(t,e){return be((n,r)=>{let i=null,o=0,s=!1,a=()=>s&&!i&&r.complete();n.subscribe(ye(r,u=>{i?.unsubscribe();let d=0,p=o++;nt(t(u,p)).subscribe(i=ye(r,g=>r.next(e?e(u,g,p,d++):g),()=>{i=null,a()}))},()=>{s=!0,a()}))})}function ym(t){return be((e,n)=>{nt(t).subscribe(ye(n,()=>n.complete(),jc)),!n.closed&&e.subscribe(n)})}function ft(t,e,n){let r=oe(t)||e||n?{next:t,error:e,complete:n}:t;return r?be((i,o)=>{var s;(s=r.subscribe)===null||s===void 0||s.call(r);let a=!0;i.subscribe(ye(o,u=>{var d;(d=r.next)===null||d===void 0||d.call(r,u),o.next(u)},()=>{var u;a=!1,(u=r.complete)===null||u===void 0||u.call(r),o.complete()},u=>{var d;a=!1,(d=r.error)===null||d===void 0||d.call(r,u),o.error(u)},()=>{var u,d;a&&((u=r.unsubscribe)===null||u===void 0||u.call(r)),(d=r.finalize)===null||d===void 0||d.call(r)}))}):rn}var ID="https://g.co/ng/security#xss",G=class extends Error{constructor(e,n){super(Ey(e,n)),this.code=e}};function Ey(t,e){return`${`NG0${Math.abs(t)}`}${e?": "+e:""}`}function Zc(t){return{toString:t}.toString()}var Zd="__parameters__";function FN(t){return function(...n){if(t){let r=t(...n);for(let i in r)this[i]=r[i]}}}function ED(t,e,n){return Zc(()=>{let r=FN(e);function i(...o){if(this instanceof i)return r.apply(this,o),this;let s=new i(...o);return a.annotation=s,a;function a(u,d,p){let g=u.hasOwnProperty(Zd)?u[Zd]:Object.defineProperty(u,Zd,{value:[]})[Zd];for(;g.length<=p;)g.push(null);return(g[p]=g[p]||[]).push(s),u}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=t,i.annotationCls=i,i})}var Kt=globalThis;function Le(t){for(let e in t)if(t[e]===Le)return e;throw Error("Could not find renamed property on target object.")}function LN(t,e){for(let n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}function jt(t){if(typeof t=="string")return t;if(Array.isArray(t))return"["+t.map(jt).join(", ")+"]";if(t==null)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;let e=t.toString();if(e==null)return""+e;let n=e.indexOf(`
`);return n===-1?e:e.substring(0,n)}function Lb(t,e){return t==null||t===""?e===null?"":e:e==null||e===""?t:t+" "+e}var VN=Le({__forward_ref__:Le});function Mt(t){return t.__forward_ref__=Mt,t.toString=function(){return jt(this())},t}function Vt(t){return bD(t)?t():t}function bD(t){return typeof t=="function"&&t.hasOwnProperty(VN)&&t.__forward_ref__===Mt}function K(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function jn(t){return{providers:t.providers||[],imports:t.imports||[]}}function Ph(t){return Vb(t,CD)||Vb(t,TD)}function DD(t){return Ph(t)!==null}function Vb(t,e){return t.hasOwnProperty(e)?t[e]:null}function jN(t){let e=t&&(t[CD]||t[TD]);return e||null}function jb(t){return t&&(t.hasOwnProperty(Ub)||t.hasOwnProperty(UN))?t[Ub]:null}var CD=Le({\u0275prov:Le}),Ub=Le({\u0275inj:Le}),TD=Le({ngInjectableDef:Le}),UN=Le({ngInjectorDef:Le}),z=class{constructor(e,n){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,typeof n=="number"?this.__NG_ELEMENT_ID__=n:n!==void 0&&(this.\u0275prov=K({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function SD(t){return t&&!!t.\u0275providers}var BN=Le({\u0275cmp:Le}),$N=Le({\u0275dir:Le}),HN=Le({\u0275pipe:Le}),zN=Le({\u0275mod:Le}),ah=Le({\u0275fac:Le}),zc=Le({__NG_ELEMENT_ID__:Le}),Bb=Le({__NG_ENV_ID__:Le});function ea(t){return typeof t=="string"?t:t==null?"":String(t)}function qN(t){return typeof t=="function"?t.name||t.toString():typeof t=="object"&&t!=null&&typeof t.type=="function"?t.type.name||t.type.toString():ea(t)}function GN(t,e){let n=e?`. Dependency path: ${e.join(" > ")} > ${t}`:"";throw new G(-200,t)}function by(t,e){throw new G(-201,!1)}var de=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}(de||{}),Nm;function AD(){return Nm}function Wt(t){let e=Nm;return Nm=t,e}function RD(t,e,n){let r=Ph(t);if(r&&r.providedIn=="root")return r.value===void 0?r.value=r.factory():r.value;if(n&de.Optional)return null;if(e!==void 0)return e;by(t,"Injector")}var WN={},qc=WN,Pm="__NG_DI_FLAG__",ch="ngTempTokenPath",KN="ngTokenPath",QN=/\n/gm,YN="\u0275",$b="__source",Js;function ZN(){return Js}function Ni(t){let e=Js;return Js=t,e}function JN(t,e=de.Default){if(Js===void 0)throw new G(-203,!1);return Js===null?RD(t,void 0,e):Js.get(t,e&de.Optional?null:void 0,e)}function X(t,e=de.Default){return(AD()||JN)(Vt(t),e)}function j(t,e=de.Default){return X(t,kh(e))}function kh(t){return typeof t>"u"||typeof t=="number"?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function km(t){let e=[];for(let n=0;n<t.length;n++){let r=Vt(t[n]);if(Array.isArray(r)){if(r.length===0)throw new G(900,!1);let i,o=de.Default;for(let s=0;s<r.length;s++){let a=r[s],u=XN(a);typeof u=="number"?u===-1?i=a.token:o|=u:i=a}e.push(X(i,o))}else e.push(X(r))}return e}function xD(t,e){return t[Pm]=e,t.prototype[Pm]=e,t}function XN(t){return t[Pm]}function eP(t,e,n,r){let i=t[ch];throw e[$b]&&i.unshift(e[$b]),t.message=tP(`
`+t.message,i,n,r),t[KN]=i,t[ch]=null,t}function tP(t,e,n,r=null){t=t&&t.charAt(0)===`
`&&t.charAt(1)==YN?t.slice(2):t;let i=jt(e);if(Array.isArray(e))i=e.map(jt).join(" -> ");else if(typeof e=="object"){let o=[];for(let s in e)if(e.hasOwnProperty(s)){let a=e[s];o.push(s+":"+(typeof a=="string"?JSON.stringify(a):jt(a)))}i=`{${o.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${t.replace(QN,`
  `)}`}var Nt=xD(ED("Optional"),8);var Dy=xD(ED("SkipSelf"),4);function Oo(t,e){let n=t.hasOwnProperty(ah);return n?t[ah]:null}function Cy(t,e){t.forEach(n=>Array.isArray(n)?Cy(n,e):e(n))}function MD(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function uh(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function nP(t,e,n,r){let i=t.length;if(i==e)t.push(n,r);else if(i===1)t.push(r,t[0]),t[0]=n;else{for(i--,t.push(t[i-1],t[i]);i>e;){let o=i-2;t[i]=t[o],i--}t[e]=n,t[e+1]=r}}function rP(t,e,n){let r=Jc(t,e);return r>=0?t[r|1]=n:(r=~r,nP(t,r,e,n)),r}function vm(t,e){let n=Jc(t,e);if(n>=0)return t[n|1]}function Jc(t,e){return iP(t,e,1)}function iP(t,e,n){let r=0,i=t.length>>n;for(;i!==r;){let o=r+(i-r>>1),s=t[o<<n];if(e===s)return o<<n;s>e?i=o:r=o+1}return~(i<<n)}var ta={},vn=[],na=new z(""),ND=new z("",-1),PD=new z(""),lh=class{get(e,n=qc){if(n===qc){let r=new Error(`NullInjectorError: No provider for ${jt(e)}!`);throw r.name="NullInjectorError",r}return n}},kD=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}(kD||{}),ar=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}(ar||{}),Oi=function(t){return t[t.None=0]="None",t[t.SignalBased=1]="SignalBased",t[t.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",t}(Oi||{});function oP(t,e,n){let r=t.length;for(;;){let i=t.indexOf(e,n);if(i===-1)return i;if(i===0||t.charCodeAt(i-1)<=32){let o=e.length;if(i+o===r||t.charCodeAt(i+o)<=32)return i}n=i+1}}function Om(t,e,n){let r=0;for(;r<n.length;){let i=n[r];if(typeof i=="number"){if(i!==0)break;r++;let o=n[r++],s=n[r++],a=n[r++];t.setAttribute(e,s,a,o)}else{let o=i,s=n[++r];sP(o)?t.setProperty(e,o,s):t.setAttribute(e,o,s),r++}}return r}function OD(t){return t===3||t===4||t===6}function sP(t){return t.charCodeAt(0)===64}function Gc(t,e){if(!(e===null||e.length===0))if(t===null||t.length===0)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){let i=e[r];typeof i=="number"?n=i:n===0||(n===-1||n===2?Hb(t,n,i,null,e[++r]):Hb(t,n,i,null,null))}}return t}function Hb(t,e,n,r,i){let o=0,s=t.length;if(e===-1)s=-1;else for(;o<t.length;){let a=t[o++];if(typeof a=="number"){if(a===e){s=-1;break}else if(a>e){s=o-1;break}}}for(;o<t.length;){let a=t[o];if(typeof a=="number")break;if(a===n){if(r===null){i!==null&&(t[o+1]=i);return}else if(r===t[o+1]){t[o+2]=i;return}}o++,r!==null&&o++,i!==null&&o++}s!==-1&&(t.splice(s,0,e),o=s+1),t.splice(o++,0,n),r!==null&&t.splice(o++,0,r),i!==null&&t.splice(o++,0,i)}var FD="ng-template";function aP(t,e,n,r){let i=0;if(r){for(;i<e.length&&typeof e[i]=="string";i+=2)if(e[i]==="class"&&oP(e[i+1].toLowerCase(),n,0)!==-1)return!0}else if(Ty(t))return!1;if(i=e.indexOf(1,i),i>-1){let o;for(;++i<e.length&&typeof(o=e[i])=="string";)if(o.toLowerCase()===n)return!0}return!1}function Ty(t){return t.type===4&&t.value!==FD}function cP(t,e,n){let r=t.type===4&&!n?FD:t.value;return e===r}function uP(t,e,n){let r=4,i=t.attrs,o=i!==null?hP(i):0,s=!1;for(let a=0;a<e.length;a++){let u=e[a];if(typeof u=="number"){if(!s&&!Ln(r)&&!Ln(u))return!1;if(s&&Ln(u))continue;s=!1,r=u|r&1;continue}if(!s)if(r&4){if(r=2|r&1,u!==""&&!cP(t,u,n)||u===""&&e.length===1){if(Ln(r))return!1;s=!0}}else if(r&8){if(i===null||!aP(t,i,u,n)){if(Ln(r))return!1;s=!0}}else{let d=e[++a],p=lP(u,i,Ty(t),n);if(p===-1){if(Ln(r))return!1;s=!0;continue}if(d!==""){let g;if(p>o?g="":g=i[p+1].toLowerCase(),r&2&&d!==g){if(Ln(r))return!1;s=!0}}}}return Ln(r)||s}function Ln(t){return(t&1)===0}function lP(t,e,n,r){if(e===null)return-1;let i=0;if(r||!n){let o=!1;for(;i<e.length;){let s=e[i];if(s===t)return i;if(s===3||s===6)o=!0;else if(s===1||s===2){let a=e[++i];for(;typeof a=="string";)a=e[++i];continue}else{if(s===4)break;if(s===0){i+=4;continue}}i+=o?1:2}return-1}else return fP(e,t)}function dP(t,e,n=!1){for(let r=0;r<e.length;r++)if(uP(t,e[r],n))return!0;return!1}function hP(t){for(let e=0;e<t.length;e++){let n=t[e];if(OD(n))return e}return t.length}function fP(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){let r=t[n];if(typeof r=="number")return-1;if(r===e)return n;n++}return-1}function zb(t,e){return t?":not("+e.trim()+")":e}function pP(t){let e=t[0],n=1,r=2,i="",o=!1;for(;n<t.length;){let s=t[n];if(typeof s=="string")if(r&2){let a=t[++n];i+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else r&8?i+="."+s:r&4&&(i+=" "+s);else i!==""&&!Ln(s)&&(e+=zb(o,i),i=""),r=s,o=o||!Ln(r);n++}return i!==""&&(e+=zb(o,i)),e}function gP(t){return t.map(pP).join(",")}function mP(t){let e=[],n=[],r=1,i=2;for(;r<t.length;){let o=t[r];if(typeof o=="string")i===2?o!==""&&e.push(o,t[++r]):i===8&&n.push(o);else{if(!Ln(i))break;i=o}r++}return{attrs:e,classes:n}}function Oh(t){return Zc(()=>{let e=$D(t),n=ge(B({},e),{decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===kD.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&t.dependencies||null,getStandaloneInjector:null,signals:t.signals??!1,data:t.data||{},encapsulation:t.encapsulation||ar.Emulated,styles:t.styles||vn,_:null,schemas:t.schemas||null,tView:null,id:""});HD(n);let r=t.dependencies;return n.directiveDefs=Gb(r,!1),n.pipeDefs=Gb(r,!0),n.id=wP(n),n})}function yP(t){return Fi(t)||VD(t)}function vP(t){return t!==null}function Un(t){return Zc(()=>({type:t.type,bootstrap:t.bootstrap||vn,declarations:t.declarations||vn,imports:t.imports||vn,exports:t.exports||vn,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function qb(t,e){if(t==null)return ta;let n={};for(let r in t)if(t.hasOwnProperty(r)){let i=t[r],o,s,a=Oi.None;Array.isArray(i)?(a=i[0],o=i[1],s=i[2]??o):(o=i,s=i),e?(n[o]=a!==Oi.None?[r,a]:r,e[o]=s):n[o]=r}return n}function Ne(t){return Zc(()=>{let e=$D(t);return HD(e),e})}function LD(t){return{type:t.type,name:t.name,factory:null,pure:t.pure!==!1,standalone:t.standalone===!0,onDestroy:t.type.prototype.ngOnDestroy||null}}function Fi(t){return t[BN]||null}function VD(t){return t[$N]||null}function jD(t){return t[HN]||null}function UD(t){let e=Fi(t)||VD(t)||jD(t);return e!==null?e.standalone:!1}function BD(t,e){let n=t[zN]||null;if(!n&&e===!0)throw new Error(`Type ${jt(t)} does not have '\u0275mod' property.`);return n}function $D(t){let e={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputTransforms:null,inputConfig:t.inputs||ta,exportAs:t.exportAs||null,standalone:t.standalone===!0,signals:t.signals===!0,selectors:t.selectors||vn,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:qb(t.inputs,e),outputs:qb(t.outputs),debugInfo:null}}function HD(t){t.features?.forEach(e=>e(t))}function Gb(t,e){if(!t)return null;let n=e?jD:yP;return()=>(typeof t=="function"?t():t).map(r=>n(r)).filter(vP)}function wP(t){let e=0,n=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,t.consts,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery].join("|");for(let i of n)e=Math.imul(31,e)+i.charCodeAt(0)<<0;return e+=2147483648,"c"+e}function hr(t){return{\u0275providers:t}}function _P(...t){return{\u0275providers:zD(!0,t),\u0275fromNgModule:!0}}function zD(t,...e){let n=[],r=new Set,i,o=s=>{n.push(s)};return Cy(e,s=>{let a=s;Fm(a,o,[],r)&&(i||=[],i.push(a))}),i!==void 0&&qD(i,o),n}function qD(t,e){for(let n=0;n<t.length;n++){let{ngModule:r,providers:i}=t[n];Sy(i,o=>{e(o,r)})}}function Fm(t,e,n,r){if(t=Vt(t),!t)return!1;let i=null,o=jb(t),s=!o&&Fi(t);if(!o&&!s){let u=t.ngModule;if(o=jb(u),o)i=u;else return!1}else{if(s&&!s.standalone)return!1;i=t}let a=r.has(i);if(s){if(a)return!1;if(r.add(i),s.dependencies){let u=typeof s.dependencies=="function"?s.dependencies():s.dependencies;for(let d of u)Fm(d,e,n,r)}}else if(o){if(o.imports!=null&&!a){r.add(i);let d;try{Cy(o.imports,p=>{Fm(p,e,n,r)&&(d||=[],d.push(p))})}finally{}d!==void 0&&qD(d,e)}if(!a){let d=Oo(i)||(()=>new i);e({provide:i,useFactory:d,deps:vn},i),e({provide:PD,useValue:i,multi:!0},i),e({provide:na,useValue:()=>X(i),multi:!0},i)}let u=o.providers;if(u!=null&&!a){let d=t;Sy(u,p=>{e(p,d)})}}else return!1;return i!==t&&t.providers!==void 0}function Sy(t,e){for(let n of t)SD(n)&&(n=n.\u0275providers),Array.isArray(n)?Sy(n,e):e(n)}var IP=Le({provide:String,useValue:Le});function GD(t){return t!==null&&typeof t=="object"&&IP in t}function EP(t){return!!(t&&t.useExisting)}function bP(t){return!!(t&&t.useFactory)}function ra(t){return typeof t=="function"}function DP(t){return!!t.useClass}var Fh=new z(""),nh={},CP={},wm;function Ay(){return wm===void 0&&(wm=new lh),wm}var cn=class{},Wc=class extends cn{get destroyed(){return this._destroyed}constructor(e,n,r,i){super(),this.parent=n,this.source=r,this.scopes=i,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,Vm(e,s=>this.processProvider(s)),this.records.set(ND,Ks(void 0,this)),i.has("environment")&&this.records.set(cn,Ks(void 0,this));let o=this.records.get(Fh);o!=null&&typeof o.value=="string"&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(PD,vn,de.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;let e=Ie(null);try{for(let r of this._ngOnDestroyHooks)r.ngOnDestroy();let n=this._onDestroyHooks;this._onDestroyHooks=[];for(let r of n)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),Ie(e)}}onDestroy(e){return this.assertNotDestroyed(),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){this.assertNotDestroyed();let n=Ni(this),r=Wt(void 0),i;try{return e()}finally{Ni(n),Wt(r)}}get(e,n=qc,r=de.Default){if(this.assertNotDestroyed(),e.hasOwnProperty(Bb))return e[Bb](this);r=kh(r);let i,o=Ni(this),s=Wt(void 0);try{if(!(r&de.SkipSelf)){let u=this.records.get(e);if(u===void 0){let d=xP(e)&&Ph(e);d&&this.injectableDefInScope(d)?u=Ks(Lm(e),nh):u=null,this.records.set(e,u)}if(u!=null)return this.hydrate(e,u)}let a=r&de.Self?Ay():this.parent;return n=r&de.Optional&&n===qc?null:n,a.get(e,n)}catch(a){if(a.name==="NullInjectorError"){if((a[ch]=a[ch]||[]).unshift(jt(e)),o)throw a;return eP(a,e,"R3InjectorError",this.source)}else throw a}finally{Wt(s),Ni(o)}}resolveInjectorInitializers(){let e=Ie(null),n=Ni(this),r=Wt(void 0),i;try{let o=this.get(na,vn,de.Self);for(let s of o)s()}finally{Ni(n),Wt(r),Ie(e)}}toString(){let e=[],n=this.records;for(let r of n.keys())e.push(jt(r));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new G(205,!1)}processProvider(e){e=Vt(e);let n=ra(e)?e:Vt(e&&e.provide),r=SP(e);if(!ra(e)&&e.multi===!0){let i=this.records.get(n);i||(i=Ks(void 0,nh,!0),i.factory=()=>km(i.multi),this.records.set(n,i)),n=e,i.multi.push(e)}this.records.set(n,r)}hydrate(e,n){let r=Ie(null);try{return n.value===nh&&(n.value=CP,n.value=n.factory()),typeof n.value=="object"&&n.value&&RP(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}finally{Ie(r)}}injectableDefInScope(e){if(!e.providedIn)return!1;let n=Vt(e.providedIn);return typeof n=="string"?n==="any"||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(e){let n=this._onDestroyHooks.indexOf(e);n!==-1&&this._onDestroyHooks.splice(n,1)}};function Lm(t){let e=Ph(t),n=e!==null?e.factory:Oo(t);if(n!==null)return n;if(t instanceof z)throw new G(204,!1);if(t instanceof Function)return TP(t);throw new G(204,!1)}function TP(t){if(t.length>0)throw new G(204,!1);let n=jN(t);return n!==null?()=>n.factory(t):()=>new t}function SP(t){if(GD(t))return Ks(void 0,t.useValue);{let e=WD(t);return Ks(e,nh)}}function WD(t,e,n){let r;if(ra(t)){let i=Vt(t);return Oo(i)||Lm(i)}else if(GD(t))r=()=>Vt(t.useValue);else if(bP(t))r=()=>t.useFactory(...km(t.deps||[]));else if(EP(t))r=()=>X(Vt(t.useExisting));else{let i=Vt(t&&(t.useClass||t.provide));if(AP(t))r=()=>new i(...km(t.deps));else return Oo(i)||Lm(i)}return r}function Ks(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function AP(t){return!!t.deps}function RP(t){return t!==null&&typeof t=="object"&&typeof t.ngOnDestroy=="function"}function xP(t){return typeof t=="function"||typeof t=="object"&&t instanceof z}function Vm(t,e){for(let n of t)Array.isArray(n)?Vm(n,e):n&&SD(n)?Vm(n.\u0275providers,e):e(n)}function fr(t,e){t instanceof Wc&&t.assertNotDestroyed();let n,r=Ni(t),i=Wt(void 0);try{return e()}finally{Ni(r),Wt(i)}}function KD(){return AD()!==void 0||ZN()!=null}function MP(t){if(!KD())throw new G(-203,!1)}function NP(t){return typeof t=="function"}var Ur=0,he=1,re=2,Ut=3,Vn=4,Bn=5,dh=6,hh=7,_n=8,ia=9,cr=10,Ze=11,Kc=12,Wb=13,pa=14,ur=15,oa=16,Qs=17,sa=18,Lh=19,QD=20,Pi=21,_m=22,wn=23,Bt=25,YD=1;var Fo=7,fh=8,ph=9,an=10,gh=function(t){return t[t.None=0]="None",t[t.HasTransplantedViews=2]="HasTransplantedViews",t}(gh||{});function ki(t){return Array.isArray(t)&&typeof t[YD]=="object"}function Br(t){return Array.isArray(t)&&t[YD]===!0}function Ry(t){return(t.flags&4)!==0}function Vh(t){return t.componentOffset>-1}function jh(t){return(t.flags&1)===1}function Li(t){return!!t.template}function jm(t){return(t[re]&512)!==0}var Um=class{constructor(e,n,r){this.previousValue=e,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}};function ZD(t,e,n,r){e!==null?e.applyValueToInputSignal(e,r):t[n]=r}function pr(){return JD}function JD(t){return t.type.prototype.ngOnChanges&&(t.setInput=kP),PP}pr.ngInherit=!0;function PP(){let t=eC(this),e=t?.current;if(e){let n=t.previous;if(n===ta)t.previous=e;else for(let r in e)n[r]=e[r];t.current=null,this.ngOnChanges(e)}}function kP(t,e,n,r,i){let o=this.declaredInputs[r],s=eC(t)||OP(t,{previous:ta,current:null}),a=s.current||(s.current={}),u=s.previous,d=u[o];a[o]=new Um(d&&d.currentValue,n,u===ta),ZD(t,e,i,n)}var XD="__ngSimpleChanges__";function eC(t){return t[XD]||null}function OP(t,e){return t[XD]=e}var Kb=null;var or=function(t,e,n){Kb?.(t,e,n)},FP="svg",LP="math";function lr(t){for(;Array.isArray(t);)t=t[Ur];return t}function tC(t,e){return lr(e[t])}function In(t,e){return lr(e[t.index])}function xy(t,e){return t.data[e]}function My(t,e){return t[e]}function Ui(t,e){let n=e[t];return ki(n)?n:n[Ur]}function Ny(t){return(t[re]&128)===128}function VP(t){return Br(t[Ut])}function aa(t,e){return e==null?null:t[e]}function nC(t){t[Qs]=0}function rC(t){t[re]&1024||(t[re]|=1024,Ny(t)&&Bh(t))}function jP(t,e){for(;t>0;)e=e[pa],t--;return e}function Uh(t){return!!(t[re]&9216||t[wn]?.dirty)}function Bm(t){t[cr].changeDetectionScheduler?.notify(8),t[re]&64&&(t[re]|=1024),Uh(t)&&Bh(t)}function Bh(t){t[cr].changeDetectionScheduler?.notify(0);let e=Lo(t);for(;e!==null&&!(e[re]&8192||(e[re]|=8192,!Ny(e)));)e=Lo(e)}function iC(t,e){if((t[re]&256)===256)throw new G(911,!1);t[Pi]===null&&(t[Pi]=[]),t[Pi].push(e)}function UP(t,e){if(t[Pi]===null)return;let n=t[Pi].indexOf(e);n!==-1&&t[Pi].splice(n,1)}function Lo(t){let e=t[Ut];return Br(e)?e[Ut]:e}var fe={lFrame:pC(null),bindingsEnabled:!0,skipHydrationRootTNode:null};var oC=!1;function BP(){return fe.lFrame.elementDepthCount}function $P(){fe.lFrame.elementDepthCount++}function HP(){fe.lFrame.elementDepthCount--}function sC(){return fe.bindingsEnabled}function zP(){return fe.skipHydrationRootTNode!==null}function qP(t){return fe.skipHydrationRootTNode===t}function GP(){fe.skipHydrationRootTNode=null}function Ee(){return fe.lFrame.lView}function St(){return fe.lFrame.tView}function y6(t){return fe.lFrame.contextLView=t,t[_n]}function v6(t){return fe.lFrame.contextLView=null,t}function Pt(){let t=aC();for(;t!==null&&t.type===64;)t=t.parent;return t}function aC(){return fe.lFrame.currentTNode}function WP(){let t=fe.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}function $o(t,e){let n=fe.lFrame;n.currentTNode=t,n.isParent=e}function Py(){return fe.lFrame.isParent}function cC(){fe.lFrame.isParent=!1}function KP(){return fe.lFrame.contextLView}function uC(){return oC}function Qb(t){oC=t}function Xc(){let t=fe.lFrame,e=t.bindingRootIndex;return e===-1&&(e=t.bindingRootIndex=t.tView.bindingStartIndex),e}function QP(){return fe.lFrame.bindingIndex}function YP(t){return fe.lFrame.bindingIndex=t}function eu(){return fe.lFrame.bindingIndex++}function lC(t){let e=fe.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,n}function ZP(){return fe.lFrame.inI18n}function JP(t,e){let n=fe.lFrame;n.bindingIndex=n.bindingRootIndex=t,$m(e)}function XP(){return fe.lFrame.currentDirectiveIndex}function $m(t){fe.lFrame.currentDirectiveIndex=t}function ek(t){let e=fe.lFrame.currentDirectiveIndex;return e===-1?null:t[e]}function dC(t){fe.lFrame.currentQueryIndex=t}function tk(t){let e=t[he];return e.type===2?e.declTNode:e.type===1?t[Bn]:null}function hC(t,e,n){if(n&de.SkipSelf){let i=e,o=t;for(;i=i.parent,i===null&&!(n&de.Host);)if(i=tk(o),i===null||(o=o[pa],i.type&10))break;if(i===null)return!1;e=i,t=o}let r=fe.lFrame=fC();return r.currentTNode=e,r.lView=t,!0}function ky(t){let e=fC(),n=t[he];fe.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function fC(){let t=fe.lFrame,e=t===null?null:t.child;return e===null?pC(t):e}function pC(t){let e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return t!==null&&(t.child=e),e}function gC(){let t=fe.lFrame;return fe.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}var mC=gC;function Oy(){let t=gC();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function nk(t){return(fe.lFrame.contextLView=jP(t,fe.lFrame.contextLView))[_n]}function Ho(){return fe.lFrame.selectedIndex}function Vo(t){fe.lFrame.selectedIndex=t}function $h(){let t=fe.lFrame;return xy(t.tView,t.selectedIndex)}function rk(){return fe.lFrame.currentNamespace}var yC=!0;function Hh(){return yC}function zh(t){yC=t}function ik(t,e,n){let{ngOnChanges:r,ngOnInit:i,ngDoCheck:o}=e.type.prototype;if(r){let s=JD(e);(n.preOrderHooks??=[]).push(t,s),(n.preOrderCheckHooks??=[]).push(t,s)}i&&(n.preOrderHooks??=[]).push(0-t,i),o&&((n.preOrderHooks??=[]).push(t,o),(n.preOrderCheckHooks??=[]).push(t,o))}function qh(t,e){for(let n=e.directiveStart,r=e.directiveEnd;n<r;n++){let o=t.data[n].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:u,ngAfterViewChecked:d,ngOnDestroy:p}=o;s&&(t.contentHooks??=[]).push(-n,s),a&&((t.contentHooks??=[]).push(n,a),(t.contentCheckHooks??=[]).push(n,a)),u&&(t.viewHooks??=[]).push(-n,u),d&&((t.viewHooks??=[]).push(n,d),(t.viewCheckHooks??=[]).push(n,d)),p!=null&&(t.destroyHooks??=[]).push(n,p)}}function rh(t,e,n){vC(t,e,3,n)}function ih(t,e,n,r){(t[re]&3)===n&&vC(t,e,n,r)}function Im(t,e){let n=t[re];(n&3)===e&&(n&=16383,n+=1,t[re]=n)}function vC(t,e,n,r){let i=r!==void 0?t[Qs]&65535:0,o=r??-1,s=e.length-1,a=0;for(let u=i;u<s;u++)if(typeof e[u+1]=="number"){if(a=e[u],r!=null&&a>=r)break}else e[u]<0&&(t[Qs]+=65536),(a<o||o==-1)&&(ok(t,n,e,u),t[Qs]=(t[Qs]&4294901760)+u+2),u++}function Yb(t,e){or(4,t,e);let n=Ie(null);try{e.call(t)}finally{Ie(n),or(5,t,e)}}function ok(t,e,n,r){let i=n[r]<0,o=n[r+1],s=i?-n[r]:n[r],a=t[s];i?t[re]>>14<t[Qs]>>16&&(t[re]&3)===e&&(t[re]+=16384,Yb(a,o)):Yb(a,o)}var Xs=-1,jo=class{constructor(e,n,r){this.factory=e,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=r}};function sk(t){return t instanceof jo}function ak(t){return(t.flags&8)!==0}function ck(t){return(t.flags&16)!==0}var Em={},Hm=class{constructor(e,n){this.injector=e,this.parentInjector=n}get(e,n,r){r=kh(r);let i=this.injector.get(e,Em,r);return i!==Em||n===Em?i:this.parentInjector.get(e,n,r)}};function wC(t){return t!==Xs}function mh(t){return t&32767}function uk(t){return t>>16}function yh(t,e){let n=uk(t),r=e;for(;n>0;)r=r[pa],n--;return r}var zm=!0;function vh(t){let e=zm;return zm=t,e}var lk=256,_C=lk-1,IC=5,dk=0,sr={};function hk(t,e,n){let r;typeof n=="string"?r=n.charCodeAt(0)||0:n.hasOwnProperty(zc)&&(r=n[zc]),r==null&&(r=n[zc]=dk++);let i=r&_C,o=1<<i;e.data[t+(i>>IC)]|=o}function wh(t,e){let n=EC(t,e);if(n!==-1)return n;let r=e[he];r.firstCreatePass&&(t.injectorIndex=e.length,bm(r.data,t),bm(e,null),bm(r.blueprint,null));let i=Fy(t,e),o=t.injectorIndex;if(wC(i)){let s=mh(i),a=yh(i,e),u=a[he].data;for(let d=0;d<8;d++)e[o+d]=a[s+d]|u[s+d]}return e[o+8]=i,o}function bm(t,e){t.push(0,0,0,0,0,0,0,0,e)}function EC(t,e){return t.injectorIndex===-1||t.parent&&t.parent.injectorIndex===t.injectorIndex||e[t.injectorIndex+8]===null?-1:t.injectorIndex}function Fy(t,e){if(t.parent&&t.parent.injectorIndex!==-1)return t.parent.injectorIndex;let n=0,r=null,i=e;for(;i!==null;){if(r=SC(i),r===null)return Xs;if(n++,i=i[pa],r.injectorIndex!==-1)return r.injectorIndex|n<<16}return Xs}function qm(t,e,n){hk(t,e,n)}function fk(t,e){if(e==="class")return t.classes;if(e==="style")return t.styles;let n=t.attrs;if(n){let r=n.length,i=0;for(;i<r;){let o=n[i];if(OD(o))break;if(o===0)i=i+2;else if(typeof o=="number")for(i++;i<r&&typeof n[i]=="string";)i++;else{if(o===e)return n[i+1];i=i+2}}}return null}function bC(t,e,n){if(n&de.Optional||t!==void 0)return t;by(e,"NodeInjector")}function DC(t,e,n,r){if(n&de.Optional&&r===void 0&&(r=null),!(n&(de.Self|de.Host))){let i=t[ia],o=Wt(void 0);try{return i?i.get(e,r,n&de.Optional):RD(e,r,n&de.Optional)}finally{Wt(o)}}return bC(r,e,n)}function CC(t,e,n,r=de.Default,i){if(t!==null){if(e[re]&2048&&!(r&de.Self)){let s=vk(t,e,n,r,sr);if(s!==sr)return s}let o=TC(t,e,n,r,sr);if(o!==sr)return o}return DC(e,n,r,i)}function TC(t,e,n,r,i){let o=mk(n);if(typeof o=="function"){if(!hC(e,t,r))return r&de.Host?bC(i,n,r):DC(e,n,r,i);try{let s;if(s=o(r),s==null&&!(r&de.Optional))by(n);else return s}finally{mC()}}else if(typeof o=="number"){let s=null,a=EC(t,e),u=Xs,d=r&de.Host?e[ur][Bn]:null;for((a===-1||r&de.SkipSelf)&&(u=a===-1?Fy(t,e):e[a+8],u===Xs||!Jb(r,!1)?a=-1:(s=e[he],a=mh(u),e=yh(u,e)));a!==-1;){let p=e[he];if(Zb(o,a,p.data)){let g=pk(a,e,n,s,r,d);if(g!==sr)return g}u=e[a+8],u!==Xs&&Jb(r,e[he].data[a+8]===d)&&Zb(o,a,e)?(s=p,a=mh(u),e=yh(u,e)):a=-1}}return i}function pk(t,e,n,r,i,o){let s=e[he],a=s.data[t+8],u=r==null?Vh(a)&&zm:r!=s&&(a.type&3)!==0,d=i&de.Host&&o===a,p=gk(a,s,n,u,d);return p!==null?ca(e,s,p,a):sr}function gk(t,e,n,r,i){let o=t.providerIndexes,s=e.data,a=o&1048575,u=t.directiveStart,d=t.directiveEnd,p=o>>20,g=r?a:a+p,_=i?a+p:d;for(let b=g;b<_;b++){let M=s[b];if(b<u&&n===M||b>=u&&M.type===n)return b}if(i){let b=s[u];if(b&&Li(b)&&b.type===n)return u}return null}function ca(t,e,n,r){let i=t[n],o=e.data;if(sk(i)){let s=i;s.resolving&&GN(qN(o[n]));let a=vh(s.canSeeViewProviders);s.resolving=!0;let u,d=s.injectImpl?Wt(s.injectImpl):null,p=hC(t,r,de.Default);try{i=t[n]=s.factory(void 0,o,t,r),e.firstCreatePass&&n>=r.directiveStart&&ik(n,o[n],e)}finally{d!==null&&Wt(d),vh(a),s.resolving=!1,mC()}}return i}function mk(t){if(typeof t=="string")return t.charCodeAt(0)||0;let e=t.hasOwnProperty(zc)?t[zc]:void 0;return typeof e=="number"?e>=0?e&_C:yk:e}function Zb(t,e,n){let r=1<<t;return!!(n[e+(t>>IC)]&r)}function Jb(t,e){return!(t&de.Self)&&!(t&de.Host&&e)}var ko=class{constructor(e,n){this._tNode=e,this._lView=n}get(e,n,r){return CC(this._tNode,this._lView,e,kh(r),n)}};function yk(){return new ko(Pt(),Ee())}function En(t){return Zc(()=>{let e=t.prototype.constructor,n=e[ah]||Gm(e),r=Object.prototype,i=Object.getPrototypeOf(t.prototype).constructor;for(;i&&i!==r;){let o=i[ah]||Gm(i);if(o&&o!==n)return o;i=Object.getPrototypeOf(i)}return o=>new o})}function Gm(t){return bD(t)?()=>{let e=Gm(Vt(t));return e&&e()}:Oo(t)}function vk(t,e,n,r,i){let o=t,s=e;for(;o!==null&&s!==null&&s[re]&2048&&!(s[re]&512);){let a=TC(o,s,n,r|de.Self,sr);if(a!==sr)return a;let u=o.parent;if(!u){let d=s[QD];if(d){let p=d.get(n,sr,r);if(p!==sr)return p}u=SC(s),s=s[pa]}o=u}return i}function SC(t){let e=t[he],n=e.type;return n===2?e.declTNode:n===1?t[Bn]:null}function Ly(t){return fk(Pt(),t)}function Xb(t,e=null,n=null,r){let i=AC(t,e,n,r);return i.resolveInjectorInitializers(),i}function AC(t,e=null,n=null,r,i=new Set){let o=[n||vn,_P(t)];return r=r||(typeof t=="object"?void 0:jt(t)),new Wc(o,e||Ay(),r||null,i)}var Tt=class t{static{this.THROW_IF_NOT_FOUND=qc}static{this.NULL=new lh}static create(e,n){if(Array.isArray(e))return Xb({name:""},n,e,"");{let r=e.name??"";return Xb({name:r},e.parent,e.providers,r)}}static{this.\u0275prov=K({token:t,providedIn:"any",factory:()=>X(ND)})}static{this.__NG_ELEMENT_ID__=-1}};var wk=new z("");wk.__NG_ELEMENT_ID__=t=>{let e=Pt();if(e===null)throw new G(204,!1);if(e.type&2)return e.value;if(t&de.Optional)return null;throw new G(204,!1)};var _k="ngOriginalError";function Dm(t){return t[_k]}var RC=!0,Vy=(()=>{class t{static{this.__NG_ELEMENT_ID__=Ik}static{this.__NG_ENV_ID__=n=>n}}return t})(),Wm=class extends Vy{constructor(e){super(),this._lView=e}onDestroy(e){return iC(this._lView,e),()=>UP(this._lView,e)}};function Ik(){return new Wm(Ee())}var ga=(()=>{class t{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new Ct(!1)}get _hasPendingTasks(){return this.hasPendingTasks.value}add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);let n=this.taskId++;return this.pendingTasks.add(n),n}remove(n){this.pendingTasks.delete(n),this.pendingTasks.size===0&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}static{this.\u0275prov=K({token:t,providedIn:"root",factory:()=>new t})}}return t})();var Km=class extends wt{constructor(e=!1){super(),this.destroyRef=void 0,this.pendingTasks=void 0,this.__isAsync=e,KD()&&(this.destroyRef=j(Vy,{optional:!0})??void 0,this.pendingTasks=j(ga,{optional:!0})??void 0)}emit(e){let n=Ie(null);try{super.next(e)}finally{Ie(n)}}subscribe(e,n,r){let i=e,o=n||(()=>null),s=r;if(e&&typeof e=="object"){let u=e;i=u.next?.bind(u),o=u.error?.bind(u),s=u.complete?.bind(u)}this.__isAsync&&(o=this.wrapInTimeout(o),i&&(i=this.wrapInTimeout(i)),s&&(s=this.wrapInTimeout(s)));let a=super.subscribe({next:i,error:o,complete:s});return e instanceof We&&e.add(a),a}wrapInTimeout(e){return n=>{let r=this.pendingTasks?.add();setTimeout(()=>{e(n),r!==void 0&&this.pendingTasks?.remove(r)})}}},Ke=Km;function _h(...t){}function xC(t){let e,n;function r(){t=_h;try{n!==void 0&&typeof cancelAnimationFrame=="function"&&cancelAnimationFrame(n),e!==void 0&&clearTimeout(e)}catch{}}return e=setTimeout(()=>{t(),r()}),typeof requestAnimationFrame=="function"&&(n=requestAnimationFrame(()=>{t(),r()})),()=>r()}function eD(t){return queueMicrotask(()=>t()),()=>{t=_h}}var jy="isAngularZone",Ih=jy+"_ID",Ek=0,De=class t{constructor(e){this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Ke(!1),this.onMicrotaskEmpty=new Ke(!1),this.onStable=new Ke(!1),this.onError=new Ke(!1);let{enableLongStackTrace:n=!1,shouldCoalesceEventChangeDetection:r=!1,shouldCoalesceRunChangeDetection:i=!1,scheduleInRootZone:o=RC}=e;if(typeof Zone>"u")throw new G(908,!1);Zone.assertZonePatched();let s=this;s._nesting=0,s._outer=s._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(s._inner=s._inner.fork(new Zone.TaskTrackingZoneSpec)),n&&Zone.longStackTraceZoneSpec&&(s._inner=s._inner.fork(Zone.longStackTraceZoneSpec)),s.shouldCoalesceEventChangeDetection=!i&&r,s.shouldCoalesceRunChangeDetection=i,s.callbackScheduled=!1,s.scheduleInRootZone=o,Ck(s)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get(jy)===!0}static assertInAngularZone(){if(!t.isInAngularZone())throw new G(909,!1)}static assertNotInAngularZone(){if(t.isInAngularZone())throw new G(909,!1)}run(e,n,r){return this._inner.run(e,n,r)}runTask(e,n,r,i){let o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+i,e,bk,_h,_h);try{return o.runTask(s,n,r)}finally{o.cancelTask(s)}}runGuarded(e,n,r){return this._inner.runGuarded(e,n,r)}runOutsideAngular(e){return this._outer.run(e)}},bk={};function Uy(t){if(t._nesting==0&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function Dk(t){if(t.isCheckStableRunning||t.callbackScheduled)return;t.callbackScheduled=!0;function e(){xC(()=>{t.callbackScheduled=!1,Qm(t),t.isCheckStableRunning=!0,Uy(t),t.isCheckStableRunning=!1})}t.scheduleInRootZone?Zone.root.run(()=>{e()}):t._outer.run(()=>{e()}),Qm(t)}function Ck(t){let e=()=>{Dk(t)},n=Ek++;t._inner=t._inner.fork({name:"angular",properties:{[jy]:!0,[Ih]:n,[Ih+n]:!0},onInvokeTask:(r,i,o,s,a,u)=>{if(Tk(u))return r.invokeTask(o,s,a,u);try{return tD(t),r.invokeTask(o,s,a,u)}finally{(t.shouldCoalesceEventChangeDetection&&s.type==="eventTask"||t.shouldCoalesceRunChangeDetection)&&e(),nD(t)}},onInvoke:(r,i,o,s,a,u,d)=>{try{return tD(t),r.invoke(o,s,a,u,d)}finally{t.shouldCoalesceRunChangeDetection&&!t.callbackScheduled&&!Sk(u)&&e(),nD(t)}},onHasTask:(r,i,o,s)=>{r.hasTask(o,s),i===o&&(s.change=="microTask"?(t._hasPendingMicrotasks=s.microTask,Qm(t),Uy(t)):s.change=="macroTask"&&(t.hasPendingMacrotasks=s.macroTask))},onHandleError:(r,i,o,s)=>(r.handleError(o,s),t.runOutsideAngular(()=>t.onError.emit(s)),!1)})}function Qm(t){t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&t.callbackScheduled===!0?t.hasPendingMicrotasks=!0:t.hasPendingMicrotasks=!1}function tD(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function nD(t){t._nesting--,Uy(t)}var Ym=class{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Ke,this.onMicrotaskEmpty=new Ke,this.onStable=new Ke,this.onError=new Ke}run(e,n,r){return e.apply(n,r)}runGuarded(e,n,r){return e.apply(n,r)}runOutsideAngular(e){return e()}runTask(e,n,r,i){return e.apply(n,r)}};function Tk(t){return MC(t,"__ignore_ng_zone__")}function Sk(t){return MC(t,"__scheduler_tick__")}function MC(t,e){return!Array.isArray(t)||t.length!==1?!1:t[0]?.data?.[e]===!0}var Lr=class{constructor(){this._console=console}handleError(e){let n=this._findOriginalError(e);this._console.error("ERROR",e),n&&this._console.error("ORIGINAL ERROR",n)}_findOriginalError(e){let n=e&&Dm(e);for(;n&&Dm(n);)n=Dm(n);return n||null}},Ak=new z("",{providedIn:"root",factory:()=>{let t=j(De),e=j(Lr);return n=>t.runOutsideAngular(()=>e.handleError(n))}});function Rk(){return Gh(Pt(),Ee())}function Gh(t,e){return new $n(In(t,e))}var $n=(()=>{class t{constructor(n){this.nativeElement=n}static{this.__NG_ELEMENT_ID__=Rk}}return t})();function NC(t){return(t.flags&128)===128}var PC=new Map,xk=0;function Mk(){return xk++}function Nk(t){PC.set(t[Lh],t)}function Zm(t){PC.delete(t[Lh])}var rD="__ngContext__";function Vi(t,e){ki(e)?(t[rD]=e[Lh],Nk(e)):t[rD]=e}function kC(t){return FC(t[Kc])}function OC(t){return FC(t[Vn])}function FC(t){for(;t!==null&&!Br(t);)t=t[Vn];return t}var Jm;function LC(t){Jm=t}function Pk(){if(Jm!==void 0)return Jm;if(typeof document<"u")return document;throw new G(210,!1)}var Wh=new z("",{providedIn:"root",factory:()=>kk}),kk="ng",By=new z(""),gr=new z("",{providedIn:"platform",factory:()=>"unknown"});var w6=new z(""),$y=new z("",{providedIn:"root",factory:()=>Pk().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var Ok="h",Fk="b";var Lk=()=>null;function Hy(t,e,n=!1){return Lk(t,e,n)}var VC=!1,Vk=new z("",{providedIn:"root",factory:()=>VC});var Jd;function jk(){if(Jd===void 0&&(Jd=null,Kt.trustedTypes))try{Jd=Kt.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return Jd}function iD(t){return jk()?.createScriptURL(t)||t}var Eh=class{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${ID})`}};function tu(t){return t instanceof Eh?t.changingThisBreaksApplicationSecurity:t}function zy(t,e){let n=Uk(t);if(n!=null&&n!==e){if(n==="ResourceURL"&&e==="URL")return!0;throw new Error(`Required a safe ${e}, got a ${n} (see ${ID})`)}return n===e}function Uk(t){return t instanceof Eh&&t.getTypeName()||null}var Bk=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function jC(t){return t=String(t),t.match(Bk)?t:"unsafe:"+t}var Kh=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}(Kh||{});function $k(t){let e=BC();return e?e.sanitize(Kh.URL,t)||"":zy(t,"URL")?tu(t):jC(ea(t))}function Hk(t){let e=BC();if(e)return iD(e.sanitize(Kh.RESOURCE_URL,t)||"");if(zy(t,"ResourceURL"))return iD(tu(t));throw new G(904,!1)}function zk(t,e){return e==="src"&&(t==="embed"||t==="frame"||t==="iframe"||t==="media"||t==="script")||e==="href"&&(t==="base"||t==="link")?Hk:$k}function UC(t,e,n){return zk(e,n)(t)}function BC(){let t=Ee();return t&&t[cr].sanitizer}var qk=/^>|^->|<!--|-->|--!>|<!-$/g,Gk=/(<|>)/g,Wk="\u200B$1\u200B";function Kk(t){return t.replace(qk,e=>e.replace(Gk,Wk))}function $C(t){return t instanceof Function?t():t}function Qk(t){return(t??j(Tt)).get(gr)==="browser"}var Vr=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}(Vr||{}),Yk;function qy(t,e){return Yk(t,e)}function Ys(t,e,n,r,i){if(r!=null){let o,s=!1;Br(r)?o=r:ki(r)&&(s=!0,r=r[Ur]);let a=lr(r);t===0&&n!==null?i==null?GC(e,n,a):Dh(e,n,a,i||null,!0):t===1&&n!==null?Dh(e,n,a,i||null,!0):t===2?hO(e,a,s):t===3&&e.destroyNode(a),o!=null&&pO(e,t,o,n,i)}}function Zk(t,e){return t.createText(e)}function Jk(t,e,n){t.setValue(e,n)}function Xk(t,e){return t.createComment(Kk(e))}function HC(t,e,n){return t.createElement(e,n)}function eO(t,e){zC(t,e),e[Ur]=null,e[Bn]=null}function tO(t,e,n,r,i,o){r[Ur]=i,r[Bn]=e,Yh(t,r,n,1,i,o)}function zC(t,e){e[cr].changeDetectionScheduler?.notify(9),Yh(t,e,e[Ze],2,null,null)}function nO(t){let e=t[Kc];if(!e)return Cm(t[he],t);for(;e;){let n=null;if(ki(e))n=e[Kc];else{let r=e[an];r&&(n=r)}if(!n){for(;e&&!e[Vn]&&e!==t;)ki(e)&&Cm(e[he],e),e=e[Ut];e===null&&(e=t),ki(e)&&Cm(e[he],e),n=e&&e[Vn]}e=n}}function rO(t,e,n,r){let i=an+r,o=n.length;r>0&&(n[i-1][Vn]=e),r<o-an?(e[Vn]=n[i],MD(n,an+r,e)):(n.push(e),e[Vn]=null),e[Ut]=n;let s=e[oa];s!==null&&n!==s&&qC(s,e);let a=e[sa];a!==null&&a.insertView(t),Bm(e),e[re]|=128}function qC(t,e){let n=t[ph],r=e[Ut];if(ki(r))t[re]|=gh.HasTransplantedViews;else{let i=r[Ut][ur];e[ur]!==i&&(t[re]|=gh.HasTransplantedViews)}n===null?t[ph]=[e]:n.push(e)}function Gy(t,e){let n=t[ph],r=n.indexOf(e);n.splice(r,1)}function bh(t,e){if(t.length<=an)return;let n=an+e,r=t[n];if(r){let i=r[oa];i!==null&&i!==t&&Gy(i,r),e>0&&(t[n-1][Vn]=r[Vn]);let o=uh(t,an+e);eO(r[he],r);let s=o[sa];s!==null&&s.detachView(o[he]),r[Ut]=null,r[Vn]=null,r[re]&=-129}return r}function Wy(t,e){if(!(e[re]&256)){let n=e[Ze];n.destroyNode&&Yh(t,e,n,3,null,null),nO(e)}}function Cm(t,e){if(e[re]&256)return;let n=Ie(null);try{e[re]&=-129,e[re]|=256,e[wn]&&Xg(e[wn]),oO(t,e),iO(t,e),e[he].type===1&&e[Ze].destroy();let r=e[oa];if(r!==null&&Br(e[Ut])){r!==e[Ut]&&Gy(r,e);let i=e[sa];i!==null&&i.detachView(t)}Zm(e)}finally{Ie(n)}}function iO(t,e){let n=t.cleanup,r=e[hh];if(n!==null)for(let o=0;o<n.length-1;o+=2)if(typeof n[o]=="string"){let s=n[o+3];s>=0?r[s]():r[-s].unsubscribe(),o+=2}else{let s=r[n[o+1]];n[o].call(s)}r!==null&&(e[hh]=null);let i=e[Pi];if(i!==null){e[Pi]=null;for(let o=0;o<i.length;o++){let s=i[o];s()}}}function oO(t,e){let n;if(t!=null&&(n=t.destroyHooks)!=null)for(let r=0;r<n.length;r+=2){let i=e[n[r]];if(!(i instanceof jo)){let o=n[r+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){let a=i[o[s]],u=o[s+1];or(4,a,u);try{u.call(a)}finally{or(5,a,u)}}else{or(4,i,o);try{o.call(i)}finally{or(5,i,o)}}}}}function sO(t,e,n){return aO(t,e.parent,n)}function aO(t,e,n){let r=e;for(;r!==null&&r.type&168;)e=r,r=e.parent;if(r===null)return n[Ur];{let{componentOffset:i}=r;if(i>-1){let{encapsulation:o}=t.data[r.directiveStart+i];if(o===ar.None||o===ar.Emulated)return null}return In(r,n)}}function Dh(t,e,n,r,i){t.insertBefore(e,n,r,i)}function GC(t,e,n){t.appendChild(e,n)}function oD(t,e,n,r,i){r!==null?Dh(t,e,n,r,i):GC(t,e,n)}function WC(t,e){return t.parentNode(e)}function cO(t,e){return t.nextSibling(e)}function uO(t,e,n){return dO(t,e,n)}function lO(t,e,n){return t.type&40?In(t,n):null}var dO=lO,sD;function Qh(t,e,n,r){let i=sO(t,r,e),o=e[Ze],s=r.parent||e[Bn],a=uO(s,r,e);if(i!=null)if(Array.isArray(n))for(let u=0;u<n.length;u++)oD(o,i,n[u],a,!1);else oD(o,i,n,a,!1);sD!==void 0&&sD(o,r,e,n,i)}function Hc(t,e){if(e!==null){let n=e.type;if(n&3)return In(e,t);if(n&4)return Xm(-1,t[e.index]);if(n&8){let r=e.child;if(r!==null)return Hc(t,r);{let i=t[e.index];return Br(i)?Xm(-1,i):lr(i)}}else{if(n&128)return Hc(t,e.next);if(n&32)return qy(e,t)()||lr(t[e.index]);{let r=KC(t,e);if(r!==null){if(Array.isArray(r))return r[0];let i=Lo(t[ur]);return Hc(i,r)}else return Hc(t,e.next)}}}return null}function KC(t,e){if(e!==null){let r=t[ur][Bn],i=e.projection;return r.projection[i]}return null}function Xm(t,e){let n=an+t+1;if(n<e.length){let r=e[n],i=r[he].firstChild;if(i!==null)return Hc(r,i)}return e[Fo]}function hO(t,e,n){t.removeChild(null,e,n)}function Ky(t,e,n,r,i,o,s){for(;n!=null;){if(n.type===128){n=n.next;continue}let a=r[n.index],u=n.type;if(s&&e===0&&(a&&Vi(lr(a),r),n.flags|=2),(n.flags&32)!==32)if(u&8)Ky(t,e,n.child,r,i,o,!1),Ys(e,t,i,a,o);else if(u&32){let d=qy(n,r),p;for(;p=d();)Ys(e,t,i,p,o);Ys(e,t,i,a,o)}else u&16?fO(t,e,r,n,i,o):Ys(e,t,i,a,o);n=s?n.projectionNext:n.next}}function Yh(t,e,n,r,i,o){Ky(n,r,t.firstChild,e,i,o,!1)}function fO(t,e,n,r,i,o){let s=n[ur],u=s[Bn].projection[r.projection];if(Array.isArray(u))for(let d=0;d<u.length;d++){let p=u[d];Ys(e,t,i,p,o)}else{let d=u,p=s[Ut];NC(r)&&(d.flags|=128),Ky(t,e,d,p,i,o,!0)}}function pO(t,e,n,r,i){let o=n[Fo],s=lr(n);o!==s&&Ys(e,t,r,o,i);for(let a=an;a<n.length;a++){let u=n[a];Yh(u[he],u,t,e,r,o)}}function gO(t,e,n,r,i){if(e)i?t.addClass(n,r):t.removeClass(n,r);else{let o=r.indexOf("-")===-1?void 0:Vr.DashCase;i==null?t.removeStyle(n,r,o):(typeof i=="string"&&i.endsWith("!important")&&(i=i.slice(0,-10),o|=Vr.Important),t.setStyle(n,r,i,o))}}function mO(t,e,n){t.setAttribute(e,"style",n)}function QC(t,e,n){n===""?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n)}function YC(t,e,n){let{mergedAttrs:r,classes:i,styles:o}=n;r!==null&&Om(t,e,r),i!==null&&QC(t,e,i),o!==null&&mO(t,e,o)}var bn={};function _6(t=1){ZC(St(),Ee(),Ho()+t,!1)}function ZC(t,e,n,r){if(!r)if((e[re]&3)===3){let o=t.preOrderCheckHooks;o!==null&&rh(e,o,n)}else{let o=t.preOrderHooks;o!==null&&ih(e,o,0,n)}Vo(n)}function W(t,e=de.Default){let n=Ee();if(n===null)return X(t,e);let r=Pt();return CC(r,n,Vt(t),e)}function JC(){let t="invalid";throw new Error(t)}function XC(t,e,n,r,i,o){let s=Ie(null);try{let a=null;i&Oi.SignalBased&&(a=e[r][kr]),a!==null&&a.transformFn!==void 0&&(o=a.transformFn(o)),i&Oi.HasDecoratorInputTransform&&(o=t.inputTransforms[r].call(e,o)),t.setInput!==null?t.setInput(e,a,o,n,r):ZD(e,a,r,o)}finally{Ie(s)}}function yO(t,e){let n=t.hostBindingOpCodes;if(n!==null)try{for(let r=0;r<n.length;r++){let i=n[r];if(i<0)Vo(~i);else{let o=i,s=n[++r],a=n[++r];JP(s,o);let u=e[o];a(2,u)}}}finally{Vo(-1)}}function Zh(t,e,n,r,i,o,s,a,u,d,p){let g=e.blueprint.slice();return g[Ur]=i,g[re]=r|4|128|8|64,(d!==null||t&&t[re]&2048)&&(g[re]|=2048),nC(g),g[Ut]=g[pa]=t,g[_n]=n,g[cr]=s||t&&t[cr],g[Ze]=a||t&&t[Ze],g[ia]=u||t&&t[ia]||null,g[Bn]=o,g[Lh]=Mk(),g[dh]=p,g[QD]=d,g[ur]=e.type==2?t[ur]:g,g}function nu(t,e,n,r,i){let o=t.data[e];if(o===null)o=vO(t,e,n,r,i),ZP()&&(o.flags|=32);else if(o.type&64){o.type=n,o.value=r,o.attrs=i;let s=WP();o.injectorIndex=s===null?-1:s.injectorIndex}return $o(o,!0),o}function vO(t,e,n,r,i){let o=aC(),s=Py(),a=s?o:o&&o.parent,u=t.data[e]=bO(t,a,n,e,r,i);return t.firstChild===null&&(t.firstChild=u),o!==null&&(s?o.child==null&&u.parent!==null&&(o.child=u):o.next===null&&(o.next=u,u.prev=o)),u}function e0(t,e,n,r){if(n===0)return-1;let i=e.length;for(let o=0;o<n;o++)e.push(r),t.blueprint.push(r),t.data.push(null);return i}function t0(t,e,n,r,i){let o=Ho(),s=r&2;try{Vo(-1),s&&e.length>Bt&&ZC(t,e,Bt,!1),or(s?2:0,i),n(r,i)}finally{Vo(o),or(s?3:1,i)}}function Qy(t,e,n){if(Ry(e)){let r=Ie(null);try{let i=e.directiveStart,o=e.directiveEnd;for(let s=i;s<o;s++){let a=t.data[s];if(a.contentQueries){let u=n[s];a.contentQueries(1,u,s)}}}finally{Ie(r)}}}function Yy(t,e,n){sC()&&(RO(t,e,n,In(n,e)),(n.flags&64)===64&&i0(t,e,n))}function Zy(t,e,n=In){let r=e.localNames;if(r!==null){let i=e.index+1;for(let o=0;o<r.length;o+=2){let s=r[o+1],a=s===-1?n(e,t):t[s];t[i++]=a}}}function n0(t){let e=t.tView;return e===null||e.incompleteFirstPass?t.tView=Jy(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):e}function Jy(t,e,n,r,i,o,s,a,u,d,p){let g=Bt+r,_=g+i,b=wO(g,_),M=typeof d=="function"?d():d;return b[he]={type:t,blueprint:b,template:n,queries:null,viewQuery:a,declTNode:e,data:b.slice().fill(null,g),bindingStartIndex:g,expandoStartIndex:_,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof o=="function"?o():o,pipeRegistry:typeof s=="function"?s():s,firstChild:null,schemas:u,consts:M,incompleteFirstPass:!1,ssrId:p}}function wO(t,e){let n=[];for(let r=0;r<e;r++)n.push(r<t?null:bn);return n}function _O(t,e,n,r){let o=r.get(Vk,VC)||n===ar.ShadowDom,s=t.selectRootElement(e,o);return IO(s),s}function IO(t){EO(t)}var EO=()=>null;function bO(t,e,n,r,i,o){let s=e?e.injectorIndex:-1,a=0;return zP()&&(a|=128),{type:n,index:r,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}function aD(t,e,n,r,i){for(let o in e){if(!e.hasOwnProperty(o))continue;let s=e[o];if(s===void 0)continue;r??={};let a,u=Oi.None;Array.isArray(s)?(a=s[0],u=s[1]):a=s;let d=o;if(i!==null){if(!i.hasOwnProperty(o))continue;d=i[o]}t===0?cD(r,n,d,a,u):cD(r,n,d,a)}return r}function cD(t,e,n,r,i){let o;t.hasOwnProperty(n)?(o=t[n]).push(e,r):o=t[n]=[e,r],i!==void 0&&o.push(i)}function DO(t,e,n){let r=e.directiveStart,i=e.directiveEnd,o=t.data,s=e.attrs,a=[],u=null,d=null;for(let p=r;p<i;p++){let g=o[p],_=n?n.get(g):null,b=_?_.inputs:null,M=_?_.outputs:null;u=aD(0,g.inputs,p,u,b),d=aD(1,g.outputs,p,d,M);let O=u!==null&&s!==null&&!Ty(e)?UO(u,p,s):null;a.push(O)}u!==null&&(u.hasOwnProperty("class")&&(e.flags|=8),u.hasOwnProperty("style")&&(e.flags|=16)),e.initialInputs=a,e.inputs=u,e.outputs=d}function CO(t){return t==="class"?"className":t==="for"?"htmlFor":t==="formaction"?"formAction":t==="innerHtml"?"innerHTML":t==="readonly"?"readOnly":t==="tabindex"?"tabIndex":t}function Xy(t,e,n,r,i,o,s,a){let u=In(e,n),d=e.inputs,p;!a&&d!=null&&(p=d[r])?(tv(t,n,p,r,i),Vh(e)&&TO(n,e.index)):e.type&3?(r=CO(r),i=s!=null?s(i,e.value||"",r):i,o.setProperty(u,r,i)):e.type&12}function TO(t,e){let n=Ui(e,t);n[re]&16||(n[re]|=64)}function ev(t,e,n,r){if(sC()){let i=r===null?null:{"":-1},o=MO(t,n),s,a;o===null?s=a=null:[s,a]=o,s!==null&&r0(t,e,n,s,i,a),i&&NO(n,r,i)}n.mergedAttrs=Gc(n.mergedAttrs,n.attrs)}function r0(t,e,n,r,i,o){for(let d=0;d<r.length;d++)qm(wh(n,e),t,r[d].type);kO(n,t.data.length,r.length);for(let d=0;d<r.length;d++){let p=r[d];p.providersResolver&&p.providersResolver(p)}let s=!1,a=!1,u=e0(t,e,r.length,null);for(let d=0;d<r.length;d++){let p=r[d];n.mergedAttrs=Gc(n.mergedAttrs,p.hostAttrs),OO(t,n,e,u,p),PO(u,p,i),p.contentQueries!==null&&(n.flags|=4),(p.hostBindings!==null||p.hostAttrs!==null||p.hostVars!==0)&&(n.flags|=64);let g=p.type.prototype;!s&&(g.ngOnChanges||g.ngOnInit||g.ngDoCheck)&&((t.preOrderHooks??=[]).push(n.index),s=!0),!a&&(g.ngOnChanges||g.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(n.index),a=!0),u++}DO(t,n,o)}function SO(t,e,n,r,i){let o=i.hostBindings;if(o){let s=t.hostBindingOpCodes;s===null&&(s=t.hostBindingOpCodes=[]);let a=~e.index;AO(s)!=a&&s.push(a),s.push(n,r,o)}}function AO(t){let e=t.length;for(;e>0;){let n=t[--e];if(typeof n=="number"&&n<0)return n}return 0}function RO(t,e,n,r){let i=n.directiveStart,o=n.directiveEnd;Vh(n)&&FO(e,n,t.data[i+n.componentOffset]),t.firstCreatePass||wh(n,e),Vi(r,e);let s=n.initialInputs;for(let a=i;a<o;a++){let u=t.data[a],d=ca(e,t,a,n);if(Vi(d,e),s!==null&&jO(e,a-i,d,u,n,s),Li(u)){let p=Ui(n.index,e);p[_n]=ca(e,t,a,n)}}}function i0(t,e,n){let r=n.directiveStart,i=n.directiveEnd,o=n.index,s=XP();try{Vo(o);for(let a=r;a<i;a++){let u=t.data[a],d=e[a];$m(a),(u.hostBindings!==null||u.hostVars!==0||u.hostAttrs!==null)&&xO(u,d)}}finally{Vo(-1),$m(s)}}function xO(t,e){t.hostBindings!==null&&t.hostBindings(1,e)}function MO(t,e){let n=t.directiveRegistry,r=null,i=null;if(n)for(let o=0;o<n.length;o++){let s=n[o];if(dP(e,s.selectors,!1))if(r||(r=[]),Li(s))if(s.findHostDirectiveDefs!==null){let a=[];i=i||new Map,s.findHostDirectiveDefs(s,a,i),r.unshift(...a,s);let u=a.length;ey(t,e,u)}else r.unshift(s),ey(t,e,0);else i=i||new Map,s.findHostDirectiveDefs?.(s,r,i),r.push(s)}return r===null?null:[r,i]}function ey(t,e,n){e.componentOffset=n,(t.components??=[]).push(e.index)}function NO(t,e,n){if(e){let r=t.localNames=[];for(let i=0;i<e.length;i+=2){let o=n[e[i+1]];if(o==null)throw new G(-301,!1);r.push(e[i],o)}}}function PO(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;Li(e)&&(n[""]=t)}}function kO(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}function OO(t,e,n,r,i){t.data[r]=i;let o=i.factory||(i.factory=Oo(i.type,!0)),s=new jo(o,Li(i),W);t.blueprint[r]=s,n[r]=s,SO(t,e,r,e0(t,n,i.hostVars,bn),i)}function FO(t,e,n){let r=In(e,t),i=n0(n),o=t[cr].rendererFactory,s=16;n.signals?s=4096:n.onPush&&(s=64);let a=Jh(t,Zh(t,i,null,s,r,e,null,o.createRenderer(r,n),null,null,null));t[e.index]=a}function LO(t,e,n,r,i,o){let s=In(t,e);VO(e[Ze],s,o,t.value,n,r,i)}function VO(t,e,n,r,i,o,s){if(o==null)t.removeAttribute(e,i,n);else{let a=s==null?ea(o):s(o,r||"",i);t.setAttribute(e,i,a,n)}}function jO(t,e,n,r,i,o){let s=o[e];if(s!==null)for(let a=0;a<s.length;){let u=s[a++],d=s[a++],p=s[a++],g=s[a++];XC(r,n,u,d,p,g)}}function UO(t,e,n){let r=null,i=0;for(;i<n.length;){let o=n[i];if(o===0){i+=4;continue}else if(o===5){i+=2;continue}if(typeof o=="number")break;if(t.hasOwnProperty(o)){r===null&&(r=[]);let s=t[o];for(let a=0;a<s.length;a+=3)if(s[a]===e){r.push(o,s[a+1],s[a+2],n[i+1]);break}}i+=2}return r}function o0(t,e,n,r){return[t,!0,0,e,null,r,null,n,null,null]}function s0(t,e){let n=t.contentQueries;if(n!==null){let r=Ie(null);try{for(let i=0;i<n.length;i+=2){let o=n[i],s=n[i+1];if(s!==-1){let a=t.data[s];dC(o),a.contentQueries(2,e[s],s)}}}finally{Ie(r)}}}function Jh(t,e){return t[Kc]?t[Wb][Vn]=e:t[Kc]=e,t[Wb]=e,e}function ty(t,e,n){dC(0);let r=Ie(null);try{e(t,n)}finally{Ie(r)}}function BO(t){return t[hh]??=[]}function $O(t){return t.cleanup??=[]}function a0(t,e){let n=t[ia],r=n?n.get(Lr,null):null;r&&r.handleError(e)}function tv(t,e,n,r,i){for(let o=0;o<n.length;){let s=n[o++],a=n[o++],u=n[o++],d=e[s],p=t.data[s];XC(p,d,r,a,u,i)}}function c0(t,e,n){let r=tC(e,t);Jk(t[Ze],r,n)}function HO(t,e){let n=Ui(e,t),r=n[he];zO(r,n);let i=n[Ur];i!==null&&n[dh]===null&&(n[dh]=Hy(i,n[ia])),nv(r,n,n[_n])}function zO(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}function nv(t,e,n){ky(e);try{let r=t.viewQuery;r!==null&&ty(1,r,n);let i=t.template;i!==null&&t0(t,e,i,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),e[sa]?.finishViewCreation(t),t.staticContentQueries&&s0(t,e),t.staticViewQueries&&ty(2,t.viewQuery,n);let o=t.components;o!==null&&qO(e,o)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),r}finally{e[re]&=-5,Oy()}}function qO(t,e){for(let n=0;n<e.length;n++)HO(t,e[n])}function u0(t,e,n,r){let i=Ie(null);try{let o=e.tView,a=t[re]&4096?4096:16,u=Zh(t,o,n,a,null,e,null,null,r?.injector??null,r?.embeddedViewInjector??null,r?.dehydratedView??null),d=t[e.index];u[oa]=d;let p=t[sa];return p!==null&&(u[sa]=p.createEmbeddedView(o)),nv(o,u,n),u}finally{Ie(i)}}function GO(t,e){let n=an+e;if(n<t.length)return t[n]}function ny(t,e){return!e||e.firstChild===null||NC(t)}function l0(t,e,n,r=!0){let i=e[he];if(rO(i,e,t,n),r){let s=Xm(n,t),a=e[Ze],u=WC(a,t[Fo]);u!==null&&tO(i,t[Bn],a,e,u,s)}let o=e[dh];o!==null&&o.firstChild!==null&&(o.firstChild=null)}function WO(t,e){let n=bh(t,e);return n!==void 0&&Wy(n[he],n),n}function Ch(t,e,n,r,i=!1){for(;n!==null;){if(n.type===128){n=i?n.projectionNext:n.next;continue}let o=e[n.index];o!==null&&r.push(lr(o)),Br(o)&&KO(o,r);let s=n.type;if(s&8)Ch(t,e,n.child,r);else if(s&32){let a=qy(n,e),u;for(;u=a();)r.push(u)}else if(s&16){let a=KC(e,n);if(Array.isArray(a))r.push(...a);else{let u=Lo(e[ur]);Ch(u[he],u,a,r,!0)}}n=i?n.projectionNext:n.next}return r}function KO(t,e){for(let n=an;n<t.length;n++){let r=t[n],i=r[he].firstChild;i!==null&&Ch(r[he],r,i,e)}t[Fo]!==t[Ur]&&e.push(t[Fo])}var d0=[];function QO(t){return t[wn]??YO(t)}function YO(t){let e=d0.pop()??Object.create(JO);return e.lView=t,e}function ZO(t){t.lView[wn]!==t&&(t.lView=null,d0.push(t))}var JO=ge(B({},Vc),{consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{Bh(t.lView)},consumerOnSignalRead(){this.lView[wn]=this}});function XO(t){let e=t[wn]??Object.create(e1);return e.lView=t,e}var e1=ge(B({},Vc),{consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{let e=Lo(t.lView);for(;e&&!h0(e[he]);)e=Lo(e);e&&rC(e)},consumerOnSignalRead(){this.lView[wn]=this}});function h0(t){return t.type!==2}var t1=100;function f0(t,e=!0,n=0){let r=t[cr],i=r.rendererFactory,o=!1;o||i.begin?.();try{n1(t,n)}catch(s){throw e&&a0(t,s),s}finally{o||(i.end?.(),r.inlineEffectRunner?.flush())}}function n1(t,e){let n=uC();try{Qb(!0),ry(t,e);let r=0;for(;Uh(t);){if(r===t1)throw new G(103,!1);r++,ry(t,1)}}finally{Qb(n)}}function r1(t,e,n,r){let i=e[re];if((i&256)===256)return;let o=!1,s=!1;!o&&e[cr].inlineEffectRunner?.flush(),ky(e);let a=!0,u=null,d=null;o||(h0(t)?(d=QO(e),u=Id(d)):XE()===null?(a=!1,d=XO(e),u=Id(d)):e[wn]&&(Xg(e[wn]),e[wn]=null));try{nC(e),YP(t.bindingStartIndex),n!==null&&t0(t,e,n,2,r);let p=(i&3)===3;if(!o)if(p){let b=t.preOrderCheckHooks;b!==null&&rh(e,b,null)}else{let b=t.preOrderHooks;b!==null&&ih(e,b,0,null),Im(e,0)}if(s||i1(e),p0(e,0),t.contentQueries!==null&&s0(t,e),!o)if(p){let b=t.contentCheckHooks;b!==null&&rh(e,b)}else{let b=t.contentHooks;b!==null&&ih(e,b,1),Im(e,1)}yO(t,e);let g=t.components;g!==null&&m0(e,g,0);let _=t.viewQuery;if(_!==null&&ty(2,_,r),!o)if(p){let b=t.viewCheckHooks;b!==null&&rh(e,b)}else{let b=t.viewHooks;b!==null&&ih(e,b,2),Im(e,2)}if(t.firstUpdatePass===!0&&(t.firstUpdatePass=!1),e[_m]){for(let b of e[_m])b();e[_m]=null}o||(e[re]&=-73)}catch(p){throw o||Bh(e),p}finally{d!==null&&(Zg(d,u),a&&ZO(d)),Oy()}}function p0(t,e){for(let n=kC(t);n!==null;n=OC(n))for(let r=an;r<n.length;r++){let i=n[r];g0(i,e)}}function i1(t){for(let e=kC(t);e!==null;e=OC(e)){if(!(e[re]&gh.HasTransplantedViews))continue;let n=e[ph];for(let r=0;r<n.length;r++){let i=n[r];rC(i)}}}function o1(t,e,n){let r=Ui(e,t);g0(r,n)}function g0(t,e){Ny(t)&&ry(t,e)}function ry(t,e){let r=t[he],i=t[re],o=t[wn],s=!!(e===0&&i&16);if(s||=!!(i&64&&e===0),s||=!!(i&1024),s||=!!(o?.dirty&&Jg(o)),s||=!1,o&&(o.dirty=!1),t[re]&=-9217,s)r1(r,t,r.template,t[_n]);else if(i&8192){p0(t,1);let a=r.components;a!==null&&m0(t,a,1)}}function m0(t,e,n){for(let r=0;r<e.length;r++)o1(t,e[r],n)}function rv(t,e){let n=uC()?64:1088;for(t[cr].changeDetectionScheduler?.notify(e);t;){t[re]|=n;let r=Lo(t);if(jm(t)&&!r)return t;t=r}return null}var Uo=class{get rootNodes(){let e=this._lView,n=e[he];return Ch(n,e,n.firstChild,[])}constructor(e,n,r=!0){this._lView=e,this._cdRefInjectingView=n,this.notifyErrorHandler=r,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[_n]}set context(e){this._lView[_n]=e}get destroyed(){return(this._lView[re]&256)===256}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let e=this._lView[Ut];if(Br(e)){let n=e[fh],r=n?n.indexOf(this):-1;r>-1&&(bh(e,r),uh(n,r))}this._attachedToViewContainer=!1}Wy(this._lView[he],this._lView)}onDestroy(e){iC(this._lView,e)}markForCheck(){rv(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[re]&=-129}reattach(){Bm(this._lView),this._lView[re]|=128}detectChanges(){this._lView[re]|=1024,f0(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new G(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;let e=jm(this._lView),n=this._lView[oa];n!==null&&!e&&Gy(n,this._lView),zC(this._lView[he],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new G(902,!1);this._appRef=e;let n=jm(this._lView),r=this._lView[oa];r!==null&&!n&&qC(r,this._lView),Bm(this._lView)}},Xh=(()=>{class t{static{this.__NG_ELEMENT_ID__=c1}}return t})(),s1=Xh,a1=class extends s1{constructor(e,n,r){super(),this._declarationLView=e,this._declarationTContainer=n,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(e,n){return this.createEmbeddedViewImpl(e,n)}createEmbeddedViewImpl(e,n,r){let i=u0(this._declarationLView,this._declarationTContainer,e,{embeddedViewInjector:n,dehydratedView:r});return new Uo(i)}};function c1(){return y0(Pt(),Ee())}function y0(t,e){return t.type&4?new a1(e,t,Gh(t,e)):null}var E6=new RegExp(`^(\\d+)*(${Fk}|${Ok})*(.*)`);var u1=()=>null;function iy(t,e){return u1(t,e)}var ua=class{},ef=new z("",{providedIn:"root",factory:()=>!1});var v0=new z(""),w0=new z(""),oy=class{},Th=class{};function l1(t){let e=Error(`No component factory found for ${jt(t)}.`);return e[d1]=t,e}var d1="ngComponent";var sy=class{resolveComponentFactory(e){throw l1(e)}},la=class{static{this.NULL=new sy}},da=class{},mr=(()=>{class t{constructor(){this.destroyNode=null}static{this.__NG_ELEMENT_ID__=()=>h1()}}return t})();function h1(){let t=Ee(),e=Pt(),n=Ui(e.index,t);return(ki(n)?n:t)[Ze]}var f1=(()=>{class t{static{this.\u0275prov=K({token:t,providedIn:"root",factory:()=>null})}}return t})();function Sh(t,e,n){let r=n?t.styles:null,i=n?t.classes:null,o=0;if(e!==null)for(let s=0;s<e.length;s++){let a=e[s];if(typeof a=="number")o=a;else if(o==1)i=Lb(i,a);else if(o==2){let u=a,d=e[++s];r=Lb(r,u+": "+d+";")}}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=i:t.classesWithoutHost=i}var Ah=class extends la{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){let n=Fi(e);return new ha(n,this.ngModule)}};function uD(t,e){let n=[];for(let r in t){if(!t.hasOwnProperty(r))continue;let i=t[r];if(i===void 0)continue;let o=Array.isArray(i),s=o?i[0]:i,a=o?i[1]:Oi.None;e?n.push({propName:s,templateName:r,isSignal:(a&Oi.SignalBased)!==0}):n.push({propName:s,templateName:r})}return n}function p1(t){let e=t.toLowerCase();return e==="svg"?FP:e==="math"?LP:null}var ha=class extends Th{get inputs(){let e=this.componentDef,n=e.inputTransforms,r=uD(e.inputs,!0);if(n!==null)for(let i of r)n.hasOwnProperty(i.propName)&&(i.transform=n[i.propName]);return r}get outputs(){return uD(this.componentDef.outputs,!1)}constructor(e,n){super(),this.componentDef=e,this.ngModule=n,this.componentType=e.type,this.selector=gP(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!n}create(e,n,r,i){let o=Ie(null);try{i=i||this.ngModule;let s=i instanceof cn?i:i?.injector;s&&this.componentDef.getStandaloneInjector!==null&&(s=this.componentDef.getStandaloneInjector(s)||s);let a=s?new Hm(e,s):e,u=a.get(da,null);if(u===null)throw new G(407,!1);let d=a.get(f1,null),p=a.get(ua,null),g={rendererFactory:u,sanitizer:d,inlineEffectRunner:null,changeDetectionScheduler:p},_=u.createRenderer(null,this.componentDef),b=this.componentDef.selectors[0][0]||"div",M=r?_O(_,r,this.componentDef.encapsulation,a):HC(_,b,p1(b)),O=512;this.componentDef.signals?O|=4096:this.componentDef.onPush||(O|=16);let k=null;M!==null&&(k=Hy(M,a,!0));let U=Jy(0,null,null,1,0,null,null,null,null,null,null),Q=Zh(null,U,null,O,null,null,g,_,a,null,k);ky(Q);let Z,ce,Oe=null;try{let ee=this.componentDef,S,I=null;ee.findHostDirectiveDefs?(S=[],I=new Map,ee.findHostDirectiveDefs(ee,S,I),S.push(ee)):S=[ee];let E=g1(Q,M);Oe=m1(E,M,ee,S,Q,g,_),ce=xy(U,Bt),M&&w1(_,ee,M,r),n!==void 0&&_1(ce,this.ngContentSelectors,n),Z=v1(Oe,ee,S,I,Q,[I1]),nv(U,Q,null)}catch(ee){throw Oe!==null&&Zm(Oe),Zm(Q),ee}finally{Oy()}return new ay(this.componentType,Z,Gh(ce,Q),Q,ce)}finally{Ie(o)}}},ay=class extends oy{constructor(e,n,r,i,o){super(),this.location=r,this._rootLView=i,this._tNode=o,this.previousInputValues=null,this.instance=n,this.hostView=this.changeDetectorRef=new Uo(i,void 0,!1),this.componentType=e}setInput(e,n){let r=this._tNode.inputs,i;if(r!==null&&(i=r[e])){if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),n))return;let o=this._rootLView;tv(o[he],o,i,e,n),this.previousInputValues.set(e,n);let s=Ui(this._tNode.index,o);rv(s,1)}}get injector(){return new ko(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}};function g1(t,e){let n=t[he],r=Bt;return t[r]=e,nu(n,r,2,"#host",null)}function m1(t,e,n,r,i,o,s){let a=i[he];y1(r,t,e,s);let u=null;e!==null&&(u=Hy(e,i[ia]));let d=o.rendererFactory.createRenderer(e,n),p=16;n.signals?p=4096:n.onPush&&(p=64);let g=Zh(i,n0(n),null,p,i[t.index],t,o,d,null,null,u);return a.firstCreatePass&&ey(a,t,r.length-1),Jh(i,g),i[t.index]=g}function y1(t,e,n,r){for(let i of t)e.mergedAttrs=Gc(e.mergedAttrs,i.hostAttrs);e.mergedAttrs!==null&&(Sh(e,e.mergedAttrs,!0),n!==null&&YC(r,n,e))}function v1(t,e,n,r,i,o){let s=Pt(),a=i[he],u=In(s,i);r0(a,i,s,n,null,r);for(let p=0;p<n.length;p++){let g=s.directiveStart+p,_=ca(i,a,g,s);Vi(_,i)}i0(a,i,s),u&&Vi(u,i);let d=ca(i,a,s.directiveStart+s.componentOffset,s);if(t[_n]=i[_n]=d,o!==null)for(let p of o)p(d,e);return Qy(a,s,i),d}function w1(t,e,n,r){if(r)Om(t,n,["ng-version","18.2.9"]);else{let{attrs:i,classes:o}=mP(e.selectors[0]);i&&Om(t,n,i),o&&o.length>0&&QC(t,n,o.join(" "))}}function _1(t,e,n){let r=t.projection=[];for(let i=0;i<e.length;i++){let o=n[i];r.push(o!=null?Array.from(o):null)}}function I1(){let t=Pt();qh(Ee()[he],t)}var ma=(()=>{class t{static{this.__NG_ELEMENT_ID__=E1}}return t})();function E1(){let t=Pt();return D1(t,Ee())}var b1=ma,_0=class extends b1{constructor(e,n,r){super(),this._lContainer=e,this._hostTNode=n,this._hostLView=r}get element(){return Gh(this._hostTNode,this._hostLView)}get injector(){return new ko(this._hostTNode,this._hostLView)}get parentInjector(){let e=Fy(this._hostTNode,this._hostLView);if(wC(e)){let n=yh(e,this._hostLView),r=mh(e),i=n[he].data[r+8];return new ko(i,n)}else return new ko(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){let n=lD(this._lContainer);return n!==null&&n[e]||null}get length(){return this._lContainer.length-an}createEmbeddedView(e,n,r){let i,o;typeof r=="number"?i=r:r!=null&&(i=r.index,o=r.injector);let s=iy(this._lContainer,e.ssrId),a=e.createEmbeddedViewImpl(n||{},o,s);return this.insertImpl(a,i,ny(this._hostTNode,s)),a}createComponent(e,n,r,i,o){let s=e&&!NP(e),a;if(s)a=n;else{let M=n||{};a=M.index,r=M.injector,i=M.projectableNodes,o=M.environmentInjector||M.ngModuleRef}let u=s?e:new ha(Fi(e)),d=r||this.parentInjector;if(!o&&u.ngModule==null){let O=(s?d:this.parentInjector).get(cn,null);O&&(o=O)}let p=Fi(u.componentType??{}),g=iy(this._lContainer,p?.id??null),_=g?.firstChild??null,b=u.create(d,i,_,o);return this.insertImpl(b.hostView,a,ny(this._hostTNode,g)),b}insert(e,n){return this.insertImpl(e,n,!0)}insertImpl(e,n,r){let i=e._lView;if(VP(i)){let a=this.indexOf(e);if(a!==-1)this.detach(a);else{let u=i[Ut],d=new _0(u,u[Bn],u[Ut]);d.detach(d.indexOf(e))}}let o=this._adjustIndex(n),s=this._lContainer;return l0(s,i,o,r),e.attachToViewContainerRef(),MD(Tm(s),o,e),e}move(e,n){return this.insert(e,n)}indexOf(e){let n=lD(this._lContainer);return n!==null?n.indexOf(e):-1}remove(e){let n=this._adjustIndex(e,-1),r=bh(this._lContainer,n);r&&(uh(Tm(this._lContainer),n),Wy(r[he],r))}detach(e){let n=this._adjustIndex(e,-1),r=bh(this._lContainer,n);return r&&uh(Tm(this._lContainer),n)!=null?new Uo(r):null}_adjustIndex(e,n=0){return e??this.length+n}};function lD(t){return t[fh]}function Tm(t){return t[fh]||(t[fh]=[])}function D1(t,e){let n,r=e[t.index];return Br(r)?n=r:(n=o0(r,e,null,t),e[t.index]=n,Jh(e,n)),T1(n,e,t,r),new _0(n,t,e)}function C1(t,e){let n=t[Ze],r=n.createComment(""),i=In(e,t),o=WC(n,i);return Dh(n,o,r,cO(n,i),!1),r}var T1=R1,S1=()=>!1;function A1(t,e,n){return S1(t,e,n)}function R1(t,e,n,r){if(t[Fo])return;let i;n.type&8?i=lr(r):i=C1(e,n),t[Fo]=i}var dD=new Set;function zo(t){dD.has(t)||(dD.add(t),performance?.mark?.("mark_feature_usage",{detail:{feature:t}}))}function x1(t){return typeof t=="function"&&t[kr]!==void 0}function ya(t,e){zo("NgSignals");let n=lb(t),r=n[kr];return e?.equal&&(r.equal=e.equal),n.set=i=>em(r,i),n.update=i=>db(r,i),n.asReadonly=M1.bind(n),n}function M1(){let t=this[kr];if(t.readonlyFn===void 0){let e=()=>this();e[kr]=t,t.readonlyFn=e}return t.readonlyFn}function I0(t){return x1(t)&&typeof t.set=="function"}function N1(t){return Object.getPrototypeOf(t.prototype).constructor}function pt(t){let e=N1(t.type),n=!0,r=[t];for(;e;){let i;if(Li(t))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new G(903,!1);i=e.\u0275dir}if(i){if(n){r.push(i);let s=t;s.inputs=Xd(t.inputs),s.inputTransforms=Xd(t.inputTransforms),s.declaredInputs=Xd(t.declaredInputs),s.outputs=Xd(t.outputs);let a=i.hostBindings;a&&L1(t,a);let u=i.viewQuery,d=i.contentQueries;if(u&&O1(t,u),d&&F1(t,d),P1(t,i),LN(t.outputs,i.outputs),Li(i)&&i.data.animation){let p=t.data;p.animation=(p.animation||[]).concat(i.data.animation)}}let o=i.features;if(o)for(let s=0;s<o.length;s++){let a=o[s];a&&a.ngInherit&&a(t),a===pt&&(n=!1)}}e=Object.getPrototypeOf(e)}k1(r)}function P1(t,e){for(let n in e.inputs){if(!e.inputs.hasOwnProperty(n)||t.inputs.hasOwnProperty(n))continue;let r=e.inputs[n];if(r!==void 0&&(t.inputs[n]=r,t.declaredInputs[n]=e.declaredInputs[n],e.inputTransforms!==null)){let i=Array.isArray(r)?r[0]:r;if(!e.inputTransforms.hasOwnProperty(i))continue;t.inputTransforms??={},t.inputTransforms[i]=e.inputTransforms[i]}}}function k1(t){let e=0,n=null;for(let r=t.length-1;r>=0;r--){let i=t[r];i.hostVars=e+=i.hostVars,i.hostAttrs=Gc(i.hostAttrs,n=Gc(n,i.hostAttrs))}}function Xd(t){return t===ta?{}:t===vn?[]:t}function O1(t,e){let n=t.viewQuery;n?t.viewQuery=(r,i)=>{e(r,i),n(r,i)}:t.viewQuery=e}function F1(t,e){let n=t.contentQueries;n?t.contentQueries=(r,i,o)=>{e(r,i,o),n(r,i,o)}:t.contentQueries=e}function L1(t,e){let n=t.hostBindings;n?t.hostBindings=(r,i)=>{e(r,i),n(r,i)}:t.hostBindings=e}function iv(t){let e=t.inputConfig,n={};for(let r in e)if(e.hasOwnProperty(r)){let i=e[r];Array.isArray(i)&&i[3]&&(n[r]=i[3])}t.inputTransforms=n}var ji=class{},Qc=class{};var cy=class extends ji{constructor(e,n,r,i=!0){super(),this.ngModuleType=e,this._parent=n,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new Ah(this);let o=BD(e);this._bootstrapComponents=$C(o.bootstrap),this._r3Injector=AC(e,n,[{provide:ji,useValue:this},{provide:la,useValue:this.componentFactoryResolver},...r],jt(e),new Set(["environment"])),i&&this.resolveInjectorInitializers()}resolveInjectorInitializers(){this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(this.ngModuleType)}get injector(){return this._r3Injector}destroy(){let e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}},uy=class extends Qc{constructor(e){super(),this.moduleType=e}create(e){return new cy(this.moduleType,e,[])}};var Rh=class extends ji{constructor(e){super(),this.componentFactoryResolver=new Ah(this),this.instance=null;let n=new Wc([...e.providers,{provide:ji,useValue:this},{provide:la,useValue:this.componentFactoryResolver}],e.parent||Ay(),e.debugName,new Set(["environment"]));this.injector=n,e.runEnvironmentInitializers&&n.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}};function tf(t,e,n=null){return new Rh({providers:t,parent:e,debugName:n,runEnvironmentInitializers:!0}).injector}function E0(t){return j1(t)?Array.isArray(t)||!(t instanceof Map)&&Symbol.iterator in t:!1}function V1(t,e){if(Array.isArray(t))for(let n=0;n<t.length;n++)e(t[n]);else{let n=t[Symbol.iterator](),r;for(;!(r=n.next()).done;)e(r.value)}}function j1(t){return t!==null&&(typeof t=="function"||typeof t=="object")}function nf(t,e,n){return t[e]=n}function U1(t,e){return t[e]}function dr(t,e,n){let r=t[e];return Object.is(r,n)?!1:(t[e]=n,!0)}function ov(t,e,n,r){let i=dr(t,e,n);return dr(t,e+1,r)||i}function B1(t,e,n,r,i){let o=ov(t,e,n,r);return dr(t,e+2,i)||o}function $1(t){return(t.flags&32)===32}function H1(t,e,n,r,i,o,s,a,u){let d=e.consts,p=nu(e,t,4,s||null,a||null);ev(e,n,p,aa(d,u)),qh(e,p);let g=p.tView=Jy(2,p,r,i,o,e.directiveRegistry,e.pipeRegistry,null,e.schemas,d,null);return e.queries!==null&&(e.queries.template(e,p),g.queries=e.queries.embeddedTView(p)),p}function z1(t,e,n,r,i,o,s,a,u,d){let p=n+Bt,g=e.firstCreatePass?H1(p,e,t,r,i,o,s,a,u):e.data[p];$o(g,!1);let _=q1(e,t,g,n);Hh()&&Qh(e,t,_,g),Vi(_,t);let b=o0(_,t,_,g);return t[p]=b,Jh(t,b),A1(b,g,t),jh(g)&&Yy(e,t,g),u!=null&&Zy(t,g,d),g}function sv(t,e,n,r,i,o,s,a){let u=Ee(),d=St(),p=aa(d.consts,o);return z1(u,d,t,e,n,r,i,p,s,a),sv}var q1=G1;function G1(t,e,n,r){return zh(!0),e[Ze].createComment("")}var Zs=function(t){return t[t.EarlyRead=0]="EarlyRead",t[t.Write=1]="Write",t[t.MixedReadWrite=2]="MixedReadWrite",t[t.Read=3]="Read",t}(Zs||{}),b0=(()=>{class t{constructor(){this.impl=null}execute(){this.impl?.execute()}static{this.\u0275prov=K({token:t,providedIn:"root",factory:()=>new t})}}return t})(),ly=class t{constructor(){this.ngZone=j(De),this.scheduler=j(ua),this.errorHandler=j(Lr,{optional:!0}),this.sequences=new Set,this.deferredRegistrations=new Set,this.executing=!1}static{this.PHASES=[Zs.EarlyRead,Zs.Write,Zs.MixedReadWrite,Zs.Read]}execute(){this.executing=!0;for(let e of t.PHASES)for(let n of this.sequences)if(!(n.erroredOrDestroyed||!n.hooks[e]))try{n.pipelinedValue=this.ngZone.runOutsideAngular(()=>n.hooks[e](n.pipelinedValue))}catch(r){n.erroredOrDestroyed=!0,this.errorHandler?.handleError(r)}this.executing=!1;for(let e of this.sequences)e.afterRun(),e.once&&(this.sequences.delete(e),e.destroy());for(let e of this.deferredRegistrations)this.sequences.add(e);this.deferredRegistrations.size>0&&this.scheduler.notify(7),this.deferredRegistrations.clear()}register(e){this.executing?this.deferredRegistrations.add(e):(this.sequences.add(e),this.scheduler.notify(6))}unregister(e){this.executing&&this.sequences.has(e)?(e.erroredOrDestroyed=!0,e.pipelinedValue=void 0,e.once=!0):(this.sequences.delete(e),this.deferredRegistrations.delete(e))}static{this.\u0275prov=K({token:t,providedIn:"root",factory:()=>new t})}},dy=class{constructor(e,n,r,i){this.impl=e,this.hooks=n,this.once=r,this.erroredOrDestroyed=!1,this.pipelinedValue=void 0,this.unregisterOnDestroy=i?.onDestroy(()=>this.destroy())}afterRun(){this.erroredOrDestroyed=!1,this.pipelinedValue=void 0}destroy(){this.impl.unregister(this),this.unregisterOnDestroy?.()}};function av(t,e){!e?.injector&&MP(av);let n=e?.injector??j(Tt);return Qk(n)?(zo("NgAfterNextRender"),K1(t,n,e,!0)):Q1}function W1(t,e){if(t instanceof Function){let n=[void 0,void 0,void 0,void 0];return n[e]=t,n}else return[t.earlyRead,t.write,t.mixedReadWrite,t.read]}function K1(t,e,n,r){let i=e.get(b0);i.impl??=e.get(ly);let o=n?.phase??Zs.MixedReadWrite,s=n?.manualCleanup!==!0?e.get(Vy):null,a=new dy(i.impl,W1(t,o),r,s);return i.impl.register(a),a}var Q1={destroy(){}};function va(t,e,n,r){let i=Ee(),o=eu();if(dr(i,o,e)){let s=St(),a=$h();LO(a,i,t,e,n,r)}return va}function D0(t,e,n,r){return dr(t,eu(),n)?e+ea(n)+r:bn}function Y1(t,e,n,r,i,o){let s=QP(),a=ov(t,s,n,i);return lC(2),a?e+ea(n)+r+ea(i)+o:bn}function eh(t,e){return t<<17|e<<2}function Bo(t){return t>>17&32767}function Z1(t){return(t&2)==2}function J1(t,e){return t&131071|e<<17}function hy(t){return t|2}function fa(t){return(t&131068)>>2}function Sm(t,e){return t&-131069|e<<2}function X1(t){return(t&1)===1}function fy(t){return t|1}function eF(t,e,n,r,i,o){let s=o?e.classBindings:e.styleBindings,a=Bo(s),u=fa(s);t[r]=n;let d=!1,p;if(Array.isArray(n)){let g=n;p=g[1],(p===null||Jc(g,p)>0)&&(d=!0)}else p=n;if(i)if(u!==0){let _=Bo(t[a+1]);t[r+1]=eh(_,a),_!==0&&(t[_+1]=Sm(t[_+1],r)),t[a+1]=J1(t[a+1],r)}else t[r+1]=eh(a,0),a!==0&&(t[a+1]=Sm(t[a+1],r)),a=r;else t[r+1]=eh(u,0),a===0?a=r:t[u+1]=Sm(t[u+1],r),u=r;d&&(t[r+1]=hy(t[r+1])),hD(t,p,r,!0),hD(t,p,r,!1),tF(e,p,t,r,o),s=eh(a,u),o?e.classBindings=s:e.styleBindings=s}function tF(t,e,n,r,i){let o=i?t.residualClasses:t.residualStyles;o!=null&&typeof e=="string"&&Jc(o,e)>=0&&(n[r+1]=fy(n[r+1]))}function hD(t,e,n,r){let i=t[n+1],o=e===null,s=r?Bo(i):fa(i),a=!1;for(;s!==0&&(a===!1||o);){let u=t[s],d=t[s+1];nF(u,e)&&(a=!0,t[s+1]=r?fy(d):hy(d)),s=r?Bo(d):fa(d)}a&&(t[n+1]=r?hy(i):fy(i))}function nF(t,e){return t===null||e==null||(Array.isArray(t)?t[1]:t)===e?!0:Array.isArray(t)&&typeof e=="string"?Jc(t,e)>=0:!1}function cv(t,e,n){let r=Ee(),i=eu();if(dr(r,i,e)){let o=St(),s=$h();Xy(o,s,r,t,e,r[Ze],n,!1)}return cv}function fD(t,e,n,r,i){let o=e.inputs,s=i?"class":"style";tv(t,n,o[s],s,r)}function rf(t,e){return rF(t,e,null,!0),rf}function rF(t,e,n,r){let i=Ee(),o=St(),s=lC(2);if(o.firstUpdatePass&&oF(o,t,s,r),e!==bn&&dr(i,s,e)){let a=o.data[Ho()];lF(o,a,i,i[Ze],t,i[s+1]=dF(e,n),r,s)}}function iF(t,e){return e>=t.expandoStartIndex}function oF(t,e,n,r){let i=t.data;if(i[n+1]===null){let o=i[Ho()],s=iF(t,n);hF(o,r)&&e===null&&!s&&(e=!1),e=sF(i,o,e,r),eF(i,o,e,n,s,r)}}function sF(t,e,n,r){let i=ek(t),o=r?e.residualClasses:e.residualStyles;if(i===null)(r?e.classBindings:e.styleBindings)===0&&(n=Am(null,t,e,n,r),n=Yc(n,e.attrs,r),o=null);else{let s=e.directiveStylingLast;if(s===-1||t[s]!==i)if(n=Am(i,t,e,n,r),o===null){let u=aF(t,e,r);u!==void 0&&Array.isArray(u)&&(u=Am(null,t,e,u[1],r),u=Yc(u,e.attrs,r),cF(t,e,r,u))}else o=uF(t,e,r)}return o!==void 0&&(r?e.residualClasses=o:e.residualStyles=o),n}function aF(t,e,n){let r=n?e.classBindings:e.styleBindings;if(fa(r)!==0)return t[Bo(r)]}function cF(t,e,n,r){let i=n?e.classBindings:e.styleBindings;t[Bo(i)]=r}function uF(t,e,n){let r,i=e.directiveEnd;for(let o=1+e.directiveStylingLast;o<i;o++){let s=t[o].hostAttrs;r=Yc(r,s,n)}return Yc(r,e.attrs,n)}function Am(t,e,n,r,i){let o=null,s=n.directiveEnd,a=n.directiveStylingLast;for(a===-1?a=n.directiveStart:a++;a<s&&(o=e[a],r=Yc(r,o.hostAttrs,i),o!==t);)a++;return t!==null&&(n.directiveStylingLast=a),r}function Yc(t,e,n){let r=n?1:2,i=-1;if(e!==null)for(let o=0;o<e.length;o++){let s=e[o];typeof s=="number"?i=s:i===r&&(Array.isArray(t)||(t=t===void 0?[]:["",t]),rP(t,s,n?!0:e[++o]))}return t===void 0?null:t}function lF(t,e,n,r,i,o,s,a){if(!(e.type&3))return;let u=t.data,d=u[a+1],p=X1(d)?pD(u,e,n,i,fa(d),s):void 0;if(!xh(p)){xh(o)||Z1(d)&&(o=pD(u,null,n,i,a,s));let g=tC(Ho(),n);gO(r,s,g,i,o)}}function pD(t,e,n,r,i,o){let s=e===null,a;for(;i>0;){let u=t[i],d=Array.isArray(u),p=d?u[1]:u,g=p===null,_=n[i+1];_===bn&&(_=g?vn:void 0);let b=g?vm(_,r):p===r?_:void 0;if(d&&!xh(b)&&(b=vm(u,r)),xh(b)&&(a=b,s))return a;let M=t[i+1];i=s?Bo(M):fa(M)}if(e!==null){let u=o?e.residualClasses:e.residualStyles;u!=null&&(a=vm(u,r))}return a}function xh(t){return t!==void 0}function dF(t,e){return t==null||t===""||(typeof e=="string"?t=t+e:typeof t=="object"&&(t=jt(tu(t)))),t}function hF(t,e){return(t.flags&(e?8:16))!==0}function D6(t,e){zo("NgControlFlow");let n=Ee(),r=eu(),i=n[r]!==bn?n[r]:-1,o=i!==-1?gD(n,Bt+i):void 0,s=0;if(dr(n,r,t)){let a=Ie(null);try{if(o!==void 0&&WO(o,s),t!==-1){let u=Bt+t,d=gD(n,u),p=fF(n[he],u),g=iy(d,p.tView.ssrId),_=u0(n,p,e,{dehydratedView:g});l0(d,_,s,ny(p,g))}}finally{Ie(a)}}else if(o!==void 0){let a=GO(o,s);a!==void 0&&(a[_n]=e)}}function gD(t,e){return t[e]}function fF(t,e){return xy(t,e)}function pF(t,e,n,r,i,o){let s=e.consts,a=aa(s,i),u=nu(e,t,2,r,a);return ev(e,n,u,aa(s,o)),u.attrs!==null&&Sh(u,u.attrs,!1),u.mergedAttrs!==null&&Sh(u,u.mergedAttrs,!0),e.queries!==null&&e.queries.elementStart(e,u),u}function ru(t,e,n,r){let i=Ee(),o=St(),s=Bt+t,a=i[Ze],u=o.firstCreatePass?pF(s,o,i,e,n,r):o.data[s],d=gF(o,i,u,a,e,t);i[s]=d;let p=jh(u);return $o(u,!0),YC(a,d,u),!$1(u)&&Hh()&&Qh(o,i,d,u),BP()===0&&Vi(d,i),$P(),p&&(Yy(o,i,u),Qy(o,u,i)),r!==null&&Zy(i,u),ru}function of(){let t=Pt();Py()?cC():(t=t.parent,$o(t,!1));let e=t;qP(e)&&GP(),HP();let n=St();return n.firstCreatePass&&(qh(n,t),Ry(t)&&n.queries.elementEnd(t)),e.classesWithoutHost!=null&&ak(e)&&fD(n,e,Ee(),e.classesWithoutHost,!0),e.stylesWithoutHost!=null&&ck(e)&&fD(n,e,Ee(),e.stylesWithoutHost,!1),of}function iu(t,e,n,r){return ru(t,e,n,r),of(),iu}var gF=(t,e,n,r,i,o)=>(zh(!0),HC(r,i,rk()));function mF(t,e,n,r,i){let o=e.consts,s=aa(o,r),a=nu(e,t,8,"ng-container",s);s!==null&&Sh(a,s,!0);let u=aa(o,i);return ev(e,n,a,u),e.queries!==null&&e.queries.elementStart(e,a),a}function yF(t,e,n){let r=Ee(),i=St(),o=t+Bt,s=i.firstCreatePass?mF(o,i,r,e,n):i.data[o];$o(s,!0);let a=wF(i,r,s,t);return r[o]=a,Hh()&&Qh(i,r,a,s),Vi(a,r),jh(s)&&(Yy(i,r,s),Qy(i,s,r)),n!=null&&Zy(r,s),yF}function vF(){let t=Pt(),e=St();return Py()?cC():(t=t.parent,$o(t,!1)),e.firstCreatePass&&(qh(e,t),Ry(t)&&e.queries.elementEnd(t)),vF}var wF=(t,e,n,r)=>(zh(!0),Xk(e[Ze],""));function C6(){return Ee()}var Po=void 0;function _F(t){let e=t,n=Math.floor(Math.abs(t)),r=t.toString().replace(/^[^.]*\.?/,"").length;return n===1&&r===0?1:5}var IF=["en",[["a","p"],["AM","PM"],Po],[["AM","PM"],Po,Po],[["S","M","T","W","T","F","S"],["Sun","Mon","Tue","Wed","Thu","Fri","Sat"],["Sunday","Monday","Tuesday","Wednesday","Thursday","Friday","Saturday"],["Su","Mo","Tu","We","Th","Fr","Sa"]],Po,[["J","F","M","A","M","J","J","A","S","O","N","D"],["Jan","Feb","Mar","Apr","May","Jun","Jul","Aug","Sep","Oct","Nov","Dec"],["January","February","March","April","May","June","July","August","September","October","November","December"]],Po,[["B","A"],["BC","AD"],["Before Christ","Anno Domini"]],0,[6,0],["M/d/yy","MMM d, y","MMMM d, y","EEEE, MMMM d, y"],["h:mm a","h:mm:ss a","h:mm:ss a z","h:mm:ss a zzzz"],["{1}, {0}",Po,"{1} 'at' {0}",Po],[".",",",";","%","+","-","E","\xD7","\u2030","\u221E","NaN",":"],["#,##0.###","#,##0%","\xA4#,##0.00","#E0"],"USD","$","US Dollar",{},"ltr",_F],Rm={};function Dn(t){let e=EF(t),n=mD(e);if(n)return n;let r=e.split("-")[0];if(n=mD(r),n)return n;if(r==="en")return IF;throw new G(701,!1)}function mD(t){return t in Rm||(Rm[t]=Kt.ng&&Kt.ng.common&&Kt.ng.common.locales&&Kt.ng.common.locales[t]),Rm[t]}var Je=function(t){return t[t.LocaleId=0]="LocaleId",t[t.DayPeriodsFormat=1]="DayPeriodsFormat",t[t.DayPeriodsStandalone=2]="DayPeriodsStandalone",t[t.DaysFormat=3]="DaysFormat",t[t.DaysStandalone=4]="DaysStandalone",t[t.MonthsFormat=5]="MonthsFormat",t[t.MonthsStandalone=6]="MonthsStandalone",t[t.Eras=7]="Eras",t[t.FirstDayOfWeek=8]="FirstDayOfWeek",t[t.WeekendRange=9]="WeekendRange",t[t.DateFormat=10]="DateFormat",t[t.TimeFormat=11]="TimeFormat",t[t.DateTimeFormat=12]="DateTimeFormat",t[t.NumberSymbols=13]="NumberSymbols",t[t.NumberFormats=14]="NumberFormats",t[t.CurrencyCode=15]="CurrencyCode",t[t.CurrencySymbol=16]="CurrencySymbol",t[t.CurrencyName=17]="CurrencyName",t[t.Currencies=18]="Currencies",t[t.Directionality=19]="Directionality",t[t.PluralCase=20]="PluralCase",t[t.ExtraData=21]="ExtraData",t}(Je||{});function EF(t){return t.toLowerCase().replace(/_/g,"-")}var Mh="en-US";var bF=Mh;function DF(t){typeof t=="string"&&(bF=t.toLowerCase().replace(/_/g,"-"))}var CF=(t,e,n)=>{};function Hn(t,e,n,r){let i=Ee(),o=St(),s=Pt();return C0(o,i,i[Ze],s,t,e,r),Hn}function TF(t,e,n,r){let i=t.cleanup;if(i!=null)for(let o=0;o<i.length-1;o+=2){let s=i[o];if(s===n&&i[o+1]===r){let a=e[hh],u=i[o+2];return a.length>u?a[u]:null}typeof s=="string"&&(o+=2)}return null}function C0(t,e,n,r,i,o,s){let a=jh(r),d=t.firstCreatePass&&$O(t),p=e[_n],g=BO(e),_=!0;if(r.type&3||s){let O=In(r,e),k=s?s(O):O,U=g.length,Q=s?ce=>s(lr(ce[r.index])):r.index,Z=null;if(!s&&a&&(Z=TF(t,e,i,r.index)),Z!==null){let ce=Z.__ngLastListenerFn__||Z;ce.__ngNextListenerFn__=o,Z.__ngLastListenerFn__=o,_=!1}else{o=vD(r,e,p,o),CF(O,i,o);let ce=n.listen(k,i,o);g.push(o,ce),d&&d.push(i,Q,U,U+1)}}else o=vD(r,e,p,o);let b=r.outputs,M;if(_&&b!==null&&(M=b[i])){let O=M.length;if(O)for(let k=0;k<O;k+=2){let U=M[k],Q=M[k+1],Oe=e[U][Q].subscribe(o),ee=g.length;g.push(o,Oe),d&&d.push(i,r.index,ee,-(ee+1))}}}function yD(t,e,n,r){let i=Ie(null);try{return or(6,e,n),n(r)!==!1}catch(o){return a0(t,o),!1}finally{or(7,e,n),Ie(i)}}function vD(t,e,n,r){return function i(o){if(o===Function)return r;let s=t.componentOffset>-1?Ui(t.index,e):e;rv(s,5);let a=yD(e,n,r,o),u=i.__ngNextListenerFn__;for(;u;)a=yD(e,n,u,o)&&a,u=u.__ngNextListenerFn__;return a}}function T6(t=1){return nk(t)}function SF(t,e,n,r,i){let o=Ee(),s=D0(o,e,n,r);if(s!==bn){let a=St(),u=$h();Xy(a,u,o,t,s,o[Ze],i,!1)}return SF}function AF(t,e,n,r){n>=t.data.length&&(t.data[n]=null,t.blueprint[n]=null),e[n]=r}function S6(t){let e=KP();return My(e,Bt+t)}function T0(t,e=""){let n=Ee(),r=St(),i=t+Bt,o=r.firstCreatePass?nu(r,i,1,e,null):r.data[i],s=RF(r,n,o,e,t);n[i]=s,Hh()&&Qh(r,n,s,o),$o(o,!1)}var RF=(t,e,n,r,i)=>(zh(!0),Zk(e[Ze],r));function xF(t){return S0("",t,""),xF}function S0(t,e,n){let r=Ee(),i=D0(r,t,e,n);return i!==bn&&c0(r,Ho(),i),S0}function MF(t,e,n,r,i){let o=Ee(),s=Y1(o,t,e,n,r,i);return s!==bn&&c0(o,Ho(),s),MF}function NF(t,e,n){I0(e)&&(e=e());let r=Ee(),i=eu();if(dr(r,i,e)){let o=St(),s=$h();Xy(o,s,r,t,e,r[Ze],n,!1)}return NF}function A6(t,e){let n=I0(t);return n&&t.set(e),n}function PF(t,e){let n=Ee(),r=St(),i=Pt();return C0(r,n,n[Ze],i,t,e),PF}function kF(t,e,n){let r=St();if(r.firstCreatePass){let i=Li(t);py(n,r.data,r.blueprint,i,!0),py(e,r.data,r.blueprint,i,!1)}}function py(t,e,n,r,i){if(t=Vt(t),Array.isArray(t))for(let o=0;o<t.length;o++)py(t[o],e,n,r,i);else{let o=St(),s=Ee(),a=Pt(),u=ra(t)?t:Vt(t.provide),d=WD(t),p=a.providerIndexes&1048575,g=a.directiveStart,_=a.providerIndexes>>20;if(ra(t)||!t.multi){let b=new jo(d,i,W),M=Mm(u,e,i?p:p+_,g);M===-1?(qm(wh(a,s),o,u),xm(o,t,e.length),e.push(u),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(b),s.push(b)):(n[M]=b,s[M]=b)}else{let b=Mm(u,e,p+_,g),M=Mm(u,e,p,p+_),O=b>=0&&n[b],k=M>=0&&n[M];if(i&&!k||!i&&!O){qm(wh(a,s),o,u);let U=LF(i?FF:OF,n.length,i,r,d);!i&&k&&(n[M].providerFactory=U),xm(o,t,e.length,0),e.push(u),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(U),s.push(U)}else{let U=A0(n[i?M:b],d,!i&&r);xm(o,t,b>-1?b:M,U)}!i&&r&&k&&n[M].componentProviders++}}}function xm(t,e,n,r){let i=ra(e),o=DP(e);if(i||o){let u=(o?Vt(e.useClass):e).prototype.ngOnDestroy;if(u){let d=t.destroyHooks||(t.destroyHooks=[]);if(!i&&e.multi){let p=d.indexOf(n);p===-1?d.push(n,[r,u]):d[p+1].push(r,u)}else d.push(n,u)}}}function A0(t,e,n){return n&&t.componentProviders++,t.multi.push(e)-1}function Mm(t,e,n,r){for(let i=n;i<r;i++)if(e[i]===t)return i;return-1}function OF(t,e,n,r){return gy(this.multi,[])}function FF(t,e,n,r){let i=this.multi,o;if(this.providerFactory){let s=this.providerFactory.componentProviders,a=ca(n,n[he],this.providerFactory.index,r);o=a.slice(0,s),gy(i,o);for(let u=s;u<a.length;u++)o.push(a[u])}else o=[],gy(i,o);return o}function gy(t,e){for(let n=0;n<t.length;n++){let r=t[n];e.push(r())}return e}function LF(t,e,n,r,i){let o=new jo(t,n,W);return o.multi=[],o.index=e,o.componentProviders=0,A0(o,i,r&&!n),o}function Qt(t,e=[]){return n=>{n.providersResolver=(r,i)=>kF(r,i?i(t):t,e)}}var VF=(()=>{class t{constructor(n){this._injector=n,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(n){if(!n.standalone)return null;if(!this.cachedInjectors.has(n)){let r=zD(!1,n.type),i=r.length>0?tf([r],this._injector,`Standalone[${n.type.name}]`):null;this.cachedInjectors.set(n,i)}return this.cachedInjectors.get(n)}ngOnDestroy(){try{for(let n of this.cachedInjectors.values())n!==null&&n.destroy()}finally{this.cachedInjectors.clear()}}static{this.\u0275prov=K({token:t,providedIn:"environment",factory:()=>new t(X(cn))})}}return t})();function sf(t){zo("NgStandalone"),t.getStandaloneInjector=e=>e.get(VF).getOrCreateStandaloneInjector(t)}function R6(t,e,n){let r=Xc()+t,i=Ee();return i[r]===bn?nf(i,r,n?e.call(n):e()):U1(i,r)}function x6(t,e,n,r){return jF(Ee(),Xc(),t,e,n,r)}function M6(t,e,n,r,i){return R0(Ee(),Xc(),t,e,n,r,i)}function uv(t,e){let n=t[e];return n===bn?void 0:n}function jF(t,e,n,r,i,o){let s=e+n;return dr(t,s,i)?nf(t,s+1,o?r.call(o,i):r(i)):uv(t,s+1)}function R0(t,e,n,r,i,o,s){let a=e+n;return ov(t,a,i,o)?nf(t,a+2,s?r.call(s,i,o):r(i,o)):uv(t,a+2)}function UF(t,e,n,r,i,o,s,a){let u=e+n;return B1(t,u,i,o,s)?nf(t,u+3,a?r.call(a,i,o,s):r(i,o,s)):uv(t,u+3)}function N6(t,e){let n=St(),r,i=t+Bt;n.firstCreatePass?(r=BF(e,n.pipeRegistry),n.data[i]=r,r.onDestroy&&(n.destroyHooks??=[]).push(i,r.onDestroy)):r=n.data[i];let o=r.factory||(r.factory=Oo(r.type,!0)),s,a=Wt(W);try{let u=vh(!1),d=o();return vh(u),AF(n,Ee(),i,d),d}finally{Wt(a)}}function BF(t,e){if(e)for(let n=e.length-1;n>=0;n--){let r=e[n];if(t===r.name)return r}}function P6(t,e,n,r){let i=t+Bt,o=Ee(),s=My(o,i);return x0(o,i)?R0(o,Xc(),e,s.transform,n,r,s):s.transform(n,r)}function k6(t,e,n,r,i){let o=t+Bt,s=Ee(),a=My(s,o);return x0(s,o)?UF(s,Xc(),e,a.transform,n,r,i,a):a.transform(n,r,i)}function x0(t,e){return t[he].data[e].pure}function O6(t,e){return y0(t,e)}var jr=class{constructor(e){this.full=e;let n=e.split(".");this.major=n[0],this.minor=n[1],this.patch=n.slice(2).join(".")}},M0=new jr("18.2.9");var af=(()=>{class t{log(n){console.log(n)}warn(n){console.warn(n)}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=K({token:t,factory:t.\u0275fac,providedIn:"platform"})}}return t})();var lv=new z(""),ou=new z(""),cf=(()=>{class t{constructor(n,r,i){this._ngZone=n,this.registry=r,this._isZoneStable=!0,this._callbacks=[],this.taskTrackingZone=null,dv||($F(i),i.addToWindow(r)),this._watchAngularEvents(),n.run(()=>{this.taskTrackingZone=typeof Zone>"u"?null:Zone.current.get("TaskTrackingZone")})}_watchAngularEvents(){this._ngZone.onUnstable.subscribe({next:()=>{this._isZoneStable=!1}}),this._ngZone.runOutsideAngular(()=>{this._ngZone.onStable.subscribe({next:()=>{De.assertNotInAngularZone(),queueMicrotask(()=>{this._isZoneStable=!0,this._runCallbacksIfReady()})}})})}isStable(){return this._isZoneStable&&!this._ngZone.hasPendingMacrotasks}_runCallbacksIfReady(){if(this.isStable())queueMicrotask(()=>{for(;this._callbacks.length!==0;){let n=this._callbacks.pop();clearTimeout(n.timeoutId),n.doneCb()}});else{let n=this.getPendingTasks();this._callbacks=this._callbacks.filter(r=>r.updateCb&&r.updateCb(n)?(clearTimeout(r.timeoutId),!1):!0)}}getPendingTasks(){return this.taskTrackingZone?this.taskTrackingZone.macroTasks.map(n=>({source:n.source,creationLocation:n.creationLocation,data:n.data})):[]}addCallback(n,r,i){let o=-1;r&&r>0&&(o=setTimeout(()=>{this._callbacks=this._callbacks.filter(s=>s.timeoutId!==o),n()},r)),this._callbacks.push({doneCb:n,timeoutId:o,updateCb:i})}whenStable(n,r,i){if(i&&!this.taskTrackingZone)throw new Error('Task tracking zone is required when passing an update callback to whenStable(). Is "zone.js/plugins/task-tracking" loaded?');this.addCallback(n,r,i),this._runCallbacksIfReady()}registerApplication(n){this.registry.registerApplication(n,this)}unregisterApplication(n){this.registry.unregisterApplication(n)}findProviders(n,r,i){return[]}static{this.\u0275fac=function(r){return new(r||t)(X(De),X(uf),X(ou))}}static{this.\u0275prov=K({token:t,factory:t.\u0275fac})}}return t})(),uf=(()=>{class t{constructor(){this._applications=new Map}registerApplication(n,r){this._applications.set(n,r)}unregisterApplication(n){this._applications.delete(n)}unregisterAllApplications(){this._applications.clear()}getTestability(n){return this._applications.get(n)||null}getAllTestabilities(){return Array.from(this._applications.values())}getAllRootElements(){return Array.from(this._applications.keys())}findTestabilityInTree(n,r=!0){return dv?.findTestabilityInTree(this,n,r)??null}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=K({token:t,factory:t.\u0275fac,providedIn:"platform"})}}return t})();function $F(t){dv=t}var dv;function qo(t){return!!t&&typeof t.then=="function"}function N0(t){return!!t&&typeof t.subscribe=="function"}var lf=new z(""),P0=(()=>{class t{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((n,r)=>{this.resolve=n,this.reject=r}),this.appInits=j(lf,{optional:!0})??[]}runInitializers(){if(this.initialized)return;let n=[];for(let i of this.appInits){let o=i();if(qo(o))n.push(o);else if(N0(o)){let s=new Promise((a,u)=>{o.subscribe({complete:a,error:u})});n.push(s)}}let r=()=>{this.done=!0,this.resolve()};Promise.all(n).then(()=>{r()}).catch(i=>{this.reject(i)}),n.length===0&&r(),this.initialized=!0}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=K({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),df=new z("");function HF(){ub(()=>{throw new G(600,!1)})}function zF(t){return t.isBoundToModule}var qF=10;function GF(t,e,n){try{let r=n();return qo(r)?r.catch(i=>{throw e.runOutsideAngular(()=>t.handleError(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>t.handleError(r)),r}}var Bi=(()=>{class t{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=j(Ak),this.afterRenderManager=j(b0),this.zonelessEnabled=j(ef),this.dirtyFlags=0,this.deferredDirtyFlags=0,this.externalTestViews=new Set,this.beforeRender=new wt,this.afterTick=new wt,this.componentTypes=[],this.components=[],this.isStable=j(ga).hasPendingTasks.pipe(le(n=>!n)),this._injector=j(cn)}get allViews(){return[...this.externalTestViews.keys(),...this._views]}get destroyed(){return this._destroyed}whenStable(){let n;return new Promise(r=>{n=this.isStable.subscribe({next:i=>{i&&r()}})}).finally(()=>{n.unsubscribe()})}get injector(){return this._injector}bootstrap(n,r){let i=n instanceof Th;if(!this._injector.get(P0).done){let _=!i&&UD(n),b=!1;throw new G(405,b)}let s;i?s=n:s=this._injector.get(la).resolveComponentFactory(n),this.componentTypes.push(s.componentType);let a=zF(s)?void 0:this._injector.get(ji),u=r||s.selector,d=s.create(Tt.NULL,[],u,a),p=d.location.nativeElement,g=d.injector.get(lv,null);return g?.registerApplication(p),d.onDestroy(()=>{this.detachView(d.hostView),oh(this.components,d),g?.unregisterApplication(p)}),this._loadComponent(d),d}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick(){if(this._runningTick)throw new G(101,!1);let n=Ie(null);try{this._runningTick=!0,this.synchronize()}catch(r){this.internalErrorHandler(r)}finally{this._runningTick=!1,Ie(n),this.afterTick.next()}}synchronize(){let n=null;this._injector.destroyed||(n=this._injector.get(da,null,{optional:!0})),this.dirtyFlags|=this.deferredDirtyFlags,this.deferredDirtyFlags=0;let r=0;for(;this.dirtyFlags!==0&&r++<qF;)this.synchronizeOnce(n)}synchronizeOnce(n){if(this.dirtyFlags|=this.deferredDirtyFlags,this.deferredDirtyFlags=0,this.dirtyFlags&7){let r=!!(this.dirtyFlags&1);this.dirtyFlags&=-8,this.dirtyFlags|=8,this.beforeRender.next(r);for(let{_lView:i,notifyErrorHandler:o}of this._views)WF(i,o,r,this.zonelessEnabled);if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),this.dirtyFlags&7)return}else n?.begin?.(),n?.end?.();this.dirtyFlags&8&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){if(this.allViews.some(({_lView:n})=>Uh(n))){this.dirtyFlags|=2;return}else this.dirtyFlags&=-8}attachView(n){let r=n;this._views.push(r),r.attachToAppRef(this)}detachView(n){let r=n;oh(this._views,r),r.detachFromAppRef()}_loadComponent(n){this.attachView(n.hostView),this.tick(),this.components.push(n);let r=this._injector.get(df,[]);[...this._bootstrapListeners,...r].forEach(i=>i(n))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(n=>n()),this._views.slice().forEach(n=>n.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(n){return this._destroyListeners.push(n),()=>oh(this._destroyListeners,n)}destroy(){if(this._destroyed)throw new G(406,!1);let n=this._injector;n.destroy&&!n.destroyed&&n.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=K({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function oh(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function WF(t,e,n,r){if(!n&&!Uh(t))return;f0(t,e,n&&!r?0:1)}var my=class{constructor(e,n){this.ngModuleFactory=e,this.componentFactories=n}},hf=(()=>{class t{compileModuleSync(n){return new uy(n)}compileModuleAsync(n){return Promise.resolve(this.compileModuleSync(n))}compileModuleAndAllComponentsSync(n){let r=this.compileModuleSync(n),i=BD(n),o=$C(i.declarations).reduce((s,a)=>{let u=Fi(a);return u&&s.push(new ha(u)),s},[]);return new my(r,o)}compileModuleAndAllComponentsAsync(n){return Promise.resolve(this.compileModuleAndAllComponentsSync(n))}clearCache(){}clearCacheFor(n){}getModuleId(n){}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=K({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();var KF=(()=>{class t{constructor(){this.zone=j(De),this.changeDetectionScheduler=j(ua),this.applicationRef=j(Bi)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=K({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),QF=new z("",{factory:()=>!1});function k0({ngZoneFactory:t,ignoreChangesOutsideZone:e,scheduleInRootZone:n}){return t??=()=>new De(ge(B({},O0()),{scheduleInRootZone:n})),[{provide:De,useFactory:t},{provide:na,multi:!0,useFactory:()=>{let r=j(KF,{optional:!0});return()=>r.initialize()}},{provide:na,multi:!0,useFactory:()=>{let r=j(YF);return()=>{r.initialize()}}},e===!0?{provide:v0,useValue:!0}:[],{provide:w0,useValue:n??RC}]}function F6(t){let e=t?.ignoreChangesOutsideZone,n=t?.scheduleInRootZone,r=k0({ngZoneFactory:()=>{let i=O0(t);return i.scheduleInRootZone=n,i.shouldCoalesceEventChangeDetection&&zo("NgZone_CoalesceEvent"),new De(i)},ignoreChangesOutsideZone:e,scheduleInRootZone:n});return hr([{provide:QF,useValue:!0},{provide:ef,useValue:!1},r])}function O0(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:t?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:t?.runCoalescing??!1}}var YF=(()=>{class t{constructor(){this.subscription=new We,this.initialized=!1,this.zone=j(De),this.pendingTasks=j(ga)}initialize(){if(this.initialized)return;this.initialized=!0;let n=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(n=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{De.assertNotInAngularZone(),queueMicrotask(()=>{n!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(n),n=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{De.assertInAngularZone(),n??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=K({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();var ZF=(()=>{class t{constructor(){this.appRef=j(Bi),this.taskService=j(ga),this.ngZone=j(De),this.zonelessEnabled=j(ef),this.disableScheduling=j(v0,{optional:!0})??!1,this.zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run,this.schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}],this.subscriptions=new We,this.angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(Ih):null,this.scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&(j(w0,{optional:!0})??!1),this.cancelScheduledCallback=null,this.useMicrotaskScheduler=!1,this.runningTick=!1,this.pendingRenderTaskId=null,this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof Ym||!this.zoneIsDefined)}notify(n){if(!this.zonelessEnabled&&n===5)return;switch(n){case 0:{this.appRef.dirtyFlags|=2;break}case 3:case 2:case 4:case 5:case 1:{this.appRef.dirtyFlags|=4;break}case 7:{this.appRef.deferredDirtyFlags|=8;break}case 9:case 8:case 6:case 10:default:this.appRef.dirtyFlags|=8}if(!this.shouldScheduleTick())return;let r=this.useMicrotaskScheduler?eD:xC;this.pendingRenderTaskId=this.taskService.add(),this.scheduleInRootZone?this.cancelScheduledCallback=Zone.root.run(()=>r(()=>this.tick())):this.cancelScheduledCallback=this.ngZone.runOutsideAngular(()=>r(()=>this.tick()))}shouldScheduleTick(){return!(this.disableScheduling||this.pendingRenderTaskId!==null||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(Ih+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;!this.zonelessEnabled&&this.appRef.dirtyFlags&7&&(this.appRef.dirtyFlags|=1);let n=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(r){throw this.taskService.remove(n),r}finally{this.cleanup()}this.useMicrotaskScheduler=!0,eD(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(n)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,this.pendingRenderTaskId!==null){let n=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(n)}}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=K({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function JF(){return typeof $localize<"u"&&$localize.locale||Mh}var ff=new z("",{providedIn:"root",factory:()=>j(ff,de.Optional|de.SkipSelf)||JF()});var yy=new z("");function th(t){return!t.moduleRef}function XF(t){let e=th(t)?t.r3Injector:t.moduleRef.injector,n=e.get(De);return n.run(()=>{th(t)?t.r3Injector.resolveInjectorInitializers():t.moduleRef.resolveInjectorInitializers();let r=e.get(Lr,null),i;if(n.runOutsideAngular(()=>{i=n.onError.subscribe({next:o=>{r.handleError(o)}})}),th(t)){let o=()=>e.destroy(),s=t.platformInjector.get(yy);s.add(o),e.onDestroy(()=>{i.unsubscribe(),s.delete(o)})}else{let o=()=>t.moduleRef.destroy(),s=t.platformInjector.get(yy);s.add(o),t.moduleRef.onDestroy(()=>{oh(t.allPlatformModules,t.moduleRef),i.unsubscribe(),s.delete(o)})}return GF(r,n,()=>{let o=e.get(P0);return o.runInitializers(),o.donePromise.then(()=>{let s=e.get(ff,Mh);if(DF(s||Mh),th(t)){let a=e.get(Bi);return t.rootComponent!==void 0&&a.bootstrap(t.rootComponent),a}else return eL(t.moduleRef,t.allPlatformModules),t.moduleRef})})})}function eL(t,e){let n=t.injector.get(Bi);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(r=>n.bootstrap(r));else if(t.instance.ngDoBootstrap)t.instance.ngDoBootstrap(n);else throw new G(-403,!1);e.push(t)}var sh=null;function tL(t=[],e){return Tt.create({name:e,providers:[{provide:Fh,useValue:"platform"},{provide:yy,useValue:new Set([()=>sh=null])},...t]})}function nL(t=[]){if(sh)return sh;let e=tL(t);return sh=e,HF(),rL(e),e}function rL(t){t.get(By,null)?.forEach(n=>n())}var Go=(()=>{class t{static{this.__NG_ELEMENT_ID__=iL}}return t})();function iL(t){return oL(Pt(),Ee(),(t&16)===16)}function oL(t,e,n){if(Vh(t)&&!n){let r=Ui(t.index,e);return new Uo(r,r)}else if(t.type&175){let r=e[ur];return new Uo(r,e)}return null}var vy=class{constructor(){}supports(e){return E0(e)}create(e){return new wy(e)}},sL=(t,e)=>e,wy=class{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||sL}forEachItem(e){let n;for(n=this._itHead;n!==null;n=n._next)e(n)}forEachOperation(e){let n=this._itHead,r=this._removalsHead,i=0,o=null;for(;n||r;){let s=!r||n&&n.currentIndex<wD(r,i,o)?n:r,a=wD(s,i,o),u=s.currentIndex;if(s===r)i--,r=r._nextRemoved;else if(n=n._next,s.previousIndex==null)i++;else{o||(o=[]);let d=a-i,p=u-i;if(d!=p){for(let _=0;_<d;_++){let b=_<o.length?o[_]:o[_]=0,M=b+_;p<=M&&M<d&&(o[_]=b+1)}let g=s.previousIndex;o[g]=p-d}}a!==u&&e(s,a,u)}}forEachPreviousItem(e){let n;for(n=this._previousItHead;n!==null;n=n._nextPrevious)e(n)}forEachAddedItem(e){let n;for(n=this._additionsHead;n!==null;n=n._nextAdded)e(n)}forEachMovedItem(e){let n;for(n=this._movesHead;n!==null;n=n._nextMoved)e(n)}forEachRemovedItem(e){let n;for(n=this._removalsHead;n!==null;n=n._nextRemoved)e(n)}forEachIdentityChange(e){let n;for(n=this._identityChangesHead;n!==null;n=n._nextIdentityChange)e(n)}diff(e){if(e==null&&(e=[]),!E0(e))throw new G(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let n=this._itHead,r=!1,i,o,s;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)o=e[a],s=this._trackByFn(a,o),n===null||!Object.is(n.trackById,s)?(n=this._mismatch(n,o,s,a),r=!0):(r&&(n=this._verifyReinsertion(n,o,s,a)),Object.is(n.item,o)||this._addIdentityChange(n,o)),n=n._next}else i=0,V1(e,a=>{s=this._trackByFn(i,a),n===null||!Object.is(n.trackById,s)?(n=this._mismatch(n,a,s,i),r=!0):(r&&(n=this._verifyReinsertion(n,a,s,i)),Object.is(n.item,a)||this._addIdentityChange(n,a)),n=n._next,i++}),this.length=i;return this._truncate(n),this.collection=e,this.isDirty}get isDirty(){return this._additionsHead!==null||this._movesHead!==null||this._removalsHead!==null||this._identityChangesHead!==null}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;e!==null;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;e!==null;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;e!==null;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,n,r,i){let o;return e===null?o=this._itTail:(o=e._prev,this._remove(e)),e=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null),e!==null?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._reinsertAfter(e,o,i)):(e=this._linkedRecords===null?null:this._linkedRecords.get(r,i),e!==null?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._moveAfter(e,o,i)):e=this._addAfter(new _y(n,r),o,i)),e}_verifyReinsertion(e,n,r,i){let o=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null);return o!==null?e=this._reinsertAfter(o,e._prev,i):e.currentIndex!=i&&(e.currentIndex=i,this._addToMoves(e,i)),e}_truncate(e){for(;e!==null;){let n=e._next;this._addToRemovals(this._unlink(e)),e=n}this._unlinkedRecords!==null&&this._unlinkedRecords.clear(),this._additionsTail!==null&&(this._additionsTail._nextAdded=null),this._movesTail!==null&&(this._movesTail._nextMoved=null),this._itTail!==null&&(this._itTail._next=null),this._removalsTail!==null&&(this._removalsTail._nextRemoved=null),this._identityChangesTail!==null&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,n,r){this._unlinkedRecords!==null&&this._unlinkedRecords.remove(e);let i=e._prevRemoved,o=e._nextRemoved;return i===null?this._removalsHead=o:i._nextRemoved=o,o===null?this._removalsTail=i:o._prevRemoved=i,this._insertAfter(e,n,r),this._addToMoves(e,r),e}_moveAfter(e,n,r){return this._unlink(e),this._insertAfter(e,n,r),this._addToMoves(e,r),e}_addAfter(e,n,r){return this._insertAfter(e,n,r),this._additionsTail===null?this._additionsTail=this._additionsHead=e:this._additionsTail=this._additionsTail._nextAdded=e,e}_insertAfter(e,n,r){let i=n===null?this._itHead:n._next;return e._next=i,e._prev=n,i===null?this._itTail=e:i._prev=e,n===null?this._itHead=e:n._next=e,this._linkedRecords===null&&(this._linkedRecords=new Nh),this._linkedRecords.put(e),e.currentIndex=r,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){this._linkedRecords!==null&&this._linkedRecords.remove(e);let n=e._prev,r=e._next;return n===null?this._itHead=r:n._next=r,r===null?this._itTail=n:r._prev=n,e}_addToMoves(e,n){return e.previousIndex===n||(this._movesTail===null?this._movesTail=this._movesHead=e:this._movesTail=this._movesTail._nextMoved=e),e}_addToRemovals(e){return this._unlinkedRecords===null&&(this._unlinkedRecords=new Nh),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,this._removalsTail===null?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,n){return e.item=n,this._identityChangesTail===null?this._identityChangesTail=this._identityChangesHead=e:this._identityChangesTail=this._identityChangesTail._nextIdentityChange=e,e}},_y=class{constructor(e,n){this.item=e,this.trackById=n,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}},Iy=class{constructor(){this._head=null,this._tail=null}add(e){this._head===null?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,n){let r;for(r=this._head;r!==null;r=r._nextDup)if((n===null||n<=r.currentIndex)&&Object.is(r.trackById,e))return r;return null}remove(e){let n=e._prevDup,r=e._nextDup;return n===null?this._head=r:n._nextDup=r,r===null?this._tail=n:r._prevDup=n,this._head===null}},Nh=class{constructor(){this.map=new Map}put(e){let n=e.trackById,r=this.map.get(n);r||(r=new Iy,this.map.set(n,r)),r.add(e)}get(e,n){let r=e,i=this.map.get(r);return i?i.get(e,n):null}remove(e){let n=e.trackById;return this.map.get(n).remove(e)&&this.map.delete(n),e}get isEmpty(){return this.map.size===0}clear(){this.map.clear()}};function wD(t,e,n){let r=t.previousIndex;if(r===null)return r;let i=0;return n&&r<n.length&&(i=n[r]),r+e+i}function _D(){return new hv([new vy])}var hv=(()=>{class t{static{this.\u0275prov=K({token:t,providedIn:"root",factory:_D})}constructor(n){this.factories=n}static create(n,r){if(r!=null){let i=r.factories.slice();n=n.concat(i)}return new t(n)}static extend(n){return{provide:t,useFactory:r=>t.create(n,r||_D()),deps:[[t,new Dy,new Nt]]}}find(n){let r=this.factories.find(i=>i.supports(n));if(r!=null)return r;throw new G(901,!1)}}return t})();var F0=(()=>{class t{constructor(n){}static{this.\u0275fac=function(r){return new(r||t)(X(Bi))}}static{this.\u0275mod=Un({type:t})}static{this.\u0275inj=jn({})}}return t})();function L0(t){try{let{rootComponent:e,appProviders:n,platformProviders:r}=t,i=nL(r),o=[k0({}),{provide:ua,useExisting:ZF},...n||[]],s=new Rh({providers:o,parent:i,debugName:"",runEnvironmentInitializers:!1});return XF({r3Injector:s.injector,platformInjector:i,rootComponent:e})}catch(e){return Promise.reject(e)}}function $i(t){return typeof t=="boolean"?t:t!=null&&t!=="false"}function wa(t,e){zo("NgSignals");let n=sb(t);return e?.equal&&(n[kr].equal=e.equal),n}function yr(t){let e=Ie(null);try{return t()}finally{Ie(e)}}function V0(t){let e=Fi(t);if(!e)return null;let n=new ha(e);return{get selector(){return n.selector},get type(){return n.componentType},get inputs(){return n.inputs},get outputs(){return n.outputs},get ngContentSelectors(){return n.ngContentSelectors},get isStandalone(){return e.standalone},get isSignal(){return e.signals}}}var q0=null;function vr(){return q0}function G0(t){q0??=t}var Ef=class{};var Yt=new z(""),Iv=(()=>{class t{historyGo(n){throw new Error("")}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=K({token:t,factory:()=>j(aL),providedIn:"platform"})}}return t})(),W0=new z(""),aL=(()=>{class t extends Iv{constructor(){super(),this._doc=j(Yt),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return vr().getBaseHref(this._doc)}onPopState(n){let r=vr().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",n,!1),()=>r.removeEventListener("popstate",n)}onHashChange(n){let r=vr().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",n,!1),()=>r.removeEventListener("hashchange",n)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(n){this._location.pathname=n}pushState(n,r,i){this._history.pushState(n,r,i)}replaceState(n,r,i){this._history.replaceState(n,r,i)}forward(){this._history.forward()}back(){this._history.back()}historyGo(n=0){this._history.go(n)}getState(){return this._history.state}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=K({token:t,factory:()=>new t,providedIn:"platform"})}}return t})();function Ev(t,e){if(t.length==0)return e;if(e.length==0)return t;let n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,n==2?t+e.substring(1):n==1?t+e:t+"/"+e}function j0(t){let e=t.match(/#|\?|$/),n=e&&e.index||t.length,r=n-(t[n-1]==="/"?1:0);return t.slice(0,r)+t.slice(n)}function Hr(t){return t&&t[0]!=="?"?"?"+t:t}var qr=(()=>{class t{historyGo(n){throw new Error("")}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=K({token:t,factory:()=>j(bv),providedIn:"root"})}}return t})(),K0=new z(""),bv=(()=>{class t extends qr{constructor(n,r){super(),this._platformLocation=n,this._removeListenerFns=[],this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??j(Yt).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}prepareExternalUrl(n){return Ev(this._baseHref,n)}path(n=!1){let r=this._platformLocation.pathname+Hr(this._platformLocation.search),i=this._platformLocation.hash;return i&&n?`${r}${i}`:r}pushState(n,r,i,o){let s=this.prepareExternalUrl(i+Hr(o));this._platformLocation.pushState(n,r,s)}replaceState(n,r,i,o){let s=this.prepareExternalUrl(i+Hr(o));this._platformLocation.replaceState(n,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}static{this.\u0275fac=function(r){return new(r||t)(X(Iv),X(K0,8))}}static{this.\u0275prov=K({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),Q0=(()=>{class t extends qr{constructor(n,r){super(),this._platformLocation=n,this._baseHref="",this._removeListenerFns=[],r!=null&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}path(n=!1){let r=this._platformLocation.hash??"#";return r.length>0?r.substring(1):r}prepareExternalUrl(n){let r=Ev(this._baseHref,n);return r.length>0?"#"+r:r}pushState(n,r,i,o){let s=this.prepareExternalUrl(i+Hr(o));s.length==0&&(s=this._platformLocation.pathname),this._platformLocation.pushState(n,r,s)}replaceState(n,r,i,o){let s=this.prepareExternalUrl(i+Hr(o));s.length==0&&(s=this._platformLocation.pathname),this._platformLocation.replaceState(n,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}static{this.\u0275fac=function(r){return new(r||t)(X(Iv),X(K0,8))}}static{this.\u0275prov=K({token:t,factory:t.\u0275fac})}}return t})(),_a=(()=>{class t{constructor(n){this._subject=new Ke,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=n;let r=this._locationStrategy.getBaseHref();this._basePath=lL(j0(U0(r))),this._locationStrategy.onPopState(i=>{this._subject.emit({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(n=!1){return this.normalize(this._locationStrategy.path(n))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(n,r=""){return this.path()==this.normalize(n+Hr(r))}normalize(n){return t.stripTrailingSlash(uL(this._basePath,U0(n)))}prepareExternalUrl(n){return n&&n[0]!=="/"&&(n="/"+n),this._locationStrategy.prepareExternalUrl(n)}go(n,r="",i=null){this._locationStrategy.pushState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+Hr(r)),i)}replaceState(n,r="",i=null){this._locationStrategy.replaceState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+Hr(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(n=0){this._locationStrategy.historyGo?.(n)}onUrlChange(n){return this._urlChangeListeners.push(n),this._urlChangeSubscription??=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}),()=>{let r=this._urlChangeListeners.indexOf(n);this._urlChangeListeners.splice(r,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(n="",r){this._urlChangeListeners.forEach(i=>i(n,r))}subscribe(n,r,i){return this._subject.subscribe({next:n,error:r,complete:i})}static{this.normalizeQueryParams=Hr}static{this.joinWithSlash=Ev}static{this.stripTrailingSlash=j0}static{this.\u0275fac=function(r){return new(r||t)(X(qr))}}static{this.\u0275prov=K({token:t,factory:()=>cL(),providedIn:"root"})}}return t})();function cL(){return new _a(X(qr))}function uL(t,e){if(!t||!e.startsWith(t))return e;let n=e.substring(t.length);return n===""||["/",";","?","#"].includes(n[0])?n:e}function U0(t){return t.replace(/\/index.html$/,"")}function lL(t){if(new RegExp("^(https?:)?//").test(t)){let[,n]=t.split(/\/\/[^\/]+/);return n}return t}var $t=function(t){return t[t.Format=0]="Format",t[t.Standalone=1]="Standalone",t}($t||{}),Ve=function(t){return t[t.Narrow=0]="Narrow",t[t.Abbreviated=1]="Abbreviated",t[t.Wide=2]="Wide",t[t.Short=3]="Short",t}(Ve||{}),un=function(t){return t[t.Short=0]="Short",t[t.Medium=1]="Medium",t[t.Long=2]="Long",t[t.Full=3]="Full",t}(un||{}),Hi={Decimal:0,Group:1,List:2,PercentSign:3,PlusSign:4,MinusSign:5,Exponential:6,SuperscriptingExponent:7,PerMille:8,Infinity:9,NaN:10,TimeSeparator:11,CurrencyDecimal:12,CurrencyGroup:13};function dL(t){return Dn(t)[Je.LocaleId]}function hL(t,e,n){let r=Dn(t),i=[r[Je.DayPeriodsFormat],r[Je.DayPeriodsStandalone]],o=Cn(i,e);return Cn(o,n)}function fL(t,e,n){let r=Dn(t),i=[r[Je.DaysFormat],r[Je.DaysStandalone]],o=Cn(i,e);return Cn(o,n)}function pL(t,e,n){let r=Dn(t),i=[r[Je.MonthsFormat],r[Je.MonthsStandalone]],o=Cn(i,e);return Cn(o,n)}function gL(t,e){let r=Dn(t)[Je.Eras];return Cn(r,e)}function pf(t,e){let n=Dn(t);return Cn(n[Je.DateFormat],e)}function gf(t,e){let n=Dn(t);return Cn(n[Je.TimeFormat],e)}function mf(t,e){let r=Dn(t)[Je.DateTimeFormat];return Cn(r,e)}function Cf(t,e){let n=Dn(t),r=n[Je.NumberSymbols][e];if(typeof r>"u"){if(e===Hi.CurrencyDecimal)return n[Je.NumberSymbols][Hi.Decimal];if(e===Hi.CurrencyGroup)return n[Je.NumberSymbols][Hi.Group]}return r}function Y0(t){if(!t[Je.ExtraData])throw new Error(`Missing extra locale data for the locale "${t[Je.LocaleId]}". Use "registerLocaleData" to load new data. See the "I18n guide" on angular.io to know more.`)}function mL(t){let e=Dn(t);return Y0(e),(e[Je.ExtraData][2]||[]).map(r=>typeof r=="string"?fv(r):[fv(r[0]),fv(r[1])])}function yL(t,e,n){let r=Dn(t);Y0(r);let i=[r[Je.ExtraData][0],r[Je.ExtraData][1]],o=Cn(i,e)||[];return Cn(o,n)||[]}function Cn(t,e){for(let n=e;n>-1;n--)if(typeof t[n]<"u")return t[n];throw new Error("Locale data API: locale data undefined")}function fv(t){let[e,n]=t.split(":");return{hours:+e,minutes:+n}}var vL=/^(\d{4,})-?(\d\d)-?(\d\d)(?:T(\d\d)(?::?(\d\d)(?::?(\d\d)(?:\.(\d+))?)?)?(Z|([+-])(\d\d):?(\d\d))?)?$/,yf={},wL=/((?:[^BEGHLMOSWYZabcdhmswyz']+)|(?:'(?:[^']|'')*')|(?:G{1,5}|y{1,4}|Y{1,4}|M{1,5}|L{1,5}|w{1,2}|W{1}|d{1,2}|E{1,6}|c{1,6}|a{1,5}|b{1,5}|B{1,5}|h{1,2}|H{1,2}|m{1,2}|s{1,2}|S{1,3}|z{1,4}|Z{1,5}|O{1,4}))([\s\S]*)/,zr=function(t){return t[t.Short=0]="Short",t[t.ShortGMT=1]="ShortGMT",t[t.Long=2]="Long",t[t.Extended=3]="Extended",t}(zr||{}),Re=function(t){return t[t.FullYear=0]="FullYear",t[t.Month=1]="Month",t[t.Date=2]="Date",t[t.Hours=3]="Hours",t[t.Minutes=4]="Minutes",t[t.Seconds=5]="Seconds",t[t.FractionalSeconds=6]="FractionalSeconds",t[t.Day=7]="Day",t}(Re||{}),Ae=function(t){return t[t.DayPeriods=0]="DayPeriods",t[t.Days=1]="Days",t[t.Months=2]="Months",t[t.Eras=3]="Eras",t}(Ae||{});function _L(t,e,n,r){let i=RL(t);e=$r(n,e)||e;let s=[],a;for(;e;)if(a=wL.exec(e),a){s=s.concat(a.slice(1));let p=s.pop();if(!p)break;e=p}else{s.push(e);break}let u=i.getTimezoneOffset();r&&(u=J0(r,u),i=AL(i,r,!0));let d="";return s.forEach(p=>{let g=TL(p);d+=g?g(i,n,u):p==="''"?"'":p.replace(/(^'|'$)/g,"").replace(/''/g,"'")}),d}function bf(t,e,n){let r=new Date(0);return r.setFullYear(t,e,n),r.setHours(0,0,0),r}function $r(t,e){let n=dL(t);if(yf[n]??={},yf[n][e])return yf[n][e];let r="";switch(e){case"shortDate":r=pf(t,un.Short);break;case"mediumDate":r=pf(t,un.Medium);break;case"longDate":r=pf(t,un.Long);break;case"fullDate":r=pf(t,un.Full);break;case"shortTime":r=gf(t,un.Short);break;case"mediumTime":r=gf(t,un.Medium);break;case"longTime":r=gf(t,un.Long);break;case"fullTime":r=gf(t,un.Full);break;case"short":let i=$r(t,"shortTime"),o=$r(t,"shortDate");r=vf(mf(t,un.Short),[i,o]);break;case"medium":let s=$r(t,"mediumTime"),a=$r(t,"mediumDate");r=vf(mf(t,un.Medium),[s,a]);break;case"long":let u=$r(t,"longTime"),d=$r(t,"longDate");r=vf(mf(t,un.Long),[u,d]);break;case"full":let p=$r(t,"fullTime"),g=$r(t,"fullDate");r=vf(mf(t,un.Full),[p,g]);break}return r&&(yf[n][e]=r),r}function vf(t,e){return e&&(t=t.replace(/\{([^}]+)}/g,function(n,r){return e!=null&&r in e?e[r]:n})),t}function zn(t,e,n="-",r,i){let o="";(t<0||i&&t<=0)&&(i?t=-t+1:(t=-t,o=n));let s=String(t);for(;s.length<e;)s="0"+s;return r&&(s=s.slice(s.length-e)),o+s}function IL(t,e){return zn(t,3).substring(0,e)}function it(t,e,n=0,r=!1,i=!1){return function(o,s){let a=EL(t,o);if((n>0||a>-n)&&(a+=n),t===Re.Hours)a===0&&n===-12&&(a=12);else if(t===Re.FractionalSeconds)return IL(a,e);let u=Cf(s,Hi.MinusSign);return zn(a,e,u,r,i)}}function EL(t,e){switch(t){case Re.FullYear:return e.getFullYear();case Re.Month:return e.getMonth();case Re.Date:return e.getDate();case Re.Hours:return e.getHours();case Re.Minutes:return e.getMinutes();case Re.Seconds:return e.getSeconds();case Re.FractionalSeconds:return e.getMilliseconds();case Re.Day:return e.getDay();default:throw new Error(`Unknown DateType value "${t}".`)}}function je(t,e,n=$t.Format,r=!1){return function(i,o){return bL(i,o,t,e,n,r)}}function bL(t,e,n,r,i,o){switch(n){case Ae.Months:return pL(e,i,r)[t.getMonth()];case Ae.Days:return fL(e,i,r)[t.getDay()];case Ae.DayPeriods:let s=t.getHours(),a=t.getMinutes();if(o){let d=mL(e),p=yL(e,i,r),g=d.findIndex(_=>{if(Array.isArray(_)){let[b,M]=_,O=s>=b.hours&&a>=b.minutes,k=s<M.hours||s===M.hours&&a<M.minutes;if(b.hours<M.hours){if(O&&k)return!0}else if(O||k)return!0}else if(_.hours===s&&_.minutes===a)return!0;return!1});if(g!==-1)return p[g]}return hL(e,i,r)[s<12?0:1];case Ae.Eras:return gL(e,r)[t.getFullYear()<=0?0:1];default:let u=n;throw new Error(`unexpected translation type ${u}`)}}function wf(t){return function(e,n,r){let i=-1*r,o=Cf(n,Hi.MinusSign),s=i>0?Math.floor(i/60):Math.ceil(i/60);switch(t){case zr.Short:return(i>=0?"+":"")+zn(s,2,o)+zn(Math.abs(i%60),2,o);case zr.ShortGMT:return"GMT"+(i>=0?"+":"")+zn(s,1,o);case zr.Long:return"GMT"+(i>=0?"+":"")+zn(s,2,o)+":"+zn(Math.abs(i%60),2,o);case zr.Extended:return r===0?"Z":(i>=0?"+":"")+zn(s,2,o)+":"+zn(Math.abs(i%60),2,o);default:throw new Error(`Unknown zone width "${t}"`)}}}var DL=0,If=4;function CL(t){let e=bf(t,DL,1).getDay();return bf(t,0,1+(e<=If?If:If+7)-e)}function Z0(t){let e=t.getDay(),n=e===0?-3:If-e;return bf(t.getFullYear(),t.getMonth(),t.getDate()+n)}function pv(t,e=!1){return function(n,r){let i;if(e){let o=new Date(n.getFullYear(),n.getMonth(),1).getDay()-1,s=n.getDate();i=1+Math.floor((s+o)/7)}else{let o=Z0(n),s=CL(o.getFullYear()),a=o.getTime()-s.getTime();i=1+Math.round(a/6048e5)}return zn(i,t,Cf(r,Hi.MinusSign))}}function _f(t,e=!1){return function(n,r){let o=Z0(n).getFullYear();return zn(o,t,Cf(r,Hi.MinusSign),e)}}var gv={};function TL(t){if(gv[t])return gv[t];let e;switch(t){case"G":case"GG":case"GGG":e=je(Ae.Eras,Ve.Abbreviated);break;case"GGGG":e=je(Ae.Eras,Ve.Wide);break;case"GGGGG":e=je(Ae.Eras,Ve.Narrow);break;case"y":e=it(Re.FullYear,1,0,!1,!0);break;case"yy":e=it(Re.FullYear,2,0,!0,!0);break;case"yyy":e=it(Re.FullYear,3,0,!1,!0);break;case"yyyy":e=it(Re.FullYear,4,0,!1,!0);break;case"Y":e=_f(1);break;case"YY":e=_f(2,!0);break;case"YYY":e=_f(3);break;case"YYYY":e=_f(4);break;case"M":case"L":e=it(Re.Month,1,1);break;case"MM":case"LL":e=it(Re.Month,2,1);break;case"MMM":e=je(Ae.Months,Ve.Abbreviated);break;case"MMMM":e=je(Ae.Months,Ve.Wide);break;case"MMMMM":e=je(Ae.Months,Ve.Narrow);break;case"LLL":e=je(Ae.Months,Ve.Abbreviated,$t.Standalone);break;case"LLLL":e=je(Ae.Months,Ve.Wide,$t.Standalone);break;case"LLLLL":e=je(Ae.Months,Ve.Narrow,$t.Standalone);break;case"w":e=pv(1);break;case"ww":e=pv(2);break;case"W":e=pv(1,!0);break;case"d":e=it(Re.Date,1);break;case"dd":e=it(Re.Date,2);break;case"c":case"cc":e=it(Re.Day,1);break;case"ccc":e=je(Ae.Days,Ve.Abbreviated,$t.Standalone);break;case"cccc":e=je(Ae.Days,Ve.Wide,$t.Standalone);break;case"ccccc":e=je(Ae.Days,Ve.Narrow,$t.Standalone);break;case"cccccc":e=je(Ae.Days,Ve.Short,$t.Standalone);break;case"E":case"EE":case"EEE":e=je(Ae.Days,Ve.Abbreviated);break;case"EEEE":e=je(Ae.Days,Ve.Wide);break;case"EEEEE":e=je(Ae.Days,Ve.Narrow);break;case"EEEEEE":e=je(Ae.Days,Ve.Short);break;case"a":case"aa":case"aaa":e=je(Ae.DayPeriods,Ve.Abbreviated);break;case"aaaa":e=je(Ae.DayPeriods,Ve.Wide);break;case"aaaaa":e=je(Ae.DayPeriods,Ve.Narrow);break;case"b":case"bb":case"bbb":e=je(Ae.DayPeriods,Ve.Abbreviated,$t.Standalone,!0);break;case"bbbb":e=je(Ae.DayPeriods,Ve.Wide,$t.Standalone,!0);break;case"bbbbb":e=je(Ae.DayPeriods,Ve.Narrow,$t.Standalone,!0);break;case"B":case"BB":case"BBB":e=je(Ae.DayPeriods,Ve.Abbreviated,$t.Format,!0);break;case"BBBB":e=je(Ae.DayPeriods,Ve.Wide,$t.Format,!0);break;case"BBBBB":e=je(Ae.DayPeriods,Ve.Narrow,$t.Format,!0);break;case"h":e=it(Re.Hours,1,-12);break;case"hh":e=it(Re.Hours,2,-12);break;case"H":e=it(Re.Hours,1);break;case"HH":e=it(Re.Hours,2);break;case"m":e=it(Re.Minutes,1);break;case"mm":e=it(Re.Minutes,2);break;case"s":e=it(Re.Seconds,1);break;case"ss":e=it(Re.Seconds,2);break;case"S":e=it(Re.FractionalSeconds,1);break;case"SS":e=it(Re.FractionalSeconds,2);break;case"SSS":e=it(Re.FractionalSeconds,3);break;case"Z":case"ZZ":case"ZZZ":e=wf(zr.Short);break;case"ZZZZZ":e=wf(zr.Extended);break;case"O":case"OO":case"OOO":case"z":case"zz":case"zzz":e=wf(zr.ShortGMT);break;case"OOOO":case"ZZZZ":case"zzzz":e=wf(zr.Long);break;default:return null}return gv[t]=e,e}function J0(t,e){t=t.replace(/:/g,"");let n=Date.parse("Jan 01, 1970 00:00:00 "+t)/6e4;return isNaN(n)?e:n}function SL(t,e){return t=new Date(t.getTime()),t.setMinutes(t.getMinutes()+e),t}function AL(t,e,n){let r=n?-1:1,i=t.getTimezoneOffset(),o=J0(e,i);return SL(t,r*(o-i))}function RL(t){if(B0(t))return t;if(typeof t=="number"&&!isNaN(t))return new Date(t);if(typeof t=="string"){if(t=t.trim(),/^(\d{4}(-\d{1,2}(-\d{1,2})?)?)$/.test(t)){let[i,o=1,s=1]=t.split("-").map(a=>+a);return bf(i,o-1,s)}let n=parseFloat(t);if(!isNaN(t-n))return new Date(n);let r;if(r=t.match(vL))return xL(r)}let e=new Date(t);if(!B0(e))throw new Error(`Unable to convert "${t}" into a date`);return e}function xL(t){let e=new Date(0),n=0,r=0,i=t[8]?e.setUTCFullYear:e.setFullYear,o=t[8]?e.setUTCHours:e.setHours;t[9]&&(n=Number(t[9]+t[10]),r=Number(t[9]+t[11])),i.call(e,Number(t[1]),Number(t[2])-1,Number(t[3]));let s=Number(t[4]||0)-n,a=Number(t[5]||0)-r,u=Number(t[6]||0),d=Math.floor(parseFloat("0."+(t[7]||0))*1e3);return o.call(e,s,a,u,d),e}function B0(t){return t instanceof Date&&!isNaN(t.valueOf())}function X0(t,e){e=encodeURIComponent(e);for(let n of t.split(";")){let r=n.indexOf("="),[i,o]=r==-1?[n,""]:[n.slice(0,r),n.slice(r+1)];if(i.trim()===e)return decodeURIComponent(o)}return null}var mv=/\s+/,$0=[],s8=(()=>{class t{constructor(n,r){this._ngEl=n,this._renderer=r,this.initialClasses=$0,this.stateMap=new Map}set klass(n){this.initialClasses=n!=null?n.trim().split(mv):$0}set ngClass(n){this.rawClass=typeof n=="string"?n.trim().split(mv):n}ngDoCheck(){for(let r of this.initialClasses)this._updateState(r,!0);let n=this.rawClass;if(Array.isArray(n)||n instanceof Set)for(let r of n)this._updateState(r,!0);else if(n!=null)for(let r of Object.keys(n))this._updateState(r,!!n[r]);this._applyStateDiff()}_updateState(n,r){let i=this.stateMap.get(n);i!==void 0?(i.enabled!==r&&(i.changed=!0,i.enabled=r),i.touched=!0):this.stateMap.set(n,{enabled:r,changed:!0,touched:!0})}_applyStateDiff(){for(let n of this.stateMap){let r=n[0],i=n[1];i.changed?(this._toggleClass(r,i.enabled),i.changed=!1):i.touched||(i.enabled&&this._toggleClass(r,!1),this.stateMap.delete(r)),i.touched=!1}}_toggleClass(n,r){n=n.trim(),n.length>0&&n.split(mv).forEach(i=>{r?this._renderer.addClass(this._ngEl.nativeElement,i):this._renderer.removeClass(this._ngEl.nativeElement,i)})}static{this.\u0275fac=function(r){return new(r||t)(W($n),W(mr))}}static{this.\u0275dir=Ne({type:t,selectors:[["","ngClass",""]],inputs:{klass:[0,"class","klass"],ngClass:"ngClass"},standalone:!0})}}return t})();var yv=class{constructor(e,n,r,i){this.$implicit=e,this.ngForOf=n,this.index=r,this.count=i}get first(){return this.index===0}get last(){return this.index===this.count-1}get even(){return this.index%2===0}get odd(){return!this.even}},a8=(()=>{class t{set ngForOf(n){this._ngForOf=n,this._ngForOfDirty=!0}set ngForTrackBy(n){this._trackByFn=n}get ngForTrackBy(){return this._trackByFn}constructor(n,r,i){this._viewContainer=n,this._template=r,this._differs=i,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(n){n&&(this._template=n)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;let n=this._ngForOf;if(!this._differ&&n)if(0)try{}catch{}else this._differ=this._differs.find(n).create(this.ngForTrackBy)}if(this._differ){let n=this._differ.diff(this._ngForOf);n&&this._applyChanges(n)}}_applyChanges(n){let r=this._viewContainer;n.forEachOperation((i,o,s)=>{if(i.previousIndex==null)r.createEmbeddedView(this._template,new yv(i.item,this._ngForOf,-1,-1),s===null?void 0:s);else if(s==null)r.remove(o===null?void 0:o);else if(o!==null){let a=r.get(o);r.move(a,s),H0(a,i)}});for(let i=0,o=r.length;i<o;i++){let a=r.get(i).context;a.index=i,a.count=o,a.ngForOf=this._ngForOf}n.forEachIdentityChange(i=>{let o=r.get(i.currentIndex);H0(o,i)})}static ngTemplateContextGuard(n,r){return!0}static{this.\u0275fac=function(r){return new(r||t)(W(ma),W(Xh),W(hv))}}static{this.\u0275dir=Ne({type:t,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0})}}return t})();function H0(t,e){t.context.$implicit=e.item}var eT=(()=>{class t{constructor(n,r){this._viewContainer=n,this._context=new vv,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(n){this._context.$implicit=this._context.ngIf=n,this._updateView()}set ngIfThen(n){z0("ngIfThen",n),this._thenTemplateRef=n,this._thenViewRef=null,this._updateView()}set ngIfElse(n){z0("ngIfElse",n),this._elseTemplateRef=n,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(n,r){return!0}static{this.\u0275fac=function(r){return new(r||t)(W(ma),W(Xh))}}static{this.\u0275dir=Ne({type:t,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0})}}return t})(),vv=class{constructor(){this.$implicit=null,this.ngIf=null}};function z0(t,e){if(!!!(!e||e.createEmbeddedView))throw new Error(`${t} must be a TemplateRef, but received '${jt(e)}'.`)}function ML(t,e){return new G(2100,!1)}var NL="mediumDate",PL=new z(""),kL=new z(""),c8=(()=>{class t{constructor(n,r,i){this.locale=n,this.defaultTimezone=r,this.defaultOptions=i}transform(n,r,i,o){if(n==null||n===""||n!==n)return null;try{let s=r??this.defaultOptions?.dateFormat??NL,a=i??this.defaultOptions?.timezone??this.defaultTimezone??void 0;return _L(n,s,o||this.locale,a)}catch(s){throw ML(t,s.message)}}static{this.\u0275fac=function(r){return new(r||t)(W(ff,16),W(PL,24),W(kL,24))}}static{this.\u0275pipe=LD({name:"date",type:t,pure:!0,standalone:!0})}}return t})();var Tf=(()=>{class t{static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275mod=Un({type:t})}static{this.\u0275inj=jn({})}}return t})(),Dv="browser",OL="server";function FL(t){return t===Dv}function Cv(t){return t===OL}var tT=(()=>{class t{static{this.\u0275prov=K({token:t,providedIn:"root",factory:()=>FL(j(gr))?new wv(j(Yt),window):new _v})}}return t})(),wv=class{constructor(e,n){this.document=e,this.window=n,this.offset=()=>[0,0]}setOffset(e){Array.isArray(e)?this.offset=()=>e:this.offset=e}getScrollPosition(){return[this.window.scrollX,this.window.scrollY]}scrollToPosition(e){this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){let n=LL(this.document,e);n&&(this.scrollToElement(n),n.focus())}setHistoryScrollRestoration(e){this.window.history.scrollRestoration=e}scrollToElement(e){let n=e.getBoundingClientRect(),r=n.left+this.window.pageXOffset,i=n.top+this.window.pageYOffset,o=this.offset();this.window.scrollTo(r-o[0],i-o[1])}};function LL(t,e){let n=t.getElementById(e)||t.getElementsByName(e)[0];if(n)return n;if(typeof t.createTreeWalker=="function"&&t.body&&typeof t.body.attachShadow=="function"){let r=t.createTreeWalker(t.body,NodeFilter.SHOW_ELEMENT),i=r.currentNode;for(;i;){let o=i.shadowRoot;if(o){let s=o.getElementById(e)||o.querySelector(`[name="${e}"]`);if(s)return s}i=r.nextNode()}}return null}var _v=class{setOffset(e){}getScrollPosition(){return[0,0]}scrollToPosition(e){}scrollToAnchor(e){}setHistoryScrollRestoration(e){}},Df=class{};var Av=class extends Ef{constructor(){super(...arguments),this.supportsDOMEvents=!0}},Rv=class t extends Av{static makeCurrent(){G0(new t)}onAndCancel(e,n,r){return e.addEventListener(n,r),()=>{e.removeEventListener(n,r)}}dispatchEvent(e,n){e.dispatchEvent(n)}remove(e){e.remove()}createElement(e,n){return n=n||this.getDefaultDocument(),n.createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,n){return n==="window"?window:n==="document"?e:n==="body"?e.body:null}getBaseHref(e){let n=VL();return n==null?null:jL(n)}resetBaseElement(){su=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return X0(document.cookie,e)}},su=null;function VL(){return su=su||document.querySelector("base"),su?su.getAttribute("href"):null}function jL(t){return new URL(t,document.baseURI).pathname}var xv=class{addToWindow(e){Kt.getAngularTestability=(r,i=!0)=>{let o=e.findTestabilityInTree(r,i);if(o==null)throw new G(5103,!1);return o},Kt.getAllAngularTestabilities=()=>e.getAllTestabilities(),Kt.getAllAngularRootElements=()=>e.getAllRootElements();let n=r=>{let i=Kt.getAllAngularTestabilities(),o=i.length,s=function(){o--,o==0&&r()};i.forEach(a=>{a.whenStable(s)})};Kt.frameworkStabilizers||(Kt.frameworkStabilizers=[]),Kt.frameworkStabilizers.push(n)}findTestabilityInTree(e,n,r){if(n==null)return null;let i=e.getTestability(n);return i??(r?vr().isShadowRoot(n)?this.findTestabilityInTree(e,n.host,!0):this.findTestabilityInTree(e,n.parentElement,!0):null)}},UL=(()=>{class t{build(){return new XMLHttpRequest}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=K({token:t,factory:t.\u0275fac})}}return t})(),Mv=new z(""),sT=(()=>{class t{constructor(n,r){this._zone=r,this._eventNameToPlugin=new Map,n.forEach(i=>{i.manager=this}),this._plugins=n.slice().reverse()}addEventListener(n,r,i){return this._findPluginFor(r).addEventListener(n,r,i)}getZone(){return this._zone}_findPluginFor(n){let r=this._eventNameToPlugin.get(n);if(r)return r;if(r=this._plugins.find(o=>o.supports(n)),!r)throw new G(5101,!1);return this._eventNameToPlugin.set(n,r),r}static{this.\u0275fac=function(r){return new(r||t)(X(Mv),X(De))}}static{this.\u0275prov=K({token:t,factory:t.\u0275fac})}}return t})(),Sf=class{constructor(e){this._doc=e}},Tv="ng-app-id",aT=(()=>{class t{constructor(n,r,i,o={}){this.doc=n,this.appId=r,this.nonce=i,this.platformId=o,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=Cv(o),this.resetHostNodes()}addStyles(n){for(let r of n)this.changeUsageCount(r,1)===1&&this.onStyleAdded(r)}removeStyles(n){for(let r of n)this.changeUsageCount(r,-1)<=0&&this.onStyleRemoved(r)}ngOnDestroy(){let n=this.styleNodesInDOM;n&&(n.forEach(r=>r.remove()),n.clear());for(let r of this.getAllStyles())this.onStyleRemoved(r);this.resetHostNodes()}addHost(n){this.hostNodes.add(n);for(let r of this.getAllStyles())this.addStyleToHost(n,r)}removeHost(n){this.hostNodes.delete(n)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(n){for(let r of this.hostNodes)this.addStyleToHost(r,n)}onStyleRemoved(n){let r=this.styleRef;r.get(n)?.elements?.forEach(i=>i.remove()),r.delete(n)}collectServerRenderedStyles(){let n=this.doc.head?.querySelectorAll(`style[${Tv}="${this.appId}"]`);if(n?.length){let r=new Map;return n.forEach(i=>{i.textContent!=null&&r.set(i.textContent,i)}),r}return null}changeUsageCount(n,r){let i=this.styleRef;if(i.has(n)){let o=i.get(n);return o.usage+=r,o.usage}return i.set(n,{usage:r,elements:[]}),r}getStyleElement(n,r){let i=this.styleNodesInDOM,o=i?.get(r);if(o?.parentNode===n)return i.delete(r),o.removeAttribute(Tv),o;{let s=this.doc.createElement("style");return this.nonce&&s.setAttribute("nonce",this.nonce),s.textContent=r,this.platformIsServer&&s.setAttribute(Tv,this.appId),n.appendChild(s),s}}addStyleToHost(n,r){let i=this.getStyleElement(n,r),o=this.styleRef,s=o.get(r)?.elements;s?s.push(i):o.set(r,{elements:[i],usage:1})}resetHostNodes(){let n=this.hostNodes;n.clear(),n.add(this.doc.head)}static{this.\u0275fac=function(r){return new(r||t)(X(Yt),X(Wh),X($y,8),X(gr))}}static{this.\u0275prov=K({token:t,factory:t.\u0275fac})}}return t})(),Sv={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},Pv=/%COMP%/g,cT="%COMP%",BL=`_nghost-${cT}`,$L=`_ngcontent-${cT}`,HL=!0,zL=new z("",{providedIn:"root",factory:()=>HL});function qL(t){return $L.replace(Pv,t)}function GL(t){return BL.replace(Pv,t)}function uT(t,e){return e.map(n=>n.replace(Pv,t))}var rT=(()=>{class t{constructor(n,r,i,o,s,a,u,d=null){this.eventManager=n,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestroy=o,this.doc=s,this.platformId=a,this.ngZone=u,this.nonce=d,this.rendererByCompId=new Map,this.platformIsServer=Cv(a),this.defaultRenderer=new au(n,s,u,this.platformIsServer)}createRenderer(n,r){if(!n||!r)return this.defaultRenderer;this.platformIsServer&&r.encapsulation===ar.ShadowDom&&(r=ge(B({},r),{encapsulation:ar.Emulated}));let i=this.getOrCreateRenderer(n,r);return i instanceof Af?i.applyToHost(n):i instanceof cu&&i.applyStyles(),i}getOrCreateRenderer(n,r){let i=this.rendererByCompId,o=i.get(r.id);if(!o){let s=this.doc,a=this.ngZone,u=this.eventManager,d=this.sharedStylesHost,p=this.removeStylesOnCompDestroy,g=this.platformIsServer;switch(r.encapsulation){case ar.Emulated:o=new Af(u,d,r,this.appId,p,s,a,g);break;case ar.ShadowDom:return new Nv(u,d,n,r,s,a,this.nonce,g);default:o=new cu(u,d,r,p,s,a,g);break}i.set(r.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}static{this.\u0275fac=function(r){return new(r||t)(X(sT),X(aT),X(Wh),X(zL),X(Yt),X(gr),X(De),X($y))}}static{this.\u0275prov=K({token:t,factory:t.\u0275fac})}}return t})(),au=class{constructor(e,n,r,i){this.eventManager=e,this.doc=n,this.ngZone=r,this.platformIsServer=i,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(e,n){return n?this.doc.createElementNS(Sv[n]||n,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,n){(iT(e)?e.content:e).appendChild(n)}insertBefore(e,n,r){e&&(iT(e)?e.content:e).insertBefore(n,r)}removeChild(e,n){n.remove()}selectRootElement(e,n){let r=typeof e=="string"?this.doc.querySelector(e):e;if(!r)throw new G(-5104,!1);return n||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,n,r,i){if(i){n=i+":"+n;let o=Sv[i];o?e.setAttributeNS(o,n,r):e.setAttribute(n,r)}else e.setAttribute(n,r)}removeAttribute(e,n,r){if(r){let i=Sv[r];i?e.removeAttributeNS(i,n):e.removeAttribute(`${r}:${n}`)}else e.removeAttribute(n)}addClass(e,n){e.classList.add(n)}removeClass(e,n){e.classList.remove(n)}setStyle(e,n,r,i){i&(Vr.DashCase|Vr.Important)?e.style.setProperty(n,r,i&Vr.Important?"important":""):e.style[n]=r}removeStyle(e,n,r){r&Vr.DashCase?e.style.removeProperty(n):e.style[n]=""}setProperty(e,n,r){e!=null&&(e[n]=r)}setValue(e,n){e.nodeValue=n}listen(e,n,r){if(typeof e=="string"&&(e=vr().getGlobalEventTarget(this.doc,e),!e))throw new Error(`Unsupported event target ${e} for event ${n}`);return this.eventManager.addEventListener(e,n,this.decoratePreventDefault(r))}decoratePreventDefault(e){return n=>{if(n==="__ngUnwrap__")return e;(this.platformIsServer?this.ngZone.runGuarded(()=>e(n)):e(n))===!1&&n.preventDefault()}}};function iT(t){return t.tagName==="TEMPLATE"&&t.content!==void 0}var Nv=class extends au{constructor(e,n,r,i,o,s,a,u){super(e,o,s,u),this.sharedStylesHost=n,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let d=uT(i.id,i.styles);for(let p of d){let g=document.createElement("style");a&&g.setAttribute("nonce",a),g.textContent=p,this.shadowRoot.appendChild(g)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,n){return super.appendChild(this.nodeOrShadowRoot(e),n)}insertBefore(e,n,r){return super.insertBefore(this.nodeOrShadowRoot(e),n,r)}removeChild(e,n){return super.removeChild(null,n)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},cu=class extends au{constructor(e,n,r,i,o,s,a,u){super(e,o,s,a),this.sharedStylesHost=n,this.removeStylesOnCompDestroy=i,this.styles=u?uT(u,r.styles):r.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}},Af=class extends cu{constructor(e,n,r,i,o,s,a,u){let d=i+"-"+r.id;super(e,n,r,o,s,a,u,d),this.contentAttr=qL(d),this.hostAttr=GL(d)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,n){let r=super.createElement(e,n);return super.setAttribute(r,this.contentAttr,""),r}},WL=(()=>{class t extends Sf{constructor(n){super(n)}supports(n){return!0}addEventListener(n,r,i){return n.addEventListener(r,i,!1),()=>this.removeEventListener(n,r,i)}removeEventListener(n,r,i){return n.removeEventListener(r,i)}static{this.\u0275fac=function(r){return new(r||t)(X(Yt))}}static{this.\u0275prov=K({token:t,factory:t.\u0275fac})}}return t})(),oT=["alt","control","meta","shift"],KL={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},QL={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey},YL=(()=>{class t extends Sf{constructor(n){super(n)}supports(n){return t.parseEventName(n)!=null}addEventListener(n,r,i){let o=t.parseEventName(r),s=t.eventCallback(o.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>vr().onAndCancel(n,o.domEventName,s))}static parseEventName(n){let r=n.toLowerCase().split("."),i=r.shift();if(r.length===0||!(i==="keydown"||i==="keyup"))return null;let o=t._normalizeKey(r.pop()),s="",a=r.indexOf("code");if(a>-1&&(r.splice(a,1),s="code."),oT.forEach(d=>{let p=r.indexOf(d);p>-1&&(r.splice(p,1),s+=d+".")}),s+=o,r.length!=0||o.length===0)return null;let u={};return u.domEventName=i,u.fullKey=s,u}static matchEventFullKeyCode(n,r){let i=KL[n.key]||n.key,o="";return r.indexOf("code.")>-1&&(i=n.code,o="code."),i==null||!i?!1:(i=i.toLowerCase(),i===" "?i="space":i==="."&&(i="dot"),oT.forEach(s=>{if(s!==i){let a=QL[s];a(n)&&(o+=s+".")}}),o+=i,o===r)}static eventCallback(n,r,i){return o=>{t.matchEventFullKeyCode(o,n)&&i.runGuarded(()=>r(o))}}static _normalizeKey(n){return n==="esc"?"escape":n}static{this.\u0275fac=function(r){return new(r||t)(X(Yt))}}static{this.\u0275prov=K({token:t,factory:t.\u0275fac})}}return t})();function R8(t,e){return L0(B({rootComponent:t},ZL(e)))}function ZL(t){return{appProviders:[...lT,...t?.providers??[]],platformProviders:tV}}function JL(){Rv.makeCurrent()}function XL(){return new Lr}function eV(){return LC(document),document}var tV=[{provide:gr,useValue:Dv},{provide:By,useValue:JL,multi:!0},{provide:Yt,useFactory:eV,deps:[]}];var nV=new z(""),rV=[{provide:ou,useClass:xv,deps:[]},{provide:lv,useClass:cf,deps:[De,uf,ou]},{provide:cf,useClass:cf,deps:[De,uf,ou]}],lT=[{provide:Fh,useValue:"root"},{provide:Lr,useFactory:XL,deps:[]},{provide:Mv,useClass:WL,multi:!0,deps:[Yt,De,gr]},{provide:Mv,useClass:YL,multi:!0,deps:[Yt]},rT,aT,sT,{provide:da,useExisting:rT},{provide:Df,useClass:UL,deps:[]},[]],x8=(()=>{class t{constructor(n){}static withServerTransition(n){return{ngModule:t,providers:[{provide:Wh,useValue:n.appId}]}}static{this.\u0275fac=function(r){return new(r||t)(X(nV,12))}}static{this.\u0275mod=Un({type:t})}static{this.\u0275inj=jn({providers:[...lT,...rV],imports:[Tf,F0]})}}return t})();var dT=(()=>{class t{constructor(n){this._doc=n}getTitle(){return this._doc.title}setTitle(n){this._doc.title=n||""}static{this.\u0275fac=function(r){return new(r||t)(X(Yt))}}static{this.\u0275prov=K({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();var ET=(()=>{class t{constructor(n,r){this._renderer=n,this._elementRef=r,this.onChange=i=>{},this.onTouched=()=>{}}setProperty(n,r){this._renderer.setProperty(this._elementRef.nativeElement,n,r)}registerOnTouched(n){this.onTouched=n}registerOnChange(n){this.onChange=n}setDisabledState(n){this.setProperty("disabled",n)}static{this.\u0275fac=function(r){return new(r||t)(W(mr),W($n))}}static{this.\u0275dir=Ne({type:t})}}return t})(),gu=(()=>{class t extends ET{static{this.\u0275fac=(()=>{let n;return function(i){return(n||(n=En(t)))(i||t)}})()}static{this.\u0275dir=Ne({type:t,features:[pt]})}}return t})(),Qo=new z(""),oV={provide:Qo,useExisting:Mt(()=>sV),multi:!0},sV=(()=>{class t extends gu{writeValue(n){this.setProperty("checked",n)}static{this.\u0275fac=(()=>{let n;return function(i){return(n||(n=En(t)))(i||t)}})()}static{this.\u0275dir=Ne({type:t,selectors:[["input","type","checkbox","formControlName",""],["input","type","checkbox","formControl",""],["input","type","checkbox","ngModel",""]],hostBindings:function(r,i){r&1&&Hn("change",function(s){return i.onChange(s.target.checked)})("blur",function(){return i.onTouched()})},features:[Qt([oV]),pt]})}}return t})(),aV={provide:Qo,useExisting:Mt(()=>bT),multi:!0};function cV(){let t=vr()?vr().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}var uV=new z(""),bT=(()=>{class t extends ET{constructor(n,r,i){super(n,r),this._compositionMode=i,this._composing=!1,this._compositionMode==null&&(this._compositionMode=!cV())}writeValue(n){let r=n??"";this.setProperty("value",r)}_handleInput(n){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(n)}_compositionStart(){this._composing=!0}_compositionEnd(n){this._composing=!1,this._compositionMode&&this.onChange(n)}static{this.\u0275fac=function(r){return new(r||t)(W(mr),W($n),W(uV,8))}}static{this.\u0275dir=Ne({type:t,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(r,i){r&1&&Hn("input",function(s){return i._handleInput(s.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(s){return i._compositionEnd(s.target.value)})},features:[Qt([aV]),pt]})}}return t})();function zi(t){return t==null||(typeof t=="string"||Array.isArray(t))&&t.length===0}function DT(t){return t!=null&&typeof t.length=="number"}var Gi=new z(""),ba=new z(""),lV=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,hT=class{static min(e){return dV(e)}static max(e){return hV(e)}static required(e){return CT(e)}static requiredTrue(e){return fV(e)}static email(e){return pV(e)}static minLength(e){return gV(e)}static maxLength(e){return TT(e)}static pattern(e){return mV(e)}static nullValidator(e){return xf(e)}static compose(e){return NT(e)}static composeAsync(e){return PT(e)}};function dV(t){return e=>{if(zi(e.value)||zi(t))return null;let n=parseFloat(e.value);return!isNaN(n)&&n<t?{min:{min:t,actual:e.value}}:null}}function hV(t){return e=>{if(zi(e.value)||zi(t))return null;let n=parseFloat(e.value);return!isNaN(n)&&n>t?{max:{max:t,actual:e.value}}:null}}function CT(t){return zi(t.value)?{required:!0}:null}function fV(t){return t.value===!0?null:{required:!0}}function pV(t){return zi(t.value)||lV.test(t.value)?null:{email:!0}}function gV(t){return e=>zi(e.value)||!DT(e.value)?null:e.value.length<t?{minlength:{requiredLength:t,actualLength:e.value.length}}:null}function TT(t){return e=>DT(e.value)&&e.value.length>t?{maxlength:{requiredLength:t,actualLength:e.value.length}}:null}function mV(t){if(!t)return xf;let e,n;return typeof t=="string"?(n="",t.charAt(0)!=="^"&&(n+="^"),n+=t,t.charAt(t.length-1)!=="$"&&(n+="$"),e=new RegExp(n)):(n=t.toString(),e=t),r=>{if(zi(r.value))return null;let i=r.value;return e.test(i)?null:{pattern:{requiredPattern:n,actualValue:i}}}}function xf(t){return null}function ST(t){return t!=null}function AT(t){return qo(t)?$e(t):t}function RT(t){let e={};return t.forEach(n=>{e=n!=null?B(B({},e),n):e}),Object.keys(e).length===0?null:e}function xT(t,e){return e.map(n=>n(t))}function yV(t){return!t.validate}function MT(t){return t.map(e=>yV(e)?e:n=>e.validate(n))}function NT(t){if(!t)return null;let e=t.filter(ST);return e.length==0?null:function(n){return RT(xT(n,e))}}function Lv(t){return t!=null?NT(MT(t)):null}function PT(t){if(!t)return null;let e=t.filter(ST);return e.length==0?null:function(n){let r=xT(n,e).map(AT);return pm(r).pipe(le(RT))}}function Vv(t){return t!=null?PT(MT(t)):null}function fT(t,e){return t===null?[e]:Array.isArray(t)?[...t,e]:[t,e]}function kT(t){return t._rawValidators}function OT(t){return t._rawAsyncValidators}function kv(t){return t?Array.isArray(t)?t:[t]:[]}function Mf(t,e){return Array.isArray(t)?t.includes(e):t===e}function pT(t,e){let n=kv(e);return kv(t).forEach(i=>{Mf(n,i)||n.push(i)}),n}function gT(t,e){return kv(e).filter(n=>!Mf(t,n))}var Nf=class{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=Lv(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=Vv(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,n){return this.control?this.control.hasError(e,n):!1}getError(e,n){return this.control?this.control.getError(e,n):null}},Ht=class extends Nf{get formDirective(){return null}get path(){return null}},Ko=class extends Nf{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}},Pf=class{constructor(e){this._cd=e}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}},vV={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},W8=ge(B({},vV),{"[class.ng-submitted]":"isSubmitted"}),K8=(()=>{class t extends Pf{constructor(n){super(n)}static{this.\u0275fac=function(r){return new(r||t)(W(Ko,2))}}static{this.\u0275dir=Ne({type:t,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(r,i){r&2&&rf("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)},features:[pt]})}}return t})(),Q8=(()=>{class t extends Pf{constructor(n){super(n)}static{this.\u0275fac=function(r){return new(r||t)(W(Ht,10))}}static{this.\u0275dir=Ne({type:t,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(r,i){r&2&&rf("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)("ng-submitted",i.isSubmitted)},features:[pt]})}}return t})();var uu="VALID",Rf="INVALID",Ia="PENDING",lu="DISABLED",qi=class{},kf=class extends qi{constructor(e,n){super(),this.value=e,this.source=n}},hu=class extends qi{constructor(e,n){super(),this.pristine=e,this.source=n}},fu=class extends qi{constructor(e,n){super(),this.touched=e,this.source=n}},Ea=class extends qi{constructor(e,n){super(),this.status=e,this.source=n}},Ov=class extends qi{constructor(e){super(),this.source=e}},Fv=class extends qi{constructor(e){super(),this.source=e}};function jv(t){return(jf(t)?t.validators:t)||null}function wV(t){return Array.isArray(t)?Lv(t):t||null}function Uv(t,e){return(jf(e)?e.asyncValidators:t)||null}function _V(t){return Array.isArray(t)?Vv(t):t||null}function jf(t){return t!=null&&!Array.isArray(t)&&typeof t=="object"}function FT(t,e,n){let r=t.controls;if(!(e?Object.keys(r):r).length)throw new G(1e3,"");if(!r[n])throw new G(1001,"")}function LT(t,e,n){t._forEachChild((r,i)=>{if(n[i]===void 0)throw new G(1002,"")})}var pu=class{constructor(e,n){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=null,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this._status=wa(()=>this.statusReactive()),this.statusReactive=ya(void 0),this._pristine=wa(()=>this.pristineReactive()),this.pristineReactive=ya(!0),this._touched=wa(()=>this.touchedReactive()),this.touchedReactive=ya(!1),this._events=new wt,this.events=this._events.asObservable(),this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(n)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get status(){return yr(this.statusReactive)}set status(e){yr(()=>this.statusReactive.set(e))}get valid(){return this.status===uu}get invalid(){return this.status===Rf}get pending(){return this.status==Ia}get disabled(){return this.status===lu}get enabled(){return this.status!==lu}get pristine(){return yr(this.pristineReactive)}set pristine(e){yr(()=>this.pristineReactive.set(e))}get dirty(){return!this.pristine}get touched(){return yr(this.touchedReactive)}set touched(e){yr(()=>this.touchedReactive.set(e))}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(pT(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(pT(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(gT(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(gT(e,this._rawAsyncValidators))}hasValidator(e){return Mf(this._rawValidators,e)}hasAsyncValidator(e){return Mf(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){let n=this.touched===!1;this.touched=!0;let r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsTouched(ge(B({},e),{sourceControl:r})),n&&e.emitEvent!==!1&&this._events.next(new fu(!0,r))}markAllAsTouched(e={}){this.markAsTouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:this}),this._forEachChild(n=>n.markAllAsTouched(e))}markAsUntouched(e={}){let n=this.touched===!0;this.touched=!1,this._pendingTouched=!1;let r=e.sourceControl??this;this._forEachChild(i=>{i.markAsUntouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:r})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,r),n&&e.emitEvent!==!1&&this._events.next(new fu(!1,r))}markAsDirty(e={}){let n=this.pristine===!0;this.pristine=!1;let r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsDirty(ge(B({},e),{sourceControl:r})),n&&e.emitEvent!==!1&&this._events.next(new hu(!1,r))}markAsPristine(e={}){let n=this.pristine===!1;this.pristine=!0,this._pendingDirty=!1;let r=e.sourceControl??this;this._forEachChild(i=>{i.markAsPristine({onlySelf:!0,emitEvent:e.emitEvent})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e,r),n&&e.emitEvent!==!1&&this._events.next(new hu(!0,r))}markAsPending(e={}){this.status=Ia;let n=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new Ea(this.status,n)),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.markAsPending(ge(B({},e),{sourceControl:n}))}disable(e={}){let n=this._parentMarkedDirty(e.onlySelf);this.status=lu,this.errors=null,this._forEachChild(i=>{i.disable(ge(B({},e),{onlySelf:!0}))}),this._updateValue();let r=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new kf(this.value,r)),this._events.next(new Ea(this.status,r)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(ge(B({},e),{skipPristineCheck:n}),this),this._onDisabledChange.forEach(i=>i(!0))}enable(e={}){let n=this._parentMarkedDirty(e.onlySelf);this.status=uu,this._forEachChild(r=>{r.enable(ge(B({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(ge(B({},e),{skipPristineCheck:n}),this),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e,n){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine({},n),this._parent._updateTouched({},n))}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){let r=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===uu||this.status===Ia)&&this._runAsyncValidator(r,e.emitEvent)}let n=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new kf(this.value,n)),this._events.next(new Ea(this.status,n)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(ge(B({},e),{sourceControl:n}))}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(n=>n._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?lu:uu}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e,n){if(this.asyncValidator){this.status=Ia,this._hasOwnPendingAsyncValidator={emitEvent:n!==!1};let r=AT(this.asyncValidator(this));this._asyncValidationSubscription=r.subscribe(i=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(i,{emitEvent:n,shouldHaveEmitted:e})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();let e=this._hasOwnPendingAsyncValidator?.emitEvent??!1;return this._hasOwnPendingAsyncValidator=null,e}return!1}setErrors(e,n={}){this.errors=e,this._updateControlsErrors(n.emitEvent!==!1,this,n.shouldHaveEmitted)}get(e){let n=e;return n==null||(Array.isArray(n)||(n=n.split(".")),n.length===0)?null:n.reduce((r,i)=>r&&r._find(i),this)}getError(e,n){let r=n?this.get(n):this;return r&&r.errors?r.errors[e]:null}hasError(e,n){return!!this.getError(e,n)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e,n,r){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),(e||r)&&this._events.next(new Ea(this.status,n)),this._parent&&this._parent._updateControlsErrors(e,n,r)}_initObservables(){this.valueChanges=new Ke,this.statusChanges=new Ke}_calculateStatus(){return this._allControlsDisabled()?lu:this.errors?Rf:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(Ia)?Ia:this._anyControlsHaveStatus(Rf)?Rf:uu}_anyControlsHaveStatus(e){return this._anyControls(n=>n.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e,n){let r=!this._anyControlsDirty(),i=this.pristine!==r;this.pristine=r,this._parent&&!e.onlySelf&&this._parent._updatePristine(e,n),i&&this._events.next(new hu(this.pristine,n))}_updateTouched(e={},n){this.touched=this._anyControlsTouched(),this._events.next(new fu(this.touched,n)),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,n)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){jf(e)&&e.updateOn!=null&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){let n=this._parent&&this._parent.dirty;return!e&&!!n&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=wV(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=_V(this._rawAsyncValidators)}},Of=class extends pu{constructor(e,n,r){super(jv(n),Uv(r,n)),this.controls=e,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,n){return this.controls[e]?this.controls[e]:(this.controls[e]=n,n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange),n)}addControl(e,n,r={}){this.registerControl(e,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,n={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}setControl(e,n,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],n&&this.registerControl(e,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,n={}){LT(this,!0,e),Object.keys(e).forEach(r=>{FT(this,!0,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(e,n={}){e!=null&&(Object.keys(e).forEach(r=>{let i=this.controls[r];i&&i.patchValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(e={},n={}){this._forEachChild((r,i)=>{r.reset(e?e[i]:null,{onlySelf:!0,emitEvent:n.emitEvent})}),this._updatePristine(n,this),this._updateTouched(n,this),this.updateValueAndValidity(n)}getRawValue(){return this._reduceChildren({},(e,n,r)=>(e[r]=n.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(n,r)=>r._syncPendingControls()?!0:n);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(n=>{let r=this.controls[n];r&&e(r,n)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(let[n,r]of Object.entries(this.controls))if(this.contains(n)&&e(r))return!0;return!1}_reduceValue(){let e={};return this._reduceChildren(e,(n,r,i)=>((r.enabled||this.disabled)&&(n[i]=r.value),n))}_reduceChildren(e,n){let r=e;return this._forEachChild((i,o)=>{r=n(r,i,o)}),r}_allControlsDisabled(){for(let e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}};var mu=new z("CallSetDisabledState",{providedIn:"root",factory:()=>Uf}),Uf="always";function Bf(t,e){return[...e.path,t]}function Ff(t,e,n=Uf){Bv(t,e),e.valueAccessor.writeValue(t.value),(t.disabled||n==="always")&&e.valueAccessor.setDisabledState?.(t.disabled),EV(t,e),DV(t,e),bV(t,e),IV(t,e)}function mT(t,e,n=!0){let r=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(r),e.valueAccessor.registerOnTouched(r)),Vf(t,e),t&&(e._invokeOnDestroyCallbacks(),t._registerOnCollectionChange(()=>{}))}function Lf(t,e){t.forEach(n=>{n.registerOnValidatorChange&&n.registerOnValidatorChange(e)})}function IV(t,e){if(e.valueAccessor.setDisabledState){let n=r=>{e.valueAccessor.setDisabledState(r)};t.registerOnDisabledChange(n),e._registerOnDestroy(()=>{t._unregisterOnDisabledChange(n)})}}function Bv(t,e){let n=kT(t);e.validator!==null?t.setValidators(fT(n,e.validator)):typeof n=="function"&&t.setValidators([n]);let r=OT(t);e.asyncValidator!==null?t.setAsyncValidators(fT(r,e.asyncValidator)):typeof r=="function"&&t.setAsyncValidators([r]);let i=()=>t.updateValueAndValidity();Lf(e._rawValidators,i),Lf(e._rawAsyncValidators,i)}function Vf(t,e){let n=!1;if(t!==null){if(e.validator!==null){let i=kT(t);if(Array.isArray(i)&&i.length>0){let o=i.filter(s=>s!==e.validator);o.length!==i.length&&(n=!0,t.setValidators(o))}}if(e.asyncValidator!==null){let i=OT(t);if(Array.isArray(i)&&i.length>0){let o=i.filter(s=>s!==e.asyncValidator);o.length!==i.length&&(n=!0,t.setAsyncValidators(o))}}}let r=()=>{};return Lf(e._rawValidators,r),Lf(e._rawAsyncValidators,r),n}function EV(t,e){e.valueAccessor.registerOnChange(n=>{t._pendingValue=n,t._pendingChange=!0,t._pendingDirty=!0,t.updateOn==="change"&&VT(t,e)})}function bV(t,e){e.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,t.updateOn==="blur"&&t._pendingChange&&VT(t,e),t.updateOn!=="submit"&&t.markAsTouched()})}function VT(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function DV(t,e){let n=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};t.registerOnChange(n),e._registerOnDestroy(()=>{t._unregisterOnChange(n)})}function jT(t,e){t==null,Bv(t,e)}function CV(t,e){return Vf(t,e)}function UT(t,e){if(!t.hasOwnProperty("model"))return!1;let n=t.model;return n.isFirstChange()?!0:!Object.is(e,n.currentValue)}function TV(t){return Object.getPrototypeOf(t.constructor)===gu}function BT(t,e){t._syncPendingControls(),e.forEach(n=>{let r=n.control;r.updateOn==="submit"&&r._pendingChange&&(n.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}function $T(t,e){if(!e)return null;Array.isArray(e);let n,r,i;return e.forEach(o=>{o.constructor===bT?n=o:TV(o)?r=o:i=o}),i||r||n||null}function SV(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}var AV={provide:Ht,useExisting:Mt(()=>RV)},du=Promise.resolve(),RV=(()=>{class t extends Ht{get submitted(){return yr(this.submittedReactive)}constructor(n,r,i){super(),this.callSetDisabledState=i,this._submitted=wa(()=>this.submittedReactive()),this.submittedReactive=ya(!1),this._directives=new Set,this.ngSubmit=new Ke,this.form=new Of({},Lv(n),Vv(r))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(n){du.then(()=>{let r=this._findContainer(n.path);n.control=r.registerControl(n.name,n.control),Ff(n.control,n,this.callSetDisabledState),n.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(n)})}getControl(n){return this.form.get(n.path)}removeControl(n){du.then(()=>{let r=this._findContainer(n.path);r&&r.removeControl(n.name),this._directives.delete(n)})}addFormGroup(n){du.then(()=>{let r=this._findContainer(n.path),i=new Of({});jT(i,n),r.registerControl(n.name,i),i.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(n){du.then(()=>{let r=this._findContainer(n.path);r&&r.removeControl(n.name)})}getFormGroup(n){return this.form.get(n.path)}updateModel(n,r){du.then(()=>{this.form.get(n.path).setValue(r)})}setValue(n){this.control.setValue(n)}onSubmit(n){return this.submittedReactive.set(!0),BT(this.form,this._directives),this.ngSubmit.emit(n),n?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(n=void 0){this.form.reset(n),this.submittedReactive.set(!1)}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.form._updateOn=this.options.updateOn)}_findContainer(n){return n.pop(),n.length?this.form.get(n):this.form}static{this.\u0275fac=function(r){return new(r||t)(W(Gi,10),W(ba,10),W(mu,8))}}static{this.\u0275dir=Ne({type:t,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(r,i){r&1&&Hn("submit",function(s){return i.onSubmit(s)})("reset",function(){return i.onReset()})},inputs:{options:[0,"ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[Qt([AV]),pt]})}}return t})();function yT(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function vT(t){return typeof t=="object"&&t!==null&&Object.keys(t).length===2&&"value"in t&&"disabled"in t}var HT=class extends pu{constructor(e=null,n,r){super(jv(n),Uv(r,n)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(n),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),jf(n)&&(n.nonNullable||n.initialValueIsDefault)&&(vT(e)?this.defaultValue=e.value:this.defaultValue=e)}setValue(e,n={}){this.value=this._pendingValue=e,this._onChange.length&&n.emitModelToViewChange!==!1&&this._onChange.forEach(r=>r(this.value,n.emitViewToModelChange!==!1)),this.updateValueAndValidity(n)}patchValue(e,n={}){this.setValue(e,n)}reset(e=this.defaultValue,n={}){this._applyFormState(e),this.markAsPristine(n),this.markAsUntouched(n),this.setValue(this.value,n),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){yT(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){yT(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(e){vT(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};var xV=t=>t instanceof HT,MV=(()=>{class t extends Ht{ngOnInit(){this._checkParentType(),this.formDirective.addFormGroup(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormGroup(this)}get control(){return this.formDirective.getFormGroup(this)}get path(){return Bf(this.name==null?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}static{this.\u0275fac=(()=>{let n;return function(i){return(n||(n=En(t)))(i||t)}})()}static{this.\u0275dir=Ne({type:t,features:[pt]})}}return t})();var NV={provide:Ko,useExisting:Mt(()=>PV)},wT=Promise.resolve(),PV=(()=>{class t extends Ko{constructor(n,r,i,o,s,a){super(),this._changeDetectorRef=s,this.callSetDisabledState=a,this.control=new HT,this._registered=!1,this.name="",this.update=new Ke,this._parent=n,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=$T(this,o)}ngOnChanges(n){if(this._checkForErrors(),!this._registered||"name"in n){if(this._registered&&(this._checkName(),this.formDirective)){let r=n.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in n&&this._updateDisabled(n),UT(n,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(n){this.viewModel=n,this.update.emit(n)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!!(this.options&&this.options.standalone)}_setUpStandalone(){Ff(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(n){wT.then(()=>{this.control.setValue(n,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(n){let r=n.isDisabled.currentValue,i=r!==0&&$i(r);wT.then(()=>{i&&!this.control.disabled?this.control.disable():!i&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(n){return this._parent?Bf(n,this._parent):[n]}static{this.\u0275fac=function(r){return new(r||t)(W(Ht,9),W(Gi,10),W(ba,10),W(Qo,10),W(Go,8),W(mu,8))}}static{this.\u0275dir=Ne({type:t,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"],options:[0,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[Qt([NV]),pt,pr]})}}return t})(),Z8=(()=>{class t{static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275dir=Ne({type:t,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]})}}return t})(),kV={provide:Qo,useExisting:Mt(()=>OV),multi:!0},OV=(()=>{class t extends gu{writeValue(n){let r=n??"";this.setProperty("value",r)}registerOnChange(n){this.onChange=r=>{n(r==""?null:parseFloat(r))}}static{this.\u0275fac=(()=>{let n;return function(i){return(n||(n=En(t)))(i||t)}})()}static{this.\u0275dir=Ne({type:t,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(r,i){r&1&&Hn("input",function(s){return i.onChange(s.target.value)})("blur",function(){return i.onTouched()})},features:[Qt([kV]),pt]})}}return t})();var zT=new z("");var FV={provide:Ht,useExisting:Mt(()=>qT)},qT=(()=>{class t extends Ht{get submitted(){return yr(this._submittedReactive)}set submitted(n){this._submittedReactive.set(n)}constructor(n,r,i){super(),this.callSetDisabledState=i,this._submitted=wa(()=>this._submittedReactive()),this._submittedReactive=ya(!1),this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new Ke,this._setValidators(n),this._setAsyncValidators(r)}ngOnChanges(n){this._checkFormPresent(),n.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(Vf(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(n){let r=this.form.get(n.path);return Ff(r,n,this.callSetDisabledState),r.updateValueAndValidity({emitEvent:!1}),this.directives.push(n),r}getControl(n){return this.form.get(n.path)}removeControl(n){mT(n.control||null,n,!1),SV(this.directives,n)}addFormGroup(n){this._setUpFormContainer(n)}removeFormGroup(n){this._cleanUpFormContainer(n)}getFormGroup(n){return this.form.get(n.path)}addFormArray(n){this._setUpFormContainer(n)}removeFormArray(n){this._cleanUpFormContainer(n)}getFormArray(n){return this.form.get(n.path)}updateModel(n,r){this.form.get(n.path).setValue(r)}onSubmit(n){return this._submittedReactive.set(!0),BT(this.form,this.directives),this.ngSubmit.emit(n),this.form._events.next(new Ov(this.control)),n?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(n=void 0){this.form.reset(n),this._submittedReactive.set(!1),this.form._events.next(new Fv(this.form))}_updateDomValue(){this.directives.forEach(n=>{let r=n.control,i=this.form.get(n.path);r!==i&&(mT(r||null,n),xV(i)&&(Ff(i,n,this.callSetDisabledState),n.control=i))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(n){let r=this.form.get(n.path);jT(r,n),r.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(n){if(this.form){let r=this.form.get(n.path);r&&CV(r,n)&&r.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){Bv(this.form,this),this._oldForm&&Vf(this._oldForm,this)}_checkFormPresent(){this.form}static{this.\u0275fac=function(r){return new(r||t)(W(Gi,10),W(ba,10),W(mu,8))}}static{this.\u0275dir=Ne({type:t,selectors:[["","formGroup",""]],hostBindings:function(r,i){r&1&&Hn("submit",function(s){return i.onSubmit(s)})("reset",function(){return i.onReset()})},inputs:{form:[0,"formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[Qt([FV]),pt,pr]})}}return t})(),LV={provide:Ht,useExisting:Mt(()=>GT)},GT=(()=>{class t extends MV{constructor(n,r,i){super(),this.name=null,this._parent=n,this._setValidators(r),this._setAsyncValidators(i)}_checkParentType(){KT(this._parent)}static{this.\u0275fac=function(r){return new(r||t)(W(Ht,13),W(Gi,10),W(ba,10))}}static{this.\u0275dir=Ne({type:t,selectors:[["","formGroupName",""]],inputs:{name:[0,"formGroupName","name"]},features:[Qt([LV]),pt]})}}return t})(),VV={provide:Ht,useExisting:Mt(()=>WT)},WT=(()=>{class t extends Ht{constructor(n,r,i){super(),this.name=null,this._parent=n,this._setValidators(r),this._setAsyncValidators(i)}ngOnInit(){this._checkParentType(),this.formDirective.addFormArray(this)}ngOnDestroy(){this.formDirective&&this.formDirective.removeFormArray(this)}get control(){return this.formDirective.getFormArray(this)}get formDirective(){return this._parent?this._parent.formDirective:null}get path(){return Bf(this.name==null?this.name:this.name.toString(),this._parent)}_checkParentType(){KT(this._parent)}static{this.\u0275fac=function(r){return new(r||t)(W(Ht,13),W(Gi,10),W(ba,10))}}static{this.\u0275dir=Ne({type:t,selectors:[["","formArrayName",""]],inputs:{name:[0,"formArrayName","name"]},features:[Qt([VV]),pt]})}}return t})();function KT(t){return!(t instanceof GT)&&!(t instanceof qT)&&!(t instanceof WT)}var jV={provide:Ko,useExisting:Mt(()=>UV)},UV=(()=>{class t extends Ko{set isDisabled(n){}static{this._ngModelWarningSentOnce=!1}constructor(n,r,i,o,s){super(),this._ngModelWarningConfig=s,this._added=!1,this.name=null,this.update=new Ke,this._ngModelWarningSent=!1,this._parent=n,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=$T(this,o)}ngOnChanges(n){this._added||this._setUpControl(),UT(n,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(n){this.viewModel=n,this.update.emit(n)}get path(){return Bf(this.name==null?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}static{this.\u0275fac=function(r){return new(r||t)(W(Ht,13),W(Gi,10),W(ba,10),W(Qo,10),W(zT,8))}}static{this.\u0275dir=Ne({type:t,selectors:[["","formControlName",""]],inputs:{name:[0,"formControlName","name"],isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"]},outputs:{update:"ngModelChange"},features:[Qt([jV]),pt,pr]})}}return t})(),BV={provide:Qo,useExisting:Mt(()=>YT),multi:!0};function QT(t,e){return t==null?`${e}`:(e&&typeof e=="object"&&(e="Object"),`${t}: ${e}`.slice(0,50))}function $V(t){return t.split(":")[0]}var YT=(()=>{class t extends gu{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(n){this._compareWith=n}writeValue(n){this.value=n;let r=this._getOptionId(n),i=QT(r,n);this.setProperty("value",i)}registerOnChange(n){this.onChange=r=>{this.value=this._getOptionValue(r),n(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(n){for(let r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r),n))return r;return null}_getOptionValue(n){let r=$V(n);return this._optionMap.has(r)?this._optionMap.get(r):n}static{this.\u0275fac=(()=>{let n;return function(i){return(n||(n=En(t)))(i||t)}})()}static{this.\u0275dir=Ne({type:t,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(r,i){r&1&&Hn("change",function(s){return i.onChange(s.target.value)})("blur",function(){return i.onTouched()})},inputs:{compareWith:"compareWith"},features:[Qt([BV]),pt]})}}return t})(),J8=(()=>{class t{constructor(n,r,i){this._element=n,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption())}set ngValue(n){this._select!=null&&(this._select._optionMap.set(this.id,n),this._setElementValue(QT(this.id,n)),this._select.writeValue(this._select.value))}set value(n){this._setElementValue(n),this._select&&this._select.writeValue(this._select.value)}_setElementValue(n){this._renderer.setProperty(this._element.nativeElement,"value",n)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static{this.\u0275fac=function(r){return new(r||t)(W($n),W(mr),W(YT,9))}}static{this.\u0275dir=Ne({type:t,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}})}}return t})(),HV={provide:Qo,useExisting:Mt(()=>ZT),multi:!0};function _T(t,e){return t==null?`${e}`:(typeof e=="string"&&(e=`'${e}'`),e&&typeof e=="object"&&(e="Object"),`${t}: ${e}`.slice(0,50))}function zV(t){return t.split(":")[0]}var ZT=(()=>{class t extends gu{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(n){this._compareWith=n}writeValue(n){this.value=n;let r;if(Array.isArray(n)){let i=n.map(o=>this._getOptionId(o));r=(o,s)=>{o._setSelected(i.indexOf(s.toString())>-1)}}else r=(i,o)=>{i._setSelected(!1)};this._optionMap.forEach(r)}registerOnChange(n){this.onChange=r=>{let i=[],o=r.selectedOptions;if(o!==void 0){let s=o;for(let a=0;a<s.length;a++){let u=s[a],d=this._getOptionValue(u.value);i.push(d)}}else{let s=r.options;for(let a=0;a<s.length;a++){let u=s[a];if(u.selected){let d=this._getOptionValue(u.value);i.push(d)}}}this.value=i,n(i)}}_registerOption(n){let r=(this._idCounter++).toString();return this._optionMap.set(r,n),r}_getOptionId(n){for(let r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r)._value,n))return r;return null}_getOptionValue(n){let r=zV(n);return this._optionMap.has(r)?this._optionMap.get(r)._value:n}static{this.\u0275fac=(()=>{let n;return function(i){return(n||(n=En(t)))(i||t)}})()}static{this.\u0275dir=Ne({type:t,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(r,i){r&1&&Hn("change",function(s){return i.onChange(s.target)})("blur",function(){return i.onTouched()})},inputs:{compareWith:"compareWith"},features:[Qt([HV]),pt]})}}return t})(),X8=(()=>{class t{constructor(n,r,i){this._element=n,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption(this))}set ngValue(n){this._select!=null&&(this._value=n,this._setElementValue(_T(this.id,n)),this._select.writeValue(this._select.value))}set value(n){this._select?(this._value=n,this._setElementValue(_T(this.id,n)),this._select.writeValue(this._select.value)):this._setElementValue(n)}_setElementValue(n){this._renderer.setProperty(this._element.nativeElement,"value",n)}_setSelected(n){this._renderer.setProperty(this._element.nativeElement,"selected",n)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static{this.\u0275fac=function(r){return new(r||t)(W($n),W(mr),W(ZT,9))}}static{this.\u0275dir=Ne({type:t,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}})}}return t})();function qV(t){return typeof t=="number"?t:parseInt(t,10)}var JT=(()=>{class t{constructor(){this._validator=xf}ngOnChanges(n){if(this.inputName in n){let r=this.normalizeInput(n[this.inputName].currentValue);this._enabled=this.enabled(r),this._validator=this._enabled?this.createValidator(r):xf,this._onChange&&this._onChange()}}validate(n){return this._validator(n)}registerOnValidatorChange(n){this._onChange=n}enabled(n){return n!=null}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275dir=Ne({type:t,features:[pr]})}}return t})();var GV={provide:Gi,useExisting:Mt(()=>WV),multi:!0};var WV=(()=>{class t extends JT{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=$i,this.createValidator=n=>CT}enabled(n){return n}static{this.\u0275fac=(()=>{let n;return function(i){return(n||(n=En(t)))(i||t)}})()}static{this.\u0275dir=Ne({type:t,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(r,i){r&2&&va("required",i._enabled?"":null)},inputs:{required:"required"},features:[Qt([GV]),pt]})}}return t})();var KV={provide:Gi,useExisting:Mt(()=>QV),multi:!0},QV=(()=>{class t extends JT{constructor(){super(...arguments),this.inputName="maxlength",this.normalizeInput=n=>qV(n),this.createValidator=n=>TT(n)}static{this.\u0275fac=(()=>{let n;return function(i){return(n||(n=En(t)))(i||t)}})()}static{this.\u0275dir=Ne({type:t,selectors:[["","maxlength","","formControlName",""],["","maxlength","","formControl",""],["","maxlength","","ngModel",""]],hostVars:1,hostBindings:function(r,i){r&2&&va("maxlength",i._enabled?i.maxlength:null)},inputs:{maxlength:"maxlength"},features:[Qt([KV]),pt]})}}return t})();var XT=(()=>{class t{static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275mod=Un({type:t})}static{this.\u0275inj=jn({})}}return t})(),IT=class extends pu{constructor(e,n,r){super(jv(n),Uv(r,n)),this.controls=e,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}at(e){return this.controls[this._adjustIndex(e)]}push(e,n={}){this.controls.push(e),this._registerControl(e),this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}insert(e,n,r={}){this.controls.splice(e,0,n),this._registerControl(n),this.updateValueAndValidity({emitEvent:r.emitEvent})}removeAt(e,n={}){let r=this._adjustIndex(e);r<0&&(r=0),this.controls[r]&&this.controls[r]._registerOnCollectionChange(()=>{}),this.controls.splice(r,1),this.updateValueAndValidity({emitEvent:n.emitEvent})}setControl(e,n,r={}){let i=this._adjustIndex(e);i<0&&(i=0),this.controls[i]&&this.controls[i]._registerOnCollectionChange(()=>{}),this.controls.splice(i,1),n&&(this.controls.splice(i,0,n),this._registerControl(n)),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}get length(){return this.controls.length}setValue(e,n={}){LT(this,!1,e),e.forEach((r,i)=>{FT(this,!1,i),this.at(i).setValue(r,{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(e,n={}){e!=null&&(e.forEach((r,i)=>{this.at(i)&&this.at(i).patchValue(r,{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(e=[],n={}){this._forEachChild((r,i)=>{r.reset(e[i],{onlySelf:!0,emitEvent:n.emitEvent})}),this._updatePristine(n,this),this._updateTouched(n,this),this.updateValueAndValidity(n)}getRawValue(){return this.controls.map(e=>e.getRawValue())}clear(e={}){this.controls.length<1||(this._forEachChild(n=>n._registerOnCollectionChange(()=>{})),this.controls.splice(0),this.updateValueAndValidity({emitEvent:e.emitEvent}))}_adjustIndex(e){return e<0?e+this.length:e}_syncPendingControls(){let e=this.controls.reduce((n,r)=>r._syncPendingControls()?!0:n,!1);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){this.controls.forEach((n,r)=>{e(n,r)})}_updateValue(){this.value=this.controls.filter(e=>e.enabled||this.disabled).map(e=>e.value)}_anyControls(e){return this.controls.some(n=>n.enabled&&e(n))}_setUpControls(){this._forEachChild(e=>this._registerControl(e))}_allControlsDisabled(){for(let e of this.controls)if(e.enabled)return!1;return this.controls.length>0||this.disabled}_registerControl(e){e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)}_find(e){return this.at(e)??null}};var e7=(()=>{class t{static withConfig(n){return{ngModule:t,providers:[{provide:mu,useValue:n.callSetDisabledState??Uf}]}}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275mod=Un({type:t})}static{this.\u0275inj=jn({imports:[XT]})}}return t})(),t7=(()=>{class t{static withConfig(n){return{ngModule:t,providers:[{provide:zT,useValue:n.warnOnNgModelWithFormControl??"always"},{provide:mu,useValue:n.callSetDisabledState??Uf}]}}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275mod=Un({type:t})}static{this.\u0275inj=jn({imports:[XT]})}}return t})();function YV(t,e){t&1&&(ru(0,"div",1),iu(1,"div",2),ru(2,"h3"),T0(3,"CARGANDO..."),of()())}var eS=class t{isLoading=!1;static \u0275fac=function(n){return new(n||t)};static \u0275cmp=Oh({type:t,selectors:[["app-loading"]],inputs:{isLoading:"isLoading"},standalone:!0,features:[sf],decls:1,vars:1,consts:[["class","loading-overlay",4,"ngIf"],[1,"loading-overlay"],[1,"loading-spinner"]],template:function(n,r){n&1&&sv(0,YV,4,0,"div",0),n&2&&cv("ngIf",r.isLoading)},dependencies:[Tf,eT],styles:[".loading-overlay[_ngcontent-%COMP%]{position:fixed;inset:0;background:#00000080;display:flex;flex-direction:column;align-items:center;justify-content:center;z-index:1000}.loading-spinner[_ngcontent-%COMP%]{border:8px solid #f3f3f3;border-top:8px solid #ee0a0a;border-radius:50%;width:50px;height:50px;animation:_ngcontent-%COMP%_spin 1s linear infinite;margin-bottom:20px}@keyframes _ngcontent-%COMP%_spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}"]})};var ae="primary",Mu=Symbol("RouteTitle"),Gv=class{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n[0]:n}return null}getAll(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}};function Ra(t){return new Gv(t)}function ZV(t,e,n){let r=n.path.split("/");if(r.length>t.length||n.pathMatch==="full"&&(e.hasChildren()||r.length<t.length))return null;let i={};for(let o=0;o<r.length;o++){let s=r[o],a=t[o];if(s[0]===":")i[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}function JV(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!wr(t[n],e[n]))return!1;return!0}function wr(t,e){let n=t?Wv(t):void 0,r=e?Wv(e):void 0;if(!n||!r||n.length!=r.length)return!1;let i;for(let o=0;o<n.length;o++)if(i=n[o],!dS(t[i],e[i]))return!1;return!0}function Wv(t){return[...Object.keys(t),...Object.getOwnPropertySymbols(t)]}function dS(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;let n=[...t].sort(),r=[...e].sort();return n.every((i,o)=>r[o]===i)}else return t===e}function hS(t){return t.length>0?t[t.length-1]:null}function Qi(t){return fm(t)?t:qo(t)?$e(Promise.resolve(t)):ne(t)}var XV={exact:pS,subset:gS},fS={exact:e2,subset:t2,ignored:()=>!0};function tS(t,e,n){return XV[n.paths](t.root,e.root,n.matrixParams)&&fS[n.queryParams](t.queryParams,e.queryParams)&&!(n.fragment==="exact"&&t.fragment!==e.fragment)}function e2(t,e){return wr(t,e)}function pS(t,e,n){if(!Zo(t.segments,e.segments)||!zf(t.segments,e.segments,n)||t.numberOfChildren!==e.numberOfChildren)return!1;for(let r in e.children)if(!t.children[r]||!pS(t.children[r],e.children[r],n))return!1;return!0}function t2(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>dS(t[n],e[n]))}function gS(t,e,n){return mS(t,e,e.segments,n)}function mS(t,e,n,r){if(t.segments.length>n.length){let i=t.segments.slice(0,n.length);return!(!Zo(i,n)||e.hasChildren()||!zf(i,n,r))}else if(t.segments.length===n.length){if(!Zo(t.segments,n)||!zf(t.segments,n,r))return!1;for(let i in e.children)if(!t.children[i]||!gS(t.children[i],e.children[i],r))return!1;return!0}else{let i=n.slice(0,t.segments.length),o=n.slice(t.segments.length);return!Zo(t.segments,i)||!zf(t.segments,i,r)||!t.children[ae]?!1:mS(t.children[ae],e,o,r)}}function zf(t,e,n){return e.every((r,i)=>fS[n](t[i].parameters,r.parameters))}var Wr=class{constructor(e=new Pe([],{}),n={},r=null){this.root=e,this.queryParams=n,this.fragment=r}get queryParamMap(){return this._queryParamMap??=Ra(this.queryParams),this._queryParamMap}toString(){return i2.serialize(this)}},Pe=class{constructor(e,n){this.segments=e,this.children=n,this.parent=null,Object.values(n).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return qf(this)}},Yo=class{constructor(e,n){this.path=e,this.parameters=n}get parameterMap(){return this._parameterMap??=Ra(this.parameters),this._parameterMap}toString(){return vS(this)}};function n2(t,e){return Zo(t,e)&&t.every((n,r)=>wr(n.parameters,e[r].parameters))}function Zo(t,e){return t.length!==e.length?!1:t.every((n,r)=>n.path===e[r].path)}function r2(t,e){let n=[];return Object.entries(t.children).forEach(([r,i])=>{r===ae&&(n=n.concat(e(i,r)))}),Object.entries(t.children).forEach(([r,i])=>{r!==ae&&(n=n.concat(e(i,r)))}),n}var Nu=(()=>{class t{static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=K({token:t,factory:()=>new xa,providedIn:"root"})}}return t})(),xa=class{parse(e){let n=new Qv(e);return new Wr(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(e){let n=`/${yu(e.root,!0)}`,r=a2(e.queryParams),i=typeof e.fragment=="string"?`#${o2(e.fragment)}`:"";return`${n}${r}${i}`}},i2=new xa;function qf(t){return t.segments.map(e=>vS(e)).join("/")}function yu(t,e){if(!t.hasChildren())return qf(t);if(e){let n=t.children[ae]?yu(t.children[ae],!1):"",r=[];return Object.entries(t.children).forEach(([i,o])=>{i!==ae&&r.push(`${i}:${yu(o,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}else{let n=r2(t,(r,i)=>i===ae?[yu(t.children[ae],!1)]:[`${i}:${yu(r,!1)}`]);return Object.keys(t.children).length===1&&t.children[ae]!=null?`${qf(t)}/${n[0]}`:`${qf(t)}/(${n.join("//")})`}}function yS(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function $f(t){return yS(t).replace(/%3B/gi,";")}function o2(t){return encodeURI(t)}function Kv(t){return yS(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function Gf(t){return decodeURIComponent(t)}function nS(t){return Gf(t.replace(/\+/g,"%20"))}function vS(t){return`${Kv(t.path)}${s2(t.parameters)}`}function s2(t){return Object.entries(t).map(([e,n])=>`;${Kv(e)}=${Kv(n)}`).join("")}function a2(t){let e=Object.entries(t).map(([n,r])=>Array.isArray(r)?r.map(i=>`${$f(n)}=${$f(i)}`).join("&"):`${$f(n)}=${$f(r)}`).filter(n=>n);return e.length?`?${e.join("&")}`:""}var c2=/^[^\/()?;#]+/;function $v(t){let e=t.match(c2);return e?e[0]:""}var u2=/^[^\/()?;=#]+/;function l2(t){let e=t.match(u2);return e?e[0]:""}var d2=/^[^=?&#]+/;function h2(t){let e=t.match(d2);return e?e[0]:""}var f2=/^[^&#]+/;function p2(t){let e=t.match(f2);return e?e[0]:""}var Qv=class{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new Pe([],{}):new Pe([],this.parseChildren())}parseQueryParams(){let e={};if(this.consumeOptional("?"))do this.parseQueryParam(e);while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(n).length>0)&&(r[ae]=new Pe(e,n)),r}parseSegment(){let e=$v(this.remaining);if(e===""&&this.peekStartsWith(";"))throw new G(4009,!1);return this.capture(e),new Yo(Gf(e),this.parseMatrixParams())}parseMatrixParams(){let e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){let n=l2(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let i=$v(this.remaining);i&&(r=i,this.capture(r))}e[Gf(n)]=Gf(r)}parseQueryParam(e){let n=h2(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let s=p2(this.remaining);s&&(r=s,this.capture(r))}let i=nS(n),o=nS(r);if(e.hasOwnProperty(i)){let s=e[i];Array.isArray(s)||(s=[s],e[i]=s),s.push(o)}else e[i]=o}parseParens(e){let n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let r=$v(this.remaining),i=this.remaining[r.length];if(i!=="/"&&i!==")"&&i!==";")throw new G(4010,!1);let o;r.indexOf(":")>-1?(o=r.slice(0,r.indexOf(":")),this.capture(o),this.capture(":")):e&&(o=ae);let s=this.parseChildren();n[o]=Object.keys(s).length===1?s[ae]:new Pe([],s),this.consumeOptional("//")}return n}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return this.peekStartsWith(e)?(this.remaining=this.remaining.substring(e.length),!0):!1}capture(e){if(!this.consumeOptional(e))throw new G(4011,!1)}};function wS(t){return t.segments.length>0?new Pe([],{[ae]:t}):t}function _S(t){let e={};for(let[r,i]of Object.entries(t.children)){let o=_S(i);if(r===ae&&o.segments.length===0&&o.hasChildren())for(let[s,a]of Object.entries(o.children))e[s]=a;else(o.segments.length>0||o.hasChildren())&&(e[r]=o)}let n=new Pe(t.segments,e);return g2(n)}function g2(t){if(t.numberOfChildren===1&&t.children[ae]){let e=t.children[ae];return new Pe(t.segments.concat(e.segments),e.children)}return t}function Jo(t){return t instanceof Wr}function m2(t,e,n=null,r=null){let i=IS(t);return ES(i,e,n,r)}function IS(t){let e;function n(o){let s={};for(let u of o.children){let d=n(u);s[u.outlet]=d}let a=new Pe(o.url,s);return o===t&&(e=a),a}let r=n(t.root),i=wS(r);return e??i}function ES(t,e,n,r){let i=t;for(;i.parent;)i=i.parent;if(e.length===0)return Hv(i,i,i,n,r);let o=y2(e);if(o.toRoot())return Hv(i,i,new Pe([],{}),n,r);let s=v2(o,i,t),a=s.processChildren?_u(s.segmentGroup,s.index,o.commands):DS(s.segmentGroup,s.index,o.commands);return Hv(i,s.segmentGroup,a,n,r)}function Wf(t){return typeof t=="object"&&t!=null&&!t.outlets&&!t.segmentPath}function bu(t){return typeof t=="object"&&t!=null&&t.outlets}function Hv(t,e,n,r,i){let o={};r&&Object.entries(r).forEach(([u,d])=>{o[u]=Array.isArray(d)?d.map(p=>`${p}`):`${d}`});let s;t===e?s=n:s=bS(t,e,n);let a=wS(_S(s));return new Wr(a,o,i)}function bS(t,e,n){let r={};return Object.entries(t.children).forEach(([i,o])=>{o===e?r[i]=n:r[i]=bS(o,e,n)}),new Pe(t.segments,r)}var Kf=class{constructor(e,n,r){if(this.isAbsolute=e,this.numberOfDoubleDots=n,this.commands=r,e&&r.length>0&&Wf(r[0]))throw new G(4003,!1);let i=r.find(bu);if(i&&i!==hS(r))throw new G(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function y2(t){if(typeof t[0]=="string"&&t.length===1&&t[0]==="/")return new Kf(!0,0,t);let e=0,n=!1,r=t.reduce((i,o,s)=>{if(typeof o=="object"&&o!=null){if(o.outlets){let a={};return Object.entries(o.outlets).forEach(([u,d])=>{a[u]=typeof d=="string"?d.split("/"):d}),[...i,{outlets:a}]}if(o.segmentPath)return[...i,o.segmentPath]}return typeof o!="string"?[...i,o]:s===0?(o.split("/").forEach((a,u)=>{u==0&&a==="."||(u==0&&a===""?n=!0:a===".."?e++:a!=""&&i.push(a))}),i):[...i,o]},[]);return new Kf(n,e,r)}var Ta=class{constructor(e,n,r){this.segmentGroup=e,this.processChildren=n,this.index=r}};function v2(t,e,n){if(t.isAbsolute)return new Ta(e,!0,0);if(!n)return new Ta(e,!1,NaN);if(n.parent===null)return new Ta(n,!0,0);let r=Wf(t.commands[0])?0:1,i=n.segments.length-1+r;return w2(n,i,t.numberOfDoubleDots)}function w2(t,e,n){let r=t,i=e,o=n;for(;o>i;){if(o-=i,r=r.parent,!r)throw new G(4005,!1);i=r.segments.length}return new Ta(r,!1,i-o)}function _2(t){return bu(t[0])?t[0].outlets:{[ae]:t}}function DS(t,e,n){if(t??=new Pe([],{}),t.segments.length===0&&t.hasChildren())return _u(t,e,n);let r=I2(t,e,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){let o=new Pe(t.segments.slice(0,r.pathIndex),{});return o.children[ae]=new Pe(t.segments.slice(r.pathIndex),t.children),_u(o,0,i)}else return r.match&&i.length===0?new Pe(t.segments,{}):r.match&&!t.hasChildren()?Yv(t,e,n):r.match?_u(t,0,i):Yv(t,e,n)}function _u(t,e,n){if(n.length===0)return new Pe(t.segments,{});{let r=_2(n),i={};if(Object.keys(r).some(o=>o!==ae)&&t.children[ae]&&t.numberOfChildren===1&&t.children[ae].segments.length===0){let o=_u(t.children[ae],e,n);return new Pe(t.segments,o.children)}return Object.entries(r).forEach(([o,s])=>{typeof s=="string"&&(s=[s]),s!==null&&(i[o]=DS(t.children[o],e,s))}),Object.entries(t.children).forEach(([o,s])=>{r[o]===void 0&&(i[o]=s)}),new Pe(t.segments,i)}}function I2(t,e,n){let r=0,i=e,o={match:!1,pathIndex:0,commandIndex:0};for(;i<t.segments.length;){if(r>=n.length)return o;let s=t.segments[i],a=n[r];if(bu(a))break;let u=`${a}`,d=r<n.length-1?n[r+1]:null;if(i>0&&u===void 0)break;if(u&&d&&typeof d=="object"&&d.outlets===void 0){if(!iS(u,d,s))return o;r+=2}else{if(!iS(u,{},s))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}function Yv(t,e,n){let r=t.segments.slice(0,e),i=0;for(;i<n.length;){let o=n[i];if(bu(o)){let u=E2(o.outlets);return new Pe(r,u)}if(i===0&&Wf(n[0])){let u=t.segments[e];r.push(new Yo(u.path,rS(n[0]))),i++;continue}let s=bu(o)?o.outlets[ae]:`${o}`,a=i<n.length-1?n[i+1]:null;s&&a&&Wf(a)?(r.push(new Yo(s,rS(a))),i+=2):(r.push(new Yo(s,{})),i++)}return new Pe(r,{})}function E2(t){let e={};return Object.entries(t).forEach(([n,r])=>{typeof r=="string"&&(r=[r]),r!==null&&(e[n]=Yv(new Pe([],{}),0,r))}),e}function rS(t){let e={};return Object.entries(t).forEach(([n,r])=>e[n]=`${r}`),e}function iS(t,e,n){return t==n.path&&wr(e,n.parameters)}var Iu="imperative",_t=function(t){return t[t.NavigationStart=0]="NavigationStart",t[t.NavigationEnd=1]="NavigationEnd",t[t.NavigationCancel=2]="NavigationCancel",t[t.NavigationError=3]="NavigationError",t[t.RoutesRecognized=4]="RoutesRecognized",t[t.ResolveStart=5]="ResolveStart",t[t.ResolveEnd=6]="ResolveEnd",t[t.GuardsCheckStart=7]="GuardsCheckStart",t[t.GuardsCheckEnd=8]="GuardsCheckEnd",t[t.RouteConfigLoadStart=9]="RouteConfigLoadStart",t[t.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",t[t.ChildActivationStart=11]="ChildActivationStart",t[t.ChildActivationEnd=12]="ChildActivationEnd",t[t.ActivationStart=13]="ActivationStart",t[t.ActivationEnd=14]="ActivationEnd",t[t.Scroll=15]="Scroll",t[t.NavigationSkipped=16]="NavigationSkipped",t}(_t||{}),Tn=class{constructor(e,n){this.id=e,this.url=n}},Ma=class extends Tn{constructor(e,n,r="imperative",i=null){super(e,n),this.type=_t.NavigationStart,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},_r=class extends Tn{constructor(e,n,r){super(e,n),this.urlAfterRedirects=r,this.type=_t.NavigationEnd}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},dn=function(t){return t[t.Redirect=0]="Redirect",t[t.SupersededByNewNavigation=1]="SupersededByNewNavigation",t[t.NoDataFromResolver=2]="NoDataFromResolver",t[t.GuardRejected=3]="GuardRejected",t}(dn||{}),Qf=function(t){return t[t.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",t[t.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",t}(Qf||{}),Gr=class extends Tn{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=_t.NavigationCancel}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},Wi=class extends Tn{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=_t.NavigationSkipped}},Du=class extends Tn{constructor(e,n,r,i){super(e,n),this.error=r,this.target=i,this.type=_t.NavigationError}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},Yf=class extends Tn{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=_t.RoutesRecognized}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Zv=class extends Tn{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=_t.GuardsCheckStart}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Jv=class extends Tn{constructor(e,n,r,i,o){super(e,n),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=o,this.type=_t.GuardsCheckEnd}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},Xv=class extends Tn{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=_t.ResolveStart}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},ew=class extends Tn{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=_t.ResolveEnd}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},tw=class{constructor(e){this.route=e,this.type=_t.RouteConfigLoadStart}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},nw=class{constructor(e){this.route=e,this.type=_t.RouteConfigLoadEnd}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},rw=class{constructor(e){this.snapshot=e,this.type=_t.ChildActivationStart}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},iw=class{constructor(e){this.snapshot=e,this.type=_t.ChildActivationEnd}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},ow=class{constructor(e){this.snapshot=e,this.type=_t.ActivationStart}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},sw=class{constructor(e){this.snapshot=e,this.type=_t.ActivationEnd}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Zf=class{constructor(e,n,r){this.routerEvent=e,this.position=n,this.anchor=r,this.type=_t.Scroll}toString(){let e=this.position?`${this.position[0]}, ${this.position[1]}`:null;return`Scroll(anchor: '${this.anchor}', position: '${e}')`}},Cu=class{},Na=class{constructor(e,n){this.url=e,this.navigationBehaviorOptions=n}};function b2(t,e){return t.providers&&!t._injector&&(t._injector=tf(t.providers,e,`Route: ${t.path}`)),t._injector??e}function qn(t){return t.outlet||ae}function D2(t,e){let n=t.filter(r=>qn(r)===e);return n.push(...t.filter(r=>qn(r)!==e)),n}function Pu(t){if(!t)return null;if(t.routeConfig?._injector)return t.routeConfig._injector;for(let e=t.parent;e;e=e.parent){let n=e.routeConfig;if(n?._loadedInjector)return n._loadedInjector;if(n?._injector)return n._injector}return null}var aw=class{get injector(){return Pu(this.route?.snapshot)??this.rootInjector}set injector(e){}constructor(e){this.rootInjector=e,this.outlet=null,this.route=null,this.children=new ku(this.rootInjector),this.attachRef=null}},ku=(()=>{class t{constructor(n){this.rootInjector=n,this.contexts=new Map}onChildOutletCreated(n,r){let i=this.getOrCreateContext(n);i.outlet=r,this.contexts.set(n,i)}onChildOutletDestroyed(n){let r=this.getContext(n);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){let n=this.contexts;return this.contexts=new Map,n}onOutletReAttached(n){this.contexts=n}getOrCreateContext(n){let r=this.getContext(n);return r||(r=new aw(this.rootInjector),this.contexts.set(n,r)),r}getContext(n){return this.contexts.get(n)||null}static{this.\u0275fac=function(r){return new(r||t)(X(cn))}}static{this.\u0275prov=K({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),Jf=class{constructor(e){this._root=e}get root(){return this._root.value}parent(e){let n=this.pathFromRoot(e);return n.length>1?n[n.length-2]:null}children(e){let n=cw(e,this._root);return n?n.children.map(r=>r.value):[]}firstChild(e){let n=cw(e,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(e){let n=uw(e,this._root);return n.length<2?[]:n[n.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return uw(e,this._root).map(n=>n.value)}};function cw(t,e){if(t===e.value)return e;for(let n of e.children){let r=cw(t,n);if(r)return r}return null}function uw(t,e){if(t===e.value)return[e];for(let n of e.children){let r=uw(t,n);if(r.length)return r.unshift(e),r}return[]}var ln=class{constructor(e,n){this.value=e,this.children=n}toString(){return`TreeNode(${this.value})`}};function Ca(t){let e={};return t&&t.children.forEach(n=>e[n.value.outlet]=n),e}var Xf=class extends Jf{constructor(e,n){super(e),this.snapshot=n,vw(this,e)}toString(){return this.snapshot.toString()}};function CS(t){let e=C2(t),n=new Ct([new Yo("",{})]),r=new Ct({}),i=new Ct({}),o=new Ct({}),s=new Ct(""),a=new Ki(n,r,o,s,i,ae,t,e.root);return a.snapshot=e.root,new Xf(new ln(a,[]),e)}function C2(t){let e={},n={},r={},i="",o=new Sa([],e,r,i,n,ae,t,null,{});return new tp("",new ln(o,[]))}var Ki=class{constructor(e,n,r,i,o,s,a,u){this.urlSubject=e,this.paramsSubject=n,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=o,this.outlet=s,this.component=a,this._futureSnapshot=u,this.title=this.dataSubject?.pipe(le(d=>d[Mu]))??ne(void 0),this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(le(e=>Ra(e))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(le(e=>Ra(e))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function ep(t,e,n="emptyOnly"){let r,{routeConfig:i}=t;return e!==null&&(n==="always"||i?.path===""||!e.component&&!e.routeConfig?.loadComponent)?r={params:B(B({},e.params),t.params),data:B(B({},e.data),t.data),resolve:B(B(B(B({},t.data),e.data),i?.data),t._resolvedData)}:r={params:B({},t.params),data:B({},t.data),resolve:B(B({},t.data),t._resolvedData??{})},i&&SS(i)&&(r.resolve[Mu]=i.title),r}var Sa=class{get title(){return this.data?.[Mu]}constructor(e,n,r,i,o,s,a,u,d){this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=s,this.component=a,this.routeConfig=u,this._resolve=d}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=Ra(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=Ra(this.queryParams),this._queryParamMap}toString(){let e=this.url.map(r=>r.toString()).join("/"),n=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${e}', path:'${n}')`}},tp=class extends Jf{constructor(e,n){super(n),this.url=e,vw(this,n)}toString(){return TS(this._root)}};function vw(t,e){e.value._routerState=t,e.children.forEach(n=>vw(t,n))}function TS(t){let e=t.children.length>0?` { ${t.children.map(TS).join(", ")} } `:"";return`${t.value}${e}`}function zv(t){if(t.snapshot){let e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,wr(e.queryParams,n.queryParams)||t.queryParamsSubject.next(n.queryParams),e.fragment!==n.fragment&&t.fragmentSubject.next(n.fragment),wr(e.params,n.params)||t.paramsSubject.next(n.params),JV(e.url,n.url)||t.urlSubject.next(n.url),wr(e.data,n.data)||t.dataSubject.next(n.data)}else t.snapshot=t._futureSnapshot,t.dataSubject.next(t._futureSnapshot.data)}function lw(t,e){let n=wr(t.params,e.params)&&n2(t.url,e.url),r=!t.parent!=!e.parent;return n&&!r&&(!t.parent||lw(t.parent,e.parent))}function SS(t){return typeof t.title=="string"||t.title===null}var T2=(()=>{class t{constructor(){this.activated=null,this._activatedRoute=null,this.name=ae,this.activateEvents=new Ke,this.deactivateEvents=new Ke,this.attachEvents=new Ke,this.detachEvents=new Ke,this.parentContexts=j(ku),this.location=j(ma),this.changeDetector=j(Go),this.inputBinder=j(op,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(n){if(n.name){let{firstChange:r,previousValue:i}=n.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(n){return this.parentContexts.getContext(n)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let n=this.parentContexts.getContext(this.name);n?.route&&(n.attachRef?this.attach(n.attachRef,n.route):this.activateWith(n.route,n.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new G(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new G(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new G(4012,!1);this.location.detach();let n=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(n.instance),n}attach(n,r){this.activated=n,this._activatedRoute=r,this.location.insert(n.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(n.instance)}deactivate(){if(this.activated){let n=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(n)}}activateWith(n,r){if(this.isActivated)throw new G(4013,!1);this._activatedRoute=n;let i=this.location,s=n.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,u=new dw(n,a,i.injector);this.activated=i.createComponent(s,{index:i.length,injector:u,environmentInjector:r}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275dir=Ne({type:t,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[pr]})}}return t})(),dw=class t{__ngOutletInjector(e){return new t(this.route,this.childContexts,e)}constructor(e,n,r){this.route=e,this.childContexts=n,this.parent=r}get(e,n){return e===Ki?this.route:e===ku?this.childContexts:this.parent.get(e,n)}},op=new z(""),oS=(()=>{class t{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(n){this.unsubscribeFromRouteData(n),this.subscribeToRouteData(n)}unsubscribeFromRouteData(n){this.outletDataSubscriptions.get(n)?.unsubscribe(),this.outletDataSubscriptions.delete(n)}subscribeToRouteData(n){let{activatedRoute:r}=n,i=Bc([r.queryParams,r.params,r.data]).pipe(yn(([o,s,a],u)=>(a=B(B(B({},o),s),a),u===0?ne(a):Promise.resolve(a)))).subscribe(o=>{if(!n.isActivated||!n.activatedComponentRef||n.activatedRoute!==r||r.component===null){this.unsubscribeFromRouteData(n);return}let s=V0(r.component);if(!s){this.unsubscribeFromRouteData(n);return}for(let{templateName:a}of s.inputs)n.activatedComponentRef.setInput(a,o[a])});this.outletDataSubscriptions.set(n,i)}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=K({token:t,factory:t.\u0275fac})}}return t})();function S2(t,e,n){let r=Tu(t,e._root,n?n._root:void 0);return new Xf(r,e)}function Tu(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){let r=n.value;r._futureSnapshot=e.value;let i=A2(t,e,n);return new ln(r,i)}else{if(t.shouldAttach(e.value)){let o=t.retrieve(e.value);if(o!==null){let s=o.route;return s.value._futureSnapshot=e.value,s.children=e.children.map(a=>Tu(t,a)),s}}let r=R2(e.value),i=e.children.map(o=>Tu(t,o));return new ln(r,i)}}function A2(t,e,n){return e.children.map(r=>{for(let i of n.children)if(t.shouldReuseRoute(r.value,i.value.snapshot))return Tu(t,r,i);return Tu(t,r)})}function R2(t){return new Ki(new Ct(t.url),new Ct(t.params),new Ct(t.queryParams),new Ct(t.fragment),new Ct(t.data),t.outlet,t.component,t)}var Su=class{constructor(e,n){this.redirectTo=e,this.navigationBehaviorOptions=n}},AS="ngNavigationCancelingError";function np(t,e){let{redirectTo:n,navigationBehaviorOptions:r}=Jo(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=RS(!1,dn.Redirect);return i.url=n,i.navigationBehaviorOptions=r,i}function RS(t,e){let n=new Error(`NavigationCancelingError: ${t||""}`);return n[AS]=!0,n.cancellationCode=e,n}function x2(t){return xS(t)&&Jo(t.url)}function xS(t){return!!t&&t[AS]}var M2=(t,e,n,r)=>le(i=>(new hw(e,i.targetRouterState,i.currentRouterState,n,r).activate(t),i)),hw=class{constructor(e,n,r,i,o){this.routeReuseStrategy=e,this.futureState=n,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=o}activate(e){let n=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,r,e),zv(this.futureState.root),this.activateChildRoutes(n,r,e)}deactivateChildRoutes(e,n,r){let i=Ca(n);e.children.forEach(o=>{let s=o.value.outlet;this.deactivateRoutes(o,i[s],r),delete i[s]}),Object.values(i).forEach(o=>{this.deactivateRouteAndItsChildren(o,r)})}deactivateRoutes(e,n,r){let i=e.value,o=n?n.value:null;if(i===o)if(i.component){let s=r.getContext(i.outlet);s&&this.deactivateChildRoutes(e,n,s.children)}else this.deactivateChildRoutes(e,n,r);else o&&this.deactivateRouteAndItsChildren(n,r)}deactivateRouteAndItsChildren(e,n){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,n):this.deactivateRouteAndOutlet(e,n)}detachAndStoreRouteSubtree(e,n){let r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,o=Ca(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);if(r&&r.outlet){let s=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:s,route:e,contexts:a})}}deactivateRouteAndOutlet(e,n){let r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,o=Ca(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,n,r){let i=Ca(n);e.children.forEach(o=>{this.activateRoutes(o,i[o.value.outlet],r),this.forwardEvent(new sw(o.value.snapshot))}),e.children.length&&this.forwardEvent(new iw(e.value.snapshot))}activateRoutes(e,n,r){let i=e.value,o=n?n.value:null;if(zv(i),i===o)if(i.component){let s=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,n,s.children)}else this.activateChildRoutes(e,n,r);else if(i.component){let s=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){let a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),zv(a.route.value),this.activateChildRoutes(e,null,s.children)}else s.attachRef=null,s.route=i,s.outlet&&s.outlet.activateWith(i,s.injector),this.activateChildRoutes(e,null,s.children)}else this.activateChildRoutes(e,null,r)}},rp=class{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}},Aa=class{constructor(e,n){this.component=e,this.route=n}};function N2(t,e,n){let r=t._root,i=e?e._root:null;return vu(r,i,n,[r.value])}function P2(t){let e=t.routeConfig?t.routeConfig.canActivateChild:null;return!e||e.length===0?null:{node:t,guards:e}}function ka(t,e){let n=Symbol(),r=e.get(t,n);return r===n?typeof t=="function"&&!DD(t)?t:e.get(t):r}function vu(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=Ca(e);return t.children.forEach(s=>{k2(s,o[s.value.outlet],n,r.concat([s.value]),i),delete o[s.value.outlet]}),Object.entries(o).forEach(([s,a])=>Eu(a,n.getContext(s),i)),i}function k2(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=t.value,s=e?e.value:null,a=n?n.getContext(t.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){let u=O2(s,o,o.routeConfig.runGuardsAndResolvers);u?i.canActivateChecks.push(new rp(r)):(o.data=s.data,o._resolvedData=s._resolvedData),o.component?vu(t,e,a?a.children:null,r,i):vu(t,e,n,r,i),u&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new Aa(a.outlet.component,s))}else s&&Eu(e,a,i),i.canActivateChecks.push(new rp(r)),o.component?vu(t,null,a?a.children:null,r,i):vu(t,null,n,r,i);return i}function O2(t,e,n){if(typeof n=="function")return n(t,e);switch(n){case"pathParamsChange":return!Zo(t.url,e.url);case"pathParamsOrQueryParamsChange":return!Zo(t.url,e.url)||!wr(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!lw(t,e)||!wr(t.queryParams,e.queryParams);case"paramsChange":default:return!lw(t,e)}}function Eu(t,e,n){let r=Ca(t),i=t.value;Object.entries(r).forEach(([o,s])=>{i.component?e?Eu(s,e.children.getContext(o),n):Eu(s,null,n):Eu(s,e,n)}),i.component?e&&e.outlet&&e.outlet.isActivated?n.canDeactivateChecks.push(new Aa(e.outlet.component,i)):n.canDeactivateChecks.push(new Aa(null,i)):n.canDeactivateChecks.push(new Aa(null,i))}function Ou(t){return typeof t=="function"}function F2(t){return typeof t=="boolean"}function L2(t){return t&&Ou(t.canLoad)}function V2(t){return t&&Ou(t.canActivate)}function j2(t){return t&&Ou(t.canActivateChild)}function U2(t){return t&&Ou(t.canDeactivate)}function B2(t){return t&&Ou(t.canMatch)}function MS(t){return t instanceof Or||t?.name==="EmptyError"}var Hf=Symbol("INITIAL_VALUE");function Pa(){return yn(t=>Bc(t.map(e=>e.pipe(Fr(1),Yd(Hf)))).pipe(le(e=>{for(let n of e)if(n!==!0){if(n===Hf)return Hf;if(n===!1||$2(n))return n}return!0}),sn(e=>e!==Hf),Fr(1)))}function $2(t){return Jo(t)||t instanceof Su}function H2(t,e){return rt(n=>{let{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:o,canDeactivateChecks:s}}=n;return s.length===0&&o.length===0?ne(ge(B({},n),{guardsResult:!0})):z2(s,r,i,t).pipe(rt(a=>a&&F2(a)?q2(r,o,t,e):ne(a)),le(a=>ge(B({},n),{guardsResult:a})))})}function z2(t,e,n,r){return $e(t).pipe(rt(i=>Y2(i.component,i.route,n,e,r)),ir(i=>i!==!0,!0))}function q2(t,e,n,r){return $e(e).pipe(No(i=>Gs(W2(i.route.parent,r),G2(i.route,r),Q2(t,i.path,n),K2(t,i.route,n))),ir(i=>i!==!0,!0))}function G2(t,e){return t!==null&&e&&e(new ow(t)),ne(!0)}function W2(t,e){return t!==null&&e&&e(new rw(t)),ne(!0)}function K2(t,e,n){let r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||r.length===0)return ne(!0);let i=r.map(o=>Wd(()=>{let s=Pu(e)??n,a=ka(o,s),u=V2(a)?a.canActivate(e,t):fr(s,()=>a(e,t));return Qi(u).pipe(ir())}));return ne(i).pipe(Pa())}function Q2(t,e,n){let r=e[e.length-1],o=e.slice(0,e.length-1).reverse().map(s=>P2(s)).filter(s=>s!==null).map(s=>Wd(()=>{let a=s.guards.map(u=>{let d=Pu(s.node)??n,p=ka(u,d),g=j2(p)?p.canActivateChild(r,t):fr(d,()=>p(r,t));return Qi(g).pipe(ir())});return ne(a).pipe(Pa())}));return ne(o).pipe(Pa())}function Y2(t,e,n,r,i){let o=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!o||o.length===0)return ne(!0);let s=o.map(a=>{let u=Pu(e)??i,d=ka(a,u),p=U2(d)?d.canDeactivate(t,e,n,r):fr(u,()=>d(t,e,n,r));return Qi(p).pipe(ir())});return ne(s).pipe(Pa())}function Z2(t,e,n,r){let i=e.canLoad;if(i===void 0||i.length===0)return ne(!0);let o=i.map(s=>{let a=ka(s,t),u=L2(a)?a.canLoad(e,n):fr(t,()=>a(e,n));return Qi(u)});return ne(o).pipe(Pa(),NS(r))}function NS(t){return Ad(ft(e=>{if(typeof e!="boolean")throw np(t,e)}),le(e=>e===!0))}function J2(t,e,n,r){let i=e.canMatch;if(!i||i.length===0)return ne(!0);let o=i.map(s=>{let a=ka(s,t),u=B2(a)?a.canMatch(e,n):fr(t,()=>a(e,n));return Qi(u)});return ne(o).pipe(Pa(),NS(r))}var Au=class{constructor(e){this.segmentGroup=e||null}},Ru=class extends Error{constructor(e){super(),this.urlTree=e}};function Da(t){return zs(new Au(t))}function X2(t){return zs(new G(4e3,!1))}function ej(t){return zs(RS(!1,dn.GuardRejected))}var fw=class{constructor(e,n){this.urlSerializer=e,this.urlTree=n}lineralizeSegments(e,n){let r=[],i=n.root;for(;;){if(r=r.concat(i.segments),i.numberOfChildren===0)return ne(r);if(i.numberOfChildren>1||!i.children[ae])return X2(`${e.redirectTo}`);i=i.children[ae]}}applyRedirectCommands(e,n,r,i,o){if(typeof n!="string"){let a=n,{queryParams:u,fragment:d,routeConfig:p,url:g,outlet:_,params:b,data:M,title:O}=i,k=fr(o,()=>a({params:b,data:M,queryParams:u,fragment:d,routeConfig:p,url:g,outlet:_,title:O}));if(k instanceof Wr)throw new Ru(k);n=k}let s=this.applyRedirectCreateUrlTree(n,this.urlSerializer.parse(n),e,r);if(n[0]==="/")throw new Ru(s);return s}applyRedirectCreateUrlTree(e,n,r,i){let o=this.createSegmentGroup(e,n.root,r,i);return new Wr(o,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(e,n){let r={};return Object.entries(e).forEach(([i,o])=>{if(typeof o=="string"&&o[0]===":"){let a=o.substring(1);r[i]=n[a]}else r[i]=o}),r}createSegmentGroup(e,n,r,i){let o=this.createSegments(e,n.segments,r,i),s={};return Object.entries(n.children).forEach(([a,u])=>{s[a]=this.createSegmentGroup(e,u,r,i)}),new Pe(o,s)}createSegments(e,n,r,i){return n.map(o=>o.path[0]===":"?this.findPosParam(e,o,i):this.findOrReturn(o,r))}findPosParam(e,n,r){let i=r[n.path.substring(1)];if(!i)throw new G(4001,!1);return i}findOrReturn(e,n){let r=0;for(let i of n){if(i.path===e.path)return n.splice(r),i;r++}return e}},pw={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function tj(t,e,n,r,i){let o=PS(t,e,n);return o.matched?(r=b2(e,r),J2(r,e,n,i).pipe(le(s=>s===!0?o:B({},pw)))):ne(o)}function PS(t,e,n){if(e.path==="**")return nj(n);if(e.path==="")return e.pathMatch==="full"&&(t.hasChildren()||n.length>0)?B({},pw):{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};let i=(e.matcher||ZV)(n,t,e);if(!i)return B({},pw);let o={};Object.entries(i.posParams??{}).forEach(([a,u])=>{o[a]=u.path});let s=i.consumed.length>0?B(B({},o),i.consumed[i.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:i.consumed,remainingSegments:n.slice(i.consumed.length),parameters:s,positionalParamSegments:i.posParams??{}}}function nj(t){return{matched:!0,parameters:t.length>0?hS(t).parameters:{},consumedSegments:t,remainingSegments:[],positionalParamSegments:{}}}function sS(t,e,n,r){return n.length>0&&oj(t,n,r)?{segmentGroup:new Pe(e,ij(r,new Pe(n,t.children))),slicedSegments:[]}:n.length===0&&sj(t,n,r)?{segmentGroup:new Pe(t.segments,rj(t,n,r,t.children)),slicedSegments:n}:{segmentGroup:new Pe(t.segments,t.children),slicedSegments:n}}function rj(t,e,n,r){let i={};for(let o of n)if(sp(t,e,o)&&!r[qn(o)]){let s=new Pe([],{});i[qn(o)]=s}return B(B({},r),i)}function ij(t,e){let n={};n[ae]=e;for(let r of t)if(r.path===""&&qn(r)!==ae){let i=new Pe([],{});n[qn(r)]=i}return n}function oj(t,e,n){return n.some(r=>sp(t,e,r)&&qn(r)!==ae)}function sj(t,e,n){return n.some(r=>sp(t,e,r))}function sp(t,e,n){return(t.hasChildren()||e.length>0)&&n.pathMatch==="full"?!1:n.path===""}function aj(t,e,n){return e.length===0&&!t.children[n]}var gw=class{};function cj(t,e,n,r,i,o,s="emptyOnly"){return new mw(t,e,n,r,i,s,o).recognize()}var uj=31,mw=class{constructor(e,n,r,i,o,s,a){this.injector=e,this.configLoader=n,this.rootComponentType=r,this.config=i,this.urlTree=o,this.paramsInheritanceStrategy=s,this.urlSerializer=a,this.applyRedirects=new fw(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(e){return new G(4002,`'${e.segmentGroup}'`)}recognize(){let e=sS(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(e).pipe(le(({children:n,rootSnapshot:r})=>{let i=new ln(r,n),o=new tp("",i),s=m2(r,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(s),{state:o,tree:s}}))}match(e){let n=new Sa([],Object.freeze({}),Object.freeze(B({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),ae,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,e,ae,n).pipe(le(r=>({children:r,rootSnapshot:n})),xi(r=>{if(r instanceof Ru)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof Au?this.noMatchError(r):r}))}processSegmentGroup(e,n,r,i,o){return r.segments.length===0&&r.hasChildren()?this.processChildren(e,n,r,o):this.processSegment(e,n,r,r.segments,i,!0,o).pipe(le(s=>s instanceof ln?[s]:[]))}processChildren(e,n,r,i){let o=[];for(let s of Object.keys(r.children))s==="primary"?o.unshift(s):o.push(s);return $e(o).pipe(No(s=>{let a=r.children[s],u=D2(n,s);return this.processSegmentGroup(e,u,a,s,i)}),Qd((s,a)=>(s.push(...a),s)),Mi(null),mm(),rt(s=>{if(s===null)return Da(r);let a=kS(s);return lj(a),ne(a)}))}processSegment(e,n,r,i,o,s,a){return $e(n).pipe(No(u=>this.processSegmentAgainstRoute(u._injector??e,n,u,r,i,o,s,a).pipe(xi(d=>{if(d instanceof Au)return ne(null);throw d}))),ir(u=>!!u),xi(u=>{if(MS(u))return aj(r,i,o)?ne(new gw):Da(r);throw u}))}processSegmentAgainstRoute(e,n,r,i,o,s,a,u){return qn(r)!==s&&(s===ae||!sp(i,o,r))?Da(i):r.redirectTo===void 0?this.matchSegmentAgainstRoute(e,i,r,o,s,u):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(e,i,n,r,o,s,u):Da(i)}expandSegmentAgainstRouteUsingRedirect(e,n,r,i,o,s,a){let{matched:u,parameters:d,consumedSegments:p,positionalParamSegments:g,remainingSegments:_}=PS(n,i,o);if(!u)return Da(n);typeof i.redirectTo=="string"&&i.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>uj&&(this.allowRedirects=!1));let b=new Sa(o,d,Object.freeze(B({},this.urlTree.queryParams)),this.urlTree.fragment,aS(i),qn(i),i.component??i._loadedComponent??null,i,cS(i)),M=ep(b,a,this.paramsInheritanceStrategy);b.params=Object.freeze(M.params),b.data=Object.freeze(M.data);let O=this.applyRedirects.applyRedirectCommands(p,i.redirectTo,g,b,e);return this.applyRedirects.lineralizeSegments(i,O).pipe(rt(k=>this.processSegment(e,r,n,k.concat(_),s,!1,a)))}matchSegmentAgainstRoute(e,n,r,i,o,s){let a=tj(n,r,i,e,this.urlSerializer);return r.path==="**"&&(n.children={}),a.pipe(yn(u=>u.matched?(e=r._injector??e,this.getChildConfig(e,r,i).pipe(yn(({routes:d})=>{let p=r._loadedInjector??e,{parameters:g,consumedSegments:_,remainingSegments:b}=u,M=new Sa(_,g,Object.freeze(B({},this.urlTree.queryParams)),this.urlTree.fragment,aS(r),qn(r),r.component??r._loadedComponent??null,r,cS(r)),O=ep(M,s,this.paramsInheritanceStrategy);M.params=Object.freeze(O.params),M.data=Object.freeze(O.data);let{segmentGroup:k,slicedSegments:U}=sS(n,_,b,d);if(U.length===0&&k.hasChildren())return this.processChildren(p,d,k,M).pipe(le(Z=>new ln(M,Z)));if(d.length===0&&U.length===0)return ne(new ln(M,[]));let Q=qn(r)===o;return this.processSegment(p,d,k,U,Q?ae:o,!0,M).pipe(le(Z=>new ln(M,Z instanceof ln?[Z]:[])))}))):Da(n)))}getChildConfig(e,n,r){return n.children?ne({routes:n.children,injector:e}):n.loadChildren?n._loadedRoutes!==void 0?ne({routes:n._loadedRoutes,injector:n._loadedInjector}):Z2(e,n,r,this.urlSerializer).pipe(rt(i=>i?this.configLoader.loadChildren(e,n).pipe(ft(o=>{n._loadedRoutes=o.routes,n._loadedInjector=o.injector})):ej(n))):ne({routes:[],injector:e})}};function lj(t){t.sort((e,n)=>e.value.outlet===ae?-1:n.value.outlet===ae?1:e.value.outlet.localeCompare(n.value.outlet))}function dj(t){let e=t.value.routeConfig;return e&&e.path===""}function kS(t){let e=[],n=new Set;for(let r of t){if(!dj(r)){e.push(r);continue}let i=e.find(o=>r.value.routeConfig===o.value.routeConfig);i!==void 0?(i.children.push(...r.children),n.add(i)):e.push(r)}for(let r of n){let i=kS(r.children);e.push(new ln(r.value,i))}return e.filter(r=>!n.has(r))}function aS(t){return t.data||{}}function cS(t){return t.resolve||{}}function hj(t,e,n,r,i,o){return rt(s=>cj(t,e,n,r,s.extractedUrl,i,o).pipe(le(({state:a,tree:u})=>ge(B({},s),{targetSnapshot:a,urlAfterRedirects:u}))))}function fj(t,e){return rt(n=>{let{targetSnapshot:r,guards:{canActivateChecks:i}}=n;if(!i.length)return ne(n);let o=new Set(i.map(u=>u.route)),s=new Set;for(let u of o)if(!s.has(u))for(let d of OS(u))s.add(d);let a=0;return $e(s).pipe(No(u=>o.has(u)?pj(u,r,t,e):(u.data=ep(u,u.parent,t).resolve,ne(void 0))),ft(()=>a++),Ws(1),rt(u=>a===s.size?ne(n):on))})}function OS(t){let e=t.children.map(n=>OS(n)).flat();return[t,...e]}function pj(t,e,n,r){let i=t.routeConfig,o=t._resolve;return i?.title!==void 0&&!SS(i)&&(o[Mu]=i.title),gj(o,t,e,r).pipe(le(s=>(t._resolvedData=s,t.data=ep(t,t.parent,n).resolve,null)))}function gj(t,e,n,r){let i=Wv(t);if(i.length===0)return ne({});let o={};return $e(i).pipe(rt(s=>mj(t[s],e,n,r).pipe(ir(),ft(a=>{if(a instanceof Su)throw np(new xa,a);o[s]=a}))),Ws(1),gm(o),xi(s=>MS(s)?on:zs(s)))}function mj(t,e,n,r){let i=Pu(e)??r,o=ka(t,i),s=o.resolve?o.resolve(e,n):fr(i,()=>o(e,n));return Qi(s)}function qv(t){return yn(e=>{let n=t(e);return n?$e(n).pipe(le(()=>e)):ne(e)})}var FS=(()=>{class t{buildTitle(n){let r,i=n.root;for(;i!==void 0;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(o=>o.outlet===ae);return r}getResolvedTitleForRoute(n){return n.data[Mu]}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=K({token:t,factory:()=>j(yj),providedIn:"root"})}}return t})(),yj=(()=>{class t extends FS{constructor(n){super(),this.title=n}updateTitle(n){let r=this.buildTitle(n);r!==void 0&&this.title.setTitle(r)}static{this.\u0275fac=function(r){return new(r||t)(X(dT))}}static{this.\u0275prov=K({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),Fu=new z("",{providedIn:"root",factory:()=>({})}),vj=(()=>{class t{static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275cmp=Oh({type:t,selectors:[["ng-component"]],standalone:!0,features:[sf],decls:1,vars:0,template:function(r,i){r&1&&iu(0,"router-outlet")},dependencies:[T2],encapsulation:2})}}return t})();function ww(t){let e=t.children&&t.children.map(ww),n=e?ge(B({},t),{children:e}):B({},t);return!n.component&&!n.loadComponent&&(e||n.loadChildren)&&n.outlet&&n.outlet!==ae&&(n.component=vj),n}var xu=new z(""),_w=(()=>{class t{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=j(hf)}loadComponent(n){if(this.componentLoaders.get(n))return this.componentLoaders.get(n);if(n._loadedComponent)return ne(n._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(n);let r=Qi(n.loadComponent()).pipe(le(LS),ft(o=>{this.onLoadEndListener&&this.onLoadEndListener(n),n._loadedComponent=o}),$c(()=>{this.componentLoaders.delete(n)})),i=new Us(r,()=>new wt).pipe(js());return this.componentLoaders.set(n,i),i}loadChildren(n,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return ne({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);let o=wj(r,this.compiler,n,this.onLoadEndListener).pipe($c(()=>{this.childrenLoaders.delete(r)})),s=new Us(o,()=>new wt).pipe(js());return this.childrenLoaders.set(r,s),s}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=K({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function wj(t,e,n,r){return Qi(t.loadChildren()).pipe(le(LS),rt(i=>i instanceof Qc||Array.isArray(i)?ne(i):$e(e.compileModuleAsync(i))),le(i=>{r&&r(t);let o,s,a=!1;return Array.isArray(i)?(s=i,a=!0):(o=i.create(n).injector,s=o.get(xu,[],{optional:!0,self:!0}).flat()),{routes:s.map(ww),injector:o}}))}function _j(t){return t&&typeof t=="object"&&"default"in t}function LS(t){return _j(t)?t.default:t}var Iw=(()=>{class t{static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=K({token:t,factory:()=>j(Ij),providedIn:"root"})}}return t})(),Ij=(()=>{class t{shouldProcessUrl(n){return!0}extract(n){return n}merge(n,r){return n}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=K({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),VS=new z(""),jS=new z("");function Ej(t,e,n){let r=t.get(jS),i=t.get(Yt);return t.get(De).runOutsideAngular(()=>{if(!i.startViewTransition||r.skipNextTransition)return r.skipNextTransition=!1,new Promise(d=>setTimeout(d));let o,s=new Promise(d=>{o=d}),a=i.startViewTransition(()=>(o(),bj(t))),{onViewTransitionCreated:u}=r;return u&&fr(t,()=>u({transition:a,from:e,to:n})),s})}function bj(t){return new Promise(e=>{av({read:()=>setTimeout(e)},{injector:t})})}var Dj=new z(""),Ew=(()=>{class t{get hasRequestedNavigation(){return this.navigationId!==0}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new wt,this.transitionAbortSubject=new wt,this.configLoader=j(_w),this.environmentInjector=j(cn),this.urlSerializer=j(Nu),this.rootContexts=j(ku),this.location=j(_a),this.inputBindingEnabled=j(op,{optional:!0})!==null,this.titleStrategy=j(FS),this.options=j(Fu,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=j(Iw),this.createViewTransition=j(VS,{optional:!0}),this.navigationErrorHandler=j(Dj,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>ne(void 0),this.rootComponentType=null;let n=i=>this.events.next(new tw(i)),r=i=>this.events.next(new nw(i));this.configLoader.onLoadEndListener=r,this.configLoader.onLoadStartListener=n}complete(){this.transitions?.complete()}handleNavigationRequest(n){let r=++this.navigationId;this.transitions?.next(ge(B(B({},this.transitions.value),n),{id:r}))}setupNavigations(n,r,i){return this.transitions=new Ct({id:0,currentUrlTree:r,currentRawUrl:r,extractedUrl:this.urlHandlingStrategy.extract(r),urlAfterRedirects:this.urlHandlingStrategy.extract(r),rawUrl:r,extras:{},resolve:()=>{},reject:()=>{},promise:Promise.resolve(!0),source:Iu,restoredState:null,currentSnapshot:i.snapshot,targetSnapshot:null,currentRouterState:i,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(sn(o=>o.id!==0),le(o=>ge(B({},o),{extractedUrl:this.urlHandlingStrategy.extract(o.rawUrl)})),yn(o=>{let s=!1,a=!1;return ne(o).pipe(yn(u=>{if(this.navigationId>o.id)return this.cancelNavigationTransition(o,"",dn.SupersededByNewNavigation),on;this.currentTransition=o,this.currentNavigation={id:u.id,initialUrl:u.rawUrl,extractedUrl:u.extractedUrl,targetBrowserUrl:typeof u.extras.browserUrl=="string"?this.urlSerializer.parse(u.extras.browserUrl):u.extras.browserUrl,trigger:u.source,extras:u.extras,previousNavigation:this.lastSuccessfulNavigation?ge(B({},this.lastSuccessfulNavigation),{previousNavigation:null}):null};let d=!n.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),p=u.extras.onSameUrlNavigation??n.onSameUrlNavigation;if(!d&&p!=="reload"){let g="";return this.events.next(new Wi(u.id,this.urlSerializer.serialize(u.rawUrl),g,Qf.IgnoredSameUrlNavigation)),u.resolve(!1),on}if(this.urlHandlingStrategy.shouldProcessUrl(u.rawUrl))return ne(u).pipe(yn(g=>{let _=this.transitions?.getValue();return this.events.next(new Ma(g.id,this.urlSerializer.serialize(g.extractedUrl),g.source,g.restoredState)),_!==this.transitions?.getValue()?on:Promise.resolve(g)}),hj(this.environmentInjector,this.configLoader,this.rootComponentType,n.config,this.urlSerializer,this.paramsInheritanceStrategy),ft(g=>{o.targetSnapshot=g.targetSnapshot,o.urlAfterRedirects=g.urlAfterRedirects,this.currentNavigation=ge(B({},this.currentNavigation),{finalUrl:g.urlAfterRedirects});let _=new Yf(g.id,this.urlSerializer.serialize(g.extractedUrl),this.urlSerializer.serialize(g.urlAfterRedirects),g.targetSnapshot);this.events.next(_)}));if(d&&this.urlHandlingStrategy.shouldProcessUrl(u.currentRawUrl)){let{id:g,extractedUrl:_,source:b,restoredState:M,extras:O}=u,k=new Ma(g,this.urlSerializer.serialize(_),b,M);this.events.next(k);let U=CS(this.rootComponentType).snapshot;return this.currentTransition=o=ge(B({},u),{targetSnapshot:U,urlAfterRedirects:_,extras:ge(B({},O),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=_,ne(o)}else{let g="";return this.events.next(new Wi(u.id,this.urlSerializer.serialize(u.extractedUrl),g,Qf.IgnoredByUrlHandlingStrategy)),u.resolve(!1),on}}),ft(u=>{let d=new Zv(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(d)}),le(u=>(this.currentTransition=o=ge(B({},u),{guards:N2(u.targetSnapshot,u.currentSnapshot,this.rootContexts)}),o)),H2(this.environmentInjector,u=>this.events.next(u)),ft(u=>{if(o.guardsResult=u.guardsResult,u.guardsResult&&typeof u.guardsResult!="boolean")throw np(this.urlSerializer,u.guardsResult);let d=new Jv(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot,!!u.guardsResult);this.events.next(d)}),sn(u=>u.guardsResult?!0:(this.cancelNavigationTransition(u,"",dn.GuardRejected),!1)),qv(u=>{if(u.guards.canActivateChecks.length)return ne(u).pipe(ft(d=>{let p=new Xv(d.id,this.urlSerializer.serialize(d.extractedUrl),this.urlSerializer.serialize(d.urlAfterRedirects),d.targetSnapshot);this.events.next(p)}),yn(d=>{let p=!1;return ne(d).pipe(fj(this.paramsInheritanceStrategy,this.environmentInjector),ft({next:()=>p=!0,complete:()=>{p||this.cancelNavigationTransition(d,"",dn.NoDataFromResolver)}}))}),ft(d=>{let p=new ew(d.id,this.urlSerializer.serialize(d.extractedUrl),this.urlSerializer.serialize(d.urlAfterRedirects),d.targetSnapshot);this.events.next(p)}))}),qv(u=>{let d=p=>{let g=[];p.routeConfig?.loadComponent&&!p.routeConfig._loadedComponent&&g.push(this.configLoader.loadComponent(p.routeConfig).pipe(ft(_=>{p.component=_}),le(()=>{})));for(let _ of p.children)g.push(...d(_));return g};return Bc(d(u.targetSnapshot.root)).pipe(Mi(null),Fr(1))}),qv(()=>this.afterPreactivation()),yn(()=>{let{currentSnapshot:u,targetSnapshot:d}=o,p=this.createViewTransition?.(this.environmentInjector,u.root,d.root);return p?$e(p).pipe(le(()=>o)):ne(o)}),le(u=>{let d=S2(n.routeReuseStrategy,u.targetSnapshot,u.currentRouterState);return this.currentTransition=o=ge(B({},u),{targetRouterState:d}),this.currentNavigation.targetRouterState=d,o}),ft(()=>{this.events.next(new Cu)}),M2(this.rootContexts,n.routeReuseStrategy,u=>this.events.next(u),this.inputBindingEnabled),Fr(1),ft({next:u=>{s=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new _r(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects))),this.titleStrategy?.updateTitle(u.targetRouterState.snapshot),u.resolve(!0)},complete:()=>{s=!0}}),ym(this.transitionAbortSubject.pipe(ft(u=>{throw u}))),$c(()=>{!s&&!a&&this.cancelNavigationTransition(o,"",dn.SupersededByNewNavigation),this.currentTransition?.id===o.id&&(this.currentNavigation=null,this.currentTransition=null)}),xi(u=>{if(a=!0,xS(u))this.events.next(new Gr(o.id,this.urlSerializer.serialize(o.extractedUrl),u.message,u.cancellationCode)),x2(u)?this.events.next(new Na(u.url,u.navigationBehaviorOptions)):o.resolve(!1);else{let d=new Du(o.id,this.urlSerializer.serialize(o.extractedUrl),u,o.targetSnapshot??void 0);try{let p=fr(this.environmentInjector,()=>this.navigationErrorHandler?.(d));if(p instanceof Su){let{message:g,cancellationCode:_}=np(this.urlSerializer,p);this.events.next(new Gr(o.id,this.urlSerializer.serialize(o.extractedUrl),g,_)),this.events.next(new Na(p.redirectTo,p.navigationBehaviorOptions))}else{this.events.next(d);let g=n.errorHandler(u);o.resolve(!!g)}}catch(p){this.options.resolveNavigationPromiseOnError?o.resolve(!1):o.reject(p)}}return on}))}))}cancelNavigationTransition(n,r,i){let o=new Gr(n.id,this.urlSerializer.serialize(n.extractedUrl),r,i);this.events.next(o),n.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){let n=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),r=this.currentNavigation?.targetBrowserUrl??this.currentNavigation?.extractedUrl;return n.toString()!==r?.toString()&&!this.currentNavigation?.extras.skipLocationChange}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=K({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function Cj(t){return t!==Iu}var Tj=(()=>{class t{static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=K({token:t,factory:()=>j(Sj),providedIn:"root"})}}return t})(),yw=class{shouldDetach(e){return!1}store(e,n){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,n){return e.routeConfig===n.routeConfig}},Sj=(()=>{class t extends yw{static{this.\u0275fac=(()=>{let n;return function(i){return(n||(n=En(t)))(i||t)}})()}static{this.\u0275prov=K({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),US=(()=>{class t{static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=K({token:t,factory:()=>j(Aj),providedIn:"root"})}}return t})(),Aj=(()=>{class t extends US{constructor(){super(...arguments),this.location=j(_a),this.urlSerializer=j(Nu),this.options=j(Fu,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=j(Iw),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new Wr,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=CS(null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(n){return this.location.subscribe(r=>{r.type==="popstate"&&n(r.url,r.state)})}handleRouterEvent(n,r){if(n instanceof Ma)this.stateMemento=this.createStateMemento();else if(n instanceof Wi)this.rawUrlTree=r.initialUrl;else if(n instanceof Yf){if(this.urlUpdateStrategy==="eager"&&!r.extras.skipLocationChange){let i=this.urlHandlingStrategy.merge(r.finalUrl,r.initialUrl);this.setBrowserUrl(r.targetBrowserUrl??i,r)}}else n instanceof Cu?(this.currentUrlTree=r.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(r.finalUrl,r.initialUrl),this.routerState=r.targetRouterState,this.urlUpdateStrategy==="deferred"&&!r.extras.skipLocationChange&&this.setBrowserUrl(r.targetBrowserUrl??this.rawUrlTree,r)):n instanceof Gr&&(n.code===dn.GuardRejected||n.code===dn.NoDataFromResolver)?this.restoreHistory(r):n instanceof Du?this.restoreHistory(r,!0):n instanceof _r&&(this.lastSuccessfulId=n.id,this.currentPageId=this.browserPageId)}setBrowserUrl(n,r){let i=n instanceof Wr?this.urlSerializer.serialize(n):n;if(this.location.isCurrentPathEqualTo(i)||r.extras.replaceUrl){let o=this.browserPageId,s=B(B({},r.extras.state),this.generateNgRouterState(r.id,o));this.location.replaceState(i,"",s)}else{let o=B(B({},r.extras.state),this.generateNgRouterState(r.id,this.browserPageId+1));this.location.go(i,"",o)}}restoreHistory(n,r=!1){if(this.canceledNavigationResolution==="computed"){let i=this.browserPageId,o=this.currentPageId-i;o!==0?this.location.historyGo(o):this.currentUrlTree===n.finalUrl&&o===0&&(this.resetState(n),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(r&&this.resetState(n),this.resetUrlToCurrentUrlTree())}resetState(n){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(n,r){return this.canceledNavigationResolution==="computed"?{navigationId:n,\u0275routerPageId:r}:{navigationId:n}}static{this.\u0275fac=(()=>{let n;return function(i){return(n||(n=En(t)))(i||t)}})()}static{this.\u0275prov=K({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),wu=function(t){return t[t.COMPLETE=0]="COMPLETE",t[t.FAILED=1]="FAILED",t[t.REDIRECTING=2]="REDIRECTING",t}(wu||{});function BS(t,e){t.events.pipe(sn(n=>n instanceof _r||n instanceof Gr||n instanceof Du||n instanceof Wi),le(n=>n instanceof _r||n instanceof Wi?wu.COMPLETE:(n instanceof Gr?n.code===dn.Redirect||n.code===dn.SupersededByNewNavigation:!1)?wu.REDIRECTING:wu.FAILED),sn(n=>n!==wu.REDIRECTING),Fr(1)).subscribe(()=>{e()})}function Rj(t){throw t}var xj={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},Mj={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},Kr=(()=>{class t{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.console=j(af),this.stateManager=j(US),this.options=j(Fu,{optional:!0})||{},this.pendingTasks=j(ga),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=j(Ew),this.urlSerializer=j(Nu),this.location=j(_a),this.urlHandlingStrategy=j(Iw),this._events=new wt,this.errorHandler=this.options.errorHandler||Rj,this.navigated=!1,this.routeReuseStrategy=j(Tj),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=j(xu,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!j(op,{optional:!0}),this.eventsSubscription=new We,this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:n=>{this.console.warn(n)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){let n=this.navigationTransitions.events.subscribe(r=>{try{let i=this.navigationTransitions.currentTransition,o=this.navigationTransitions.currentNavigation;if(i!==null&&o!==null){if(this.stateManager.handleRouterEvent(r,o),r instanceof Gr&&r.code!==dn.Redirect&&r.code!==dn.SupersededByNewNavigation)this.navigated=!0;else if(r instanceof _r)this.navigated=!0;else if(r instanceof Na){let s=r.navigationBehaviorOptions,a=this.urlHandlingStrategy.merge(r.url,i.currentRawUrl),u=B({browserUrl:i.extras.browserUrl,info:i.extras.info,skipLocationChange:i.extras.skipLocationChange,replaceUrl:i.extras.replaceUrl||this.urlUpdateStrategy==="eager"||Cj(i.source)},s);this.scheduleNavigation(a,Iu,null,u,{resolve:i.resolve,reject:i.reject,promise:i.promise})}}Pj(r)&&this._events.next(r)}catch(i){this.navigationTransitions.transitionAbortSubject.next(i)}});this.eventsSubscription.add(n)}resetRootComponentType(n){this.routerState.root.component=n,this.navigationTransitions.rootComponentType=n}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),Iu,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((n,r)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(n,"popstate",r)},0)})}navigateToSyncWithBrowser(n,r,i){let o={replaceUrl:!0},s=i?.navigationId?i:null;if(i){let u=B({},i);delete u.navigationId,delete u.\u0275routerPageId,Object.keys(u).length!==0&&(o.state=u)}let a=this.parseUrl(n);this.scheduleNavigation(a,r,s,o)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(n){this.config=n.map(ww),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(n,r={}){let{relativeTo:i,queryParams:o,fragment:s,queryParamsHandling:a,preserveFragment:u}=r,d=u?this.currentUrlTree.fragment:s,p=null;switch(a??this.options.defaultQueryParamsHandling){case"merge":p=B(B({},this.currentUrlTree.queryParams),o);break;case"preserve":p=this.currentUrlTree.queryParams;break;default:p=o||null}p!==null&&(p=this.removeEmptyProps(p));let g;try{let _=i?i.snapshot:this.routerState.snapshot.root;g=IS(_)}catch{(typeof n[0]!="string"||n[0][0]!=="/")&&(n=[]),g=this.currentUrlTree.root}return ES(g,n,p,d??null)}navigateByUrl(n,r={skipLocationChange:!1}){let i=Jo(n)?n:this.parseUrl(n),o=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(o,Iu,null,r)}navigate(n,r={skipLocationChange:!1}){return Nj(n),this.navigateByUrl(this.createUrlTree(n,r),r)}serializeUrl(n){return this.urlSerializer.serialize(n)}parseUrl(n){try{return this.urlSerializer.parse(n)}catch{return this.urlSerializer.parse("/")}}isActive(n,r){let i;if(r===!0?i=B({},xj):r===!1?i=B({},Mj):i=r,Jo(n))return tS(this.currentUrlTree,n,i);let o=this.parseUrl(n);return tS(this.currentUrlTree,o,i)}removeEmptyProps(n){return Object.entries(n).reduce((r,[i,o])=>(o!=null&&(r[i]=o),r),{})}scheduleNavigation(n,r,i,o,s){if(this.disposed)return Promise.resolve(!1);let a,u,d;s?(a=s.resolve,u=s.reject,d=s.promise):d=new Promise((g,_)=>{a=g,u=_});let p=this.pendingTasks.add();return BS(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(p))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:n,extras:o,resolve:a,reject:u,promise:d,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),d.catch(g=>Promise.reject(g))}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=K({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function Nj(t){for(let e=0;e<t.length;e++)if(t[e]==null)throw new G(4008,!1)}function Pj(t){return!(t instanceof Cu)&&!(t instanceof Na)}var T7=(()=>{class t{constructor(n,r,i,o,s,a){this.router=n,this.route=r,this.tabIndexAttribute=i,this.renderer=o,this.el=s,this.locationStrategy=a,this.href=null,this.onChanges=new wt,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1,this.routerLinkInput=null;let u=s.nativeElement.tagName?.toLowerCase();this.isAnchorElement=u==="a"||u==="area",this.isAnchorElement?this.subscription=n.events.subscribe(d=>{d instanceof _r&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(n){this.tabIndexAttribute!=null||this.isAnchorElement||this.applyAttributeValue("tabindex",n)}ngOnChanges(n){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(n){n==null?(this.routerLinkInput=null,this.setTabIndexIfNotOnNativeEl(null)):(Jo(n)?this.routerLinkInput=n:this.routerLinkInput=Array.isArray(n)?n:[n],this.setTabIndexIfNotOnNativeEl("0"))}onClick(n,r,i,o,s){let a=this.urlTree;if(a===null||this.isAnchorElement&&(n!==0||r||i||o||s||typeof this.target=="string"&&this.target!="_self"))return!0;let u={skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info};return this.router.navigateByUrl(a,u),!this.isAnchorElement}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){let n=this.urlTree;this.href=n!==null&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(n)):null;let r=this.href===null?null:UC(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",r)}applyAttributeValue(n,r){let i=this.renderer,o=this.el.nativeElement;r!==null?i.setAttribute(o,n,r):i.removeAttribute(o,n)}get urlTree(){return this.routerLinkInput===null?null:Jo(this.routerLinkInput)?this.routerLinkInput:this.router.createUrlTree(this.routerLinkInput,{relativeTo:this.relativeTo!==void 0?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static{this.\u0275fac=function(r){return new(r||t)(W(Kr),W(Ki),Ly("tabindex"),W(mr),W($n),W(qr))}}static{this.\u0275dir=Ne({type:t,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(r,i){r&1&&Hn("click",function(s){return i.onClick(s.button,s.ctrlKey,s.shiftKey,s.altKey,s.metaKey)}),r&2&&va("target",i.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[2,"preserveFragment","preserveFragment",$i],skipLocationChange:[2,"skipLocationChange","skipLocationChange",$i],replaceUrl:[2,"replaceUrl","replaceUrl",$i],routerLink:"routerLink"},standalone:!0,features:[iv,pr]})}}return t})();var ip=class{};var kj=(()=>{class t{constructor(n,r,i,o,s){this.router=n,this.injector=i,this.preloadingStrategy=o,this.loader=s}setUpPreloading(){this.subscription=this.router.events.pipe(sn(n=>n instanceof _r),No(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(n,r){let i=[];for(let o of r){o.providers&&!o._injector&&(o._injector=tf(o.providers,n,`Route: ${o.path}`));let s=o._injector??n,a=o._loadedInjector??s;(o.loadChildren&&!o._loadedRoutes&&o.canLoad===void 0||o.loadComponent&&!o._loadedComponent)&&i.push(this.preloadConfig(s,o)),(o.children||o._loadedRoutes)&&i.push(this.processRoutes(a,o.children??o._loadedRoutes))}return $e(i).pipe(qs())}preloadConfig(n,r){return this.preloadingStrategy.preload(r,()=>{let i;r.loadChildren&&r.canLoad===void 0?i=this.loader.loadChildren(n,r):i=ne(null);let o=i.pipe(rt(s=>s===null?ne(void 0):(r._loadedRoutes=s.routes,r._loadedInjector=s.injector,this.processRoutes(s.injector??n,s.routes))));if(r.loadComponent&&!r._loadedComponent){let s=this.loader.loadComponent(r);return $e([o,s]).pipe(qs())}else return o})}static{this.\u0275fac=function(r){return new(r||t)(X(Kr),X(hf),X(cn),X(ip),X(_w))}}static{this.\u0275prov=K({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),$S=new z(""),Oj=(()=>{class t{constructor(n,r,i,o,s={}){this.urlSerializer=n,this.transitions=r,this.viewportScroller=i,this.zone=o,this.options=s,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},s.scrollPositionRestoration||="disabled",s.anchorScrolling||="disabled"}init(){this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(n=>{n instanceof Ma?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=n.navigationTrigger,this.restoredId=n.restoredState?n.restoredState.navigationId:0):n instanceof _r?(this.lastId=n.id,this.scheduleScrollEvent(n,this.urlSerializer.parse(n.urlAfterRedirects).fragment)):n instanceof Wi&&n.code===Qf.IgnoredSameUrlNavigation&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(n,this.urlSerializer.parse(n.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(n=>{n instanceof Zf&&(n.position?this.options.scrollPositionRestoration==="top"?this.viewportScroller.scrollToPosition([0,0]):this.options.scrollPositionRestoration==="enabled"&&this.viewportScroller.scrollToPosition(n.position):n.anchor&&this.options.anchorScrolling==="enabled"?this.viewportScroller.scrollToAnchor(n.anchor):this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(n,r){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new Zf(n,this.lastSource==="popstate"?this.store[this.restoredId]:null,r))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static{this.\u0275fac=function(r){JC()}}static{this.\u0275prov=K({token:t,factory:t.\u0275fac})}}return t})();function S7(t,...e){return hr([{provide:xu,multi:!0,useValue:t},[],{provide:Ki,useFactory:HS,deps:[Kr]},{provide:df,multi:!0,useFactory:zS},e.map(n=>n.\u0275providers)])}function HS(t){return t.routerState.root}function Lu(t,e){return{\u0275kind:t,\u0275providers:e}}function zS(){let t=j(Tt);return e=>{let n=t.get(Bi);if(e!==n.components[0])return;let r=t.get(Kr),i=t.get(qS);t.get(bw)===1&&r.initialNavigation(),t.get(GS,null,de.Optional)?.setUpPreloading(),t.get($S,null,de.Optional)?.init(),r.resetRootComponentType(n.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}var qS=new z("",{factory:()=>new wt}),bw=new z("",{providedIn:"root",factory:()=>1});function Fj(){return Lu(2,[{provide:bw,useValue:0},{provide:lf,multi:!0,deps:[Tt],useFactory:e=>{let n=e.get(W0,Promise.resolve());return()=>n.then(()=>new Promise(r=>{let i=e.get(Kr),o=e.get(qS);BS(i,()=>{r(!0)}),e.get(Ew).afterPreactivation=()=>(r(!0),o.closed?ne(void 0):o),i.initialNavigation()}))}}])}function Lj(){return Lu(3,[{provide:lf,multi:!0,useFactory:()=>{let e=j(Kr);return()=>{e.setUpLocationChangeListener()}}},{provide:bw,useValue:2}])}var GS=new z("");function Vj(t){return Lu(0,[{provide:GS,useExisting:kj},{provide:ip,useExisting:t}])}function jj(){return Lu(8,[oS,{provide:op,useExisting:oS}])}function Uj(t){let e=[{provide:VS,useValue:Ej},{provide:jS,useValue:B({skipNextTransition:!!t?.skipInitialTransition},t)}];return Lu(9,e)}var uS=new z("ROUTER_FORROOT_GUARD"),Bj=[_a,{provide:Nu,useClass:xa},Kr,ku,{provide:Ki,useFactory:HS,deps:[Kr]},_w,[]],A7=(()=>{class t{constructor(n){}static forRoot(n,r){return{ngModule:t,providers:[Bj,[],{provide:xu,multi:!0,useValue:n},{provide:uS,useFactory:qj,deps:[[Kr,new Nt,new Dy]]},{provide:Fu,useValue:r||{}},r?.useHash?Hj():zj(),$j(),r?.preloadingStrategy?Vj(r.preloadingStrategy).\u0275providers:[],r?.initialNavigation?Gj(r):[],r?.bindToComponentInputs?jj().\u0275providers:[],r?.enableViewTransitions?Uj().\u0275providers:[],Wj()]}}static forChild(n){return{ngModule:t,providers:[{provide:xu,multi:!0,useValue:n}]}}static{this.\u0275fac=function(r){return new(r||t)(X(uS,8))}}static{this.\u0275mod=Un({type:t})}static{this.\u0275inj=jn({})}}return t})();function $j(){return{provide:$S,useFactory:()=>{let t=j(tT),e=j(De),n=j(Fu),r=j(Ew),i=j(Nu);return n.scrollOffset&&t.setOffset(n.scrollOffset),new Oj(i,r,t,e,n)}}}function Hj(){return{provide:qr,useClass:Q0}}function zj(){return{provide:qr,useClass:bv}}function qj(t){return"guarded"}function Gj(t){return[t.initialNavigation==="disabled"?Lj().\u0275providers:[],t.initialNavigation==="enabledBlocking"?Fj().\u0275providers:[]]}var lS=new z("");function Wj(){return[{provide:lS,useFactory:zS},{provide:df,multi:!0,useExisting:lS}]}var KS=function(t){let e=[],n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},Kj=function(t){let e=[],n=0,r=0;for(;n<t.length;){let i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){let o=t[n++];e[r++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){let o=t[n++],s=t[n++],a=t[n++],u=((i&7)<<18|(o&63)<<12|(s&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(u>>10)),e[r++]=String.fromCharCode(56320+(u&1023))}else{let o=t[n++],s=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(o&63)<<6|s&63)}}return e.join("")},QS={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();let n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){let o=t[i],s=i+1<t.length,a=s?t[i+1]:0,u=i+2<t.length,d=u?t[i+2]:0,p=o>>2,g=(o&3)<<4|a>>4,_=(a&15)<<2|d>>6,b=d&63;u||(b=64,s||(_=64)),r.push(n[p],n[g],n[_],n[b])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(KS(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):Kj(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();let n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){let o=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;let d=i<t.length?n[t.charAt(i)]:64;++i;let g=i<t.length?n[t.charAt(i)]:64;if(++i,o==null||a==null||d==null||g==null)throw new Cw;let _=o<<2|a>>4;if(r.push(_),d!==64){let b=a<<4&240|d>>2;if(r.push(b),g!==64){let M=d<<6&192|g;r.push(M)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}},Cw=class extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}},Qj=function(t){let e=KS(t);return QS.encodeByteArray(e,!0)},Vu=function(t){return Qj(t).replace(/\./g,"")},Sw=function(t){try{return QS.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function Yj(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}var Zj=()=>Yj().__FIREBASE_DEFAULTS__,Jj=()=>{if(typeof process>"u"||typeof process.env>"u")return;let t=process.env.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},Xj=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}let e=t&&Sw(t[1]);return e&&JSON.parse(e)},cp=()=>{try{return Zj()||Jj()||Xj()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},Aw=t=>{var e,n;return(n=(e=cp())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},YS=t=>{let e=Aw(t);if(!e)return;let n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);let r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},Rw=()=>{var t;return(t=cp())===null||t===void 0?void 0:t.config},xw=t=>{var e;return(e=cp())===null||e===void 0?void 0:e[`_${t}`]};var ap=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}};function ZS(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');let n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,o=t.sub||t.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");let s=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},t);return[Vu(JSON.stringify(n)),Vu(JSON.stringify(s)),""].join(".")}function It(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function JS(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(It())}function eU(){var t;let e=(t=cp())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function XS(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function eA(){let t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function tA(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function nA(){let t=It();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function rA(){return!eU()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Mw(){try{return typeof indexedDB=="object"}catch{return!1}}function iA(){return new Promise((t,e)=>{try{let n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var o;e(((o=i.error)===null||o===void 0?void 0:o.message)||"")}}catch(n){e(n)}})}var tU="FirebaseError",hn=class t extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=tU,Object.setPrototypeOf(this,t.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Qr.prototype.create)}},Qr=class{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){let r=n[0]||{},i=`${this.service}/${e}`,o=this.errors[e],s=o?nU(o,r):"Error",a=`${this.serviceName}: ${s} (${i}).`;return new hn(i,a,r)}};function nU(t,e){return t.replace(rU,(n,r)=>{let i=e[r];return i!=null?String(i):`<${r}?>`})}var rU=/\{\$([^}]+)}/g;function oA(t){for(let e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Xo(t,e){if(t===e)return!0;let n=Object.keys(t),r=Object.keys(e);for(let i of n){if(!r.includes(i))return!1;let o=t[i],s=e[i];if(WS(o)&&WS(s)){if(!Xo(o,s))return!1}else if(o!==s)return!1}for(let i of r)if(!n.includes(i))return!1;return!0}function WS(t){return t!==null&&typeof t=="object"}function ju(t){let e=[];for(let[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function Oa(t){let e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){let[i,o]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(o)}}),e}function Fa(t){let e=t.indexOf("?");if(!e)return"";let n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function sA(t,e){let n=new Tw(t,e);return n.subscribe.bind(n)}var Tw=class{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");iU(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=Dw),i.error===void 0&&(i.error=Dw),i.complete===void 0&&(i.complete=Dw);let o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}};function iU(t,e){if(typeof t!="object"||t===null)return!1;for(let n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function Dw(){}var M7=4*60*60*1e3;function ot(t){return t&&t._delegate?t._delegate:t}var Sn=class{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}};var es="[DEFAULT]";var Nw=class{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){let n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){let r=new ap;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{let i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;let r=this.normalizeInstanceIdentifier(e?.identifier),i=(n=e?.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(i)return null;throw o}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(sU(e))try{this.getOrInitializeService({instanceIdentifier:es})}catch{}for(let[n,r]of this.instancesDeferred.entries()){let i=this.normalizeInstanceIdentifier(n);try{let o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(e=es){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){return C(this,null,function*(){let e=Array.from(this.instances.values());yield Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])})}isComponentSet(){return this.component!=null}isInitialized(e=es){return this.instances.has(e)}getOptions(e=es){return this.instancesOptions.get(e)||{}}initialize(e={}){let{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);let i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(let[o,s]of this.instancesDeferred.entries()){let a=this.normalizeInstanceIdentifier(o);r===a&&s.resolve(i)}return i}onInit(e,n){var r;let i=this.normalizeInstanceIdentifier(n),o=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;o.add(e),this.onInitCallbacks.set(i,o);let s=this.instances.get(i);return s&&e(s,i),()=>{o.delete(e)}}invokeOnInitCallbacks(e,n){let r=this.onInitCallbacks.get(n);if(r)for(let i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:oU(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=es){return this.component?this.component.multipleInstances?e:es:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function oU(t){return t===es?void 0:t}function sU(t){return t.instantiationMode==="EAGER"}var up=class{constructor(e){this.name=e,this.providers=new Map}addComponent(e){let n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);let n=new Nw(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}};var aU=[],ve=function(t){return t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT",t}(ve||{}),cU={debug:ve.DEBUG,verbose:ve.VERBOSE,info:ve.INFO,warn:ve.WARN,error:ve.ERROR,silent:ve.SILENT},uU=ve.INFO,lU={[ve.DEBUG]:"log",[ve.VERBOSE]:"log",[ve.INFO]:"info",[ve.WARN]:"warn",[ve.ERROR]:"error"},dU=(t,e,...n)=>{if(e<t.logLevel)return;let r=new Date().toISOString(),i=lU[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)},Yi=class{constructor(e){this.name=e,this._logLevel=uU,this._logHandler=dU,this._userLogHandler=null,aU.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ve))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?cU[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ve.DEBUG,...e),this._logHandler(this,ve.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ve.VERBOSE,...e),this._logHandler(this,ve.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ve.INFO,...e),this._logHandler(this,ve.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ve.WARN,...e),this._logHandler(this,ve.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ve.ERROR,...e),this._logHandler(this,ve.ERROR,...e)}};var hU=(t,e)=>e.some(n=>t instanceof n),aA,cA;function fU(){return aA||(aA=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function pU(){return cA||(cA=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}var uA=new WeakMap,kw=new WeakMap,lA=new WeakMap,Pw=new WeakMap,Fw=new WeakMap;function gU(t){let e=new Promise((n,r)=>{let i=()=>{t.removeEventListener("success",o),t.removeEventListener("error",s)},o=()=>{n(Ir(t.result)),i()},s=()=>{r(t.error),i()};t.addEventListener("success",o),t.addEventListener("error",s)});return e.then(n=>{n instanceof IDBCursor&&uA.set(n,t)}).catch(()=>{}),Fw.set(e,t),e}function mU(t){if(kw.has(t))return;let e=new Promise((n,r)=>{let i=()=>{t.removeEventListener("complete",o),t.removeEventListener("error",s),t.removeEventListener("abort",s)},o=()=>{n(),i()},s=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",o),t.addEventListener("error",s),t.addEventListener("abort",s)});kw.set(t,e)}var Ow={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return kw.get(t);if(e==="objectStoreNames")return t.objectStoreNames||lA.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return Ir(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function dA(t){Ow=t(Ow)}function yU(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){let r=t.call(lp(this),e,...n);return lA.set(r,e.sort?e.sort():[e]),Ir(r)}:pU().includes(t)?function(...e){return t.apply(lp(this),e),Ir(uA.get(this))}:function(...e){return Ir(t.apply(lp(this),e))}}function vU(t){return typeof t=="function"?yU(t):(t instanceof IDBTransaction&&mU(t),hU(t,fU())?new Proxy(t,Ow):t)}function Ir(t){if(t instanceof IDBRequest)return gU(t);if(Pw.has(t))return Pw.get(t);let e=vU(t);return e!==t&&(Pw.set(t,e),Fw.set(e,t)),e}var lp=t=>Fw.get(t);function fA(t,e,{blocked:n,upgrade:r,blocking:i,terminated:o}={}){let s=indexedDB.open(t,e),a=Ir(s);return r&&s.addEventListener("upgradeneeded",u=>{r(Ir(s.result),u.oldVersion,u.newVersion,Ir(s.transaction),u)}),n&&s.addEventListener("blocked",u=>n(u.oldVersion,u.newVersion,u)),a.then(u=>{o&&u.addEventListener("close",()=>o()),i&&u.addEventListener("versionchange",d=>i(d.oldVersion,d.newVersion,d))}).catch(()=>{}),a}var wU=["get","getKey","getAll","getAllKeys","count"],_U=["put","add","delete","clear"],Lw=new Map;function hA(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(Lw.get(e))return Lw.get(e);let n=e.replace(/FromIndex$/,""),r=e!==n,i=_U.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||wU.includes(n)))return;let o=function(s,...a){return C(this,null,function*(){let u=this.transaction(s,i?"readwrite":"readonly"),d=u.store;return r&&(d=d.index(a.shift())),(yield Promise.all([d[n](...a),i&&u.done]))[0]})};return Lw.set(e,o),o}dA(t=>ge(B({},t),{get:(e,n,r)=>hA(e,n)||t.get(e,n,r),has:(e,n)=>!!hA(e,n)||t.has(e,n)}));var jw=class{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(IU(n)){let r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}};function IU(t){let e=t.getComponent();return e?.type==="VERSION"}var Uw="@firebase/app",pA="0.10.13";var Yr=new Yi("@firebase/app"),EU="@firebase/app-compat",bU="@firebase/analytics-compat",DU="@firebase/analytics",CU="@firebase/app-check-compat",TU="@firebase/app-check",SU="@firebase/auth",AU="@firebase/auth-compat",RU="@firebase/database",xU="@firebase/data-connect",MU="@firebase/database-compat",NU="@firebase/functions",PU="@firebase/functions-compat",kU="@firebase/installations",OU="@firebase/installations-compat",FU="@firebase/messaging",LU="@firebase/messaging-compat",VU="@firebase/performance",jU="@firebase/performance-compat",UU="@firebase/remote-config",BU="@firebase/remote-config-compat",$U="@firebase/storage",HU="@firebase/storage-compat",zU="@firebase/firestore",qU="@firebase/vertexai-preview",GU="@firebase/firestore-compat",WU="firebase",KU="10.14.1";var Bw="[DEFAULT]",QU={[Uw]:"fire-core",[EU]:"fire-core-compat",[DU]:"fire-analytics",[bU]:"fire-analytics-compat",[TU]:"fire-app-check",[CU]:"fire-app-check-compat",[SU]:"fire-auth",[AU]:"fire-auth-compat",[RU]:"fire-rtdb",[xU]:"fire-data-connect",[MU]:"fire-rtdb-compat",[NU]:"fire-fn",[PU]:"fire-fn-compat",[kU]:"fire-iid",[OU]:"fire-iid-compat",[FU]:"fire-fcm",[LU]:"fire-fcm-compat",[VU]:"fire-perf",[jU]:"fire-perf-compat",[UU]:"fire-rc",[BU]:"fire-rc-compat",[$U]:"fire-gcs",[HU]:"fire-gcs-compat",[zU]:"fire-fst",[GU]:"fire-fst-compat",[qU]:"fire-vertex","fire-js":"fire-js",[WU]:"fire-js-all"};var Uu=new Map,YU=new Map,$w=new Map;function gA(t,e){try{t.container.addComponent(e)}catch(n){Yr.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function Ji(t){let e=t.name;if($w.has(e))return Yr.debug(`There were multiple attempts to register component ${e}.`),!1;$w.set(e,t);for(let n of Uu.values())gA(n,t);for(let n of YU.values())gA(n,t);return!0}function $u(t,e){let n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function Gn(t){return t.settings!==void 0}var ZU={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Zi=new Qr("app","Firebase",ZU);var Hw=class{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Sn("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Zi.create("app-deleted",{appName:this._name})}};var Xi=KU;function Gw(t,e={}){let n=t;typeof e!="object"&&(e={name:e});let r=Object.assign({name:Bw,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw Zi.create("bad-app-name",{appName:String(i)});if(n||(n=Rw()),!n)throw Zi.create("no-options");let o=Uu.get(i);if(o){if(Xo(n,o.options)&&Xo(r,o.config))return o;throw Zi.create("duplicate-app",{appName:i})}let s=new up(i);for(let u of $w.values())s.addComponent(u);let a=new Hw(n,r,s);return Uu.set(i,a),a}function La(t=Bw){let e=Uu.get(t);if(!e&&t===Bw&&Rw())return Gw();if(!e)throw Zi.create("no-app",{appName:t});return e}function dp(){return Array.from(Uu.values())}function gt(t,e,n){var r;let i=(r=QU[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);let o=i.match(/\s|\//),s=e.match(/\s|\//);if(o||s){let a=[`Unable to register library "${i}" with version "${e}":`];o&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&s&&a.push("and"),s&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Yr.warn(a.join(" "));return}Ji(new Sn(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}var JU="firebase-heartbeat-database",XU=1,Bu="firebase-heartbeat-store",Vw=null;function wA(){return Vw||(Vw=fA(JU,XU,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Bu)}catch(n){console.warn(n)}}}}).catch(t=>{throw Zi.create("idb-open",{originalErrorMessage:t.message})})),Vw}function eB(t){return C(this,null,function*(){try{let n=(yield wA()).transaction(Bu),r=yield n.objectStore(Bu).get(_A(t));return yield n.done,r}catch(e){if(e instanceof hn)Yr.warn(e.message);else{let n=Zi.create("idb-get",{originalErrorMessage:e?.message});Yr.warn(n.message)}}})}function mA(t,e){return C(this,null,function*(){try{let r=(yield wA()).transaction(Bu,"readwrite");yield r.objectStore(Bu).put(e,_A(t)),yield r.done}catch(n){if(n instanceof hn)Yr.warn(n.message);else{let r=Zi.create("idb-set",{originalErrorMessage:n?.message});Yr.warn(r.message)}}})}function _A(t){return`${t.name}!${t.options.appId}`}var tB=1024,nB=30*24*60*60*1e3,zw=class{constructor(e){this.container=e,this._heartbeatsCache=null;let n=this.container.getProvider("app").getImmediate();this._storage=new qw(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){return C(this,null,function*(){var e,n;try{let i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=yA();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=yield this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(s=>s.date===o)?void 0:(this._heartbeatsCache.heartbeats.push({date:o,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(s=>{let a=new Date(s.date).valueOf();return Date.now()-a<=nB}),this._storage.overwrite(this._heartbeatsCache))}catch(r){Yr.warn(r)}})}getHeartbeatsHeader(){return C(this,null,function*(){var e;try{if(this._heartbeatsCache===null&&(yield this._heartbeatsCachePromise),((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";let n=yA(),{heartbeatsToSend:r,unsentEntries:i}=rB(this._heartbeatsCache.heartbeats),o=Vu(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,yield this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(n){return Yr.warn(n),""}})}};function yA(){return new Date().toISOString().substring(0,10)}function rB(t,e=tB){let n=[],r=t.slice();for(let i of t){let o=n.find(s=>s.agent===i.agent);if(o){if(o.dates.push(i.date),vA(n)>e){o.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),vA(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}var qw=class{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return C(this,null,function*(){return Mw()?iA().then(()=>!0).catch(()=>!1):!1})}read(){return C(this,null,function*(){if(yield this._canUseIndexedDBPromise){let n=yield eB(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}})}overwrite(e){return C(this,null,function*(){var n;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return mA(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return})}add(e){return C(this,null,function*(){var n;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return mA(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return})}};function vA(t){return Vu(JSON.stringify({version:2,heartbeats:t})).length}function iB(t){Ji(new Sn("platform-logger",e=>new jw(e),"PRIVATE")),Ji(new Sn("heartbeat",e=>new zw(e),"PRIVATE")),gt(Uw,pA,t),gt(Uw,pA,"esm2017"),gt("fire-js","")}iB("");var oB="firebase",sB="10.14.1";gt(oB,sB,"app");var ns=new jr("ANGULARFIRE2_VERSION");function fp(t,e,n){if(e){if(e.length===1)return e[0];let o=e.filter(s=>s.app===n);if(o.length===1)return o[0]}return n.container.getProvider(t).getImmediate({optional:!0})}var Hu=(t,e)=>{let n=e?[e]:dp(),r=[];return n.forEach(i=>{i.container.getProvider(t).instances.forEach(s=>{r.includes(s)||r.push(s)})}),r},ja=class{constructor(){return Hu(aB)}},aB="app-check";function Va(){}var hp=class{zone;delegate;constructor(e,n=dm){this.zone=e,this.delegate=n}now(){return this.delegate.now()}schedule(e,n,r){let i=this.zone,o=function(s){i.runGuarded(()=>{e.apply(this,[s])})};return this.delegate.schedule(o,n,r)}},Ww=class{zone;task=null;constructor(e){this.zone=e}call(e,n){let r=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Va,{},Va,Va)),n.pipe(ft({next:r,complete:r,error:r})).subscribe(e).add(r)}unscheduleTask(){setTimeout(()=>{this.task!=null&&this.task.state==="scheduled"&&(this.task.invoke(),this.task=null)},10)}},Ua=(()=>{class t{ngZone;outsideAngular;insideAngular;constructor(n){this.ngZone=n,this.outsideAngular=n.runOutsideAngular(()=>new hp(Zone.current)),this.insideAngular=n.run(()=>new hp(Zone.current,lm)),globalThis.\u0275AngularFireScheduler||=this}static \u0275fac=function(r){return new(r||t)(X(De))};static \u0275prov=K({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function pp(){let t=globalThis.\u0275AngularFireScheduler;if(!t)throw new Error(`Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using
provideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).`);return t}function cB(t){return pp().ngZone.runOutsideAngular(()=>t())}function ts(t){return pp().ngZone.run(()=>t())}function uB(t){return lB(pp())(t)}function lB(t){return function(n){return n=n.lift(new Ww(t.ngZone)),n.pipe(Ri(t.outsideAngular),Ai(t.insideAngular))}}var dB=(t,e)=>function(){let r=arguments;return e&&setTimeout(()=>{e.state==="scheduled"&&e.invoke()},10),ts(()=>t.apply(void 0,r))},kt=(t,e)=>function(){let n,r=arguments;for(let o=0;o<arguments.length;o++)typeof r[o]=="function"&&(e&&(n||=ts(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Va,{},Va,Va))),r[o]=dB(r[o],n));let i=cB(()=>t.apply(this,r));if(!e)if(i instanceof me){let o=pp();return i.pipe(Ri(o.outsideAngular),Ai(o.insideAngular))}else return ts(()=>i);return i instanceof me?i.pipe(uB):i instanceof Promise?ts(()=>new Promise((o,s)=>i.then(a=>ts(()=>o(a)),a=>ts(()=>s(a))))):typeof i=="function"&&n?function(){return setTimeout(()=>{n&&n.state==="scheduled"&&n.invoke()},10),i.apply(this,arguments)}:ts(()=>i)};var Zr=class{constructor(e){return e}},rs=class{constructor(){return dp()}};function hB(t){return t&&t.length===1?t[0]:new Zr(La())}var Kw=new z("angularfire2._apps"),fB={provide:Zr,useFactory:hB,deps:[[new Nt,Kw]]},pB={provide:rs,deps:[[new Nt,Kw]]};function gB(t){return(e,n)=>{let r=n.get(gr);gt("angularfire",ns.full,"core"),gt("angularfire",ns.full,"app"),gt("angular",M0.full,r.toString());let i=e.runOutsideAngular(()=>t(n));return new Zr(i)}}function yK(t,...e){return hr([fB,pB,{provide:Kw,useFactory:gB(t),multi:!0,deps:[De,Tt,Ua,...e]}])}var vK=kt(Gw,!0);function LA(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}var VA=LA,jA=new Qr("auth","Firebase",LA());var _p=new Yi("@firebase/auth");function mB(t,...e){_p.logLevel<=ve.WARN&&_p.warn(`Auth (${Xi}): ${t}`,...e)}function mp(t,...e){_p.logLevel<=ve.ERROR&&_p.error(`Auth (${Xi}): ${t}`,...e)}function br(t,...e){throw y_(t,...e)}function is(t,...e){return y_(t,...e)}function UA(t,e,n){let r=Object.assign(Object.assign({},VA()),{[e]:n});return new Qr("auth","Firebase",r).create(e,{appName:t.name})}function ei(t){return UA(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function y_(t,...e){if(typeof t!="string"){let n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return jA.create(t,...e)}function J(t,e,...n){if(!t)throw y_(e,...n)}function Jr(t){let e="INTERNAL ASSERTION FAILED: "+t;throw mp(e),new Error(e)}function to(t,e){t||Jr(e)}function Jw(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function yB(){return IA()==="http:"||IA()==="https:"}function IA(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}function vB(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(yB()||eA()||"connection"in navigator)?navigator.onLine:!0}function wB(){if(typeof navigator>"u")return null;let t=navigator;return t.languages&&t.languages[0]||t.language||null}var os=class{constructor(e,n){this.shortDelay=e,this.longDelay=n,to(n>e,"Short delay should be less than long delay!"),this.isMobile=JS()||tA()}get(){return vB()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}};function v_(t,e){to(t.emulator,"Emulator should always be set here");let{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}var Ip=class{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Jr("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Jr("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Jr("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}};var _B={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};var IB=new os(3e4,6e4);function ti(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}function ni(o,s,a,u){return C(this,arguments,function*(t,e,n,r,i={}){return BA(t,i,()=>C(this,null,function*(){let d={},p={};r&&(e==="GET"?p=r:d={body:JSON.stringify(r)});let g=ju(Object.assign({key:t.config.apiKey},p)).slice(1),_=yield t._getAdditionalHeaders();_["Content-Type"]="application/json",t.languageCode&&(_["X-Firebase-Locale"]=t.languageCode);let b=Object.assign({method:e,headers:_},d);return XS()||(b.referrerPolicy="no-referrer"),Ip.fetch()($A(t,t.config.apiHost,n,g),b)}))})}function BA(t,e,n){return C(this,null,function*(){t._canInitEmulator=!1;let r=Object.assign(Object.assign({},_B),e);try{let i=new Xw(t),o=yield Promise.race([n(),i.promise]);i.clearNetworkTimeout();let s=yield o.json();if("needConfirmation"in s)throw gp(t,"account-exists-with-different-credential",s);if(o.ok&&!("errorMessage"in s))return s;{let a=o.ok?s.errorMessage:s.error.message,[u,d]=a.split(" : ");if(u==="FEDERATED_USER_ID_ALREADY_LINKED")throw gp(t,"credential-already-in-use",s);if(u==="EMAIL_EXISTS")throw gp(t,"email-already-in-use",s);if(u==="USER_DISABLED")throw gp(t,"user-disabled",s);let p=r[u]||u.toLowerCase().replace(/[_\s]+/g,"-");if(d)throw UA(t,p,d);br(t,p)}}catch(i){if(i instanceof hn)throw i;br(t,"network-request-failed",{message:String(i)})}})}function Zu(o,s,a,u){return C(this,arguments,function*(t,e,n,r,i={}){let d=yield ni(t,e,n,r,i);return"mfaPendingCredential"in d&&br(t,"multi-factor-auth-required",{_serverResponse:d}),d})}function $A(t,e,n,r){let i=`${e}${n}?${r}`;return t.config.emulator?v_(t.config,i):`${t.config.apiScheme}://${i}`}function EB(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}var Xw=class{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(is(this.auth,"network-request-failed")),IB.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}};function gp(t,e,n){let r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);let i=is(t,e,r);return i.customData._tokenResponse=n,i}function EA(t){return t!==void 0&&t.enterprise!==void 0}var e_=class{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(let n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return EB(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}};function bB(t,e){return C(this,null,function*(){return ni(t,"GET","/v2/recaptchaConfig",ti(t,e))})}function DB(t,e){return C(this,null,function*(){return ni(t,"POST","/v1/accounts:delete",e)})}function HA(t,e){return C(this,null,function*(){return ni(t,"POST","/v1/accounts:lookup",e)})}function zu(t){if(t)try{let e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function w_(t,e=!1){return C(this,null,function*(){let n=ot(t),r=yield n.getIdToken(e),i=__(r);J(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");let o=typeof i.firebase=="object"?i.firebase:void 0,s=o?.sign_in_provider;return{claims:i,token:r,authTime:zu(Qw(i.auth_time)),issuedAtTime:zu(Qw(i.iat)),expirationTime:zu(Qw(i.exp)),signInProvider:s||null,signInSecondFactor:o?.sign_in_second_factor||null}})}function Qw(t){return Number(t)*1e3}function __(t){let[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return mp("JWT malformed, contained fewer than 3 sections"),null;try{let i=Sw(n);return i?JSON.parse(i):(mp("Failed to decode base64 JWT payload"),null)}catch(i){return mp("Caught error parsing JWT payload as JSON",i?.toString()),null}}function bA(t){let e=__(t);return J(e,"internal-error"),J(typeof e.exp<"u","internal-error"),J(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}function Gu(t,e,n=!1){return C(this,null,function*(){if(n)return e;try{return yield e}catch(r){throw r instanceof hn&&CB(r)&&t.auth.currentUser===t&&(yield t.auth.signOut()),r}})}function CB({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}var t_=class{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){let r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;let i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;let n=this.getInterval(e);this.timerId=setTimeout(()=>C(this,null,function*(){yield this.iteration()}),n)}iteration(){return C(this,null,function*(){try{yield this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()})}};var Wu=class{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=zu(this.lastLoginAt),this.creationTime=zu(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}};function Ep(t){return C(this,null,function*(){var e;let n=t.auth,r=yield t.getIdToken(),i=yield Gu(t,HA(n,{idToken:r}));J(i?.users.length,n,"internal-error");let o=i.users[0];t._notifyReloadListener(o);let s=!((e=o.providerUserInfo)===null||e===void 0)&&e.length?zA(o.providerUserInfo):[],a=TB(t.providerData,s),u=t.isAnonymous,d=!(t.email&&o.passwordHash)&&!a?.length,p=u?d:!1,g={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:a,metadata:new Wu(o.createdAt,o.lastLoginAt),isAnonymous:p};Object.assign(t,g)})}function I_(t){return C(this,null,function*(){let e=ot(t);yield Ep(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})}function TB(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function zA(t){return t.map(e=>{var{providerId:n}=e,r=hm(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}function SB(t,e){return C(this,null,function*(){let n=yield BA(t,{},()=>C(this,null,function*(){let r=ju({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:o}=t.config,s=$A(t,i,"/v1/token",`key=${o}`),a=yield t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",Ip.fetch()(s,{method:"POST",headers:a,body:r})}));return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}})}function AB(t,e){return C(this,null,function*(){return ni(t,"POST","/v2/accounts:revokeToken",ti(t,e))})}var qu=class t{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){J(e.idToken,"internal-error"),J(typeof e.idToken<"u","internal-error"),J(typeof e.refreshToken<"u","internal-error");let n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):bA(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){J(e.length!==0,"internal-error");let n=bA(e);this.updateTokensAndExpiration(e,null,n)}getToken(e,n=!1){return C(this,null,function*(){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(J(this.refreshToken,e,"user-token-expired"),this.refreshToken?(yield this.refresh(e,this.refreshToken),this.accessToken):null)})}clearRefreshToken(){this.refreshToken=null}refresh(e,n){return C(this,null,function*(){let{accessToken:r,refreshToken:i,expiresIn:o}=yield SB(e,n);this.updateTokensAndExpiration(r,i,Number(o))})}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){let{refreshToken:r,accessToken:i,expirationTime:o}=n,s=new t;return r&&(J(typeof r=="string","internal-error",{appName:e}),s.refreshToken=r),i&&(J(typeof i=="string","internal-error",{appName:e}),s.accessToken=i),o&&(J(typeof o=="number","internal-error",{appName:e}),s.expirationTime=o),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new t,this.toJSON())}_performRefresh(){return Jr("not implemented")}};function eo(t,e){J(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}var Ba=class t{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,o=hm(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new t_(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new Wu(o.createdAt||void 0,o.lastLoginAt||void 0)}getIdToken(e){return C(this,null,function*(){let n=yield Gu(this,this.stsTokenManager.getToken(this.auth,e));return J(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,yield this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n})}getIdTokenResult(e){return w_(this,e)}reload(){return I_(this)}_assign(e){this!==e&&(J(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){let n=new t(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){J(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,n=!1){return C(this,null,function*(){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&(yield Ep(this)),yield this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)})}delete(){return C(this,null,function*(){if(Gn(this.auth.app))return Promise.reject(ei(this.auth));let e=yield this.getIdToken();return yield Gu(this,DB(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()})}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,o,s,a,u,d,p;let g=(r=n.displayName)!==null&&r!==void 0?r:void 0,_=(i=n.email)!==null&&i!==void 0?i:void 0,b=(o=n.phoneNumber)!==null&&o!==void 0?o:void 0,M=(s=n.photoURL)!==null&&s!==void 0?s:void 0,O=(a=n.tenantId)!==null&&a!==void 0?a:void 0,k=(u=n._redirectEventId)!==null&&u!==void 0?u:void 0,U=(d=n.createdAt)!==null&&d!==void 0?d:void 0,Q=(p=n.lastLoginAt)!==null&&p!==void 0?p:void 0,{uid:Z,emailVerified:ce,isAnonymous:Oe,providerData:ee,stsTokenManager:S}=n;J(Z&&S,e,"internal-error");let I=qu.fromJSON(this.name,S);J(typeof Z=="string",e,"internal-error"),eo(g,e.name),eo(_,e.name),J(typeof ce=="boolean",e,"internal-error"),J(typeof Oe=="boolean",e,"internal-error"),eo(b,e.name),eo(M,e.name),eo(O,e.name),eo(k,e.name),eo(U,e.name),eo(Q,e.name);let E=new t({uid:Z,auth:e,email:_,emailVerified:ce,displayName:g,isAnonymous:Oe,photoURL:M,phoneNumber:b,tenantId:O,stsTokenManager:I,createdAt:U,lastLoginAt:Q});return ee&&Array.isArray(ee)&&(E.providerData=ee.map(T=>Object.assign({},T))),k&&(E._redirectEventId=k),E}static _fromIdTokenResponse(e,n,r=!1){return C(this,null,function*(){let i=new qu;i.updateFromServerResponse(n);let o=new t({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return yield Ep(o),o})}static _fromGetAccountInfoResponse(e,n,r){return C(this,null,function*(){let i=n.users[0];J(i.localId!==void 0,"internal-error");let o=i.providerUserInfo!==void 0?zA(i.providerUserInfo):[],s=!(i.email&&i.passwordHash)&&!o?.length,a=new qu;a.updateFromIdToken(r);let u=new t({uid:i.localId,auth:e,stsTokenManager:a,isAnonymous:s}),d={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new Wu(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!o?.length};return Object.assign(u,d),u})}};var DA=new Map;function Xr(t){to(t instanceof Function,"Expected a class definition");let e=DA.get(t);return e?(to(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,DA.set(t,e),e)}var RB=(()=>{class t{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return C(this,null,function*(){return!0})}_set(n,r){return C(this,null,function*(){this.storage[n]=r})}_get(n){return C(this,null,function*(){let r=this.storage[n];return r===void 0?null:r})}_remove(n){return C(this,null,function*(){delete this.storage[n]})}_addListener(n,r){}_removeListener(n,r){}}return t.type="NONE",t})(),n_=RB;function yp(t,e,n){return`firebase:${t}:${e}:${n}`}var bp=class t{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;let{config:i,name:o}=this.auth;this.fullUserKey=yp(this.userKey,i.apiKey,o),this.fullPersistenceKey=yp("persistence",i.apiKey,o),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){return C(this,null,function*(){let e=yield this.persistence._get(this.fullUserKey);return e?Ba._fromJSON(this.auth,e):null})}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){return C(this,null,function*(){if(this.persistence===e)return;let n=yield this.getCurrentUser();if(yield this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)})}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,n,r="authUser"){return C(this,null,function*(){if(!n.length)return new t(Xr(n_),e,r);let i=(yield Promise.all(n.map(d=>C(this,null,function*(){if(yield d._isAvailable())return d})))).filter(d=>d),o=i[0]||Xr(n_),s=yp(r,e.config.apiKey,e.name),a=null;for(let d of n)try{let p=yield d._get(s);if(p){let g=Ba._fromJSON(e,p);d!==o&&(a=g),o=d;break}}catch{}let u=i.filter(d=>d._shouldAllowMigration);return!o._shouldAllowMigration||!u.length?new t(o,e,r):(o=u[0],a&&(yield o._set(s,a.toJSON())),yield Promise.all(n.map(d=>C(this,null,function*(){if(d!==o)try{yield d._remove(s)}catch{}}))),new t(o,e,r))})}};function CA(t){let e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(KA(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(qA(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(YA(e))return"Blackberry";if(ZA(e))return"Webos";if(GA(e))return"Safari";if((e.includes("chrome/")||WA(e))&&!e.includes("edge/"))return"Chrome";if(QA(e))return"Android";{let n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if(r?.length===2)return r[1]}return"Other"}function qA(t=It()){return/firefox\//i.test(t)}function GA(t=It()){let e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function WA(t=It()){return/crios\//i.test(t)}function KA(t=It()){return/iemobile/i.test(t)}function QA(t=It()){return/android/i.test(t)}function YA(t=It()){return/blackberry/i.test(t)}function ZA(t=It()){return/webos/i.test(t)}function E_(t=It()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function xB(t=It()){var e;return E_(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function MB(){return nA()&&document.documentMode===10}function JA(t=It()){return E_(t)||QA(t)||ZA(t)||YA(t)||/windows phone/i.test(t)||KA(t)}function XA(t,e=[]){let n;switch(t){case"Browser":n=CA(It());break;case"Worker":n=`${CA(It())}-${t}`;break;default:n=t}let r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${Xi}/${r}`}var r_=class{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){let r=o=>new Promise((s,a)=>{try{let u=e(o);s(u)}catch(u){a(u)}});r.onAbort=n,this.queue.push(r);let i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}runMiddleware(e){return C(this,null,function*(){if(this.auth.currentUser===e)return;let n=[];try{for(let r of this.queue)yield r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(let i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}})}};function NB(n){return C(this,arguments,function*(t,e={}){return ni(t,"GET","/v2/passwordPolicy",ti(t,e))})}var PB=6,i_=class{constructor(e){var n,r,i,o;let s=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=s.minPasswordLength)!==null&&n!==void 0?n:PB,s.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=s.maxPasswordLength),s.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=s.containsLowercaseCharacter),s.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=s.containsUppercaseCharacter),s.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=s.containsNumericCharacter),s.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=s.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(o=e.forceUpgradeOnSignin)!==null&&o!==void 0?o:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,o,s,a;let u={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,u),this.validatePasswordCharacterOptions(e,u),u.isValid&&(u.isValid=(n=u.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),u.isValid&&(u.isValid=(r=u.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),u.isValid&&(u.isValid=(i=u.containsLowercaseLetter)!==null&&i!==void 0?i:!0),u.isValid&&(u.isValid=(o=u.containsUppercaseLetter)!==null&&o!==void 0?o:!0),u.isValid&&(u.isValid=(s=u.containsNumericCharacter)!==null&&s!==void 0?s:!0),u.isValid&&(u.isValid=(a=u.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),u}validatePasswordLengthOptions(e,n){let r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}};var o_=class{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Dp(this),this.idTokenSubscription=new Dp(this),this.beforeStateQueue=new r_(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=jA,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Xr(n)),this._initializationPromise=this.queue(()=>C(this,null,function*(){var r,i;if(!this._deleted&&(this.persistenceManager=yield bp.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{yield this._popupRedirectResolver._initialize(this)}catch{}yield this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){return C(this,null,function*(){if(this._deleted)return;let e=yield this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),yield this.currentUser.getIdToken();return}yield this._updateCurrentUser(e,!0)}})}initializeCurrentUserFromIdToken(e){return C(this,null,function*(){try{let n=yield HA(this,{idToken:e}),r=yield Ba._fromGetAccountInfoResponse(this,n,e);yield this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),yield this.directlySetCurrentUser(null)}})}initializeCurrentUser(e){return C(this,null,function*(){var n;if(Gn(this.app)){let s=this.app.settings.authIdToken;return s?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(s).then(a,a))}):this.directlySetCurrentUser(null)}let r=yield this.assertedPersistence.getCurrentUser(),i=r,o=!1;if(e&&this.config.authDomain){yield this.getOrInitRedirectPersistenceManager();let s=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=i?._redirectEventId,u=yield this.tryRedirectSignIn(e);(!s||s===a)&&u?.user&&(i=u.user,o=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(o)try{yield this.beforeStateQueue.runMiddleware(i)}catch(s){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(s))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return J(this._popupRedirectResolver,this,"argument-error"),yield this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)})}tryRedirectSignIn(e){return C(this,null,function*(){let n=null;try{n=yield this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{yield this._setRedirectUser(null)}return n})}reloadAndSetCurrentUserOrClear(e){return C(this,null,function*(){try{yield Ep(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)})}useDeviceLanguage(){this.languageCode=wB()}_delete(){return C(this,null,function*(){this._deleted=!0})}updateCurrentUser(e){return C(this,null,function*(){if(Gn(this.app))return Promise.reject(ei(this));let n=e?ot(e):null;return n&&J(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))})}_updateCurrentUser(e,n=!1){return C(this,null,function*(){if(!this._deleted)return e&&J(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||(yield this.beforeStateQueue.runMiddleware(e)),this.queue(()=>C(this,null,function*(){yield this.directlySetCurrentUser(e),this.notifyAuthListeners()}))})}signOut(){return C(this,null,function*(){return Gn(this.app)?Promise.reject(ei(this)):(yield this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&(yield this._setRedirectUser(null)),this._updateCurrentUser(null,!0))})}setPersistence(e){return Gn(this.app)?Promise.reject(ei(this)):this.queue(()=>C(this,null,function*(){yield this.assertedPersistence.setPersistence(Xr(e))}))}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(e){return C(this,null,function*(){this._getPasswordPolicyInternal()||(yield this._updatePasswordPolicy());let n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)})}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){return C(this,null,function*(){let e=yield NB(this),n=new i_(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n})}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Qr("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{let r=this.onAuthStateChanged(()=>{r(),e()},n)}})}revokeAccessToken(e){return C(this,null,function*(){if(this.currentUser){let n=yield this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),yield AB(this,r)}})}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}_setRedirectUser(e,n){return C(this,null,function*(){let r=yield this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)})}getOrInitRedirectPersistenceManager(e){return C(this,null,function*(){if(!this.redirectPersistenceManager){let n=e&&Xr(e)||this._popupRedirectResolver;J(n,this,"argument-error"),this.redirectPersistenceManager=yield bp.create(this,[Xr(n._redirectPersistence)],"redirectUser"),this.redirectUser=yield this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager})}_redirectUserForId(e){return C(this,null,function*(){var n,r;return this._isInitialized&&(yield this.queue(()=>C(this,null,function*(){}))),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null})}_persistUserIfCurrent(e){return C(this,null,function*(){if(e===this.currentUser)return this.queue(()=>C(this,null,function*(){return this.directlySetCurrentUser(e)}))})}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);let r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};let o=typeof n=="function"?n:n.next.bind(n),s=!1,a=this._isInitialized?Promise.resolve():this._initializationPromise;if(J(a,this,"internal-error"),a.then(()=>{s||o(this.currentUser)}),typeof n=="function"){let u=e.addObserver(n,r,i);return()=>{s=!0,u()}}else{let u=e.addObserver(n);return()=>{s=!0,u()}}}directlySetCurrentUser(e){return C(this,null,function*(){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?yield this.assertedPersistence.setCurrentUser(e):yield this.assertedPersistence.removeCurrentUser()})}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return J(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=XA(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){return C(this,null,function*(){var e;let n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);let r=yield(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader();r&&(n["X-Firebase-Client"]=r);let i=yield this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n})}_getAppCheckToken(){return C(this,null,function*(){var e;let n=yield(e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken();return n?.error&&mB(`Error while retrieving App Check token: ${n.error}`),n?.token})}};function as(t){return ot(t)}var Dp=class{constructor(e){this.auth=e,this.observer=null,this.addObserver=sA(n=>this.observer=n)}get next(){return J(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}};var Mp={loadJS(){return C(this,null,function*(){throw new Error("Unable to load external scripts")})},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function kB(t){Mp=t}function eR(t){return Mp.loadJS(t)}function OB(){return Mp.recaptchaEnterpriseScript}function FB(){return Mp.gapiScript}function tR(t){return`__${t}${Math.floor(Math.random()*1e6)}`}var LB="recaptcha-enterprise",VB="NO_RECAPTCHA",s_=class{constructor(e){this.type=LB,this.auth=as(e)}verify(e="verify",n=!1){return C(this,null,function*(){function r(o){return C(this,null,function*(){if(!n){if(o.tenantId==null&&o._agentRecaptchaConfig!=null)return o._agentRecaptchaConfig.siteKey;if(o.tenantId!=null&&o._tenantRecaptchaConfigs[o.tenantId]!==void 0)return o._tenantRecaptchaConfigs[o.tenantId].siteKey}return new Promise((s,a)=>C(this,null,function*(){bB(o,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(u=>{if(u.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{let d=new e_(u);return o.tenantId==null?o._agentRecaptchaConfig=d:o._tenantRecaptchaConfigs[o.tenantId]=d,s(d.siteKey)}}).catch(u=>{a(u)})}))})}function i(o,s,a){let u=window.grecaptcha;EA(u)?u.enterprise.ready(()=>{u.enterprise.execute(o,{action:e}).then(d=>{s(d)}).catch(()=>{s(VB)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((o,s)=>{r(this.auth).then(a=>{if(!n&&EA(window.grecaptcha))i(a,o,s);else{if(typeof window>"u"){s(new Error("RecaptchaVerifier is only supported in browser"));return}let u=OB();u.length!==0&&(u+=a),eR(u).then(()=>{i(a,o,s)}).catch(d=>{s(d)})}}).catch(a=>{s(a)})})})}};function TA(t,e,n,r=!1){return C(this,null,function*(){let i=new s_(t),o;try{o=yield i.verify(n)}catch{o=yield i.verify(n,!0)}let s=Object.assign({},e);return r?Object.assign(s,{captchaResp:o}):Object.assign(s,{captchaResponse:o}),Object.assign(s,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(s,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),s})}function a_(t,e,n,r){return C(this,null,function*(){var i;if(!((i=t._getRecaptchaConfig())===null||i===void 0)&&i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){let o=yield TA(t,e,n,n==="getOobCode");return r(t,o)}else return r(t,e).catch(o=>C(this,null,function*(){if(o.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);let s=yield TA(t,e,n,n==="getOobCode");return r(t,s)}else return Promise.reject(o)}))})}function b_(t,e){let n=$u(t,"auth");if(n.isInitialized()){let i=n.getImmediate(),o=n.getOptions();if(Xo(o,e??{}))return i;br(i,"already-initialized")}return n.initialize({options:e})}function jB(t,e){let n=e?.persistence||[],r=(Array.isArray(n)?n:[n]).map(Xr);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e?.popupRedirectResolver)}function D_(t,e,n){let r=as(t);J(r._canInitEmulator,r,"emulator-config-failed"),J(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");let i=!!n?.disableWarnings,o=nR(e),{host:s,port:a}=UB(e),u=a===null?"":`:${a}`;r.config.emulator={url:`${o}//${s}${u}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:s,port:a,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||BB()}function nR(t){let e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function UB(t){let e=nR(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};let r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){let o=i[1];return{host:o,port:SA(r.substr(o.length+1))}}else{let[o,s]=r.split(":");return{host:o,port:SA(s)}}}function SA(t){if(!t)return null;let e=Number(t);return isNaN(e)?null:e}function BB(){function t(){let e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}var Ku=class{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return Jr("not implemented")}_getIdTokenResponse(e){return Jr("not implemented")}_linkToIdToken(e,n){return Jr("not implemented")}_getReauthenticationResolver(e){return Jr("not implemented")}};function $B(t,e){return C(this,null,function*(){return ni(t,"POST","/v1/accounts:signUp",e)})}function HB(t,e){return C(this,null,function*(){return Zu(t,"POST","/v1/accounts:signInWithPassword",ti(t,e))})}function zB(t,e){return C(this,null,function*(){return ni(t,"POST","/v1/accounts:sendOobCode",ti(t,e))})}function qB(t,e){return C(this,null,function*(){return zB(t,e)})}function GB(t,e){return C(this,null,function*(){return Zu(t,"POST","/v1/accounts:signInWithEmailLink",ti(t,e))})}function WB(t,e){return C(this,null,function*(){return Zu(t,"POST","/v1/accounts:signInWithEmailLink",ti(t,e))})}var Qu=class t extends Ku{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new t(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new t(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){let n=typeof e=="string"?JSON.parse(e):e;if(n?.email&&n?.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}_getIdTokenResponse(e){return C(this,null,function*(){switch(this.signInMethod){case"password":let n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return a_(e,n,"signInWithPassword",HB);case"emailLink":return GB(e,{email:this._email,oobCode:this._password});default:br(e,"internal-error")}})}_linkToIdToken(e,n){return C(this,null,function*(){switch(this.signInMethod){case"password":let r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return a_(e,r,"signUpPassword",$B);case"emailLink":return WB(e,{idToken:n,email:this._email,oobCode:this._password});default:br(e,"internal-error")}})}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}};function Yw(t,e){return C(this,null,function*(){return Zu(t,"POST","/v1/accounts:signInWithIdp",ti(t,e))})}function KB(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function QB(t){let e=Oa(Fa(t)).link,n=e?Oa(Fa(e)).deep_link_id:null,r=Oa(Fa(t)).deep_link_id;return(r?Oa(Fa(r)).link:null)||r||n||e||t}var Cp=class t{constructor(e){var n,r,i,o,s,a;let u=Oa(Fa(e)),d=(n=u.apiKey)!==null&&n!==void 0?n:null,p=(r=u.oobCode)!==null&&r!==void 0?r:null,g=KB((i=u.mode)!==null&&i!==void 0?i:null);J(d&&p&&g,"argument-error"),this.apiKey=d,this.operation=g,this.code=p,this.continueUrl=(o=u.continueUrl)!==null&&o!==void 0?o:null,this.languageCode=(s=u.languageCode)!==null&&s!==void 0?s:null,this.tenantId=(a=u.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){let n=QB(e);try{return new t(n)}catch{return null}}};var rR=(()=>{class t{constructor(){this.providerId=t.PROVIDER_ID}static credential(n,r){return Qu._fromEmailAndPassword(n,r)}static credentialWithLink(n,r){let i=Cp.parseLink(r);return J(i,"argument-error"),Qu._fromEmailAndCode(n,i.code,i.tenantId)}}t.PROVIDER_ID="password",t.EMAIL_PASSWORD_SIGN_IN_METHOD="password",t.EMAIL_LINK_SIGN_IN_METHOD="emailLink";return t})(),Tp=class{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}};var c_=class extends Tp{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}};function YB(t,e){return C(this,null,function*(){return Zu(t,"POST","/v1/accounts:signUp",ti(t,e))})}var $a=class t{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static _fromIdTokenResponse(e,n,r,i=!1){return C(this,null,function*(){let o=yield Ba._fromIdTokenResponse(e,r,i),s=AA(r);return new t({user:o,providerId:s,_tokenResponse:r,operationType:n})})}static _forOperation(e,n,r){return C(this,null,function*(){yield e._updateTokensIfNecessary(r,!0);let i=AA(r);return new t({user:e,providerId:i,_tokenResponse:r,operationType:n})})}};function AA(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}var u_=class t extends hn{constructor(e,n,r,i){var o;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,t.prototype),this.customData={appName:e.name,tenantId:(o=e.tenantId)!==null&&o!==void 0?o:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new t(e,n,r,i)}};function iR(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?u_._fromErrorAndOperation(t,o,e,r):o})}function ZB(t,e,n=!1){return C(this,null,function*(){let r=yield Gu(t,e._linkToIdToken(t.auth,yield t.getIdToken()),n);return $a._forOperation(t,"link",r)})}function JB(t,e,n=!1){return C(this,null,function*(){let{auth:r}=t;if(Gn(r.app))return Promise.reject(ei(r));let i="reauthenticate";try{let o=yield Gu(t,iR(r,i,e,t),n);J(o.idToken,r,"internal-error");let s=__(o.idToken);J(s,r,"internal-error");let{sub:a}=s;return J(t.uid===a,r,"user-mismatch"),$a._forOperation(t,i,o)}catch(o){throw o?.code==="auth/user-not-found"&&br(r,"user-mismatch"),o}})}function oR(t,e,n=!1){return C(this,null,function*(){if(Gn(t.app))return Promise.reject(ei(t));let r="signIn",i=yield iR(t,r,e),o=yield $a._fromIdTokenResponse(t,r,i);return n||(yield t._updateCurrentUser(o.user)),o})}function C_(t,e){return C(this,null,function*(){return oR(as(t),e)})}function XB(t,e,n){var r;J(((r=n.url)===null||r===void 0?void 0:r.length)>0,t,"invalid-continue-uri"),J(typeof n.dynamicLinkDomain>"u"||n.dynamicLinkDomain.length>0,t,"invalid-dynamic-link-domain"),e.continueUrl=n.url,e.dynamicLinkDomain=n.dynamicLinkDomain,e.canHandleCodeInApp=n.handleCodeInApp,n.iOS&&(J(n.iOS.bundleId.length>0,t,"missing-ios-bundle-id"),e.iOSBundleId=n.iOS.bundleId),n.android&&(J(n.android.packageName.length>0,t,"missing-android-pkg-name"),e.androidInstallApp=n.android.installApp,e.androidMinimumVersionCode=n.android.minimumVersion,e.androidPackageName=n.android.packageName)}function sR(t){return C(this,null,function*(){let e=as(t);e._getPasswordPolicyInternal()&&(yield e._updatePasswordPolicy())})}function aR(t,e,n){return C(this,null,function*(){if(Gn(t.app))return Promise.reject(ei(t));let r=as(t),s=yield a_(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",YB).catch(u=>{throw u.code==="auth/password-does-not-meet-requirements"&&sR(t),u}),a=yield $a._fromIdTokenResponse(r,"signIn",s);return yield r._updateCurrentUser(a.user),a})}function T_(t,e,n){return Gn(t.app)?Promise.reject(ei(t)):C_(ot(t),rR.credential(e,n)).catch(r=>C(this,null,function*(){throw r.code==="auth/password-does-not-meet-requirements"&&sR(t),r}))}function cR(t,e){return C(this,null,function*(){let n=ot(t),i={requestType:"VERIFY_EMAIL",idToken:yield t.getIdToken()};e&&XB(n.auth,i,e);let{email:o}=yield qB(n.auth,i);o!==t.email&&(yield t.reload())})}function S_(t,e,n,r){return ot(t).onIdTokenChanged(e,n,r)}function A_(t,e,n){return ot(t).beforeAuthStateChanged(e,n)}var Sp="__sak";var Ap=class{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Sp,"1"),this.storage.removeItem(Sp),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){let n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}};var e$=1e3,t$=10,n$=(()=>{class t extends Ap{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(n,r)=>this.onStorageEvent(n,r),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=JA(),this._shouldAllowMigration=!0}forAllChangedKeys(n){for(let r of Object.keys(this.listeners)){let i=this.storage.getItem(r),o=this.localCache[r];i!==o&&n(r,o,i)}}onStorageEvent(n,r=!1){if(!n.key){this.forAllChangedKeys((a,u,d)=>{this.notifyListeners(a,d)});return}let i=n.key;r?this.detachListener():this.stopPolling();let o=()=>{let a=this.storage.getItem(i);!r&&this.localCache[i]===a||this.notifyListeners(i,a)},s=this.storage.getItem(i);MB()&&s!==n.newValue&&n.newValue!==n.oldValue?setTimeout(o,t$):o()}notifyListeners(n,r){this.localCache[n]=r;let i=this.listeners[n];if(i)for(let o of Array.from(i))o(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((n,r,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:n,oldValue:r,newValue:i}),!0)})},e$)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(n,r){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[n]||(this.listeners[n]=new Set,this.localCache[n]=this.storage.getItem(n)),this.listeners[n].add(r)}_removeListener(n,r){this.listeners[n]&&(this.listeners[n].delete(r),this.listeners[n].size===0&&delete this.listeners[n]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}_set(n,r){return C(this,null,function*(){yield Ti(t.prototype,this,"_set").call(this,n,r),this.localCache[n]=JSON.stringify(r)})}_get(n){return C(this,null,function*(){let r=yield Ti(t.prototype,this,"_get").call(this,n);return this.localCache[n]=JSON.stringify(r),r})}_remove(n){return C(this,null,function*(){yield Ti(t.prototype,this,"_remove").call(this,n),delete this.localCache[n]})}}return t.type="LOCAL",t})(),uR=n$;var r$=(()=>{class t extends Ap{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(n,r){}_removeListener(n,r){}}return t.type="SESSION",t})(),R_=r$;function i$(t){return Promise.all(t.map(e=>C(this,null,function*(){try{return{fulfilled:!0,value:yield e}}catch(n){return{fulfilled:!1,reason:n}}})))}var o$=(()=>{class t{constructor(n){this.eventTarget=n,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(n){let r=this.receivers.find(o=>o.isListeningto(n));if(r)return r;let i=new t(n);return this.receivers.push(i),i}isListeningto(n){return this.eventTarget===n}handleEvent(n){return C(this,null,function*(){let r=n,{eventId:i,eventType:o,data:s}=r.data,a=this.handlersMap[o];if(!a?.size)return;r.ports[0].postMessage({status:"ack",eventId:i,eventType:o});let u=Array.from(a).map(p=>C(this,null,function*(){return p(r.origin,s)})),d=yield i$(u);r.ports[0].postMessage({status:"done",eventId:i,eventType:o,response:d})})}_subscribe(n,r){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[n]||(this.handlersMap[n]=new Set),this.handlersMap[n].add(r)}_unsubscribe(n,r){this.handlersMap[n]&&r&&this.handlersMap[n].delete(r),(!r||this.handlersMap[n].size===0)&&delete this.handlersMap[n],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}t.receivers=[];return t})();function lR(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}var l_=class{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}_send(e,n,r=50){return C(this,null,function*(){let i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let o,s;return new Promise((a,u)=>{let d=lR("",20);i.port1.start();let p=setTimeout(()=>{u(new Error("unsupported_event"))},r);s={messageChannel:i,onMessage(g){let _=g;if(_.data.eventId===d)switch(_.data.status){case"ack":clearTimeout(p),o=setTimeout(()=>{u(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),a(_.data.response);break;default:clearTimeout(p),clearTimeout(o),u(new Error("invalid_response"));break}}},this.handlers.add(s),i.port1.addEventListener("message",s.onMessage),this.target.postMessage({eventType:e,eventId:d,data:n},[i.port2])}).finally(()=>{s&&this.removeMessageHandler(s)})})}};function Er(){return window}function s$(t){Er().location.href=t}function dR(){return typeof Er().WorkerGlobalScope<"u"&&typeof Er().importScripts=="function"}function a$(){return C(this,null,function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})}function c$(){var t;return((t=navigator?.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function u$(){return dR()?self:null}var hR="firebaseLocalStorageDb",l$=1,Rp="firebaseLocalStorage",fR="fbase_key",ss=class{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}};function Np(t,e){return t.transaction([Rp],e?"readwrite":"readonly").objectStore(Rp)}function d$(){let t=indexedDB.deleteDatabase(hR);return new ss(t).toPromise()}function d_(){let t=indexedDB.open(hR,l$);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{let r=t.result;try{r.createObjectStore(Rp,{keyPath:fR})}catch(i){n(i)}}),t.addEventListener("success",()=>C(this,null,function*(){let r=t.result;r.objectStoreNames.contains(Rp)?e(r):(r.close(),yield d$(),e(yield d_()))}))})}function RA(t,e,n){return C(this,null,function*(){let r=Np(t,!0).put({[fR]:e,value:n});return new ss(r).toPromise()})}function h$(t,e){return C(this,null,function*(){let n=Np(t,!1).get(e),r=yield new ss(n).toPromise();return r===void 0?null:r.value})}function xA(t,e){let n=Np(t,!0).delete(e);return new ss(n).toPromise()}var f$=800,p$=3,g$=(()=>{class t{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){return C(this,null,function*(){return this.db?this.db:(this.db=yield d_(),this.db)})}_withRetries(n){return C(this,null,function*(){let r=0;for(;;)try{let i=yield this._openDb();return yield n(i)}catch(i){if(r++>p$)throw i;this.db&&(this.db.close(),this.db=void 0)}})}initializeServiceWorkerMessaging(){return C(this,null,function*(){return dR()?this.initializeReceiver():this.initializeSender()})}initializeReceiver(){return C(this,null,function*(){this.receiver=o$._getInstance(u$()),this.receiver._subscribe("keyChanged",(n,r)=>C(this,null,function*(){return{keyProcessed:(yield this._poll()).includes(r.key)}})),this.receiver._subscribe("ping",(n,r)=>C(this,null,function*(){return["keyChanged"]}))})}initializeSender(){return C(this,null,function*(){var n,r;if(this.activeServiceWorker=yield a$(),!this.activeServiceWorker)return;this.sender=new l_(this.activeServiceWorker);let i=yield this.sender._send("ping",{},800);i&&!((n=i[0])===null||n===void 0)&&n.fulfilled&&!((r=i[0])===null||r===void 0)&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)})}notifyServiceWorker(n){return C(this,null,function*(){if(!(!this.sender||!this.activeServiceWorker||c$()!==this.activeServiceWorker))try{yield this.sender._send("keyChanged",{key:n},this.serviceWorkerReceiverAvailable?800:50)}catch{}})}_isAvailable(){return C(this,null,function*(){try{if(!indexedDB)return!1;let n=yield d_();return yield RA(n,Sp,"1"),yield xA(n,Sp),!0}catch{}return!1})}_withPendingWrite(n){return C(this,null,function*(){this.pendingWrites++;try{yield n()}finally{this.pendingWrites--}})}_set(n,r){return C(this,null,function*(){return this._withPendingWrite(()=>C(this,null,function*(){return yield this._withRetries(i=>RA(i,n,r)),this.localCache[n]=r,this.notifyServiceWorker(n)}))})}_get(n){return C(this,null,function*(){let r=yield this._withRetries(i=>h$(i,n));return this.localCache[n]=r,r})}_remove(n){return C(this,null,function*(){return this._withPendingWrite(()=>C(this,null,function*(){return yield this._withRetries(r=>xA(r,n)),delete this.localCache[n],this.notifyServiceWorker(n)}))})}_poll(){return C(this,null,function*(){let n=yield this._withRetries(o=>{let s=Np(o,!1).getAll();return new ss(s).toPromise()});if(!n)return[];if(this.pendingWrites!==0)return[];let r=[],i=new Set;if(n.length!==0)for(let{fbase_key:o,value:s}of n)i.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(s)&&(this.notifyListeners(o,s),r.push(o));for(let o of Object.keys(this.localCache))this.localCache[o]&&!i.has(o)&&(this.notifyListeners(o,null),r.push(o));return r})}notifyListeners(n,r){this.localCache[n]=r;let i=this.listeners[n];if(i)for(let o of Array.from(i))o(r)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>C(this,null,function*(){return this._poll()}),f$)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(n,r){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[n]||(this.listeners[n]=new Set,this._get(n)),this.listeners[n].add(r)}_removeListener(n,r){this.listeners[n]&&(this.listeners[n].delete(r),this.listeners[n].size===0&&delete this.listeners[n]),Object.keys(this.listeners).length===0&&this.stopPolling()}}return t.type="LOCAL",t})(),pR=g$;var TK=tR("rcb"),SK=new os(3e4,6e4);function m$(t,e){return e?Xr(e):(J(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}var Yu=class extends Ku{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return Yw(e,this._buildIdpRequest())}_linkToIdToken(e,n){return Yw(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return Yw(e,this._buildIdpRequest())}_buildIdpRequest(e){let n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}};function y$(t){return oR(t.auth,new Yu(t),t.bypassAuthState)}function v$(t){let{auth:e,user:n}=t;return J(n,e,"internal-error"),JB(n,new Yu(t),t.bypassAuthState)}function w$(t){return C(this,null,function*(){let{auth:e,user:n}=t;return J(n,e,"internal-error"),ZB(n,new Yu(t),t.bypassAuthState)})}var h_=class{constructor(e,n,r,i,o=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise((e,n)=>C(this,null,function*(){this.pendingPromise={resolve:e,reject:n};try{this.eventManager=yield this.resolver._initialize(this.auth),yield this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}}))}onAuthEvent(e){return C(this,null,function*(){let{urlResponse:n,sessionId:r,postBody:i,tenantId:o,error:s,type:a}=e;if(s){this.reject(s);return}let u={auth:this.auth,requestUri:n,sessionId:r,tenantId:o||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(yield this.getIdpTask(a)(u))}catch(d){this.reject(d)}})}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return y$;case"linkViaPopup":case"linkViaRedirect":return w$;case"reauthViaPopup":case"reauthViaRedirect":return v$;default:br(this.auth,"internal-error")}}resolve(e){to(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){to(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}};var AK=new os(2e3,1e4);var _$="pendingRedirect",vp=new Map,f_=class t extends h_{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}execute(){return C(this,null,function*(){let e=vp.get(this.auth._key());if(!e){try{let r=(yield I$(this.resolver,this.auth))?yield Ti(t.prototype,this,"execute").call(this):null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}vp.set(this.auth._key(),e)}return this.bypassAuthState||vp.set(this.auth._key(),()=>Promise.resolve(null)),e()})}onAuthEvent(e){return C(this,null,function*(){if(e.type==="signInViaRedirect")return Ti(t.prototype,this,"onAuthEvent").call(this,e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){let n=yield this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,Ti(t.prototype,this,"onAuthEvent").call(this,e);this.resolve(null)}})}onExecution(){return C(this,null,function*(){})}cleanUp(){}};function I$(t,e){return C(this,null,function*(){let n=D$(e),r=b$(t);if(!(yield r._isAvailable()))return!1;let i=(yield r._get(n))==="true";return yield r._remove(n),i})}function E$(t,e){vp.set(t._key(),e)}function b$(t){return Xr(t._redirectPersistence)}function D$(t){return yp(_$,t.config.apiKey,t.name)}function C$(t,e,n=!1){return C(this,null,function*(){if(Gn(t.app))return Promise.reject(ei(t));let r=as(t),i=m$(r,e),s=yield new f_(r,i,n).execute();return s&&!n&&(delete s.user._redirectEventId,yield r._persistUserIfCurrent(s.user),yield r._setRedirectUser(null,e)),s})}var T$=10*60*1e3,p_=class{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!S$(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!gR(e)){let i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(is(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){let r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=T$&&this.cachedEventUids.clear(),this.cachedEventUids.has(MA(e))}saveEventToCache(e){this.cachedEventUids.add(MA(e)),this.lastProcessedEventTime=Date.now()}};function MA(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function gR({type:t,error:e}){return t==="unknown"&&e?.code==="auth/no-auth-event"}function S$(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return gR(t);default:return!1}}function A$(n){return C(this,arguments,function*(t,e={}){return ni(t,"GET","/v1/projects",e)})}var R$=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,x$=/^https?/;function M$(t){return C(this,null,function*(){if(t.config.emulator)return;let{authorizedDomains:e}=yield A$(t);for(let n of e)try{if(N$(n))return}catch{}br(t,"unauthorized-domain")})}function N$(t){let e=Jw(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){let s=new URL(t);return s.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&s.hostname===r}if(!x$.test(n))return!1;if(R$.test(t))return r===t;let i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}var P$=new os(3e4,6e4);function NA(){let t=Er().___jsl;if(t?.H){for(let e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function k$(t){return new Promise((e,n)=>{var r,i,o;function s(){NA(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{NA(),n(is(t,"network-request-failed"))},timeout:P$.get()})}if(!((i=(r=Er().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((o=Er().gapi)===null||o===void 0)&&o.load)s();else{let a=tR("iframefcb");return Er()[a]=()=>{gapi.load?s():n(is(t,"network-request-failed"))},eR(`${FB()}?onload=${a}`).catch(u=>n(u))}}).catch(e=>{throw wp=null,e})}var wp=null;function O$(t){return wp=wp||k$(t),wp}var F$=new os(5e3,15e3),L$="__/auth/iframe",V$="emulator/auth/iframe",j$={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},U$=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function B$(t){let e=t.config;J(e.authDomain,t,"auth-domain-config-required");let n=e.emulator?v_(e,V$):`https://${t.config.authDomain}/${L$}`,r={apiKey:e.apiKey,appName:t.name,v:Xi},i=U$.get(t.config.apiHost);i&&(r.eid=i);let o=t._getFrameworks();return o.length&&(r.fw=o.join(",")),`${n}?${ju(r).slice(1)}`}function $$(t){return C(this,null,function*(){let e=yield O$(t),n=Er().gapi;return J(n,t,"internal-error"),e.open({where:document.body,url:B$(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:j$,dontclear:!0},r=>new Promise((i,o)=>C(this,null,function*(){yield r.restyle({setHideOnLeave:!1});let s=is(t,"network-request-failed"),a=Er().setTimeout(()=>{o(s)},F$.get());function u(){Er().clearTimeout(a),i(r)}r.ping(u).then(u,()=>{o(s)})})))})}var H$={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},z$=500,q$=600,G$="_blank",W$="http://localhost",xp=class{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}};function K$(t,e,n,r=z$,i=q$){let o=Math.max((window.screen.availHeight-i)/2,0).toString(),s=Math.max((window.screen.availWidth-r)/2,0).toString(),a="",u=Object.assign(Object.assign({},H$),{width:r.toString(),height:i.toString(),top:o,left:s}),d=It().toLowerCase();n&&(a=WA(d)?G$:n),qA(d)&&(e=e||W$,u.scrollbars="yes");let p=Object.entries(u).reduce((_,[b,M])=>`${_}${b}=${M},`,"");if(xB(d)&&a!=="_self")return Q$(e||"",a),new xp(null);let g=window.open(e||"",a,p);J(g,t,"popup-blocked");try{g.focus()}catch{}return new xp(g)}function Q$(t,e){let n=document.createElement("a");n.href=t,n.target=e;let r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}var Y$="__/auth/handler",Z$="emulator/auth/handler",J$=encodeURIComponent("fac");function PA(t,e,n,r,i,o){return C(this,null,function*(){J(t.config.authDomain,t,"auth-domain-config-required"),J(t.config.apiKey,t,"invalid-api-key");let s={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:Xi,eventId:i};if(e instanceof Tp){e.setDefaultLanguage(t.languageCode),s.providerId=e.providerId||"",oA(e.getCustomParameters())||(s.customParameters=JSON.stringify(e.getCustomParameters()));for(let[p,g]of Object.entries(o||{}))s[p]=g}if(e instanceof c_){let p=e.getScopes().filter(g=>g!=="");p.length>0&&(s.scopes=p.join(","))}t.tenantId&&(s.tid=t.tenantId);let a=s;for(let p of Object.keys(a))a[p]===void 0&&delete a[p];let u=yield t._getAppCheckToken(),d=u?`#${J$}=${encodeURIComponent(u)}`:"";return`${X$(t)}?${ju(a).slice(1)}${d}`})}function X$({config:t}){return t.emulator?v_(t,Z$):`https://${t.authDomain}/${Y$}`}var Zw="webStorageSupport",g_=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=R_,this._completeRedirectFn=C$,this._overrideRedirectResult=E$}_openPopup(e,n,r,i){return C(this,null,function*(){var o;to((o=this.eventManagers[e._key()])===null||o===void 0?void 0:o.manager,"_initialize() not called before _openPopup()");let s=yield PA(e,n,r,Jw(),i);return K$(e,s,lR())})}_openRedirect(e,n,r,i){return C(this,null,function*(){yield this._originValidation(e);let o=yield PA(e,n,r,Jw(),i);return s$(o),new Promise(()=>{})})}_initialize(e){let n=e._key();if(this.eventManagers[n]){let{manager:i,promise:o}=this.eventManagers[n];return i?Promise.resolve(i):(to(o,"If manager is not set, promise should be"),o)}let r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}initAndGetManager(e){return C(this,null,function*(){let n=yield $$(e),r=new p_(e);return n.register("authEvent",i=>(J(i?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r})}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(Zw,{type:Zw},i=>{var o;let s=(o=i?.[0])===null||o===void 0?void 0:o[Zw];s!==void 0&&n(!!s),br(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){let n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=M$(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return JA()||GA()||E_()}},mR=g_;var kA="@firebase/auth",OA="1.7.9";var m_=class{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}getToken(e){return C(this,null,function*(){return this.assertAuthConfigured(),yield this.auth._initializationPromise,this.auth.currentUser?{accessToken:yield this.auth.currentUser.getIdToken(e)}:null})}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;let n=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();let n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){J(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}};function eH(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function tH(t){Ji(new Sn("auth",(e,{options:n})=>{let r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:s,authDomain:a}=r.options;J(s&&!s.includes(":"),"invalid-api-key",{appName:r.name});let u={apiKey:s,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:XA(t)},d=new o_(r,i,o,u);return jB(d,n),d},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),Ji(new Sn("auth-internal",e=>{let n=as(e.getProvider("auth").getImmediate());return(r=>new m_(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),gt(kA,OA,eH(t)),gt(kA,OA,"esm2017")}var nH=5*60,rH=xw("authIdTokenMaxAge")||nH,FA=null,iH=t=>e=>C(void 0,null,function*(){let n=e&&(yield e.getIdTokenResult()),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>rH)return;let i=n?.token;FA!==i&&(FA=i,yield fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))});function x_(t=La()){let e=$u(t,"auth");if(e.isInitialized())return e.getImmediate();let n=b_(t,{popupRedirectResolver:mR,persistence:[pR,uR,R_]}),r=xw("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){let o=new URL(r,location.origin);if(location.origin===o.origin){let s=iH(o.toString());A_(n,s,()=>s(n.currentUser)),S_(n,a=>s(a))}}let i=Aw("auth");return i&&D_(n,`http://${i}`),n}function oH(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}kB({loadJS(t){return new Promise((e,n)=>{let r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{let o=is("internal-error");o.customData=i,n(o)},r.type="text/javascript",r.charset="UTF-8",oH().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});tH("Browser");var yR="auth",Ju=class{constructor(e){return e}},Xu=class{constructor(){return Hu(yR)}};var M_=new z("angularfire2.auth-instances");function QH(t,e){let n=fp(yR,t,e);return n&&new Ju(n)}function YH(t){return(e,n)=>{let r=e.runOutsideAngular(()=>t(n));return new Ju(r)}}var ZH={provide:Xu,deps:[[new Nt,M_]]},JH={provide:Ju,useFactory:QH,deps:[[new Nt,M_],Zr]};function dQ(t,...e){return gt("angularfire",ns.full,"auth"),hr([JH,ZH,{provide:M_,useFactory:YH(t),multi:!0,deps:[De,Tt,Ua,rs,[new Nt,ja],...e]}])}var hQ=kt(x_,!0);var fQ=kt(T_,!0);var vR=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},wR={};var no,N_;(function(){var t;function e(S,I){function E(){}E.prototype=I.prototype,S.D=I.prototype,S.prototype=new E,S.prototype.constructor=S,S.C=function(T,A,R){for(var D=Array(arguments.length-2),Rn=2;Rn<arguments.length;Rn++)D[Rn-2]=arguments[Rn];return I.prototype[A].apply(T,D)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(S,I,E){E||(E=0);var T=Array(16);if(typeof I=="string")for(var A=0;16>A;++A)T[A]=I.charCodeAt(E++)|I.charCodeAt(E++)<<8|I.charCodeAt(E++)<<16|I.charCodeAt(E++)<<24;else for(A=0;16>A;++A)T[A]=I[E++]|I[E++]<<8|I[E++]<<16|I[E++]<<24;I=S.g[0],E=S.g[1],A=S.g[2];var R=S.g[3],D=I+(R^E&(A^R))+T[0]+3614090360&4294967295;I=E+(D<<7&4294967295|D>>>25),D=R+(A^I&(E^A))+T[1]+3905402710&4294967295,R=I+(D<<12&4294967295|D>>>20),D=A+(E^R&(I^E))+T[2]+606105819&4294967295,A=R+(D<<17&4294967295|D>>>15),D=E+(I^A&(R^I))+T[3]+3250441966&4294967295,E=A+(D<<22&4294967295|D>>>10),D=I+(R^E&(A^R))+T[4]+4118548399&4294967295,I=E+(D<<7&4294967295|D>>>25),D=R+(A^I&(E^A))+T[5]+1200080426&4294967295,R=I+(D<<12&4294967295|D>>>20),D=A+(E^R&(I^E))+T[6]+2821735955&4294967295,A=R+(D<<17&4294967295|D>>>15),D=E+(I^A&(R^I))+T[7]+4249261313&4294967295,E=A+(D<<22&4294967295|D>>>10),D=I+(R^E&(A^R))+T[8]+1770035416&4294967295,I=E+(D<<7&4294967295|D>>>25),D=R+(A^I&(E^A))+T[9]+2336552879&4294967295,R=I+(D<<12&4294967295|D>>>20),D=A+(E^R&(I^E))+T[10]+4294925233&4294967295,A=R+(D<<17&4294967295|D>>>15),D=E+(I^A&(R^I))+T[11]+2304563134&4294967295,E=A+(D<<22&4294967295|D>>>10),D=I+(R^E&(A^R))+T[12]+1804603682&4294967295,I=E+(D<<7&4294967295|D>>>25),D=R+(A^I&(E^A))+T[13]+4254626195&4294967295,R=I+(D<<12&4294967295|D>>>20),D=A+(E^R&(I^E))+T[14]+2792965006&4294967295,A=R+(D<<17&4294967295|D>>>15),D=E+(I^A&(R^I))+T[15]+1236535329&4294967295,E=A+(D<<22&4294967295|D>>>10),D=I+(A^R&(E^A))+T[1]+4129170786&4294967295,I=E+(D<<5&4294967295|D>>>27),D=R+(E^A&(I^E))+T[6]+3225465664&4294967295,R=I+(D<<9&4294967295|D>>>23),D=A+(I^E&(R^I))+T[11]+643717713&4294967295,A=R+(D<<14&4294967295|D>>>18),D=E+(R^I&(A^R))+T[0]+3921069994&4294967295,E=A+(D<<20&4294967295|D>>>12),D=I+(A^R&(E^A))+T[5]+3593408605&4294967295,I=E+(D<<5&4294967295|D>>>27),D=R+(E^A&(I^E))+T[10]+38016083&4294967295,R=I+(D<<9&4294967295|D>>>23),D=A+(I^E&(R^I))+T[15]+3634488961&4294967295,A=R+(D<<14&4294967295|D>>>18),D=E+(R^I&(A^R))+T[4]+3889429448&4294967295,E=A+(D<<20&4294967295|D>>>12),D=I+(A^R&(E^A))+T[9]+568446438&4294967295,I=E+(D<<5&4294967295|D>>>27),D=R+(E^A&(I^E))+T[14]+3275163606&4294967295,R=I+(D<<9&4294967295|D>>>23),D=A+(I^E&(R^I))+T[3]+4107603335&4294967295,A=R+(D<<14&4294967295|D>>>18),D=E+(R^I&(A^R))+T[8]+1163531501&4294967295,E=A+(D<<20&4294967295|D>>>12),D=I+(A^R&(E^A))+T[13]+2850285829&4294967295,I=E+(D<<5&4294967295|D>>>27),D=R+(E^A&(I^E))+T[2]+4243563512&4294967295,R=I+(D<<9&4294967295|D>>>23),D=A+(I^E&(R^I))+T[7]+1735328473&4294967295,A=R+(D<<14&4294967295|D>>>18),D=E+(R^I&(A^R))+T[12]+2368359562&4294967295,E=A+(D<<20&4294967295|D>>>12),D=I+(E^A^R)+T[5]+4294588738&4294967295,I=E+(D<<4&4294967295|D>>>28),D=R+(I^E^A)+T[8]+2272392833&4294967295,R=I+(D<<11&4294967295|D>>>21),D=A+(R^I^E)+T[11]+1839030562&4294967295,A=R+(D<<16&4294967295|D>>>16),D=E+(A^R^I)+T[14]+4259657740&4294967295,E=A+(D<<23&4294967295|D>>>9),D=I+(E^A^R)+T[1]+2763975236&4294967295,I=E+(D<<4&4294967295|D>>>28),D=R+(I^E^A)+T[4]+1272893353&4294967295,R=I+(D<<11&4294967295|D>>>21),D=A+(R^I^E)+T[7]+4139469664&4294967295,A=R+(D<<16&4294967295|D>>>16),D=E+(A^R^I)+T[10]+3200236656&4294967295,E=A+(D<<23&4294967295|D>>>9),D=I+(E^A^R)+T[13]+681279174&4294967295,I=E+(D<<4&4294967295|D>>>28),D=R+(I^E^A)+T[0]+3936430074&4294967295,R=I+(D<<11&4294967295|D>>>21),D=A+(R^I^E)+T[3]+3572445317&4294967295,A=R+(D<<16&4294967295|D>>>16),D=E+(A^R^I)+T[6]+76029189&4294967295,E=A+(D<<23&4294967295|D>>>9),D=I+(E^A^R)+T[9]+3654602809&4294967295,I=E+(D<<4&4294967295|D>>>28),D=R+(I^E^A)+T[12]+3873151461&4294967295,R=I+(D<<11&4294967295|D>>>21),D=A+(R^I^E)+T[15]+530742520&4294967295,A=R+(D<<16&4294967295|D>>>16),D=E+(A^R^I)+T[2]+3299628645&4294967295,E=A+(D<<23&4294967295|D>>>9),D=I+(A^(E|~R))+T[0]+4096336452&4294967295,I=E+(D<<6&4294967295|D>>>26),D=R+(E^(I|~A))+T[7]+1126891415&4294967295,R=I+(D<<10&4294967295|D>>>22),D=A+(I^(R|~E))+T[14]+2878612391&4294967295,A=R+(D<<15&4294967295|D>>>17),D=E+(R^(A|~I))+T[5]+4237533241&4294967295,E=A+(D<<21&4294967295|D>>>11),D=I+(A^(E|~R))+T[12]+1700485571&4294967295,I=E+(D<<6&4294967295|D>>>26),D=R+(E^(I|~A))+T[3]+2399980690&4294967295,R=I+(D<<10&4294967295|D>>>22),D=A+(I^(R|~E))+T[10]+4293915773&4294967295,A=R+(D<<15&4294967295|D>>>17),D=E+(R^(A|~I))+T[1]+2240044497&4294967295,E=A+(D<<21&4294967295|D>>>11),D=I+(A^(E|~R))+T[8]+1873313359&4294967295,I=E+(D<<6&4294967295|D>>>26),D=R+(E^(I|~A))+T[15]+4264355552&4294967295,R=I+(D<<10&4294967295|D>>>22),D=A+(I^(R|~E))+T[6]+2734768916&4294967295,A=R+(D<<15&4294967295|D>>>17),D=E+(R^(A|~I))+T[13]+1309151649&4294967295,E=A+(D<<21&4294967295|D>>>11),D=I+(A^(E|~R))+T[4]+4149444226&4294967295,I=E+(D<<6&4294967295|D>>>26),D=R+(E^(I|~A))+T[11]+3174756917&4294967295,R=I+(D<<10&4294967295|D>>>22),D=A+(I^(R|~E))+T[2]+718787259&4294967295,A=R+(D<<15&4294967295|D>>>17),D=E+(R^(A|~I))+T[9]+3951481745&4294967295,S.g[0]=S.g[0]+I&4294967295,S.g[1]=S.g[1]+(A+(D<<21&4294967295|D>>>11))&4294967295,S.g[2]=S.g[2]+A&4294967295,S.g[3]=S.g[3]+R&4294967295}r.prototype.u=function(S,I){I===void 0&&(I=S.length);for(var E=I-this.blockSize,T=this.B,A=this.h,R=0;R<I;){if(A==0)for(;R<=E;)i(this,S,R),R+=this.blockSize;if(typeof S=="string"){for(;R<I;)if(T[A++]=S.charCodeAt(R++),A==this.blockSize){i(this,T),A=0;break}}else for(;R<I;)if(T[A++]=S[R++],A==this.blockSize){i(this,T),A=0;break}}this.h=A,this.o+=I},r.prototype.v=function(){var S=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);S[0]=128;for(var I=1;I<S.length-8;++I)S[I]=0;var E=8*this.o;for(I=S.length-8;I<S.length;++I)S[I]=E&255,E/=256;for(this.u(S),S=Array(16),I=E=0;4>I;++I)for(var T=0;32>T;T+=8)S[E++]=this.g[I]>>>T&255;return S};function o(S,I){var E=a;return Object.prototype.hasOwnProperty.call(E,S)?E[S]:E[S]=I(S)}function s(S,I){this.h=I;for(var E=[],T=!0,A=S.length-1;0<=A;A--){var R=S[A]|0;T&&R==I||(E[A]=R,T=!1)}this.g=E}var a={};function u(S){return-128<=S&&128>S?o(S,function(I){return new s([I|0],0>I?-1:0)}):new s([S|0],0>S?-1:0)}function d(S){if(isNaN(S)||!isFinite(S))return g;if(0>S)return k(d(-S));for(var I=[],E=1,T=0;S>=E;T++)I[T]=S/E|0,E*=4294967296;return new s(I,0)}function p(S,I){if(S.length==0)throw Error("number format error: empty string");if(I=I||10,2>I||36<I)throw Error("radix out of range: "+I);if(S.charAt(0)=="-")return k(p(S.substring(1),I));if(0<=S.indexOf("-"))throw Error('number format error: interior "-" character');for(var E=d(Math.pow(I,8)),T=g,A=0;A<S.length;A+=8){var R=Math.min(8,S.length-A),D=parseInt(S.substring(A,A+R),I);8>R?(R=d(Math.pow(I,R)),T=T.j(R).add(d(D))):(T=T.j(E),T=T.add(d(D)))}return T}var g=u(0),_=u(1),b=u(16777216);t=s.prototype,t.m=function(){if(O(this))return-k(this).m();for(var S=0,I=1,E=0;E<this.g.length;E++){var T=this.i(E);S+=(0<=T?T:4294967296+T)*I,I*=4294967296}return S},t.toString=function(S){if(S=S||10,2>S||36<S)throw Error("radix out of range: "+S);if(M(this))return"0";if(O(this))return"-"+k(this).toString(S);for(var I=d(Math.pow(S,6)),E=this,T="";;){var A=ce(E,I).g;E=U(E,A.j(I));var R=((0<E.g.length?E.g[0]:E.h)>>>0).toString(S);if(E=A,M(E))return R+T;for(;6>R.length;)R="0"+R;T=R+T}},t.i=function(S){return 0>S?0:S<this.g.length?this.g[S]:this.h};function M(S){if(S.h!=0)return!1;for(var I=0;I<S.g.length;I++)if(S.g[I]!=0)return!1;return!0}function O(S){return S.h==-1}t.l=function(S){return S=U(this,S),O(S)?-1:M(S)?0:1};function k(S){for(var I=S.g.length,E=[],T=0;T<I;T++)E[T]=~S.g[T];return new s(E,~S.h).add(_)}t.abs=function(){return O(this)?k(this):this},t.add=function(S){for(var I=Math.max(this.g.length,S.g.length),E=[],T=0,A=0;A<=I;A++){var R=T+(this.i(A)&65535)+(S.i(A)&65535),D=(R>>>16)+(this.i(A)>>>16)+(S.i(A)>>>16);T=D>>>16,R&=65535,D&=65535,E[A]=D<<16|R}return new s(E,E[E.length-1]&-2147483648?-1:0)};function U(S,I){return S.add(k(I))}t.j=function(S){if(M(this)||M(S))return g;if(O(this))return O(S)?k(this).j(k(S)):k(k(this).j(S));if(O(S))return k(this.j(k(S)));if(0>this.l(b)&&0>S.l(b))return d(this.m()*S.m());for(var I=this.g.length+S.g.length,E=[],T=0;T<2*I;T++)E[T]=0;for(T=0;T<this.g.length;T++)for(var A=0;A<S.g.length;A++){var R=this.i(T)>>>16,D=this.i(T)&65535,Rn=S.i(A)>>>16,ci=S.i(A)&65535;E[2*T+2*A]+=D*ci,Q(E,2*T+2*A),E[2*T+2*A+1]+=R*ci,Q(E,2*T+2*A+1),E[2*T+2*A+1]+=D*Rn,Q(E,2*T+2*A+1),E[2*T+2*A+2]+=R*Rn,Q(E,2*T+2*A+2)}for(T=0;T<I;T++)E[T]=E[2*T+1]<<16|E[2*T];for(T=I;T<2*I;T++)E[T]=0;return new s(E,0)};function Q(S,I){for(;(S[I]&65535)!=S[I];)S[I+1]+=S[I]>>>16,S[I]&=65535,I++}function Z(S,I){this.g=S,this.h=I}function ce(S,I){if(M(I))throw Error("division by zero");if(M(S))return new Z(g,g);if(O(S))return I=ce(k(S),I),new Z(k(I.g),k(I.h));if(O(I))return I=ce(S,k(I)),new Z(k(I.g),I.h);if(30<S.g.length){if(O(S)||O(I))throw Error("slowDivide_ only works with positive integers.");for(var E=_,T=I;0>=T.l(S);)E=Oe(E),T=Oe(T);var A=ee(E,1),R=ee(T,1);for(T=ee(T,2),E=ee(E,2);!M(T);){var D=R.add(T);0>=D.l(S)&&(A=A.add(E),R=D),T=ee(T,1),E=ee(E,1)}return I=U(S,A.j(I)),new Z(A,I)}for(A=g;0<=S.l(I);){for(E=Math.max(1,Math.floor(S.m()/I.m())),T=Math.ceil(Math.log(E)/Math.LN2),T=48>=T?1:Math.pow(2,T-48),R=d(E),D=R.j(I);O(D)||0<D.l(S);)E-=T,R=d(E),D=R.j(I);M(R)&&(R=_),A=A.add(R),S=U(S,D)}return new Z(A,S)}t.A=function(S){return ce(this,S).h},t.and=function(S){for(var I=Math.max(this.g.length,S.g.length),E=[],T=0;T<I;T++)E[T]=this.i(T)&S.i(T);return new s(E,this.h&S.h)},t.or=function(S){for(var I=Math.max(this.g.length,S.g.length),E=[],T=0;T<I;T++)E[T]=this.i(T)|S.i(T);return new s(E,this.h|S.h)},t.xor=function(S){for(var I=Math.max(this.g.length,S.g.length),E=[],T=0;T<I;T++)E[T]=this.i(T)^S.i(T);return new s(E,this.h^S.h)};function Oe(S){for(var I=S.g.length+1,E=[],T=0;T<I;T++)E[T]=S.i(T)<<1|S.i(T-1)>>>31;return new s(E,S.h)}function ee(S,I){var E=I>>5;I%=32;for(var T=S.g.length-E,A=[],R=0;R<T;R++)A[R]=0<I?S.i(R+E)>>>I|S.i(R+E+1)<<32-I:S.i(R+E);return new s(A,S.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,N_=wR.Md5=r,s.prototype.add=s.prototype.add,s.prototype.multiply=s.prototype.j,s.prototype.modulo=s.prototype.A,s.prototype.compare=s.prototype.l,s.prototype.toNumber=s.prototype.m,s.prototype.toString=s.prototype.toString,s.prototype.getBits=s.prototype.i,s.fromNumber=d,s.fromString=p,no=wR.Integer=s}).apply(typeof vR<"u"?vR:typeof self<"u"?self:typeof window<"u"?window:{});var Pp=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},ri={};var P_,XH,Ha,k_,el,kp,O_,F_,L_;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,f,m){return c==Array.prototype||c==Object.prototype||(c[f]=m.value),c};function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof Pp=="object"&&Pp];for(var f=0;f<c.length;++f){var m=c[f];if(m&&m.Math==Math)return m}throw Error("Cannot find global object")}var r=n(this);function i(c,f){if(f)e:{var m=r;c=c.split(".");for(var v=0;v<c.length-1;v++){var x=c[v];if(!(x in m))break e;m=m[x]}c=c[c.length-1],v=m[c],f=f(v),f!=v&&f!=null&&e(m,c,{configurable:!0,writable:!0,value:f})}}function o(c,f){c instanceof String&&(c+="");var m=0,v=!1,x={next:function(){if(!v&&m<c.length){var P=m++;return{value:f(P,c[P]),done:!1}}return v=!0,{done:!0,value:void 0}}};return x[Symbol.iterator]=function(){return x},x}i("Array.prototype.values",function(c){return c||function(){return o(this,function(f,m){return m})}});var s=s||{},a=this||self;function u(c){var f=typeof c;return f=f!="object"?f:c?Array.isArray(c)?"array":f:"null",f=="array"||f=="object"&&typeof c.length=="number"}function d(c){var f=typeof c;return f=="object"&&c!=null||f=="function"}function p(c,f,m){return c.call.apply(c.bind,arguments)}function g(c,f,m){if(!c)throw Error();if(2<arguments.length){var v=Array.prototype.slice.call(arguments,2);return function(){var x=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(x,v),c.apply(f,x)}}return function(){return c.apply(f,arguments)}}function _(c,f,m){return _=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?p:g,_.apply(null,arguments)}function b(c,f){var m=Array.prototype.slice.call(arguments,1);return function(){var v=m.slice();return v.push.apply(v,arguments),c.apply(this,v)}}function M(c,f){function m(){}m.prototype=f.prototype,c.aa=f.prototype,c.prototype=new m,c.prototype.constructor=c,c.Qb=function(v,x,P){for(var V=Array(arguments.length-2),xe=2;xe<arguments.length;xe++)V[xe-2]=arguments[xe];return f.prototype[x].apply(v,V)}}function O(c){let f=c.length;if(0<f){let m=Array(f);for(let v=0;v<f;v++)m[v]=c[v];return m}return[]}function k(c,f){for(let m=1;m<arguments.length;m++){let v=arguments[m];if(u(v)){let x=c.length||0,P=v.length||0;c.length=x+P;for(let V=0;V<P;V++)c[x+V]=v[V]}else c.push(v)}}class U{constructor(f,m){this.i=f,this.j=m,this.h=0,this.g=null}get(){let f;return 0<this.h?(this.h--,f=this.g,this.g=f.next,f.next=null):f=this.i(),f}}function Q(c){return/^[\s\xa0]*$/.test(c)}function Z(){var c=a.navigator;return c&&(c=c.userAgent)?c:""}function ce(c){return ce[" "](c),c}ce[" "]=function(){};var Oe=Z().indexOf("Gecko")!=-1&&!(Z().toLowerCase().indexOf("webkit")!=-1&&Z().indexOf("Edge")==-1)&&!(Z().indexOf("Trident")!=-1||Z().indexOf("MSIE")!=-1)&&Z().indexOf("Edge")==-1;function ee(c,f,m){for(let v in c)f.call(m,c[v],v,c)}function S(c,f){for(let m in c)f.call(void 0,c[m],m,c)}function I(c){let f={};for(let m in c)f[m]=c[m];return f}let E="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function T(c,f){let m,v;for(let x=1;x<arguments.length;x++){v=arguments[x];for(m in v)c[m]=v[m];for(let P=0;P<E.length;P++)m=E[P],Object.prototype.hasOwnProperty.call(v,m)&&(c[m]=v[m])}}function A(c){var f=1;c=c.split(":");let m=[];for(;0<f&&c.length;)m.push(c.shift()),f--;return c.length&&m.push(c.join(":")),m}function R(c){a.setTimeout(()=>{throw c},0)}function D(){var c=li;let f=null;return c.g&&(f=c.g,c.g=c.g.next,c.g||(c.h=null),f.next=null),f}class Rn{constructor(){this.h=this.g=null}add(f,m){let v=ci.get();v.set(f,m),this.h?this.h.next=v:this.g=v,this.h=v}}var ci=new U(()=>new lc,c=>c.reset());class lc{constructor(){this.next=this.g=this.h=null}set(f,m){this.h=f,this.g=m,this.next=null}reset(){this.next=this.g=this.h=null}}let ui,Nr=!1,li=new Rn,Xt=()=>{let c=a.Promise.resolve(void 0);ui=()=>{c.then(di)}};var di=()=>{for(var c;c=D();){try{c.h.call(c.g)}catch(m){R(m)}var f=ci;f.j(c),100>f.h&&(f.h++,c.next=f.g,f.g=c)}Nr=!1};function Rt(){this.s=this.s,this.C=this.C}Rt.prototype.s=!1,Rt.prototype.ma=function(){this.s||(this.s=!0,this.N())},Rt.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function mt(c,f){this.type=c,this.g=this.target=f,this.defaultPrevented=!1}mt.prototype.h=function(){this.defaultPrevented=!0};var hi=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var c=!1,f=Object.defineProperty({},"passive",{get:function(){c=!0}});try{let m=()=>{};a.addEventListener("test",m,f),a.removeEventListener("test",m,f)}catch{}return c}();function xn(c,f){if(mt.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var m=this.type=c.type,v=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=f,f=c.relatedTarget){if(Oe){e:{try{ce(f.nodeName);var x=!0;break e}catch{}x=!1}x||(f=null)}}else m=="mouseover"?f=c.fromElement:m=="mouseout"&&(f=c.toElement);this.relatedTarget=f,v?(this.clientX=v.clientX!==void 0?v.clientX:v.pageX,this.clientY=v.clientY!==void 0?v.clientY:v.pageY,this.screenX=v.screenX||0,this.screenY=v.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:Tl[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&xn.aa.h.call(this)}}M(xn,mt);var Tl={2:"touch",3:"pen",4:"mouse"};xn.prototype.h=function(){xn.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var Qn="closure_listenable_"+(1e6*Math.random()|0),dc=0;function Rg(c,f,m,v,x){this.listener=c,this.proxy=null,this.src=f,this.type=m,this.capture=!!v,this.ha=x,this.key=++dc,this.da=this.fa=!1}function fi(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function pi(c){this.src=c,this.g={},this.h=0}pi.prototype.add=function(c,f,m,v,x){var P=c.toString();c=this.g[P],c||(c=this.g[P]=[],this.h++);var V=hc(c,f,v,x);return-1<V?(f=c[V],m||(f.fa=!1)):(f=new Rg(f,this.src,P,!!v,x),f.fa=m,c.push(f)),f};function gi(c,f){var m=f.type;if(m in c.g){var v=c.g[m],x=Array.prototype.indexOf.call(v,f,void 0),P;(P=0<=x)&&Array.prototype.splice.call(v,x,1),P&&(fi(f),c.g[m].length==0&&(delete c.g[m],c.h--))}}function hc(c,f,m,v){for(var x=0;x<c.length;++x){var P=c[x];if(!P.da&&P.listener==f&&P.capture==!!m&&P.ha==v)return x}return-1}var bt="closure_lm_"+(1e6*Math.random()|0),en={};function Sl(c,f,m,v,x){if(v&&v.once)return fc(c,f,m,v,x);if(Array.isArray(f)){for(var P=0;P<f.length;P++)Sl(c,f[P],m,v,x);return null}return m=Xe(m),c&&c[Qn]?c.K(f,m,d(v)?!!v.capture:!!v,x):xt(c,f,m,!1,v,x)}function xt(c,f,m,v,x,P){if(!f)throw Error("Invalid event type");var V=d(x)?!!x.capture:!!x,xe=Mn(c);if(xe||(c[bt]=xe=new pi(c)),m=xe.add(f,m,v,V,P),m.proxy)return m;if(v=_s(),m.proxy=v,v.src=c,v.listener=m,c.addEventListener)hi||(x=V),x===void 0&&(x=!1),c.addEventListener(f.toString(),v,x);else if(c.attachEvent)c.attachEvent(tn(f.toString()),v);else if(c.addListener&&c.removeListener)c.addListener(v);else throw Error("addEventListener and attachEvent are unavailable.");return m}function _s(){function c(m){return f.call(c.src,c.listener,m)}let f=Yn;return c}function fc(c,f,m,v,x){if(Array.isArray(f)){for(var P=0;P<f.length;P++)fc(c,f[P],m,v,x);return null}return m=Xe(m),c&&c[Qn]?c.L(f,m,d(v)?!!v.capture:!!v,x):xt(c,f,m,!0,v,x)}function pc(c,f,m,v,x){if(Array.isArray(f))for(var P=0;P<f.length;P++)pc(c,f[P],m,v,x);else v=d(v)?!!v.capture:!!v,m=Xe(m),c&&c[Qn]?(c=c.i,f=String(f).toString(),f in c.g&&(P=c.g[f],m=hc(P,m,v,x),-1<m&&(fi(P[m]),Array.prototype.splice.call(P,m,1),P.length==0&&(delete c.g[f],c.h--)))):c&&(c=Mn(c))&&(f=c.g[f.toString()],c=-1,f&&(c=hc(f,m,v,x)),(m=-1<c?f[c]:null)&&pe(m))}function pe(c){if(typeof c!="number"&&c&&!c.da){var f=c.src;if(f&&f[Qn])gi(f.i,c);else{var m=c.type,v=c.proxy;f.removeEventListener?f.removeEventListener(m,v,c.capture):f.detachEvent?f.detachEvent(tn(m),v):f.addListener&&f.removeListener&&f.removeListener(v),(m=Mn(f))?(gi(m,c),m.h==0&&(m.src=null,f[bt]=null)):fi(c)}}}function tn(c){return c in en?en[c]:en[c]="on"+c}function Yn(c,f){if(c.da)c=!0;else{f=new xn(f,this);var m=c.listener,v=c.ha||c.src;c.fa&&pe(c),c=m.call(v,f)}return c}function Mn(c){return c=c[bt],c instanceof pi?c:null}var Ge="__closure_events_fn_"+(1e9*Math.random()>>>0);function Xe(c){return typeof c=="function"?c:(c[Ge]||(c[Ge]=function(f){return c.handleEvent(f)}),c[Ge])}function et(){Rt.call(this),this.i=new pi(this),this.M=this,this.F=null}M(et,Rt),et.prototype[Qn]=!0,et.prototype.removeEventListener=function(c,f,m,v){pc(this,c,f,m,v)};function yt(c,f){var m,v=c.F;if(v)for(m=[];v;v=v.F)m.push(v);if(c=c.M,v=f.type||f,typeof f=="string")f=new mt(f,c);else if(f instanceof mt)f.target=f.target||c;else{var x=f;f=new mt(v,c),T(f,x)}if(x=!0,m)for(var P=m.length-1;0<=P;P--){var V=f.g=m[P];x=Zn(V,v,!0,f)&&x}if(V=f.g=c,x=Zn(V,v,!0,f)&&x,x=Zn(V,v,!1,f)&&x,m)for(P=0;P<m.length;P++)V=f.g=m[P],x=Zn(V,v,!1,f)&&x}et.prototype.N=function(){if(et.aa.N.call(this),this.i){var c=this.i,f;for(f in c.g){for(var m=c.g[f],v=0;v<m.length;v++)fi(m[v]);delete c.g[f],c.h--}}this.F=null},et.prototype.K=function(c,f,m,v){return this.i.add(String(c),f,!1,m,v)},et.prototype.L=function(c,f,m,v){return this.i.add(String(c),f,!0,m,v)};function Zn(c,f,m,v){if(f=c.i.g[String(f)],!f)return!0;f=f.concat();for(var x=!0,P=0;P<f.length;++P){var V=f[P];if(V&&!V.da&&V.capture==m){var xe=V.listener,lt=V.ha||V.src;V.fa&&gi(c.i,V),x=xe.call(lt,v)!==!1&&x}}return x&&!v.defaultPrevented}function Dt(c,f,m){if(typeof c=="function")m&&(c=_(c,m));else if(c&&typeof c.handleEvent=="function")c=_(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(f)?-1:a.setTimeout(c,f||0)}function Al(c){c.g=Dt(()=>{c.g=null,c.i&&(c.i=!1,Al(c))},c.l);let f=c.h;c.h=null,c.m.apply(null,f)}class Rl extends Rt{constructor(f,m){super(),this.m=f,this.l=m,this.h=null,this.i=!1,this.g=null}j(f){this.h=arguments,this.g?this.i=!0:Al(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function mi(c){Rt.call(this),this.h=c,this.g={}}M(mi,Rt);var Is=[];function xl(c){ee(c.g,function(f,m){this.g.hasOwnProperty(m)&&pe(f)},c),c.g={}}mi.prototype.N=function(){mi.aa.N.call(this),xl(this)},mi.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var gc=a.JSON.stringify,xg=a.JSON.parse,Mg=class{stringify(c){return a.JSON.stringify(c,void 0)}parse(c){return a.JSON.parse(c,void 0)}};function Nn(){}Nn.prototype.h=null;function Ml(c){return c.h||(c.h=c.i())}function Nl(){}var ho={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function mc(){mt.call(this,"d")}M(mc,mt);function yc(){mt.call(this,"c")}M(yc,mt);var Pn={},Pl=null;function Es(){return Pl=Pl||new et}Pn.La="serverreachability";function kl(c){mt.call(this,Pn.La,c)}M(kl,mt);function fo(c){let f=Es();yt(f,new kl(f))}Pn.STAT_EVENT="statevent";function Ol(c,f){mt.call(this,Pn.STAT_EVENT,c),this.stat=f}M(Ol,mt);function ut(c){let f=Es();yt(f,new Ol(f,c))}Pn.Ma="timingevent";function Fl(c,f){mt.call(this,Pn.Ma,c),this.size=f}M(Fl,mt);function po(c,f){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){c()},f)}function go(){this.g=!0}go.prototype.xa=function(){this.g=!1};function Ng(c,f,m,v,x,P){c.info(function(){if(c.g)if(P)for(var V="",xe=P.split("&"),lt=0;lt<xe.length;lt++){var _e=xe[lt].split("=");if(1<_e.length){var vt=_e[0];_e=_e[1];var dt=vt.split("_");V=2<=dt.length&&dt[1]=="type"?V+(vt+"="+_e+"&"):V+(vt+"=redacted&")}}else V=null;else V=P;return"XMLHTTP REQ ("+v+") [attempt "+x+"]: "+f+`
`+m+`
`+V})}function Pg(c,f,m,v,x,P,V){c.info(function(){return"XMLHTTP RESP ("+v+") [ attempt "+x+"]: "+f+`
`+m+`
`+P+" "+V})}function Te(c,f,m,v){c.info(function(){return"XMLHTTP TEXT ("+f+"): "+Og(c,m)+(v?" "+v:"")})}function kg(c,f){c.info(function(){return"TIMEOUT: "+f})}go.prototype.info=function(){};function Og(c,f){if(!c.g)return f;if(!f)return null;try{var m=JSON.parse(f);if(m){for(c=0;c<m.length;c++)if(Array.isArray(m[c])){var v=m[c];if(!(2>v.length)){var x=v[1];if(Array.isArray(x)&&!(1>x.length)){var P=x[0];if(P!="noop"&&P!="stop"&&P!="close")for(var V=1;V<x.length;V++)x[V]=""}}}}return gc(m)}catch{return f}}var bs={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Ll={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},vc;function Ds(){}M(Ds,Nn),Ds.prototype.g=function(){return new XMLHttpRequest},Ds.prototype.i=function(){return{}},vc=new Ds;function gn(c,f,m,v){this.j=c,this.i=f,this.l=m,this.R=v||1,this.U=new mi(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new yi}function yi(){this.i=null,this.g="",this.h=!1}var wc={},vi={};function Ue(c,f,m){c.L=1,c.v=Ts(mn(f)),c.m=m,c.P=!0,Vl(c,null)}function Vl(c,f){c.F=Date.now(),mo(c),c.A=mn(c.v);var m=c.A,v=c.R;Array.isArray(v)||(v=[String(v)]),ed(m.i,"t",v),c.C=0,m=c.j.J,c.h=new yi,c.g=kc(c.j,m?f:null,!c.m),0<c.O&&(c.M=new Rl(_(c.Y,c,c.g),c.O)),f=c.U,m=c.g,v=c.ca;var x="readystatechange";Array.isArray(x)||(x&&(Is[0]=x.toString()),x=Is);for(var P=0;P<x.length;P++){var V=Sl(m,x[P],v||f.handleEvent,!1,f.h||f);if(!V)break;f.g[V.key]=V}f=c.H?I(c.H):{},c.m?(c.u||(c.u="POST"),f["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,f)):(c.u="GET",c.g.ea(c.A,c.u,null,f)),fo(),Ng(c.i,c.u,c.A,c.l,c.R,c.m)}gn.prototype.ca=function(c){c=c.target;let f=this.M;f&&On(c)==3?f.j():this.Y(c)},gn.prototype.Y=function(c){try{if(c==this.g)e:{let dt=On(this.g);var f=this.g.Ba();let nr=this.g.Z();if(!(3>dt)&&(dt!=3||this.g&&(this.h.h||this.g.oa()||ad(this.g)))){this.J||dt!=4||f==7||(f==8||0>=nr?fo(3):fo(2)),_c(this);var m=this.g.Z();this.X=m;t:if(jl(this)){var v=ad(this.g);c="";var x=v.length,P=On(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Jn(this),yo(this);var V="";break t}this.h.i=new a.TextDecoder}for(f=0;f<x;f++)this.h.h=!0,c+=this.h.i.decode(v[f],{stream:!(P&&f==x-1)});v.length=0,this.h.g+=c,this.C=0,V=this.h.g}else V=this.g.oa();if(this.o=m==200,Pg(this.i,this.u,this.A,this.l,this.R,dt,m),this.o){if(this.T&&!this.K){t:{if(this.g){var xe,lt=this.g;if((xe=lt.g?lt.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!Q(xe)){var _e=xe;break t}}_e=null}if(m=_e)Te(this.i,this.l,m,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,Ic(this,m);else{this.o=!1,this.s=3,ut(12),Jn(this),yo(this);break e}}if(this.P){m=!0;let nn;for(;!this.J&&this.C<V.length;)if(nn=Fg(this,V),nn==vi){dt==4&&(this.s=4,ut(14),m=!1),Te(this.i,this.l,null,"[Incomplete Response]");break}else if(nn==wc){this.s=4,ut(15),Te(this.i,this.l,V,"[Invalid Chunk]"),m=!1;break}else Te(this.i,this.l,nn,null),Ic(this,nn);if(jl(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),dt!=4||V.length!=0||this.h.h||(this.s=1,ut(16),m=!1),this.o=this.o&&m,!m)Te(this.i,this.l,V,"[Invalid Chunked Response]"),Jn(this),yo(this);else if(0<V.length&&!this.W){this.W=!0;var vt=this.j;vt.g==this&&vt.ba&&!vt.M&&(vt.j.info("Great, no buffering proxy detected. Bytes received: "+V.length),Di(vt),vt.M=!0,ut(11))}}else Te(this.i,this.l,V,null),Ic(this,V);dt==4&&Jn(this),this.o&&!this.J&&(dt==4?xc(this.j,this):(this.o=!1,mo(this)))}else qg(this.g),m==400&&0<V.indexOf("Unknown SID")?(this.s=3,ut(12)):(this.s=0,ut(13)),Jn(this),yo(this)}}}catch{}finally{}};function jl(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function Fg(c,f){var m=c.C,v=f.indexOf(`
`,m);return v==-1?vi:(m=Number(f.substring(m,v)),isNaN(m)?wc:(v+=1,v+m>f.length?vi:(f=f.slice(v,v+m),c.C=v+m,f)))}gn.prototype.cancel=function(){this.J=!0,Jn(this)};function mo(c){c.S=Date.now()+c.I,Ul(c,c.I)}function Ul(c,f){if(c.B!=null)throw Error("WatchDog timer not null");c.B=po(_(c.ba,c),f)}function _c(c){c.B&&(a.clearTimeout(c.B),c.B=null)}gn.prototype.ba=function(){this.B=null;let c=Date.now();0<=c-this.S?(kg(this.i,this.A),this.L!=2&&(fo(),ut(17)),Jn(this),this.s=2,yo(this)):Ul(this,this.S-c)};function yo(c){c.j.G==0||c.J||xc(c.j,c)}function Jn(c){_c(c);var f=c.M;f&&typeof f.ma=="function"&&f.ma(),c.M=null,xl(c.U),c.g&&(f=c.g,c.g=null,f.abort(),f.ma())}function Ic(c,f){try{var m=c.j;if(m.G!=0&&(m.g==c||Ec(m.h,c))){if(!c.K&&Ec(m.h,c)&&m.G==3){try{var v=m.Da.g.parse(f)}catch{v=null}if(Array.isArray(v)&&v.length==3){var x=v;if(x[0]==0){e:if(!m.u){if(m.g)if(m.g.F+3e3<c.F)Co(m),xs(m);else break e;Do(m),ut(18)}}else m.za=x[1],0<m.za-m.T&&37500>x[2]&&m.F&&m.v==0&&!m.C&&(m.C=po(_(m.Za,m),6e3));if(1>=zl(m.h)&&m.ca){try{m.ca()}catch{}m.ca=void 0}}else tr(m,11)}else if((c.K||m.g==c)&&Co(m),!Q(f))for(x=m.Da.g.parse(f),f=0;f<x.length;f++){let _e=x[f];if(m.T=_e[0],_e=_e[1],m.G==2)if(_e[0]=="c"){m.K=_e[1],m.ia=_e[2];let vt=_e[3];vt!=null&&(m.la=vt,m.j.info("VER="+m.la));let dt=_e[4];dt!=null&&(m.Aa=dt,m.j.info("SVER="+m.Aa));let nr=_e[5];nr!=null&&typeof nr=="number"&&0<nr&&(v=1.5*nr,m.L=v,m.j.info("backChannelRequestTimeoutMs_="+v)),v=m;let nn=c.g;if(nn){let Ns=nn.g?nn.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(Ns){var P=v.h;P.g||Ns.indexOf("spdy")==-1&&Ns.indexOf("quic")==-1&&Ns.indexOf("h2")==-1||(P.j=P.l,P.g=new Set,P.h&&(bc(P,P.h),P.h=null))}if(v.D){let Fc=nn.g?nn.g.getResponseHeader("X-HTTP-Session-Id"):null;Fc&&(v.ya=Fc,Fe(v.I,v.D,Fc))}}m.G=3,m.l&&m.l.ua(),m.ba&&(m.R=Date.now()-c.F,m.j.info("Handshake RTT: "+m.R+"ms")),v=m;var V=c;if(v.qa=Pc(v,v.J?v.ia:null,v.W),V.K){ql(v.h,V);var xe=V,lt=v.L;lt&&(xe.I=lt),xe.B&&(_c(xe),mo(xe)),v.g=V}else Rc(v);0<m.i.length&&Ms(m)}else _e[0]!="stop"&&_e[0]!="close"||tr(m,7);else m.G==3&&(_e[0]=="stop"||_e[0]=="close"?_e[0]=="stop"?tr(m,7):Rs(m):_e[0]!="noop"&&m.l&&m.l.ta(_e),m.v=0)}}fo(4)}catch{}}var Bl=class{constructor(c,f){this.g=c,this.map=f}};function $l(c){this.l=c||10,a.PerformanceNavigationTiming?(c=a.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Hl(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function zl(c){return c.h?1:c.g?c.g.size:0}function Ec(c,f){return c.h?c.h==f:c.g?c.g.has(f):!1}function bc(c,f){c.g?c.g.add(f):c.h=f}function ql(c,f){c.h&&c.h==f?c.h=null:c.g&&c.g.has(f)&&c.g.delete(f)}$l.prototype.cancel=function(){if(this.i=Gl(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(let c of this.g.values())c.cancel();this.g.clear()}};function Gl(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let f=c.i;for(let m of c.g.values())f=f.concat(m.D);return f}return O(c.i)}function Wl(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(u(c)){for(var f=[],m=c.length,v=0;v<m;v++)f.push(c[v]);return f}f=[],m=0;for(v in c)f[m++]=c[v];return f}function Lg(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(u(c)||typeof c=="string"){var f=[];c=c.length;for(var m=0;m<c;m++)f.push(m);return f}f=[],m=0;for(let v in c)f[m++]=v;return f}}}function Dc(c,f){if(c.forEach&&typeof c.forEach=="function")c.forEach(f,void 0);else if(u(c)||typeof c=="string")Array.prototype.forEach.call(c,f,void 0);else for(var m=Lg(c),v=Wl(c),x=v.length,P=0;P<x;P++)f.call(void 0,v[P],m&&m[P],c)}var Kl=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function Vg(c,f){if(c){c=c.split("&");for(var m=0;m<c.length;m++){var v=c[m].indexOf("="),x=null;if(0<=v){var P=c[m].substring(0,v);x=c[m].substring(v+1)}else P=c[m];f(P,x?decodeURIComponent(x.replace(/\+/g," ")):"")}}}function zt(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof zt){this.h=c.h,Cs(this,c.j),this.o=c.o,this.g=c.g,wi(this,c.s),this.l=c.l;var f=c.i,m=new _o;m.i=f.i,f.g&&(m.g=new Map(f.g),m.h=f.h),Cc(this,m),this.m=c.m}else c&&(f=String(c).match(Kl))?(this.h=!1,Cs(this,f[1]||"",!0),this.o=vo(f[2]||""),this.g=vo(f[3]||"",!0),wi(this,f[4]),this.l=vo(f[5]||"",!0),Cc(this,f[6]||"",!0),this.m=vo(f[7]||"")):(this.h=!1,this.i=new _o(null,this.h))}zt.prototype.toString=function(){var c=[],f=this.j;f&&c.push(wo(f,Ql,!0),":");var m=this.g;return(m||f=="file")&&(c.push("//"),(f=this.o)&&c.push(wo(f,Ql,!0),"@"),c.push(encodeURIComponent(String(m)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),m=this.s,m!=null&&c.push(":",String(m))),(m=this.l)&&(this.g&&m.charAt(0)!="/"&&c.push("/"),c.push(wo(m,m.charAt(0)=="/"?Ug:_i,!0))),(m=this.i.toString())&&c.push("?",m),(m=this.m)&&c.push("#",wo(m,Zl)),c.join("")};function mn(c){return new zt(c)}function Cs(c,f,m){c.j=m?vo(f,!0):f,c.j&&(c.j=c.j.replace(/:$/,""))}function wi(c,f){if(f){if(f=Number(f),isNaN(f)||0>f)throw Error("Bad port number "+f);c.s=f}else c.s=null}function Cc(c,f,m){f instanceof _o?(c.i=f,Bg(c.i,c.h)):(m||(f=wo(f,Yl)),c.i=new _o(f,c.h))}function Fe(c,f,m){c.i.set(f,m)}function Ts(c){return Fe(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function vo(c,f){return c?f?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function wo(c,f,m){return typeof c=="string"?(c=encodeURI(c).replace(f,jg),m&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function jg(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var Ql=/[#\/\?@]/g,_i=/[#\?:]/g,Ug=/[#\?]/g,Yl=/[#\?@]/g,Zl=/#/g;function _o(c,f){this.h=this.g=null,this.i=c||null,this.j=!!f}function Xn(c){c.g||(c.g=new Map,c.h=0,c.i&&Vg(c.i,function(f,m){c.add(decodeURIComponent(f.replace(/\+/g," ")),m)}))}t=_o.prototype,t.add=function(c,f){Xn(this),this.i=null,c=Ii(this,c);var m=this.g.get(c);return m||this.g.set(c,m=[]),m.push(f),this.h+=1,this};function Jl(c,f){Xn(c),f=Ii(c,f),c.g.has(f)&&(c.i=null,c.h-=c.g.get(f).length,c.g.delete(f))}function Xl(c,f){return Xn(c),f=Ii(c,f),c.g.has(f)}t.forEach=function(c,f){Xn(this),this.g.forEach(function(m,v){m.forEach(function(x){c.call(f,x,v,this)},this)},this)},t.na=function(){Xn(this);let c=Array.from(this.g.values()),f=Array.from(this.g.keys()),m=[];for(let v=0;v<f.length;v++){let x=c[v];for(let P=0;P<x.length;P++)m.push(f[v])}return m},t.V=function(c){Xn(this);let f=[];if(typeof c=="string")Xl(this,c)&&(f=f.concat(this.g.get(Ii(this,c))));else{c=Array.from(this.g.values());for(let m=0;m<c.length;m++)f=f.concat(c[m])}return f},t.set=function(c,f){return Xn(this),this.i=null,c=Ii(this,c),Xl(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[f]),this.h+=1,this},t.get=function(c,f){return c?(c=this.V(c),0<c.length?String(c[0]):f):f};function ed(c,f,m){Jl(c,f),0<m.length&&(c.i=null,c.g.set(Ii(c,f),O(m)),c.h+=m.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";let c=[],f=Array.from(this.g.keys());for(var m=0;m<f.length;m++){var v=f[m];let P=encodeURIComponent(String(v)),V=this.V(v);for(v=0;v<V.length;v++){var x=P;V[v]!==""&&(x+="="+encodeURIComponent(String(V[v]))),c.push(x)}}return this.i=c.join("&")};function Ii(c,f){return f=String(f),c.j&&(f=f.toLowerCase()),f}function Bg(c,f){f&&!c.j&&(Xn(c),c.i=null,c.g.forEach(function(m,v){var x=v.toLowerCase();v!=x&&(Jl(this,v),ed(this,x,m))},c)),c.j=f}function Ei(c,f){let m=new go;if(a.Image){let v=new Image;v.onload=b(er,m,"TestLoadImage: loaded",!0,f,v),v.onerror=b(er,m,"TestLoadImage: error",!1,f,v),v.onabort=b(er,m,"TestLoadImage: abort",!1,f,v),v.ontimeout=b(er,m,"TestLoadImage: timeout",!1,f,v),a.setTimeout(function(){v.ontimeout&&v.ontimeout()},1e4),v.src=c}else f(!1)}function $g(c,f){let m=new go,v=new AbortController,x=setTimeout(()=>{v.abort(),er(m,"TestPingServer: timeout",!1,f)},1e4);fetch(c,{signal:v.signal}).then(P=>{clearTimeout(x),P.ok?er(m,"TestPingServer: ok",!0,f):er(m,"TestPingServer: server error",!1,f)}).catch(()=>{clearTimeout(x),er(m,"TestPingServer: error",!1,f)})}function er(c,f,m,v,x){try{x&&(x.onload=null,x.onerror=null,x.onabort=null,x.ontimeout=null),v(m)}catch{}}function td(){this.g=new Mg}function Hg(c,f,m){let v=m||"";try{Dc(c,function(x,P){let V=x;d(x)&&(V=gc(x)),f.push(v+P+"="+encodeURIComponent(V))})}catch(x){throw f.push(v+"type="+encodeURIComponent("_badmap")),x}}function qt(c){this.l=c.Ub||null,this.j=c.eb||!1}M(qt,Nn),qt.prototype.g=function(){return new Ss(this.l,this.j)},qt.prototype.i=function(c){return function(){return c}}({});function Ss(c,f){et.call(this),this.D=c,this.o=f,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}M(Ss,et),t=Ss.prototype,t.open=function(c,f){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=f,this.readyState=1,Io(this)},t.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;let f={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(f.body=c),(this.D||a).fetch(new Request(this.A,f)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,kn(this)),this.readyState=0},t.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,Io(this)),this.g&&(this.readyState=3,Io(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;Tc(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function Tc(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}t.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var f=c.value?c.value:new Uint8Array(0);(f=this.v.decode(f,{stream:!c.done}))&&(this.response=this.responseText+=f)}c.done?kn(this):Io(this),this.readyState==3&&Tc(this)}},t.Ra=function(c){this.g&&(this.response=this.responseText=c,kn(this))},t.Qa=function(c){this.g&&(this.response=c,kn(this))},t.ga=function(){this.g&&kn(this)};function kn(c){c.readyState=4,c.l=null,c.j=null,c.v=null,Io(c)}t.setRequestHeader=function(c,f){this.u.append(c,f)},t.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";let c=[],f=this.h.entries();for(var m=f.next();!m.done;)m=m.value,c.push(m[0]+": "+m[1]),m=f.next();return c.join(`\r
`)};function Io(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(Ss.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function nd(c){let f="";return ee(c,function(m,v){f+=v,f+=":",f+=m,f+=`\r
`}),f}function Sc(c,f,m){e:{for(v in m){var v=!1;break e}v=!0}v||(m=nd(m),typeof c=="string"?m!=null&&encodeURIComponent(String(m)):Fe(c,f,m))}function Be(c){et.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}M(Be,et);var bi=/^https?$/i,zg=["POST","PUT"];t=Be.prototype,t.Ha=function(c){this.J=c},t.ea=function(c,f,m,v){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);f=f?f.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():vc.g(),this.v=this.o?Ml(this.o):Ml(vc),this.g.onreadystatechange=_(this.Ea,this);try{this.B=!0,this.g.open(f,String(c),!0),this.B=!1}catch(P){rd(this,P);return}if(c=m||"",m=new Map(this.headers),v)if(Object.getPrototypeOf(v)===Object.prototype)for(var x in v)m.set(x,v[x]);else if(typeof v.keys=="function"&&typeof v.get=="function")for(let P of v.keys())m.set(P,v.get(P));else throw Error("Unknown input type for opt_headers: "+String(v));v=Array.from(m.keys()).find(P=>P.toLowerCase()=="content-type"),x=a.FormData&&c instanceof a.FormData,!(0<=Array.prototype.indexOf.call(zg,f,void 0))||v||x||m.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(let[P,V]of m)this.g.setRequestHeader(P,V);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{sd(this),this.u=!0,this.g.send(c),this.u=!1}catch(P){rd(this,P)}};function rd(c,f){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=f,c.m=5,id(c),As(c)}function id(c){c.A||(c.A=!0,yt(c,"complete"),yt(c,"error"))}t.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,yt(this,"complete"),yt(this,"abort"),As(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),As(this,!0)),Be.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?od(this):this.bb())},t.bb=function(){od(this)};function od(c){if(c.h&&typeof s<"u"&&(!c.v[1]||On(c)!=4||c.Z()!=2)){if(c.u&&On(c)==4)Dt(c.Ea,0,c);else if(yt(c,"readystatechange"),On(c)==4){c.h=!1;try{let V=c.Z();e:switch(V){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var f=!0;break e;default:f=!1}var m;if(!(m=f)){var v;if(v=V===0){var x=String(c.D).match(Kl)[1]||null;!x&&a.self&&a.self.location&&(x=a.self.location.protocol.slice(0,-1)),v=!bi.test(x?x.toLowerCase():"")}m=v}if(m)yt(c,"complete"),yt(c,"success");else{c.m=6;try{var P=2<On(c)?c.g.statusText:""}catch{P=""}c.l=P+" ["+c.Z()+"]",id(c)}}finally{As(c)}}}}function As(c,f){if(c.g){sd(c);let m=c.g,v=c.v[0]?()=>{}:null;c.g=null,c.v=null,f||yt(c,"ready");try{m.onreadystatechange=v}catch{}}}function sd(c){c.I&&(a.clearTimeout(c.I),c.I=null)}t.isActive=function(){return!!this.g};function On(c){return c.g?c.g.readyState:0}t.Z=function(){try{return 2<On(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(c){if(this.g){var f=this.g.responseText;return c&&f.indexOf(c)==0&&(f=f.substring(c.length)),xg(f)}};function ad(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function qg(c){let f={};c=(c.g&&2<=On(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let v=0;v<c.length;v++){if(Q(c[v]))continue;var m=A(c[v]);let x=m[0];if(m=m[1],typeof m!="string")continue;m=m.trim();let P=f[x]||[];f[x]=P,P.push(m)}S(f,function(v){return v.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function Eo(c,f,m){return m&&m.internalChannelParams&&m.internalChannelParams[c]||f}function bo(c){this.Aa=0,this.i=[],this.j=new go,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=Eo("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=Eo("baseRetryDelayMs",5e3,c),this.cb=Eo("retryDelaySeedMs",1e4,c),this.Wa=Eo("forwardChannelMaxRetries",2,c),this.wa=Eo("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new $l(c&&c.concurrentRequestLimit),this.Da=new td,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=bo.prototype,t.la=8,t.G=1,t.connect=function(c,f,m,v){ut(0),this.W=c,this.H=f||{},m&&v!==void 0&&(this.H.OSID=m,this.H.OAID=v),this.F=this.X,this.I=Pc(this,null,this.W),Ms(this)};function Rs(c){if(cd(c),c.G==3){var f=c.U++,m=mn(c.I);if(Fe(m,"SID",c.K),Fe(m,"RID",f),Fe(m,"TYPE","terminate"),Pr(c,m),f=new gn(c,c.j,f),f.L=2,f.v=Ts(mn(m)),m=!1,a.navigator&&a.navigator.sendBeacon)try{m=a.navigator.sendBeacon(f.v.toString(),"")}catch{}!m&&a.Image&&(new Image().src=f.v,m=!0),m||(f.g=kc(f.j,null),f.g.ea(f.v)),f.F=Date.now(),mo(f)}Nc(c)}function xs(c){c.g&&(Di(c),c.g.cancel(),c.g=null)}function cd(c){xs(c),c.u&&(a.clearTimeout(c.u),c.u=null),Co(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&a.clearTimeout(c.s),c.s=null)}function Ms(c){if(!Hl(c.h)&&!c.s){c.s=!0;var f=c.Ga;ui||Xt(),Nr||(ui(),Nr=!0),li.add(f,c),c.B=0}}function ud(c,f){return zl(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=f.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=po(_(c.Ga,c,f),Mc(c,c.B)),c.B++,!0)}t.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;let x=new gn(this,this.j,c),P=this.o;if(this.S&&(P?(P=I(P),T(P,this.S)):P=this.S),this.m!==null||this.O||(x.H=P,P=null),this.P)e:{for(var f=0,m=0;m<this.i.length;m++){t:{var v=this.i[m];if("__data__"in v.map&&(v=v.map.__data__,typeof v=="string")){v=v.length;break t}v=void 0}if(v===void 0)break;if(f+=v,4096<f){f=m;break e}if(f===4096||m===this.i.length-1){f=m+1;break e}}f=1e3}else f=1e3;f=Ac(this,x,f),m=mn(this.I),Fe(m,"RID",c),Fe(m,"CVER",22),this.D&&Fe(m,"X-HTTP-Session-Id",this.D),Pr(this,m),P&&(this.O?f="headers="+encodeURIComponent(String(nd(P)))+"&"+f:this.m&&Sc(m,this.m,P)),bc(this.h,x),this.Ua&&Fe(m,"TYPE","init"),this.P?(Fe(m,"$req",f),Fe(m,"SID","null"),x.T=!0,Ue(x,m,null)):Ue(x,m,f),this.G=2}}else this.G==3&&(c?ld(this,c):this.i.length==0||Hl(this.h)||ld(this))};function ld(c,f){var m;f?m=f.l:m=c.U++;let v=mn(c.I);Fe(v,"SID",c.K),Fe(v,"RID",m),Fe(v,"AID",c.T),Pr(c,v),c.m&&c.o&&Sc(v,c.m,c.o),m=new gn(c,c.j,m,c.B+1),c.m===null&&(m.H=c.o),f&&(c.i=f.D.concat(c.i)),f=Ac(c,m,1e3),m.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),bc(c.h,m),Ue(m,v,f)}function Pr(c,f){c.H&&ee(c.H,function(m,v){Fe(f,v,m)}),c.l&&Dc({},function(m,v){Fe(f,v,m)})}function Ac(c,f,m){m=Math.min(c.i.length,m);var v=c.l?_(c.l.Na,c.l,c):null;e:{var x=c.i;let P=-1;for(;;){let V=["count="+m];P==-1?0<m?(P=x[0].g,V.push("ofs="+P)):P=0:V.push("ofs="+P);let xe=!0;for(let lt=0;lt<m;lt++){let _e=x[lt].g,vt=x[lt].map;if(_e-=P,0>_e)P=Math.max(0,x[lt].g-100),xe=!1;else try{Hg(vt,V,"req"+_e+"_")}catch{v&&v(vt)}}if(xe){v=V.join("&");break e}}}return c=c.i.splice(0,m),f.D=c,v}function Rc(c){if(!c.g&&!c.u){c.Y=1;var f=c.Fa;ui||Xt(),Nr||(ui(),Nr=!0),li.add(f,c),c.v=0}}function Do(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=po(_(c.Fa,c),Mc(c,c.v)),c.v++,!0)}t.Fa=function(){if(this.u=null,dd(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=po(_(this.ab,this),c)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,ut(10),xs(this),dd(this))};function Di(c){c.A!=null&&(a.clearTimeout(c.A),c.A=null)}function dd(c){c.g=new gn(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var f=mn(c.qa);Fe(f,"RID","rpc"),Fe(f,"SID",c.K),Fe(f,"AID",c.T),Fe(f,"CI",c.F?"0":"1"),!c.F&&c.ja&&Fe(f,"TO",c.ja),Fe(f,"TYPE","xmlhttp"),Pr(c,f),c.m&&c.o&&Sc(f,c.m,c.o),c.L&&(c.g.I=c.L);var m=c.g;c=c.ia,m.L=1,m.v=Ts(mn(f)),m.m=null,m.P=!0,Vl(m,c)}t.Za=function(){this.C!=null&&(this.C=null,xs(this),Do(this),ut(19))};function Co(c){c.C!=null&&(a.clearTimeout(c.C),c.C=null)}function xc(c,f){var m=null;if(c.g==f){Co(c),Di(c),c.g=null;var v=2}else if(Ec(c.h,f))m=f.D,ql(c.h,f),v=1;else return;if(c.G!=0){if(f.o)if(v==1){m=f.m?f.m.length:0,f=Date.now()-f.F;var x=c.B;v=Es(),yt(v,new Fl(v,m)),Ms(c)}else Rc(c);else if(x=f.s,x==3||x==0&&0<f.X||!(v==1&&ud(c,f)||v==2&&Do(c)))switch(m&&0<m.length&&(f=c.h,f.i=f.i.concat(m)),x){case 1:tr(c,5);break;case 4:tr(c,10);break;case 3:tr(c,6);break;default:tr(c,2)}}}function Mc(c,f){let m=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(m*=2),m*f}function tr(c,f){if(c.j.info("Error code "+f),f==2){var m=_(c.fb,c),v=c.Xa;let x=!v;v=new zt(v||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||Cs(v,"https"),Ts(v),x?Ei(v.toString(),m):$g(v.toString(),m)}else ut(2);c.G=0,c.l&&c.l.sa(f),Nc(c),cd(c)}t.fb=function(c){c?(this.j.info("Successfully pinged google.com"),ut(2)):(this.j.info("Failed to ping google.com"),ut(1))};function Nc(c){if(c.G=0,c.ka=[],c.l){let f=Gl(c.h);(f.length!=0||c.i.length!=0)&&(k(c.ka,f),k(c.ka,c.i),c.h.i.length=0,O(c.i),c.i.length=0),c.l.ra()}}function Pc(c,f,m){var v=m instanceof zt?mn(m):new zt(m);if(v.g!="")f&&(v.g=f+"."+v.g),wi(v,v.s);else{var x=a.location;v=x.protocol,f=f?f+"."+x.hostname:x.hostname,x=+x.port;var P=new zt(null);v&&Cs(P,v),f&&(P.g=f),x&&wi(P,x),m&&(P.l=m),v=P}return m=c.D,f=c.ya,m&&f&&Fe(v,m,f),Fe(v,"VER",c.la),Pr(c,v),v}function kc(c,f,m){if(f&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return f=c.Ca&&!c.pa?new Be(new qt({eb:m})):new Be(c.pa),f.Ha(c.J),f}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function Oc(){}t=Oc.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function To(){}To.prototype.g=function(c,f){return new tt(c,f)};function tt(c,f){et.call(this),this.g=new bo(f),this.l=c,this.h=f&&f.messageUrlParams||null,c=f&&f.messageHeaders||null,f&&f.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=f&&f.initMessageHeaders||null,f&&f.messageContentType&&(c?c["X-WebChannel-Content-Type"]=f.messageContentType:c={"X-WebChannel-Content-Type":f.messageContentType}),f&&f.va&&(c?c["X-WebChannel-Client-Profile"]=f.va:c={"X-WebChannel-Client-Profile":f.va}),this.g.S=c,(c=f&&f.Sb)&&!Q(c)&&(this.g.m=c),this.v=f&&f.supportsCrossDomainXhr||!1,this.u=f&&f.sendRawJson||!1,(f=f&&f.httpSessionIdParam)&&!Q(f)&&(this.g.D=f,c=this.h,c!==null&&f in c&&(c=this.h,f in c&&delete c[f])),this.j=new Ci(this)}M(tt,et),tt.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},tt.prototype.close=function(){Rs(this.g)},tt.prototype.o=function(c){var f=this.g;if(typeof c=="string"){var m={};m.__data__=c,c=m}else this.u&&(m={},m.__data__=gc(c),c=m);f.i.push(new Bl(f.Ya++,c)),f.G==3&&Ms(f)},tt.prototype.N=function(){this.g.l=null,delete this.j,Rs(this.g),delete this.g,tt.aa.N.call(this)};function hd(c){mc.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var f=c.__sm__;if(f){e:{for(let m in f){c=m;break e}c=void 0}(this.i=c)&&(c=this.i,f=f!==null&&c in f?f[c]:void 0),this.data=f}else this.data=c}M(hd,mc);function fd(){yc.call(this),this.status=1}M(fd,yc);function Ci(c){this.g=c}M(Ci,Oc),Ci.prototype.ua=function(){yt(this.g,"a")},Ci.prototype.ta=function(c){yt(this.g,new hd(c))},Ci.prototype.sa=function(c){yt(this.g,new fd)},Ci.prototype.ra=function(){yt(this.g,"b")},To.prototype.createWebChannel=To.prototype.g,tt.prototype.send=tt.prototype.o,tt.prototype.open=tt.prototype.m,tt.prototype.close=tt.prototype.close,L_=ri.createWebChannelTransport=function(){return new To},F_=ri.getStatEventTarget=function(){return Es()},O_=ri.Event=Pn,kp=ri.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},bs.NO_ERROR=0,bs.TIMEOUT=8,bs.HTTP_ERROR=6,el=ri.ErrorCode=bs,Ll.COMPLETE="complete",k_=ri.EventType=Ll,Nl.EventType=ho,ho.OPEN="a",ho.CLOSE="b",ho.ERROR="c",ho.MESSAGE="d",et.prototype.listen=et.prototype.K,Ha=ri.WebChannel=Nl,XH=ri.FetchXmlHttpFactory=qt,Be.prototype.listenOnce=Be.prototype.L,Be.prototype.getLastError=Be.prototype.Ka,Be.prototype.getLastErrorCode=Be.prototype.Ba,Be.prototype.getStatus=Be.prototype.Z,Be.prototype.getResponseJson=Be.prototype.Oa,Be.prototype.getResponseText=Be.prototype.oa,Be.prototype.send=Be.prototype.ea,Be.prototype.setWithCredentials=Be.prototype.Ha,P_=ri.XhrIo=Be}).apply(typeof Pp<"u"?Pp:typeof self<"u"?self:typeof window<"u"?window:{});var _R="@firebase/firestore";var Et=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};Et.UNAUTHENTICATED=new Et(null),Et.GOOGLE_CREDENTIALS=new Et("google-credentials-uid"),Et.FIRST_PARTY=new Et("first-party-uid"),Et.MOCK_USER=new Et("mock-user");var cc="10.14.0";var ds=new Yi("@firebase/firestore");function tl(){return ds.logLevel}function q(t,...e){if(ds.logLevel<=ve.DEBUG){let n=e.map(_E);ds.debug(`Firestore (${cc}): ${t}`,...n)}}function oi(t,...e){if(ds.logLevel<=ve.ERROR){let n=e.map(_E);ds.error(`Firestore (${cc}): ${t}`,...n)}}function Ya(t,...e){if(ds.logLevel<=ve.WARN){let n=e.map(_E);ds.warn(`Firestore (${cc}): ${t}`,...n)}}function _E(t){if(typeof t=="string")return t;try{return function(n){return JSON.stringify(n)}(t)}catch{return t}}function te(t="Unexpected state"){let e=`FIRESTORE (${cc}) INTERNAL ASSERTION FAILED: `+t;throw oi(e),new Error(e)}function ke(t,e){t||te()}function ie(t,e){return t}var F={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},H=class extends hn{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}};var Cr=class{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}};var jp=class{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}},$_=class{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(Et.UNAUTHENTICATED))}shutdown(){}},H_=class{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}},z_=class{constructor(e){this.t=e,this.currentUser=Et.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){ke(this.o===void 0);let r=this.i,i=u=>this.i!==r?(r=this.i,n(u)):Promise.resolve(),o=new Cr;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new Cr,e.enqueueRetryable(()=>i(this.currentUser))};let s=()=>{let u=o;e.enqueueRetryable(()=>C(this,null,function*(){yield u.promise,yield i(this.currentUser)}))},a=u=>{q("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=u,this.o&&(this.auth.addAuthTokenListener(this.o),s())};this.t.onInit(u=>a(u)),setTimeout(()=>{if(!this.auth){let u=this.t.getImmediate({optional:!0});u?a(u):(q("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new Cr)}},0),s()}getToken(){let e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(q("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(ke(typeof r.accessToken=="string"),new jp(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){let e=this.auth&&this.auth.getUid();return ke(e===null||typeof e=="string"),new Et(e)}},q_=class{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=Et.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);let e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}},G_=class{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new q_(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(Et.FIRST_PARTY))}shutdown(){}invalidateToken(){}},W_=class{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}},K_=class{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){ke(this.o===void 0);let r=o=>{o.error!=null&&q("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);let s=o.token!==this.R;return this.R=o.token,q("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?n(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>r(o))};let i=o=>{q("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(o=>i(o)),setTimeout(()=>{if(!this.appCheck){let o=this.A.getImmediate({optional:!0});o?i(o):q("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){let e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(ke(typeof n.token=="string"),this.R=n.token,new W_(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}};function ez(t){let e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}var Up=class{static newId(){let e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length,r="";for(;r.length<20;){let i=ez(40);for(let o=0;o<i.length;++o)r.length<20&&i[o]<n&&(r+=e.charAt(i[o]%e.length))}return r}};function Se(t,e){return t<e?-1:t>e?1:0}function Za(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}var At=class t{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new H(F.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new H(F.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new H(F.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new H(F.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return t.fromMillis(Date.now())}static fromDate(e){return t.fromMillis(e.getTime())}static fromMillis(e){let n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new t(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Se(this.nanoseconds,e.nanoseconds):Se(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){let e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}};var se=class t{constructor(e){this.timestamp=e}static fromTimestamp(e){return new t(e)}static min(){return new t(new At(0,0))}static max(){return new t(new At(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}};var Bp=class t{constructor(e,n,r){n===void 0?n=0:n>e.length&&te(),r===void 0?r=e.length-n:r>e.length-n&&te(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return t.comparator(this,e)===0}child(e){let n=this.segments.slice(this.offset,this.limit());return e instanceof t?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){let r=Math.min(e.length,n.length);for(let i=0;i<r;i++){let o=e.get(i),s=n.get(i);if(o<s)return-1;if(o>s)return 1}return e.length<n.length?-1:e.length>n.length?1:0}},qe=class t extends Bp{construct(e,n,r){return new t(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){let n=[];for(let r of e){if(r.indexOf("//")>=0)throw new H(F.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new t(n)}static emptyPath(){return new t([])}},tz=/^[_a-zA-Z][_a-zA-Z0-9]*$/,pn=class t extends Bp{construct(e,n,r){return new t(e,n,r)}static isValidIdentifier(e){return tz.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),t.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new t(["__name__"])}static fromServerFormat(e){let n=[],r="",i=0,o=()=>{if(r.length===0)throw new H(F.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""},s=!1;for(;i<e.length;){let a=e[i];if(a==="\\"){if(i+1===e.length)throw new H(F.INVALID_ARGUMENT,"Path has trailing escape character: "+e);let u=e[i+1];if(u!=="\\"&&u!=="."&&u!=="`")throw new H(F.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else a==="`"?(s=!s,i++):a!=="."||s?(r+=a,i++):(o(),i++)}if(o(),s)throw new H(F.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new t(n)}static emptyPath(){return new t([])}};var Y=class t{constructor(e){this.path=e}static fromPath(e){return new t(qe.fromString(e))}static fromName(e){return new t(qe.fromString(e).popFirst(5))}static empty(){return new t(qe.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&qe.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return qe.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new t(new qe(e.slice()))}};var Q_=class{constructor(e,n,r,i){this.indexId=e,this.collectionGroup=n,this.fields=r,this.indexState=i}};Q_.UNKNOWN_ID=-1;function nz(t,e){let n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=se.fromTimestamp(r===1e9?new At(n+1,0):new At(n,r));return new hs(i,Y.empty(),e)}function rz(t){return new hs(t.readTime,t.key,-1)}var hs=class t{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new t(se.min(),Y.empty(),-1)}static max(){return new t(se.max(),Y.empty(),-1)}};function iz(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=Y.comparator(t.documentKey,e.documentKey),n!==0?n:Se(t.largestBatchId,e.largestBatchId))}var oz="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",Y_=class{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}};function _l(t){return C(this,null,function*(){if(t.code!==F.FAILED_PRECONDITION||t.message!==oz)throw t;q("LocalStore","Unexpectedly lost primary lease")})}var L=class t{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&te(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new t((r,i)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,i)},this.catchCallback=o=>{this.wrapFailure(n,o).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{let n=e();return n instanceof t?n:t.resolve(n)}catch(n){return t.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):t.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):t.reject(n)}static resolve(e){return new t((n,r)=>{n(e)})}static reject(e){return new t((n,r)=>{r(e)})}static waitFor(e){return new t((n,r)=>{let i=0,o=0,s=!1;e.forEach(a=>{++i,a.next(()=>{++o,s&&o===i&&n()},u=>r(u))}),s=!0,o===i&&n()})}static or(e){let n=t.resolve(!1);for(let r of e)n=n.next(i=>i?t.resolve(i):r());return n}static forEach(e,n){let r=[];return e.forEach((i,o)=>{r.push(n.call(this,i,o))}),this.waitFor(r)}static mapArray(e,n){return new t((r,i)=>{let o=e.length,s=new Array(o),a=0;for(let u=0;u<o;u++){let d=u;n(e[d]).next(p=>{s[d]=p,++a,a===o&&r(s)},p=>i(p))}})}static doWhile(e,n){return new t((r,i)=>{let o=()=>{e()===!0?n().next(()=>{o()},i):r()};o()})}};function sz(t){let e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function Il(t){return t.name==="IndexedDbTransactionError"}var tx=(()=>{class t{constructor(n,r){this.previousValue=n,r&&(r.sequenceNumberHandler=i=>this.ie(i),this.se=i=>r.writeSequenceNumber(i))}ie(n){return this.previousValue=Math.max(n,this.previousValue),this.previousValue}next(){let n=++this.previousValue;return this.se&&this.se(n),n}}return t.oe=-1,t})();function _g(t){return t==null}function al(t){return t===0&&1/t==-1/0}function az(t){return typeof t=="number"&&Number.isInteger(t)&&!al(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}var cz=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],SQ=[...cz,"documentOverlays"],uz=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],lz=uz,dz=[...lz,"indexConfiguration","indexState","indexEntries"];var AQ=[...dz,"globals"];function IR(t){let e=0;for(let n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function vs(t,e){for(let n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function nx(t){for(let e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}var Qe=class t{constructor(e,n){this.comparator=e,this.root=n||Tr.EMPTY}insert(e,n){return new t(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,Tr.BLACK,null,null))}remove(e){return new t(this.comparator,this.root.remove(e,this.comparator).copy(null,null,Tr.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){let r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){let i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){let e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Wa(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Wa(this.root,e,this.comparator,!1)}getReverseIterator(){return new Wa(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Wa(this.root,e,this.comparator,!0)}},Wa=class{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=n?r(e.key,n):1,n&&i&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop(),n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;let e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}},Tr=class t{constructor(e,n,r,i,o){this.key=e,this.value=n,this.color=r??t.RED,this.left=i??t.EMPTY,this.right=o??t.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,o){return new t(e??this.key,n??this.value,r??this.color,i??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this,o=r(e,i.key);return i=o<0?i.copy(null,null,null,i.left.insert(e,n,r),null):o===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return t.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return t.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){let e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){let e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){let e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){let e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw te();let e=this.left.check();if(e!==this.right.check())throw te();return e+(this.isRed()?0:1)}};Tr.EMPTY=null,Tr.RED=!0,Tr.BLACK=!1;Tr.EMPTY=new class{constructor(){this.size=0}get key(){throw te()}get value(){throw te()}get color(){throw te()}get left(){throw te()}get right(){throw te()}copy(e,n,r,i,o){return this}insert(e,n,r){return new Tr(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};var Ft=class t{constructor(e){this.comparator=e,this.data=new Qe(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){let r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){let i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){let n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new $p(this.data.getIterator())}getIteratorFrom(e){return new $p(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof t)||this.size!==e.size)return!1;let n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){let i=n.getNext().key,o=r.getNext().key;if(this.comparator(i,o)!==0)return!1}return!0}toArray(){let e=[];return this.forEach(n=>{e.push(n)}),e}toString(){let e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){let n=new t(this.comparator);return n.data=e,n}},$p=class{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}};var An=class t{constructor(e){this.fields=e,e.sort(pn.comparator)}static empty(){return new t([])}unionWith(e){let n=new Ft(pn.comparator);for(let r of this.fields)n=n.add(r);for(let r of e)n=n.add(r);return new t(n.toArray())}covers(e){for(let n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return Za(this.fields,e.fields,(n,r)=>n.isEqual(r))}};var Hp=class extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}};var Lt=class t{constructor(e){this.binaryString=e}static fromBase64String(e){let n=function(i){try{return atob(i)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new Hp("Invalid base64 string: "+o):o}}(e);return new t(n)}static fromUint8Array(e){let n=function(i){let o="";for(let s=0;s<i.length;++s)o+=String.fromCharCode(i[s]);return o}(e);return new t(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){let r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Se(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}};Lt.EMPTY_BYTE_STRING=new Lt("");var hz=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function si(t){if(ke(!!t),typeof t=="string"){let e=0,n=hz.exec(t);if(ke(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}let r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:He(t.seconds),nanos:He(t.nanos)}}function He(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function oo(t){return typeof t=="string"?Lt.fromBase64String(t):Lt.fromUint8Array(t)}function IE(t){var e,n;return((n=(((e=t?.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function EE(t){let e=t.mapValue.fields.__previous_value__;return IE(e)?EE(e):e}function cl(t){let e=si(t.mapValue.fields.__local_write_time__.timestampValue);return new At(e.seconds,e.nanos)}var Z_=class{constructor(e,n,r,i,o,s,a,u,d){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=o,this.forceLongPolling=s,this.autoDetectLongPolling=a,this.longPollingOptions=u,this.useFetchStreams=d}},zp=class t{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new t("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof t&&e.projectId===this.projectId&&e.database===this.database}};var Op={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function fs(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?IE(t)?4:ix(t)?9007199254740991:rx(t)?10:11:te()}function Rr(t,e){if(t===e)return!0;let n=fs(t);if(n!==fs(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return cl(t).isEqual(cl(e));case 3:return function(i,o){if(typeof i.timestampValue=="string"&&typeof o.timestampValue=="string"&&i.timestampValue.length===o.timestampValue.length)return i.timestampValue===o.timestampValue;let s=si(i.timestampValue),a=si(o.timestampValue);return s.seconds===a.seconds&&s.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,o){return oo(i.bytesValue).isEqual(oo(o.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,o){return He(i.geoPointValue.latitude)===He(o.geoPointValue.latitude)&&He(i.geoPointValue.longitude)===He(o.geoPointValue.longitude)}(t,e);case 2:return function(i,o){if("integerValue"in i&&"integerValue"in o)return He(i.integerValue)===He(o.integerValue);if("doubleValue"in i&&"doubleValue"in o){let s=He(i.doubleValue),a=He(o.doubleValue);return s===a?al(s)===al(a):isNaN(s)&&isNaN(a)}return!1}(t,e);case 9:return Za(t.arrayValue.values||[],e.arrayValue.values||[],Rr);case 10:case 11:return function(i,o){let s=i.mapValue.fields||{},a=o.mapValue.fields||{};if(IR(s)!==IR(a))return!1;for(let u in s)if(s.hasOwnProperty(u)&&(a[u]===void 0||!Rr(s[u],a[u])))return!1;return!0}(t,e);default:return te()}}function ul(t,e){return(t.values||[]).find(n=>Rr(n,e))!==void 0}function Ja(t,e){if(t===e)return 0;let n=fs(t),r=fs(e);if(n!==r)return Se(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Se(t.booleanValue,e.booleanValue);case 2:return function(o,s){let a=He(o.integerValue||o.doubleValue),u=He(s.integerValue||s.doubleValue);return a<u?-1:a>u?1:a===u?0:isNaN(a)?isNaN(u)?0:-1:1}(t,e);case 3:return ER(t.timestampValue,e.timestampValue);case 4:return ER(cl(t),cl(e));case 5:return Se(t.stringValue,e.stringValue);case 6:return function(o,s){let a=oo(o),u=oo(s);return a.compareTo(u)}(t.bytesValue,e.bytesValue);case 7:return function(o,s){let a=o.split("/"),u=s.split("/");for(let d=0;d<a.length&&d<u.length;d++){let p=Se(a[d],u[d]);if(p!==0)return p}return Se(a.length,u.length)}(t.referenceValue,e.referenceValue);case 8:return function(o,s){let a=Se(He(o.latitude),He(s.latitude));return a!==0?a:Se(He(o.longitude),He(s.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return bR(t.arrayValue,e.arrayValue);case 10:return function(o,s){var a,u,d,p;let g=o.fields||{},_=s.fields||{},b=(a=g.value)===null||a===void 0?void 0:a.arrayValue,M=(u=_.value)===null||u===void 0?void 0:u.arrayValue,O=Se(((d=b?.values)===null||d===void 0?void 0:d.length)||0,((p=M?.values)===null||p===void 0?void 0:p.length)||0);return O!==0?O:bR(b,M)}(t.mapValue,e.mapValue);case 11:return function(o,s){if(o===Op.mapValue&&s===Op.mapValue)return 0;if(o===Op.mapValue)return 1;if(s===Op.mapValue)return-1;let a=o.fields||{},u=Object.keys(a),d=s.fields||{},p=Object.keys(d);u.sort(),p.sort();for(let g=0;g<u.length&&g<p.length;++g){let _=Se(u[g],p[g]);if(_!==0)return _;let b=Ja(a[u[g]],d[p[g]]);if(b!==0)return b}return Se(u.length,p.length)}(t.mapValue,e.mapValue);default:throw te()}}function ER(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Se(t,e);let n=si(t),r=si(e),i=Se(n.seconds,r.seconds);return i!==0?i:Se(n.nanos,r.nanos)}function bR(t,e){let n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){let o=Ja(n[i],r[i]);if(o)return o}return Se(n.length,r.length)}function Xa(t){return J_(t)}function J_(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){let r=si(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return oo(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return Y.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(let o of n.values||[])i?i=!1:r+=",",r+=J_(o);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){let r=Object.keys(n.fields||{}).sort(),i="{",o=!0;for(let s of r)o?o=!1:i+=",",i+=`${s}:${J_(n.fields[s])}`;return i+"}"}(t.mapValue):te()}function DR(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function X_(t){return!!t&&"integerValue"in t}function bE(t){return!!t&&"arrayValue"in t}function CR(t){return!!t&&"nullValue"in t}function TR(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function Lp(t){return!!t&&"mapValue"in t}function rx(t){var e,n;return((n=(((e=t?.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="__vector__"}function rl(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){let e={mapValue:{fields:{}}};return vs(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=rl(r)),e}if(t.arrayValue){let e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=rl(t.arrayValue.values[n]);return e}return Object.assign({},t)}function ix(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}var fn=class t{constructor(e){this.value=e}static empty(){return new t({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!Lp(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=rl(n)}setAll(e){let n=pn.emptyPath(),r={},i=[];e.forEach((s,a)=>{if(!n.isImmediateParentOf(a)){let u=this.getFieldsMap(n);this.applyChanges(u,r,i),r={},i=[],n=a.popLast()}s?r[a.lastSegment()]=rl(s):i.push(a.lastSegment())});let o=this.getFieldsMap(n);this.applyChanges(o,r,i)}delete(e){let n=this.field(e.popLast());Lp(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return Rr(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];Lp(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){vs(n,(i,o)=>e[i]=o);for(let i of r)delete e[i]}clone(){return new t(rl(this.value))}};function ox(t){let e=[];return vs(t.fields,(n,r)=>{let i=new pn([n]);if(Lp(r)){let o=ox(r.mapValue).fields;if(o.length===0)e.push(i);else for(let s of o)e.push(i.child(s))}else e.push(i)}),new An(e)}var Wn=class t{constructor(e,n,r,i,o,s,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=o,this.data=s,this.documentState=a}static newInvalidDocument(e){return new t(e,0,se.min(),se.min(),se.min(),fn.empty(),0)}static newFoundDocument(e,n,r,i){return new t(e,1,n,se.min(),r,i,0)}static newNoDocument(e,n){return new t(e,2,n,se.min(),se.min(),fn.empty(),0)}static newUnknownDocument(e,n){return new t(e,3,n,se.min(),se.min(),fn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(se.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=fn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=fn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=se.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof t&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new t(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}};var ec=class{constructor(e,n){this.position=e,this.inclusive=n}};function SR(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){let o=e[i],s=t.position[i];if(o.field.isKeyField()?r=Y.comparator(Y.fromName(s.referenceValue),n.key):r=Ja(s,n.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function AR(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!Rr(t.position[n],e.position[n]))return!1;return!0}var ps=class{constructor(e,n="asc"){this.field=e,this.dir=n}};function fz(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}var qp=class{},ct=class t extends qp{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new tI(e,n,r):n==="array-contains"?new iI(e,r):n==="in"?new oI(e,r):n==="not-in"?new sI(e,r):n==="array-contains-any"?new aI(e,r):new t(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new nI(e,r):new rI(e,r)}matches(e){let n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(Ja(n,this.value)):n!==null&&fs(this.value)===fs(n)&&this.matchesComparison(Ja(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return te()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}},Kn=class t extends qp{constructor(e,n){super(),this.filters=e,this.op=n,this.ae=null}static create(e,n){return new t(e,n)}matches(e){return sx(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}};function sx(t){return t.op==="and"}function ax(t){return pz(t)&&sx(t)}function pz(t){for(let e of t.filters)if(e instanceof Kn)return!1;return!0}function eI(t){if(t instanceof ct)return t.field.canonicalString()+t.op.toString()+Xa(t.value);if(ax(t))return t.filters.map(e=>eI(e)).join(",");{let e=t.filters.map(n=>eI(n)).join(",");return`${t.op}(${e})`}}function cx(t,e){return t instanceof ct?function(r,i){return i instanceof ct&&r.op===i.op&&r.field.isEqual(i.field)&&Rr(r.value,i.value)}(t,e):t instanceof Kn?function(r,i){return i instanceof Kn&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((o,s,a)=>o&&cx(s,i.filters[a]),!0):!1}(t,e):void te()}function ux(t){return t instanceof ct?function(n){return`${n.field.canonicalString()} ${n.op} ${Xa(n.value)}`}(t):t instanceof Kn?function(n){return n.op.toString()+" {"+n.getFilters().map(ux).join(" ,")+"}"}(t):"Filter"}var tI=class extends ct{constructor(e,n,r){super(e,n,r),this.key=Y.fromName(r.referenceValue)}matches(e){let n=Y.comparator(e.key,this.key);return this.matchesComparison(n)}},nI=class extends ct{constructor(e,n){super(e,"in",n),this.keys=lx("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}},rI=class extends ct{constructor(e,n){super(e,"not-in",n),this.keys=lx("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}};function lx(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>Y.fromName(r.referenceValue))}var iI=class extends ct{constructor(e,n){super(e,"array-contains",n)}matches(e){let n=e.data.field(this.field);return bE(n)&&ul(n.arrayValue,this.value)}},oI=class extends ct{constructor(e,n){super(e,"in",n)}matches(e){let n=e.data.field(this.field);return n!==null&&ul(this.value.arrayValue,n)}},sI=class extends ct{constructor(e,n){super(e,"not-in",n)}matches(e){if(ul(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;let n=e.data.field(this.field);return n!==null&&!ul(this.value.arrayValue,n)}},aI=class extends ct{constructor(e,n){super(e,"array-contains-any",n)}matches(e){let n=e.data.field(this.field);return!(!bE(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>ul(this.value.arrayValue,r))}};var cI=class{constructor(e,n=null,r=[],i=[],o=null,s=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=o,this.startAt=s,this.endAt=a,this.ue=null}};function RR(t,e=null,n=[],r=[],i=null,o=null,s=null){return new cI(t,e,n,r,i,o,s)}function DE(t){let e=ie(t);if(e.ue===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>eI(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(o){return o.field.canonicalString()+o.dir}(r)).join(","),_g(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Xa(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Xa(r)).join(",")),e.ue=n}return e.ue}function CE(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!fz(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!cx(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!AR(t.startAt,e.startAt)&&AR(t.endAt,e.endAt)}function uI(t){return Y.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}var so=class{constructor(e,n=null,r=[],i=[],o=null,s="F",a=null,u=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=o,this.limitType=s,this.startAt=a,this.endAt=u,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}};function gz(t,e,n,r,i,o,s,a){return new so(t,e,n,r,i,o,s,a)}function TE(t){return new so(t)}function xR(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function dx(t){return t.collectionGroup!==null}function il(t){let e=ie(t);if(e.ce===null){e.ce=[];let n=new Set;for(let o of e.explicitOrderBy)e.ce.push(o),n.add(o.field.canonicalString());let r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(s){let a=new Ft(pn.comparator);return s.filters.forEach(u=>{u.getFlattenedFilters().forEach(d=>{d.isInequality()&&(a=a.add(d.field))})}),a})(e).forEach(o=>{n.has(o.canonicalString())||o.isKeyField()||e.ce.push(new ps(o,r))}),n.has(pn.keyField().canonicalString())||e.ce.push(new ps(pn.keyField(),r))}return e.ce}function Sr(t){let e=ie(t);return e.le||(e.le=mz(e,il(t))),e.le}function mz(t,e){if(t.limitType==="F")return RR(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{let o=i.dir==="desc"?"asc":"desc";return new ps(i.field,o)});let n=t.endAt?new ec(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new ec(t.startAt.position,t.startAt.inclusive):null;return RR(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function lI(t,e){let n=t.filters.concat([e]);return new so(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function dI(t,e,n){return new so(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function Ig(t,e){return CE(Sr(t),Sr(e))&&t.limitType===e.limitType}function hx(t){return`${DE(Sr(t))}|lt:${t.limitType}`}function za(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>ux(i)).join(", ")}]`),_g(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(s){return`${s.field.canonicalString()} (${s.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>Xa(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>Xa(i)).join(",")),`Target(${r})`}(Sr(t))}; limitType=${t.limitType})`}function Eg(t,e){return e.isFoundDocument()&&function(r,i){let o=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):Y.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)}(t,e)&&function(r,i){for(let o of il(r))if(!o.field.isKeyField()&&i.data.field(o.field)===null)return!1;return!0}(t,e)&&function(r,i){for(let o of r.filters)if(!o.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(s,a,u){let d=SR(s,a,u);return s.inclusive?d<=0:d<0}(r.startAt,il(r),i)||r.endAt&&!function(s,a,u){let d=SR(s,a,u);return s.inclusive?d>=0:d>0}(r.endAt,il(r),i))}(t,e)}function yz(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function fx(t){return(e,n)=>{let r=!1;for(let i of il(t)){let o=vz(i,e,n);if(o!==0)return o;r=r||i.field.isKeyField()}return 0}}function vz(t,e,n){let r=t.field.isKeyField()?Y.comparator(e.key,n.key):function(o,s,a){let u=s.data.field(o),d=a.data.field(o);return u!==null&&d!==null?Ja(u,d):te()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return te()}}var ao=class{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){let n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(let[i,o]of r)if(this.equalsFn(i,e))return o}}has(e){return this.get(e)!==void 0}set(e,n){let r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return void(i[o]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){let n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){vs(this.inner,(n,r)=>{for(let[i,o]of r)e(i,o)})}isEmpty(){return nx(this.inner)}size(){return this.innerSize}};var wz=new Qe(Y.comparator);function ai(){return wz}var px=new Qe(Y.comparator);function nl(...t){let e=px;for(let n of t)e=e.insert(n.key,n);return e}function gx(t){let e=px;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function cs(){return ol()}function mx(){return ol()}function ol(){return new ao(t=>t.toString(),(t,e)=>t.isEqual(e))}var _z=new Qe(Y.comparator),Iz=new Ft(Y.comparator);function we(...t){let e=Iz;for(let n of t)e=e.add(n);return e}var Ez=new Ft(Se);function bz(){return Ez}function SE(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:al(e)?"-0":e}}function yx(t){return{integerValue:""+t}}function Dz(t,e){return az(e)?yx(e):SE(t,e)}var tc=class{constructor(){this._=void 0}};function Cz(t,e,n){return t instanceof nc?function(i,o){let s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return o&&IE(o)&&(o=EE(o)),o&&(s.fields.__previous_value__=o),{mapValue:s}}(n,e):t instanceof gs?wx(t,e):t instanceof ms?_x(t,e):function(i,o){let s=vx(i,o),a=MR(s)+MR(i.Pe);return X_(s)&&X_(i.Pe)?yx(a):SE(i.serializer,a)}(t,e)}function Tz(t,e,n){return t instanceof gs?wx(t,e):t instanceof ms?_x(t,e):n}function vx(t,e){return t instanceof rc?function(r){return X_(r)||function(o){return!!o&&"doubleValue"in o}(r)}(e)?e:{integerValue:0}:null}var nc=class extends tc{},gs=class extends tc{constructor(e){super(),this.elements=e}};function wx(t,e){let n=Ix(e);for(let r of t.elements)n.some(i=>Rr(i,r))||n.push(r);return{arrayValue:{values:n}}}var ms=class extends tc{constructor(e){super(),this.elements=e}};function _x(t,e){let n=Ix(e);for(let r of t.elements)n=n.filter(i=>!Rr(i,r));return{arrayValue:{values:n}}}var rc=class extends tc{constructor(e,n){super(),this.serializer=e,this.Pe=n}};function MR(t){return He(t.integerValue||t.doubleValue)}function Ix(t){return bE(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function Sz(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof gs&&i instanceof gs||r instanceof ms&&i instanceof ms?Za(r.elements,i.elements,Rr):r instanceof rc&&i instanceof rc?Rr(r.Pe,i.Pe):r instanceof nc&&i instanceof nc}(t.transform,e.transform)}var hI=class{constructor(e,n){this.version=e,this.transformResults=n}},ro=class t{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new t}static exists(e){return new t(void 0,e)}static updateTime(e){return new t(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}};function Vp(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}var ic=class{};function Ex(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new Gp(t.key,ro.none()):new ys(t.key,t.data,ro.none());{let n=t.data,r=fn.empty(),i=new Ft(pn.comparator);for(let o of e.fields)if(!i.has(o)){let s=n.field(o);s===null&&o.length>1&&(o=o.popLast(),s=n.field(o)),s===null?r.delete(o):r.set(o,s),i=i.add(o)}return new xr(t.key,r,new An(i.toArray()),ro.none())}}function Az(t,e,n){t instanceof ys?function(i,o,s){let a=i.value.clone(),u=PR(i.fieldTransforms,o,s.transformResults);a.setAll(u),o.convertToFoundDocument(s.version,a).setHasCommittedMutations()}(t,e,n):t instanceof xr?function(i,o,s){if(!Vp(i.precondition,o))return void o.convertToUnknownDocument(s.version);let a=PR(i.fieldTransforms,o,s.transformResults),u=o.data;u.setAll(bx(i)),u.setAll(a),o.convertToFoundDocument(s.version,u).setHasCommittedMutations()}(t,e,n):function(i,o,s){o.convertToNoDocument(s.version).setHasCommittedMutations()}(0,e,n)}function sl(t,e,n,r){return t instanceof ys?function(o,s,a,u){if(!Vp(o.precondition,s))return a;let d=o.value.clone(),p=kR(o.fieldTransforms,u,s);return d.setAll(p),s.convertToFoundDocument(s.version,d).setHasLocalMutations(),null}(t,e,n,r):t instanceof xr?function(o,s,a,u){if(!Vp(o.precondition,s))return a;let d=kR(o.fieldTransforms,u,s),p=s.data;return p.setAll(bx(o)),p.setAll(d),s.convertToFoundDocument(s.version,p).setHasLocalMutations(),a===null?null:a.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(g=>g.field))}(t,e,n,r):function(o,s,a){return Vp(o.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):a}(t,e,n)}function Rz(t,e){let n=null;for(let r of t.fieldTransforms){let i=e.data.field(r.field),o=vx(r.transform,i||null);o!=null&&(n===null&&(n=fn.empty()),n.set(r.field,o))}return n||null}function NR(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&Za(r,i,(o,s)=>Sz(o,s))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}var ys=class extends ic{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}},xr=class extends ic{constructor(e,n,r,i,o=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}};function bx(t){let e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){let r=t.data.field(n);e.set(n,r)}}),e}function PR(t,e,n){let r=new Map;ke(t.length===n.length);for(let i=0;i<n.length;i++){let o=t[i],s=o.transform,a=e.data.field(o.field);r.set(o.field,Tz(s,a,n[i]))}return r}function kR(t,e,n){let r=new Map;for(let i of t){let o=i.transform,s=n.data.field(i.field);r.set(i.field,Cz(o,s,e))}return r}var Gp=class extends ic{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}},fI=class extends ic{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}};var pI=class{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){let r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){let o=this.mutations[i];o.key.isEqual(e.key)&&Az(o,e,r[i])}}applyToLocalView(e,n){for(let r of this.baseMutations)r.key.isEqual(e.key)&&(n=sl(r,e,n,this.localWriteTime));for(let r of this.mutations)r.key.isEqual(e.key)&&(n=sl(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){let r=mx();return this.mutations.forEach(i=>{let o=e.get(i.key),s=o.overlayedDocument,a=this.applyToLocalView(s,o.mutatedFields);a=n.has(i.key)?null:a;let u=Ex(s,a);u!==null&&r.set(i.key,u),s.isValidDocument()||s.convertToNoDocument(se.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),we())}isEqual(e){return this.batchId===e.batchId&&Za(this.mutations,e.mutations,(n,r)=>NR(n,r))&&Za(this.baseMutations,e.baseMutations,(n,r)=>NR(n,r))}},gI=class t{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){ke(e.mutations.length===r.length);let i=function(){return _z}(),o=e.mutations;for(let s=0;s<o.length;s++)i=i.insert(o[s].key,r[s].version);return new t(e,n,r,i)}};var mI=class{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};var yI=class{constructor(e,n){this.count=e,this.unchangedNames=n}};var st,Ce;function xz(t){switch(t){default:return te();case F.CANCELLED:case F.UNKNOWN:case F.DEADLINE_EXCEEDED:case F.RESOURCE_EXHAUSTED:case F.INTERNAL:case F.UNAVAILABLE:case F.UNAUTHENTICATED:return!1;case F.INVALID_ARGUMENT:case F.NOT_FOUND:case F.ALREADY_EXISTS:case F.PERMISSION_DENIED:case F.FAILED_PRECONDITION:case F.ABORTED:case F.OUT_OF_RANGE:case F.UNIMPLEMENTED:case F.DATA_LOSS:return!0}}function Dx(t){if(t===void 0)return oi("GRPC error has no .code"),F.UNKNOWN;switch(t){case st.OK:return F.OK;case st.CANCELLED:return F.CANCELLED;case st.UNKNOWN:return F.UNKNOWN;case st.DEADLINE_EXCEEDED:return F.DEADLINE_EXCEEDED;case st.RESOURCE_EXHAUSTED:return F.RESOURCE_EXHAUSTED;case st.INTERNAL:return F.INTERNAL;case st.UNAVAILABLE:return F.UNAVAILABLE;case st.UNAUTHENTICATED:return F.UNAUTHENTICATED;case st.INVALID_ARGUMENT:return F.INVALID_ARGUMENT;case st.NOT_FOUND:return F.NOT_FOUND;case st.ALREADY_EXISTS:return F.ALREADY_EXISTS;case st.PERMISSION_DENIED:return F.PERMISSION_DENIED;case st.FAILED_PRECONDITION:return F.FAILED_PRECONDITION;case st.ABORTED:return F.ABORTED;case st.OUT_OF_RANGE:return F.OUT_OF_RANGE;case st.UNIMPLEMENTED:return F.UNIMPLEMENTED;case st.DATA_LOSS:return F.DATA_LOSS;default:return te()}}(Ce=st||(st={}))[Ce.OK=0]="OK",Ce[Ce.CANCELLED=1]="CANCELLED",Ce[Ce.UNKNOWN=2]="UNKNOWN",Ce[Ce.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",Ce[Ce.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",Ce[Ce.NOT_FOUND=5]="NOT_FOUND",Ce[Ce.ALREADY_EXISTS=6]="ALREADY_EXISTS",Ce[Ce.PERMISSION_DENIED=7]="PERMISSION_DENIED",Ce[Ce.UNAUTHENTICATED=16]="UNAUTHENTICATED",Ce[Ce.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",Ce[Ce.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",Ce[Ce.ABORTED=10]="ABORTED",Ce[Ce.OUT_OF_RANGE=11]="OUT_OF_RANGE",Ce[Ce.UNIMPLEMENTED=12]="UNIMPLEMENTED",Ce[Ce.INTERNAL=13]="INTERNAL",Ce[Ce.UNAVAILABLE=14]="UNAVAILABLE",Ce[Ce.DATA_LOSS=15]="DATA_LOSS";var OR=null;function Mz(){return new TextEncoder}var Nz=new no([4294967295,4294967295],0);function FR(t){let e=Mz().encode(t),n=new N_;return n.update(e),new Uint8Array(n.digest())}function LR(t){let e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new no([n,r],0),new no([i,o],0)]}var vI=class t{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new us(`Invalid padding: ${n}`);if(r<0)throw new us(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new us(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new us(`Invalid padding when bitmap length is 0: ${n}`);this.Ie=8*e.length-n,this.Te=no.fromNumber(this.Ie)}Ee(e,n,r){let i=e.add(n.multiply(no.fromNumber(r)));return i.compare(Nz)===1&&(i=new no([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;let n=FR(e),[r,i]=LR(n);for(let o=0;o<this.hashCount;o++){let s=this.Ee(r,i,o);if(!this.de(s))return!1}return!0}static create(e,n,r){let i=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),s=new t(o,i,n);return r.forEach(a=>s.insert(a)),s}insert(e){if(this.Ie===0)return;let n=FR(e),[r,i]=LR(n);for(let o=0;o<this.hashCount;o++){let s=this.Ee(r,i,o);this.Ae(s)}}Ae(e){let n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}},us=class extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}};var Wp=class t{constructor(e,n,r,i,o){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,n,r){let i=new Map;return i.set(e,ll.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new t(se.min(),i,new Qe(Se),ai(),we())}},ll=class t{constructor(e,n,r,i,o){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new t(r,n,we(),we(),we())}};var Ka=class{constructor(e,n,r,i){this.Re=e,this.removedTargetIds=n,this.key=r,this.Ve=i}},Kp=class{constructor(e,n){this.targetId=e,this.me=n}},Qp=class{constructor(e,n,r=Lt.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}},Yp=class{constructor(){this.fe=0,this.ge=jR(),this.pe=Lt.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=we(),n=we(),r=we();return this.ge.forEach((i,o)=>{switch(o){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:te()}}),new ll(this.pe,this.ye,e,n,r)}Ce(){this.we=!1,this.ge=jR()}Fe(e,n){this.we=!0,this.ge=this.ge.insert(e,n)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,ke(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}},wI=class{constructor(e){this.Le=e,this.Be=new Map,this.ke=ai(),this.qe=VR(),this.Qe=new Qe(Se)}Ke(e){for(let n of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(n,e.Ve):this.Ue(n,e.key,e.Ve);for(let n of e.removedTargetIds)this.Ue(n,e.key,e.Ve)}We(e){this.forEachTarget(e,n=>{let r=this.Ge(n);switch(e.state){case 0:this.ze(n)&&r.De(e.resumeToken);break;case 1:r.Oe(),r.Se||r.Ce(),r.De(e.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(n);break;case 3:this.ze(n)&&(r.Ne(),r.De(e.resumeToken));break;case 4:this.ze(n)&&(this.je(n),r.De(e.resumeToken));break;default:te()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Be.forEach((r,i)=>{this.ze(i)&&n(i)})}He(e){let n=e.targetId,r=e.me.count,i=this.Je(n);if(i){let o=i.target;if(uI(o))if(r===0){let s=new Y(o.path);this.Ue(n,s,Wn.newNoDocument(s,se.min()))}else ke(r===1);else{let s=this.Ye(n);if(s!==r){let a=this.Ze(e),u=a?this.Xe(a,e,s):1;if(u!==0){this.je(n);let d=u===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(n,d)}OR?.et(function(p,g,_,b,M){var O,k,U,Q,Z,ce;let Oe={localCacheCount:p,existenceFilterCount:g.count,databaseId:_.database,projectId:_.projectId},ee=g.unchangedNames;return ee&&(Oe.bloomFilter={applied:M===0,hashCount:(O=ee?.hashCount)!==null&&O!==void 0?O:0,bitmapLength:(Q=(U=(k=ee?.bits)===null||k===void 0?void 0:k.bitmap)===null||U===void 0?void 0:U.length)!==null&&Q!==void 0?Q:0,padding:(ce=(Z=ee?.bits)===null||Z===void 0?void 0:Z.padding)!==null&&ce!==void 0?ce:0,mightContain:S=>{var I;return(I=b?.mightContain(S))!==null&&I!==void 0&&I}}),Oe}(s,e.me,this.Le.tt(),a,u))}}}}Ze(e){let n=e.me.unchangedNames;if(!n||!n.bits)return null;let{bits:{bitmap:r="",padding:i=0},hashCount:o=0}=n,s,a;try{s=oo(r).toUint8Array()}catch(u){if(u instanceof Hp)return Ya("Decoding the base64 bloom filter in existence filter failed ("+u.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw u}try{a=new vI(s,i,o)}catch(u){return Ya(u instanceof us?"BloomFilter error: ":"Applying bloom filter failed: ",u),null}return a.Ie===0?null:a}Xe(e,n,r){return n.me.count===r-this.nt(e,n.targetId)?0:2}nt(e,n){let r=this.Le.getRemoteKeysForTarget(n),i=0;return r.forEach(o=>{let s=this.Le.tt(),a=`projects/${s.projectId}/databases/${s.database}/documents/${o.path.canonicalString()}`;e.mightContain(a)||(this.Ue(n,o,null),i++)}),i}rt(e){let n=new Map;this.Be.forEach((o,s)=>{let a=this.Je(s);if(a){if(o.current&&uI(a.target)){let u=new Y(a.target.path);this.ke.get(u)!==null||this.it(s,u)||this.Ue(s,u,Wn.newNoDocument(u,e))}o.be&&(n.set(s,o.ve()),o.Ce())}});let r=we();this.qe.forEach((o,s)=>{let a=!0;s.forEachWhile(u=>{let d=this.Je(u);return!d||d.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(o))}),this.ke.forEach((o,s)=>s.setReadTime(e));let i=new Wp(e,n,this.Qe,this.ke,r);return this.ke=ai(),this.qe=VR(),this.Qe=new Qe(Se),i}$e(e,n){if(!this.ze(e))return;let r=this.it(e,n.key)?2:0;this.Ge(e).Fe(n.key,r),this.ke=this.ke.insert(n.key,n),this.qe=this.qe.insert(n.key,this.st(n.key).add(e))}Ue(e,n,r){if(!this.ze(e))return;let i=this.Ge(e);this.it(e,n)?i.Fe(n,1):i.Me(n),this.qe=this.qe.insert(n,this.st(n).delete(e)),r&&(this.ke=this.ke.insert(n,r))}removeTarget(e){this.Be.delete(e)}Ye(e){let n=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let n=this.Be.get(e);return n||(n=new Yp,this.Be.set(e,n)),n}st(e){let n=this.qe.get(e);return n||(n=new Ft(Se),this.qe=this.qe.insert(e,n)),n}ze(e){let n=this.Je(e)!==null;return n||q("WatchChangeAggregator","Detected inactive target",e),n}Je(e){let n=this.Be.get(e);return n&&n.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new Yp),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.Ue(e,n,null)})}it(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}};function VR(){return new Qe(Y.comparator)}function jR(){return new Qe(Y.comparator)}var Pz={asc:"ASCENDING",desc:"DESCENDING"},kz={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},Oz={and:"AND",or:"OR"},_I=class{constructor(e,n){this.databaseId=e,this.useProto3Json=n}};function II(t,e){return t.useProto3Json||_g(e)?e:{value:e}}function Zp(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function Cx(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function Fz(t,e){return Zp(t,e.toTimestamp())}function Ar(t){return ke(!!t),se.fromTimestamp(function(n){let r=si(n);return new At(r.seconds,r.nanos)}(t))}function AE(t,e){return EI(t,e).canonicalString()}function EI(t,e){let n=function(i){return new qe(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function Tx(t){let e=qe.fromString(t);return ke(Mx(e)),e}function bI(t,e){return AE(t.databaseId,e.path)}function V_(t,e){let n=Tx(e);if(n.get(1)!==t.databaseId.projectId)throw new H(F.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new H(F.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new Y(Ax(n))}function Sx(t,e){return AE(t.databaseId,e)}function Lz(t){let e=Tx(t);return e.length===4?qe.emptyPath():Ax(e)}function DI(t){return new qe(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function Ax(t){return ke(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function UR(t,e,n){return{name:bI(t,e),fields:n.value.mapValue.fields}}function Vz(t,e){let n;if("targetChange"in e){e.targetChange;let r=function(d){return d==="NO_CHANGE"?0:d==="ADD"?1:d==="REMOVE"?2:d==="CURRENT"?3:d==="RESET"?4:te()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=function(d,p){return d.useProto3Json?(ke(p===void 0||typeof p=="string"),Lt.fromBase64String(p||"")):(ke(p===void 0||p instanceof Buffer||p instanceof Uint8Array),Lt.fromUint8Array(p||new Uint8Array))}(t,e.targetChange.resumeToken),s=e.targetChange.cause,a=s&&function(d){let p=d.code===void 0?F.UNKNOWN:Dx(d.code);return new H(p,d.message||"")}(s);n=new Qp(r,i,o,a||null)}else if("documentChange"in e){e.documentChange;let r=e.documentChange;r.document,r.document.name,r.document.updateTime;let i=V_(t,r.document.name),o=Ar(r.document.updateTime),s=r.document.createTime?Ar(r.document.createTime):se.min(),a=new fn({mapValue:{fields:r.document.fields}}),u=Wn.newFoundDocument(i,o,s,a),d=r.targetIds||[],p=r.removedTargetIds||[];n=new Ka(d,p,u.key,u)}else if("documentDelete"in e){e.documentDelete;let r=e.documentDelete;r.document;let i=V_(t,r.document),o=r.readTime?Ar(r.readTime):se.min(),s=Wn.newNoDocument(i,o),a=r.removedTargetIds||[];n=new Ka([],a,s.key,s)}else if("documentRemove"in e){e.documentRemove;let r=e.documentRemove;r.document;let i=V_(t,r.document),o=r.removedTargetIds||[];n=new Ka([],o,i,null)}else{if(!("filter"in e))return te();{e.filter;let r=e.filter;r.targetId;let{count:i=0,unchangedNames:o}=r,s=new yI(i,o),a=r.targetId;n=new Kp(a,s)}}return n}function jz(t,e){let n;if(e instanceof ys)n={update:UR(t,e.key,e.value)};else if(e instanceof Gp)n={delete:bI(t,e.key)};else if(e instanceof xr)n={update:UR(t,e.key,e.data),updateMask:Kz(e.fieldMask)};else{if(!(e instanceof fI))return te();n={verify:bI(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(o,s){let a=s.transform;if(a instanceof nc)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof gs)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof ms)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof rc)return{fieldPath:s.field.canonicalString(),increment:a.Pe};throw te()}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,o){return o.updateTime!==void 0?{updateTime:Fz(i,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:te()}(t,e.precondition)),n}function Uz(t,e){return t&&t.length>0?(ke(e!==void 0),t.map(n=>function(i,o){let s=i.updateTime?Ar(i.updateTime):Ar(o);return s.isEqual(se.min())&&(s=Ar(o)),new hI(s,i.transformResults||[])}(n,e))):[]}function Bz(t,e){return{documents:[Sx(t,e.path)]}}function $z(t,e){let n={structuredQuery:{}},r=e.path,i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=Sx(t,i);let o=function(d){if(d.length!==0)return xx(Kn.create(d,"and"))}(e.filters);o&&(n.structuredQuery.where=o);let s=function(d){if(d.length!==0)return d.map(p=>function(_){return{field:qa(_.field),direction:qz(_.dir)}}(p))}(e.orderBy);s&&(n.structuredQuery.orderBy=s);let a=II(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(d){return{before:d.inclusive,values:d.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(d){return{before:!d.inclusive,values:d.position}}(e.endAt)),{_t:n,parent:i}}function Hz(t){let e=Lz(t.parent),n=t.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){ke(r===1);let p=n.from[0];p.allDescendants?i=p.collectionId:e=e.child(p.collectionId)}let o=[];n.where&&(o=function(g){let _=Rx(g);return _ instanceof Kn&&ax(_)?_.getFilters():[_]}(n.where));let s=[];n.orderBy&&(s=function(g){return g.map(_=>function(M){return new ps(Ga(M.field),function(k){switch(k){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(M.direction))}(_))}(n.orderBy));let a=null;n.limit&&(a=function(g){let _;return _=typeof g=="object"?g.value:g,_g(_)?null:_}(n.limit));let u=null;n.startAt&&(u=function(g){let _=!!g.before,b=g.values||[];return new ec(b,_)}(n.startAt));let d=null;return n.endAt&&(d=function(g){let _=!g.before,b=g.values||[];return new ec(b,_)}(n.endAt)),gz(e,i,s,o,a,"F",u,d)}function zz(t,e){let n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return te()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function Rx(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":let r=Ga(n.unaryFilter.field);return ct.create(r,"==",{doubleValue:NaN});case"IS_NULL":let i=Ga(n.unaryFilter.field);return ct.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":let o=Ga(n.unaryFilter.field);return ct.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":let s=Ga(n.unaryFilter.field);return ct.create(s,"!=",{nullValue:"NULL_VALUE"});default:return te()}}(t):t.fieldFilter!==void 0?function(n){return ct.create(Ga(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return te()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return Kn.create(n.compositeFilter.filters.map(r=>Rx(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return te()}}(n.compositeFilter.op))}(t):te()}function qz(t){return Pz[t]}function Gz(t){return kz[t]}function Wz(t){return Oz[t]}function qa(t){return{fieldPath:t.canonicalString()}}function Ga(t){return pn.fromServerFormat(t.fieldPath)}function xx(t){return t instanceof ct?function(n){if(n.op==="=="){if(TR(n.value))return{unaryFilter:{field:qa(n.field),op:"IS_NAN"}};if(CR(n.value))return{unaryFilter:{field:qa(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(TR(n.value))return{unaryFilter:{field:qa(n.field),op:"IS_NOT_NAN"}};if(CR(n.value))return{unaryFilter:{field:qa(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:qa(n.field),op:Gz(n.op),value:n.value}}}(t):t instanceof Kn?function(n){let r=n.getFilters().map(i=>xx(i));return r.length===1?r[0]:{compositeFilter:{op:Wz(n.op),filters:r}}}(t):te()}function Kz(t){let e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function Mx(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}var dl=class t{constructor(e,n,r,i,o=se.min(),s=se.min(),a=Lt.EMPTY_BYTE_STRING,u=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=a,this.expectedCount=u}withSequenceNumber(e){return new t(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}};var CI=class{constructor(e){this.ct=e}};function Qz(t){let e=Hz({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?dI(e,e.limit,"L"):e}var Jp=class{constructor(){}It(e,n){this.Tt(e,n),n.Et()}Tt(e,n){if("nullValue"in e)this.dt(n,5);else if("booleanValue"in e)this.dt(n,10),n.At(e.booleanValue?1:0);else if("integerValue"in e)this.dt(n,15),n.At(He(e.integerValue));else if("doubleValue"in e){let r=He(e.doubleValue);isNaN(r)?this.dt(n,13):(this.dt(n,15),al(r)?n.At(0):n.At(r))}else if("timestampValue"in e){let r=e.timestampValue;this.dt(n,20),typeof r=="string"&&(r=si(r)),n.Rt(`${r.seconds||""}`),n.At(r.nanos||0)}else if("stringValue"in e)this.Vt(e.stringValue,n),this.ft(n);else if("bytesValue"in e)this.dt(n,30),n.gt(oo(e.bytesValue)),this.ft(n);else if("referenceValue"in e)this.yt(e.referenceValue,n);else if("geoPointValue"in e){let r=e.geoPointValue;this.dt(n,45),n.At(r.latitude||0),n.At(r.longitude||0)}else"mapValue"in e?ix(e)?this.dt(n,Number.MAX_SAFE_INTEGER):rx(e)?this.wt(e.mapValue,n):(this.St(e.mapValue,n),this.ft(n)):"arrayValue"in e?(this.bt(e.arrayValue,n),this.ft(n)):te()}Vt(e,n){this.dt(n,25),this.Dt(e,n)}Dt(e,n){n.Rt(e)}St(e,n){let r=e.fields||{};this.dt(n,55);for(let i of Object.keys(r))this.Vt(i,n),this.Tt(r[i],n)}wt(e,n){var r,i;let o=e.fields||{};this.dt(n,53);let s="value",a=((i=(r=o[s].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.length)||0;this.dt(n,15),n.At(He(a)),this.Vt(s,n),this.Tt(o[s],n)}bt(e,n){let r=e.values||[];this.dt(n,50);for(let i of r)this.Tt(i,n)}yt(e,n){this.dt(n,37),Y.fromName(e).path.forEach(r=>{this.dt(n,60),this.Dt(r,n)})}dt(e,n){e.At(n)}ft(e){e.At(2)}};Jp.vt=new Jp;var TI=class{constructor(){this.un=new SI}addToCollectionParentIndex(e,n){return this.un.add(n),L.resolve()}getCollectionParents(e,n){return L.resolve(this.un.getEntries(n))}addFieldIndex(e,n){return L.resolve()}deleteFieldIndex(e,n){return L.resolve()}deleteAllFieldIndexes(e){return L.resolve()}createTargetIndexes(e,n){return L.resolve()}getDocumentsMatchingTarget(e,n){return L.resolve(null)}getIndexType(e,n){return L.resolve(0)}getFieldIndexes(e,n){return L.resolve([])}getNextCollectionGroupToUpdate(e){return L.resolve(null)}getMinOffset(e,n){return L.resolve(hs.min())}getMinOffsetFromCollectionGroup(e,n){return L.resolve(hs.min())}updateCollectionGroup(e,n,r){return L.resolve()}updateIndexEntries(e,n){return L.resolve()}},SI=class{constructor(){this.index={}}add(e){let n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new Ft(qe.comparator),o=!i.has(r);return this.index[n]=i.add(r),o}has(e){let n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Ft(qe.comparator)).toArray()}};var xQ=new Uint8Array(0);var Dr=class t{constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new t(e,t.DEFAULT_COLLECTION_PERCENTILE,t.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}};Dr.DEFAULT_COLLECTION_PERCENTILE=10,Dr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,Dr.DEFAULT=new Dr(41943040,Dr.DEFAULT_COLLECTION_PERCENTILE,Dr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),Dr.DISABLED=new Dr(-1,0,0);var hl=class t{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new t(0)}static kn(){return new t(-1)}};var AI=class{constructor(){this.changes=new ao(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Wn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();let r=this.changes.get(n);return r!==void 0?L.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}};var RI=class{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}};var xI=class{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&sl(r.mutation,i,An.empty(),At.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,we()).next(()=>r))}getLocalViewOfDocuments(e,n,r=we()){let i=cs();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(o=>{let s=nl();return o.forEach((a,u)=>{s=s.insert(a,u.overlayedDocument)}),s}))}getOverlayedDocuments(e,n){let r=cs();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,we()))}populateOverlays(e,n,r){let i=[];return r.forEach(o=>{n.has(o)||i.push(o)}),this.documentOverlayCache.getOverlays(e,i).next(o=>{o.forEach((s,a)=>{n.set(s,a)})})}computeViews(e,n,r,i){let o=ai(),s=ol(),a=function(){return ol()}();return n.forEach((u,d)=>{let p=r.get(d.key);i.has(d.key)&&(p===void 0||p.mutation instanceof xr)?o=o.insert(d.key,d):p!==void 0?(s.set(d.key,p.mutation.getFieldMask()),sl(p.mutation,d,p.mutation.getFieldMask(),At.now())):s.set(d.key,An.empty())}),this.recalculateAndSaveOverlays(e,o).next(u=>(u.forEach((d,p)=>s.set(d,p)),n.forEach((d,p)=>{var g;return a.set(d,new RI(p,(g=s.get(d))!==null&&g!==void 0?g:null))}),a))}recalculateAndSaveOverlays(e,n){let r=ol(),i=new Qe((s,a)=>s-a),o=we();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(s=>{for(let a of s)a.keys().forEach(u=>{let d=n.get(u);if(d===null)return;let p=r.get(u)||An.empty();p=a.applyToLocalView(d,p),r.set(u,p);let g=(i.get(a.batchId)||we()).add(u);i=i.insert(a.batchId,g)})}).next(()=>{let s=[],a=i.getReverseIterator();for(;a.hasNext();){let u=a.getNext(),d=u.key,p=u.value,g=mx();p.forEach(_=>{if(!o.has(_)){let b=Ex(n.get(_),r.get(_));b!==null&&g.set(_,b),o=o.add(_)}}),s.push(this.documentOverlayCache.saveOverlays(e,d,g))}return L.waitFor(s)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(s){return Y.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):dx(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(o=>{let s=i-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-o.size):L.resolve(cs()),a=-1,u=o;return s.next(d=>L.forEach(d,(p,g)=>(a<g.largestBatchId&&(a=g.largestBatchId),o.get(p)?L.resolve():this.remoteDocumentCache.getEntry(e,p).next(_=>{u=u.insert(p,_)}))).next(()=>this.populateOverlays(e,d,o)).next(()=>this.computeViews(e,u,d,we())).next(p=>({batchId:a,changes:gx(p)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Y(n)).next(r=>{let i=nl();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){let o=n.collectionGroup,s=nl();return this.indexManager.getCollectionParents(e,o).next(a=>L.forEach(a,u=>{let d=function(g,_){return new so(_,null,g.explicitOrderBy.slice(),g.filters.slice(),g.limit,g.limitType,g.startAt,g.endAt)}(n,u.child(o));return this.getDocumentsMatchingCollectionQuery(e,d,r,i).next(p=>{p.forEach((g,_)=>{s=s.insert(g,_)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,n,r,i){let o;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(s=>(o=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,o,i))).next(s=>{o.forEach((u,d)=>{let p=d.getKey();s.get(p)===null&&(s=s.insert(p,Wn.newInvalidDocument(p)))});let a=nl();return s.forEach((u,d)=>{let p=o.get(u);p!==void 0&&sl(p.mutation,d,An.empty(),At.now()),Eg(n,d)&&(a=a.insert(u,d))}),a})}};var MI=class{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,n){return L.resolve(this.hr.get(n))}saveBundleMetadata(e,n){return this.hr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:Ar(i.createTime)}}(n)),L.resolve()}getNamedQuery(e,n){return L.resolve(this.Pr.get(n))}saveNamedQuery(e,n){return this.Pr.set(n.name,function(i){return{name:i.name,query:Qz(i.bundledQuery),readTime:Ar(i.readTime)}}(n)),L.resolve()}};var NI=class{constructor(){this.overlays=new Qe(Y.comparator),this.Ir=new Map}getOverlay(e,n){return L.resolve(this.overlays.get(n))}getOverlays(e,n){let r=cs();return L.forEach(n,i=>this.getOverlay(e,i).next(o=>{o!==null&&r.set(i,o)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,o)=>{this.ht(e,n,o)}),L.resolve()}removeOverlaysForBatchId(e,n,r){let i=this.Ir.get(r);return i!==void 0&&(i.forEach(o=>this.overlays=this.overlays.remove(o)),this.Ir.delete(r)),L.resolve()}getOverlaysForCollection(e,n,r){let i=cs(),o=n.length+1,s=new Y(n.child("")),a=this.overlays.getIteratorFrom(s);for(;a.hasNext();){let u=a.getNext().value,d=u.getKey();if(!n.isPrefixOf(d.path))break;d.path.length===o&&u.largestBatchId>r&&i.set(u.getKey(),u)}return L.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let o=new Qe((d,p)=>d-p),s=this.overlays.getIterator();for(;s.hasNext();){let d=s.getNext().value;if(d.getKey().getCollectionGroup()===n&&d.largestBatchId>r){let p=o.get(d.largestBatchId);p===null&&(p=cs(),o=o.insert(d.largestBatchId,p)),p.set(d.getKey(),d)}}let a=cs(),u=o.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach((d,p)=>a.set(d,p)),!(a.size()>=i)););return L.resolve(a)}ht(e,n,r){let i=this.overlays.get(r.key);if(i!==null){let s=this.Ir.get(i.largestBatchId).delete(r.key);this.Ir.set(i.largestBatchId,s)}this.overlays=this.overlays.insert(r.key,new mI(n,r));let o=this.Ir.get(n);o===void 0&&(o=we(),this.Ir.set(n,o)),this.Ir.set(n,o.add(r.key))}};var PI=class{constructor(){this.sessionToken=Lt.EMPTY_BYTE_STRING}getSessionToken(e){return L.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,L.resolve()}};var fl=class{constructor(){this.Tr=new Ft(at.Er),this.dr=new Ft(at.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,n){let r=new at(e,n);this.Tr=this.Tr.add(r),this.dr=this.dr.add(r)}Rr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Vr(new at(e,n))}mr(e,n){e.forEach(r=>this.removeReference(r,n))}gr(e){let n=new Y(new qe([])),r=new at(n,e),i=new at(n,e+1),o=[];return this.dr.forEachInRange([r,i],s=>{this.Vr(s),o.push(s.key)}),o}pr(){this.Tr.forEach(e=>this.Vr(e))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){let n=new Y(new qe([])),r=new at(n,e),i=new at(n,e+1),o=we();return this.dr.forEachInRange([r,i],s=>{o=o.add(s.key)}),o}containsKey(e){let n=new at(e,0),r=this.Tr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}},at=class{constructor(e,n){this.key=e,this.wr=n}static Er(e,n){return Y.comparator(e.key,n.key)||Se(e.wr,n.wr)}static Ar(e,n){return Se(e.wr,n.wr)||Y.comparator(e.key,n.key)}};var kI=class{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Sr=1,this.br=new Ft(at.Er)}checkEmpty(e){return L.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){let o=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];let s=new pI(o,n,r,i);this.mutationQueue.push(s);for(let a of i)this.br=this.br.add(new at(a.key,o)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return L.resolve(s)}lookupMutationBatch(e,n){return L.resolve(this.Dr(n))}getNextMutationBatchAfterBatchId(e,n){let r=n+1,i=this.vr(r),o=i<0?0:i;return L.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return L.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(e){return L.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){let r=new at(n,0),i=new at(n,Number.POSITIVE_INFINITY),o=[];return this.br.forEachInRange([r,i],s=>{let a=this.Dr(s.wr);o.push(a)}),L.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Ft(Se);return n.forEach(i=>{let o=new at(i,0),s=new at(i,Number.POSITIVE_INFINITY);this.br.forEachInRange([o,s],a=>{r=r.add(a.wr)})}),L.resolve(this.Cr(r))}getAllMutationBatchesAffectingQuery(e,n){let r=n.path,i=r.length+1,o=r;Y.isDocumentKey(o)||(o=o.child(""));let s=new at(new Y(o),0),a=new Ft(Se);return this.br.forEachWhile(u=>{let d=u.key.path;return!!r.isPrefixOf(d)&&(d.length===i&&(a=a.add(u.wr)),!0)},s),L.resolve(this.Cr(a))}Cr(e){let n=[];return e.forEach(r=>{let i=this.Dr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){ke(this.Fr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.br;return L.forEach(n.mutations,i=>{let o=new at(i.key,n.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.br=r})}On(e){}containsKey(e,n){let r=new at(n,0),i=this.br.firstAfterOrEqual(r);return L.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,L.resolve()}Fr(e,n){return this.vr(e)}vr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Dr(e){let n=this.vr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}};var OI=class{constructor(e){this.Mr=e,this.docs=function(){return new Qe(Y.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){let r=n.key,i=this.docs.get(r),o=i?i.size:0,s=this.Mr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:s}),this.size+=s-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){let n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){let r=this.docs.get(n);return L.resolve(r?r.document.mutableCopy():Wn.newInvalidDocument(n))}getEntries(e,n){let r=ai();return n.forEach(i=>{let o=this.docs.get(i);r=r.insert(i,o?o.document.mutableCopy():Wn.newInvalidDocument(i))}),L.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let o=ai(),s=n.path,a=new Y(s.child("")),u=this.docs.getIteratorFrom(a);for(;u.hasNext();){let{key:d,value:{document:p}}=u.getNext();if(!s.isPrefixOf(d.path))break;d.path.length>s.length+1||iz(rz(p),r)<=0||(i.has(p.key)||Eg(n,p))&&(o=o.insert(p.key,p.mutableCopy()))}return L.resolve(o)}getAllFromCollectionGroup(e,n,r,i){te()}Or(e,n){return L.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new FI(this)}getSize(e){return L.resolve(this.size)}},FI=class extends AI{constructor(e){super(),this.cr=e}applyChanges(e){let n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.cr.addEntry(e,i)):this.cr.removeEntry(r)}),L.waitFor(n)}getFromCache(e,n){return this.cr.getEntry(e,n)}getAllFromCache(e,n){return this.cr.getEntries(e,n)}};var LI=class{constructor(e){this.persistence=e,this.Nr=new ao(n=>DE(n),CE),this.lastRemoteSnapshotVersion=se.min(),this.highestTargetId=0,this.Lr=0,this.Br=new fl,this.targetCount=0,this.kr=hl.Bn()}forEachTarget(e,n){return this.Nr.forEach((r,i)=>n(i)),L.resolve()}getLastRemoteSnapshotVersion(e){return L.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return L.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),L.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Lr&&(this.Lr=n),L.resolve()}Kn(e){this.Nr.set(e.target,e);let n=e.targetId;n>this.highestTargetId&&(this.kr=new hl(n),this.highestTargetId=n),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,n){return this.Kn(n),this.targetCount+=1,L.resolve()}updateTargetData(e,n){return this.Kn(n),L.resolve()}removeTargetData(e,n){return this.Nr.delete(n.target),this.Br.gr(n.targetId),this.targetCount-=1,L.resolve()}removeTargets(e,n,r){let i=0,o=[];return this.Nr.forEach((s,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.Nr.delete(s),o.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),L.waitFor(o).next(()=>i)}getTargetCount(e){return L.resolve(this.targetCount)}getTargetData(e,n){let r=this.Nr.get(n)||null;return L.resolve(r)}addMatchingKeys(e,n,r){return this.Br.Rr(n,r),L.resolve()}removeMatchingKeys(e,n,r){this.Br.mr(n,r);let i=this.persistence.referenceDelegate,o=[];return i&&n.forEach(s=>{o.push(i.markPotentiallyOrphaned(e,s))}),L.waitFor(o)}removeMatchingKeysForTargetId(e,n){return this.Br.gr(n),L.resolve()}getMatchingKeysForTargetId(e,n){let r=this.Br.yr(n);return L.resolve(r)}containsKey(e,n){return L.resolve(this.Br.containsKey(n))}};var VI=class{constructor(e,n){this.qr={},this.overlays={},this.Qr=new tx(0),this.Kr=!1,this.Kr=!0,this.$r=new PI,this.referenceDelegate=e(this),this.Ur=new LI(this),this.indexManager=new TI,this.remoteDocumentCache=function(i){return new OI(i)}(r=>this.referenceDelegate.Wr(r)),this.serializer=new CI(n),this.Gr=new MI(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new NI,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.qr[e.toKey()];return r||(r=new kI(n,this.referenceDelegate),this.qr[e.toKey()]=r),r}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,n,r){q("MemoryPersistence","Starting transaction:",e);let i=new jI(this.Qr.next());return this.referenceDelegate.zr(),r(i).next(o=>this.referenceDelegate.jr(i).next(()=>o)).toPromise().then(o=>(i.raiseOnCommittedEvent(),o))}Hr(e,n){return L.or(Object.values(this.qr).map(r=>()=>r.containsKey(e,n)))}},jI=class extends Y_{constructor(e){super(),this.currentSequenceNumber=e}},UI=class t{constructor(e){this.persistence=e,this.Jr=new fl,this.Yr=null}static Zr(e){return new t(e)}get Xr(){if(this.Yr)return this.Yr;throw te()}addReference(e,n,r){return this.Jr.addReference(r,n),this.Xr.delete(r.toString()),L.resolve()}removeReference(e,n,r){return this.Jr.removeReference(r,n),this.Xr.add(r.toString()),L.resolve()}markPotentiallyOrphaned(e,n){return this.Xr.add(n.toString()),L.resolve()}removeTarget(e,n){this.Jr.gr(n.targetId).forEach(i=>this.Xr.add(i.toString()));let r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(o=>this.Xr.add(o.toString()))}).next(()=>r.removeTargetData(e,n))}zr(){this.Yr=new Set}jr(e){let n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return L.forEach(this.Xr,r=>{let i=Y.fromPath(r);return this.ei(e,i).next(o=>{o||n.removeEntry(i,se.min())})}).next(()=>(this.Yr=null,n.apply(e)))}updateLimboDocument(e,n){return this.ei(e,n).next(r=>{r?this.Xr.delete(n.toString()):this.Xr.add(n.toString())})}Wr(e){return 0}ei(e,n){return L.or([()=>L.resolve(this.Jr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Hr(e,n)])}};var BI=class t{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.$i=r,this.Ui=i}static Wi(e,n){let r=we(),i=we();for(let o of n.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:i=i.add(o.doc.key)}return new t(e,n.fromCache,r,i)}};var $I=class{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}};var HI=class{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=function(){return rA()?8:sz(It())>0?6:4}()}initialize(e,n){this.Ji=e,this.indexManager=n,this.Gi=!0}getDocumentsMatchingQuery(e,n,r,i){let o={result:null};return this.Yi(e,n).next(s=>{o.result=s}).next(()=>{if(!o.result)return this.Zi(e,n,i,r).next(s=>{o.result=s})}).next(()=>{if(o.result)return;let s=new $I;return this.Xi(e,n,s).next(a=>{if(o.result=a,this.zi)return this.es(e,n,s,a.size)})}).next(()=>o.result)}es(e,n,r,i){return r.documentReadCount<this.ji?(tl()<=ve.DEBUG&&q("QueryEngine","SDK will not create cache indexes for query:",za(n),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),L.resolve()):(tl()<=ve.DEBUG&&q("QueryEngine","Query:",za(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Hi*i?(tl()<=ve.DEBUG&&q("QueryEngine","The SDK decides to create cache indexes for query:",za(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,Sr(n))):L.resolve())}Yi(e,n){if(xR(n))return L.resolve(null);let r=Sr(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=dI(n,null,"F"),r=Sr(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(o=>{let s=we(...o);return this.Ji.getDocuments(e,s).next(a=>this.indexManager.getMinOffset(e,r).next(u=>{let d=this.ts(n,a);return this.ns(n,d,s,u.readTime)?this.Yi(e,dI(n,null,"F")):this.rs(e,d,n,u)}))})))}Zi(e,n,r,i){return xR(n)||i.isEqual(se.min())?L.resolve(null):this.Ji.getDocuments(e,r).next(o=>{let s=this.ts(n,o);return this.ns(n,s,r,i)?L.resolve(null):(tl()<=ve.DEBUG&&q("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),za(n)),this.rs(e,s,n,nz(i,-1)).next(a=>a))})}ts(e,n){let r=new Ft(fx(e));return n.forEach((i,o)=>{Eg(e,o)&&(r=r.add(o))}),r}ns(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;let o=e.limitType==="F"?n.last():n.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)}Xi(e,n,r){return tl()<=ve.DEBUG&&q("QueryEngine","Using full collection scan to execute query:",za(n)),this.Ji.getDocumentsMatchingQuery(e,n,hs.min(),r)}rs(e,n,r,i){return this.Ji.getDocumentsMatchingQuery(e,r,i).next(o=>(n.forEach(s=>{o=o.insert(s.key,s)}),o))}};var zI=class{constructor(e,n,r,i){this.persistence=e,this.ss=n,this.serializer=i,this.os=new Qe(Se),this._s=new ao(o=>DE(o),CE),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(r)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new xI(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.os))}};function Yz(t,e,n,r){return new zI(t,e,n,r)}function Nx(t,e){return C(this,null,function*(){let n=ie(t);return yield n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(o=>(i=o,n.ls(e),n.mutationQueue.getAllMutationBatches(r))).next(o=>{let s=[],a=[],u=we();for(let d of i){s.push(d.batchId);for(let p of d.mutations)u=u.add(p.key)}for(let d of o){a.push(d.batchId);for(let p of d.mutations)u=u.add(p.key)}return n.localDocuments.getDocuments(r,u).next(d=>({hs:d,removedBatchIds:s,addedBatchIds:a}))})})})}function Zz(t,e){let n=ie(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{let i=e.batch.keys(),o=n.cs.newChangeBuffer({trackRemovals:!0});return function(a,u,d,p){let g=d.batch,_=g.keys(),b=L.resolve();return _.forEach(M=>{b=b.next(()=>p.getEntry(u,M)).next(O=>{let k=d.docVersions.get(M);ke(k!==null),O.version.compareTo(k)<0&&(g.applyToRemoteDocument(O,d),O.isValidDocument()&&(O.setReadTime(d.commitVersion),p.addEntry(O)))})}),b.next(()=>a.mutationQueue.removeMutationBatch(u,g))}(n,r,e,o).next(()=>o.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let u=we();for(let d=0;d<a.mutationResults.length;++d)a.mutationResults[d].transformResults.length>0&&(u=u.add(a.batch.mutations[d].key));return u}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function Px(t){let e=ie(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Ur.getLastRemoteSnapshotVersion(n))}function Jz(t,e){let n=ie(t),r=e.snapshotVersion,i=n.os;return n.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{let s=n.cs.newChangeBuffer({trackRemovals:!0});i=n.os;let a=[];e.targetChanges.forEach((p,g)=>{let _=i.get(g);if(!_)return;a.push(n.Ur.removeMatchingKeys(o,p.removedDocuments,g).next(()=>n.Ur.addMatchingKeys(o,p.addedDocuments,g)));let b=_.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(g)!==null?b=b.withResumeToken(Lt.EMPTY_BYTE_STRING,se.min()).withLastLimboFreeSnapshotVersion(se.min()):p.resumeToken.approximateByteSize()>0&&(b=b.withResumeToken(p.resumeToken,r)),i=i.insert(g,b),function(O,k,U){return O.resumeToken.approximateByteSize()===0||k.snapshotVersion.toMicroseconds()-O.snapshotVersion.toMicroseconds()>=3e8?!0:U.addedDocuments.size+U.modifiedDocuments.size+U.removedDocuments.size>0}(_,b,p)&&a.push(n.Ur.updateTargetData(o,b))});let u=ai(),d=we();if(e.documentUpdates.forEach(p=>{e.resolvedLimboDocuments.has(p)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(o,p))}),a.push(Xz(o,s,e.documentUpdates).next(p=>{u=p.Ps,d=p.Is})),!r.isEqual(se.min())){let p=n.Ur.getLastRemoteSnapshotVersion(o).next(g=>n.Ur.setTargetsMetadata(o,o.currentSequenceNumber,r));a.push(p)}return L.waitFor(a).next(()=>s.apply(o)).next(()=>n.localDocuments.getLocalViewOfDocuments(o,u,d)).next(()=>u)}).then(o=>(n.os=i,o))}function Xz(t,e,n){let r=we(),i=we();return n.forEach(o=>r=r.add(o)),e.getEntries(t,r).next(o=>{let s=ai();return n.forEach((a,u)=>{let d=o.get(a);u.isFoundDocument()!==d.isFoundDocument()&&(i=i.add(a)),u.isNoDocument()&&u.version.isEqual(se.min())?(e.removeEntry(a,u.readTime),s=s.insert(a,u)):!d.isValidDocument()||u.version.compareTo(d.version)>0||u.version.compareTo(d.version)===0&&d.hasPendingWrites?(e.addEntry(u),s=s.insert(a,u)):q("LocalStore","Ignoring outdated watch update for ",a,". Current version:",d.version," Watch version:",u.version)}),{Ps:s,Is:i}})}function eq(t,e){let n=ie(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function tq(t,e){let n=ie(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Ur.getTargetData(r,e).next(o=>o?(i=o,L.resolve(i)):n.Ur.allocateTargetId(r).next(s=>(i=new dl(e,s,"TargetPurposeListen",r.currentSequenceNumber),n.Ur.addTargetData(r,i).next(()=>i))))}).then(r=>{let i=n.os.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.os=n.os.insert(r.targetId,r),n._s.set(e,r.targetId)),r})}function qI(t,e,n){return C(this,null,function*(){let r=ie(t),i=r.os.get(e),o=n?"readwrite":"readwrite-primary";try{n||(yield r.persistence.runTransaction("Release target",o,s=>r.persistence.referenceDelegate.removeTarget(s,i)))}catch(s){if(!Il(s))throw s;q("LocalStore",`Failed to update sequence numbers for target ${e}: ${s}`)}r.os=r.os.remove(e),r._s.delete(i.target)})}function BR(t,e,n){let r=ie(t),i=se.min(),o=we();return r.persistence.runTransaction("Execute query","readwrite",s=>function(u,d,p){let g=ie(u),_=g._s.get(p);return _!==void 0?L.resolve(g.os.get(_)):g.Ur.getTargetData(d,p)}(r,s,Sr(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Ur.getMatchingKeysForTargetId(s,a.targetId).next(u=>{o=u})}).next(()=>r.ss.getDocumentsMatchingQuery(s,e,n?i:se.min(),n?o:we())).next(a=>(nq(r,yz(e),a),{documents:a,Ts:o})))}function nq(t,e,n){let r=t.us.get(e)||se.min();n.forEach((i,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)}),t.us.set(e,r)}var Xp=class{constructor(){this.activeTargetIds=bz()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){let e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}};var GI=class{constructor(){this.so=new Xp,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,n,r){this.oo[e]=n}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new Xp,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}};var WI=class{_o(e){}shutdown(){}};var eg=class{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){q("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(let e of this.ho)e(0)}lo(){q("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(let e of this.ho)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}};var Fp=null;function j_(){return Fp===null?Fp=function(){return 268435456+Math.round(2147483648*Math.random())}():Fp++,"0x"+Fp.toString(16)}var rq={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};var KI=class{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}};var Ot="WebChannelConnection",QI=class extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;let r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Do=r+"://"+n.host,this.vo=`projects/${i}/databases/${o}`,this.Co=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${o}`}get Fo(){return!1}Mo(n,r,i,o,s){let a=j_(),u=this.xo(n,r.toUriEncodedString());q("RestConnection",`Sending RPC '${n}' ${a}:`,u,i);let d={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(d,o,s),this.No(n,u,d,i).then(p=>(q("RestConnection",`Received RPC '${n}' ${a}: `,p),p),p=>{throw Ya("RestConnection",`RPC '${n}' ${a} failed with error: `,p,"url: ",u,"request:",i),p})}Lo(n,r,i,o,s,a){return this.Mo(n,r,i,o,s)}Oo(n,r,i){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+cc}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((o,s)=>n[s]=o),i&&i.headers.forEach((o,s)=>n[s]=o)}xo(n,r){let i=rq[n];return`${this.Do}/v1/${r}:${i}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,n,r,i){let o=j_();return new Promise((s,a)=>{let u=new P_;u.setWithCredentials(!0),u.listenOnce(k_.COMPLETE,()=>{try{switch(u.getLastErrorCode()){case el.NO_ERROR:let p=u.getResponseJson();q(Ot,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(p)),s(p);break;case el.TIMEOUT:q(Ot,`RPC '${e}' ${o} timed out`),a(new H(F.DEADLINE_EXCEEDED,"Request time out"));break;case el.HTTP_ERROR:let g=u.getStatus();if(q(Ot,`RPC '${e}' ${o} failed with status:`,g,"response text:",u.getResponseText()),g>0){let _=u.getResponseJson();Array.isArray(_)&&(_=_[0]);let b=_?.error;if(b&&b.status&&b.message){let M=function(k){let U=k.toLowerCase().replace(/_/g,"-");return Object.values(F).indexOf(U)>=0?U:F.UNKNOWN}(b.status);a(new H(M,b.message))}else a(new H(F.UNKNOWN,"Server responded with status "+u.getStatus()))}else a(new H(F.UNAVAILABLE,"Connection failed."));break;default:te()}}finally{q(Ot,`RPC '${e}' ${o} completed.`)}});let d=JSON.stringify(i);q(Ot,`RPC '${e}' ${o} sending request:`,i),u.send(n,"POST",d,r,15)})}Bo(e,n,r){let i=j_(),o=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=L_(),a=F_(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},d=this.longPollingOptions.timeoutSeconds;d!==void 0&&(u.longPollingTimeout=Math.round(1e3*d)),this.useFetchStreams&&(u.useFetchStreams=!0),this.Oo(u.initMessageHeaders,n,r),u.encodeInitMessageHeaders=!0;let p=o.join("");q(Ot,`Creating RPC '${e}' stream ${i}: ${p}`,u);let g=s.createWebChannel(p,u),_=!1,b=!1,M=new KI({Io:k=>{b?q(Ot,`Not sending because RPC '${e}' stream ${i} is closed:`,k):(_||(q(Ot,`Opening RPC '${e}' stream ${i} transport.`),g.open(),_=!0),q(Ot,`RPC '${e}' stream ${i} sending:`,k),g.send(k))},To:()=>g.close()}),O=(k,U,Q)=>{k.listen(U,Z=>{try{Q(Z)}catch(ce){setTimeout(()=>{throw ce},0)}})};return O(g,Ha.EventType.OPEN,()=>{b||(q(Ot,`RPC '${e}' stream ${i} transport opened.`),M.yo())}),O(g,Ha.EventType.CLOSE,()=>{b||(b=!0,q(Ot,`RPC '${e}' stream ${i} transport closed`),M.So())}),O(g,Ha.EventType.ERROR,k=>{b||(b=!0,Ya(Ot,`RPC '${e}' stream ${i} transport errored:`,k),M.So(new H(F.UNAVAILABLE,"The operation could not be completed")))}),O(g,Ha.EventType.MESSAGE,k=>{var U;if(!b){let Q=k.data[0];ke(!!Q);let Z=Q,ce=Z.error||((U=Z[0])===null||U===void 0?void 0:U.error);if(ce){q(Ot,`RPC '${e}' stream ${i} received error:`,ce);let Oe=ce.status,ee=function(E){let T=st[E];if(T!==void 0)return Dx(T)}(Oe),S=ce.message;ee===void 0&&(ee=F.INTERNAL,S="Unknown error status: "+Oe+" with message "+ce.message),b=!0,M.So(new H(ee,S)),g.close()}else q(Ot,`RPC '${e}' stream ${i} received:`,Q),M.bo(Q)}}),O(a,O_.STAT_EVENT,k=>{k.stat===kp.PROXY?q(Ot,`RPC '${e}' stream ${i} detected buffering proxy`):k.stat===kp.NOPROXY&&q(Ot,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{M.wo()},0),M}};function U_(){return typeof document<"u"?document:null}function bg(t){return new _I(t,!0)}var tg=class{constructor(e,n,r=1e3,i=1.5,o=6e4){this.ui=e,this.timerId=n,this.ko=r,this.qo=i,this.Qo=o,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();let n=Math.floor(this.Ko+this.zo()),r=Math.max(0,Date.now()-this.Uo),i=Math.max(0,n-r);i>0&&q("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Ko} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,i,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}};var ng=class{constructor(e,n,r,i,o,s,a,u){this.ui=e,this.Ho=r,this.Jo=i,this.connection=o,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=a,this.listener=u,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new tg(e,n)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}stop(){return C(this,null,function*(){this.n_()&&(yield this.close(0))})}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(e){this.u_(),this.stream.send(e)}__(){return C(this,null,function*(){if(this.r_())return this.close(0)})}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}close(e,n){return C(this,null,function*(){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,e!==4?this.t_.reset():n&&n.code===F.RESOURCE_EXHAUSTED?(oi(n.toString()),oi("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):n&&n.code===F.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,yield this.listener.mo(n)})}l_(){}auth(){this.state=1;let e=this.h_(this.Yo),n=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Yo===n&&this.P_(r,i)},r=>{e(()=>{let i=new H(F.UNKNOWN,"Fetching auth token failed: "+r.message);return this.I_(i)})})}P_(e,n){let r=this.h_(this.Yo);this.stream=this.T_(e,n),this.stream.Eo(()=>{r(()=>this.listener.Eo())}),this.stream.Ro(()=>{r(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(i=>{r(()=>this.I_(i))}),this.stream.onMessage(i=>{r(()=>++this.e_==1?this.E_(i):this.onNext(i))})}i_(){this.state=5,this.t_.Go(()=>C(this,null,function*(){this.state=0,this.start()}))}I_(e){return q("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return n=>{this.ui.enqueueAndForget(()=>this.Yo===e?n():(q("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}},YI=class extends ng{constructor(e,n,r,i,o,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,s),this.serializer=o}T_(e,n){return this.connection.Bo("Listen",e,n)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();let n=Vz(this.serializer,e),r=function(o){if(!("targetChange"in o))return se.min();let s=o.targetChange;return s.targetIds&&s.targetIds.length?se.min():s.readTime?Ar(s.readTime):se.min()}(e);return this.listener.d_(n,r)}A_(e){let n={};n.database=DI(this.serializer),n.addTarget=function(o,s){let a,u=s.target;if(a=uI(u)?{documents:Bz(o,u)}:{query:$z(o,u)._t},a.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){a.resumeToken=Cx(o,s.resumeToken);let d=II(o,s.expectedCount);d!==null&&(a.expectedCount=d)}else if(s.snapshotVersion.compareTo(se.min())>0){a.readTime=Zp(o,s.snapshotVersion.toTimestamp());let d=II(o,s.expectedCount);d!==null&&(a.expectedCount=d)}return a}(this.serializer,e);let r=zz(this.serializer,e);r&&(n.labels=r),this.a_(n)}R_(e){let n={};n.database=DI(this.serializer),n.removeTarget=e,this.a_(n)}},ZI=class extends ng{constructor(e,n,r,i,o,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,s),this.serializer=o}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,n){return this.connection.Bo("Write",e,n)}E_(e){return ke(!!e.streamToken),this.lastStreamToken=e.streamToken,ke(!e.writeResults||e.writeResults.length===0),this.listener.f_()}onNext(e){ke(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();let n=Uz(e.writeResults,e.commitTime),r=Ar(e.commitTime);return this.listener.g_(r,n)}p_(){let e={};e.database=DI(this.serializer),this.a_(e)}m_(e){let n={streamToken:this.lastStreamToken,writes:e.map(r=>jz(this.serializer,r))};this.a_(n)}};var JI=class extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.y_=!1}w_(){if(this.y_)throw new H(F.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,n,r,i){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,s])=>this.connection.Mo(e,EI(n,r),i,o,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===F.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new H(F.UNKNOWN,o.toString())})}Lo(e,n,r,i,o){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,a])=>this.connection.Lo(e,EI(n,r),i,s,a,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===F.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new H(F.UNKNOWN,s.toString())})}terminate(){this.y_=!0,this.connection.terminate()}},XI=class{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(e){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,e==="Online"&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){let n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(oi(n),this.D_=!1):q("OnlineStateTracker",n)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}};var eE=class{constructor(e,n,r,i,o){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=o,this.k_._o(s=>{r.enqueueAndForget(()=>C(this,null,function*(){ws(this)&&(q("RemoteStore","Restarting streams for network reachability change."),yield function(u){return C(this,null,function*(){let d=ie(u);d.L_.add(4),yield El(d),d.q_.set("Unknown"),d.L_.delete(4),yield Dg(d)})}(this))}))}),this.q_=new XI(r,i)}};function Dg(t){return C(this,null,function*(){if(ws(t))for(let e of t.B_)yield e(!0)})}function El(t){return C(this,null,function*(){for(let e of t.B_)yield e(!1)})}function kx(t,e){let n=ie(t);n.N_.has(e.targetId)||(n.N_.set(e.targetId,e),NE(n)?ME(n):uc(n).r_()&&xE(n,e))}function RE(t,e){let n=ie(t),r=uc(n);n.N_.delete(e),r.r_()&&Ox(n,e),n.N_.size===0&&(r.r_()?r.o_():ws(n)&&n.q_.set("Unknown"))}function xE(t,e){if(t.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(se.min())>0){let n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}uc(t).A_(e)}function Ox(t,e){t.Q_.xe(e),uc(t).R_(e)}function ME(t){t.Q_=new wI({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>t.N_.get(e)||null,tt:()=>t.datastore.serializer.databaseId}),uc(t).start(),t.q_.v_()}function NE(t){return ws(t)&&!uc(t).n_()&&t.N_.size>0}function ws(t){return ie(t).L_.size===0}function Fx(t){t.Q_=void 0}function iq(t){return C(this,null,function*(){t.q_.set("Online")})}function oq(t){return C(this,null,function*(){t.N_.forEach((e,n)=>{xE(t,e)})})}function sq(t,e){return C(this,null,function*(){Fx(t),NE(t)?(t.q_.M_(e),ME(t)):t.q_.set("Unknown")})}function aq(t,e,n){return C(this,null,function*(){if(t.q_.set("Online"),e instanceof Qp&&e.state===2&&e.cause)try{yield function(i,o){return C(this,null,function*(){let s=o.cause;for(let a of o.targetIds)i.N_.has(a)&&(yield i.remoteSyncer.rejectListen(a,s),i.N_.delete(a),i.Q_.removeTarget(a))})}(t,e)}catch(r){q("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield rg(t,r)}else if(e instanceof Ka?t.Q_.Ke(e):e instanceof Kp?t.Q_.He(e):t.Q_.We(e),!n.isEqual(se.min()))try{let r=yield Px(t.localStore);n.compareTo(r)>=0&&(yield function(o,s){let a=o.Q_.rt(s);return a.targetChanges.forEach((u,d)=>{if(u.resumeToken.approximateByteSize()>0){let p=o.N_.get(d);p&&o.N_.set(d,p.withResumeToken(u.resumeToken,s))}}),a.targetMismatches.forEach((u,d)=>{let p=o.N_.get(u);if(!p)return;o.N_.set(u,p.withResumeToken(Lt.EMPTY_BYTE_STRING,p.snapshotVersion)),Ox(o,u);let g=new dl(p.target,u,d,p.sequenceNumber);xE(o,g)}),o.remoteSyncer.applyRemoteEvent(a)}(t,n))}catch(r){q("RemoteStore","Failed to raise snapshot:",r),yield rg(t,r)}})}function rg(t,e,n){return C(this,null,function*(){if(!Il(e))throw e;t.L_.add(1),yield El(t),t.q_.set("Offline"),n||(n=()=>Px(t.localStore)),t.asyncQueue.enqueueRetryable(()=>C(this,null,function*(){q("RemoteStore","Retrying IndexedDB access"),yield n(),t.L_.delete(1),yield Dg(t)}))})}function Lx(t,e){return e().catch(n=>rg(t,n,e))}function Cg(t){return C(this,null,function*(){let e=ie(t),n=co(e),r=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;cq(e);)try{let i=yield eq(e.localStore,r);if(i===null){e.O_.length===0&&n.o_();break}r=i.batchId,uq(e,i)}catch(i){yield rg(e,i)}Vx(e)&&jx(e)})}function cq(t){return ws(t)&&t.O_.length<10}function uq(t,e){t.O_.push(e);let n=co(t);n.r_()&&n.V_&&n.m_(e.mutations)}function Vx(t){return ws(t)&&!co(t).n_()&&t.O_.length>0}function jx(t){co(t).start()}function lq(t){return C(this,null,function*(){co(t).p_()})}function dq(t){return C(this,null,function*(){let e=co(t);for(let n of t.O_)e.m_(n.mutations)})}function hq(t,e,n){return C(this,null,function*(){let r=t.O_.shift(),i=gI.from(r,e,n);yield Lx(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),yield Cg(t)})}function fq(t,e){return C(this,null,function*(){e&&co(t).V_&&(yield function(r,i){return C(this,null,function*(){if(function(s){return xz(s)&&s!==F.ABORTED}(i.code)){let o=r.O_.shift();co(r).s_(),yield Lx(r,()=>r.remoteSyncer.rejectFailedWrite(o.batchId,i)),yield Cg(r)}})}(t,e)),Vx(t)&&jx(t)})}function $R(t,e){return C(this,null,function*(){let n=ie(t);n.asyncQueue.verifyOperationInProgress(),q("RemoteStore","RemoteStore received new credentials");let r=ws(n);n.L_.add(3),yield El(n),r&&n.q_.set("Unknown"),yield n.remoteSyncer.handleCredentialChange(e),n.L_.delete(3),yield Dg(n)})}function pq(t,e){return C(this,null,function*(){let n=ie(t);e?(n.L_.delete(2),yield Dg(n)):e||(n.L_.add(2),yield El(n),n.q_.set("Unknown"))})}function uc(t){return t.K_||(t.K_=function(n,r,i){let o=ie(n);return o.w_(),new YI(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(t.datastore,t.asyncQueue,{Eo:iq.bind(null,t),Ro:oq.bind(null,t),mo:sq.bind(null,t),d_:aq.bind(null,t)}),t.B_.push(e=>C(this,null,function*(){e?(t.K_.s_(),NE(t)?ME(t):t.q_.set("Unknown")):(yield t.K_.stop(),Fx(t))}))),t.K_}function co(t){return t.U_||(t.U_=function(n,r,i){let o=ie(n);return o.w_(),new ZI(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(t.datastore,t.asyncQueue,{Eo:()=>Promise.resolve(),Ro:lq.bind(null,t),mo:fq.bind(null,t),f_:dq.bind(null,t),g_:hq.bind(null,t)}),t.B_.push(e=>C(this,null,function*(){e?(t.U_.s_(),yield Cg(t)):(yield t.U_.stop(),t.O_.length>0&&(q("RemoteStore",`Stopping write stream with ${t.O_.length} pending writes`),t.O_=[]))}))),t.U_}var tE=class t{constructor(e,n,r,i,o){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=o,this.deferred=new Cr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,o){let s=Date.now()+r,a=new t(e,n,s,i,o);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new H(F.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}};function PE(t,e){if(oi("AsyncQueue",`${e}: ${t}`),Il(t))return new H(F.UNAVAILABLE,`${e}: ${t}`);throw t}var ig=class t{constructor(e){this.comparator=e?(n,r)=>e(n,r)||Y.comparator(n.key,r.key):(n,r)=>Y.comparator(n.key,r.key),this.keyedMap=nl(),this.sortedSet=new Qe(this.comparator)}static emptySet(e){return new t(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){let n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){let n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){let n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof t)||this.size!==e.size)return!1;let n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){let i=n.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0}toString(){let e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){let r=new t;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}};var og=class{constructor(){this.W_=new Qe(Y.comparator)}track(e){let n=e.doc.key,r=this.W_.get(n);r?e.type!==0&&r.type===3?this.W_=this.W_.insert(n,e):e.type===3&&r.type!==1?this.W_=this.W_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.W_=this.W_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.W_=this.W_.remove(n):e.type===1&&r.type===2?this.W_=this.W_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):te():this.W_=this.W_.insert(n,e)}G_(){let e=[];return this.W_.inorderTraversal((n,r)=>{e.push(r)}),e}},oc=class t{constructor(e,n,r,i,o,s,a,u,d){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=o,this.fromCache=s,this.syncStateChanged=a,this.excludesMetadataChanges=u,this.hasCachedResults=d}static fromInitialDocuments(e,n,r,i,o){let s=[];return n.forEach(a=>{s.push({type:0,doc:a})}),new t(e,n,ig.emptySet(n),s,r,i,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Ig(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;let n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}};var nE=class{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(e=>e.J_())}},rE=class{constructor(){this.queries=HR(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(n,r){let i=ie(n),o=i.queries;i.queries=HR(),o.forEach((s,a)=>{for(let u of a.j_)u.onError(r)})})(this,new H(F.ABORTED,"Firestore shutting down"))}};function HR(){return new ao(t=>hx(t),Ig)}function Ux(t,e){return C(this,null,function*(){let n=ie(t),r=3,i=e.query,o=n.queries.get(i);o?!o.H_()&&e.J_()&&(r=2):(o=new nE,r=e.J_()?0:1);try{switch(r){case 0:o.z_=yield n.onListen(i,!0);break;case 1:o.z_=yield n.onListen(i,!1);break;case 2:yield n.onFirstRemoteStoreListen(i)}}catch(s){let a=PE(s,`Initialization of query '${za(e.query)}' failed`);return void e.onError(a)}n.queries.set(i,o),o.j_.push(e),e.Z_(n.onlineState),o.z_&&e.X_(o.z_)&&kE(n)})}function Bx(t,e){return C(this,null,function*(){let n=ie(t),r=e.query,i=3,o=n.queries.get(r);if(o){let s=o.j_.indexOf(e);s>=0&&(o.j_.splice(s,1),o.j_.length===0?i=e.J_()?0:1:!o.H_()&&e.J_()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}})}function gq(t,e){let n=ie(t),r=!1;for(let i of e){let o=i.query,s=n.queries.get(o);if(s){for(let a of s.j_)a.X_(i)&&(r=!0);s.z_=i}}r&&kE(n)}function mq(t,e,n){let r=ie(t),i=r.queries.get(e);if(i)for(let o of i.j_)o.onError(n);r.queries.delete(e)}function kE(t){t.Y_.forEach(e=>{e.next()})}var iE,zR;(zR=iE||(iE={})).ea="default",zR.Cache="cache";var sg=class{constructor(e,n,r){this.query=e,this.ta=n,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=r||{}}X_(e){if(!this.options.includeMetadataChanges){let r=[];for(let i of e.docChanges)i.type!==3&&r.push(i);e=new oc(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.na?this.ia(e)&&(this.ta.next(e),n=!0):this.sa(e,this.onlineState)&&(this.oa(e),n=!0),this.ra=e,n}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let n=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),n=!0),n}sa(e,n){if(!e.fromCache||!this.J_())return!0;let r=n!=="Offline";return(!this.options._a||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}ia(e){if(e.docChanges.length>0)return!0;let n=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}oa(e){e=oc.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==iE.Cache}};var ag=class{constructor(e){this.key=e}},cg=class{constructor(e){this.key=e}},oE=class{constructor(e,n){this.query=e,this.Ta=n,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=we(),this.mutatedKeys=we(),this.Aa=fx(e),this.Ra=new ig(this.Aa)}get Va(){return this.Ta}ma(e,n){let r=n?n.fa:new og,i=n?n.Ra:this.Ra,o=n?n.mutatedKeys:this.mutatedKeys,s=i,a=!1,u=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,d=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((p,g)=>{let _=i.get(p),b=Eg(this.query,g)?g:null,M=!!_&&this.mutatedKeys.has(_.key),O=!!b&&(b.hasLocalMutations||this.mutatedKeys.has(b.key)&&b.hasCommittedMutations),k=!1;_&&b?_.data.isEqual(b.data)?M!==O&&(r.track({type:3,doc:b}),k=!0):this.ga(_,b)||(r.track({type:2,doc:b}),k=!0,(u&&this.Aa(b,u)>0||d&&this.Aa(b,d)<0)&&(a=!0)):!_&&b?(r.track({type:0,doc:b}),k=!0):_&&!b&&(r.track({type:1,doc:_}),k=!0,(u||d)&&(a=!0)),k&&(b?(s=s.add(b),o=O?o.add(p):o.delete(p)):(s=s.delete(p),o=o.delete(p)))}),this.query.limit!==null)for(;s.size>this.query.limit;){let p=this.query.limitType==="F"?s.last():s.first();s=s.delete(p.key),o=o.delete(p.key),r.track({type:1,doc:p})}return{Ra:s,fa:r,ns:a,mutatedKeys:o}}ga(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){let o=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;let s=e.fa.G_();s.sort((p,g)=>function(b,M){let O=k=>{switch(k){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return te()}};return O(b)-O(M)}(p.type,g.type)||this.Aa(p.doc,g.doc)),this.pa(r),i=i!=null&&i;let a=n&&!i?this.ya():[],u=this.da.size===0&&this.current&&!i?1:0,d=u!==this.Ea;return this.Ea=u,s.length!==0||d?{snapshot:new oc(this.query,e.Ra,o,s,e.mutatedKeys,u===0,d,!1,!!r&&r.resumeToken.approximateByteSize()>0),wa:a}:{wa:a}}Z_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new og,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach(n=>this.Ta=this.Ta.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ta=this.Ta.delete(n)),this.current=e.current)}ya(){if(!this.current)return[];let e=this.da;this.da=we(),this.Ra.forEach(r=>{this.Sa(r.key)&&(this.da=this.da.add(r.key))});let n=[];return e.forEach(r=>{this.da.has(r)||n.push(new cg(r))}),this.da.forEach(r=>{e.has(r)||n.push(new ag(r))}),n}ba(e){this.Ta=e.Ts,this.da=we();let n=this.ma(e.documents);return this.applyChanges(n,!0)}Da(){return oc.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}},sE=class{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}},aE=class{constructor(e){this.key=e,this.va=!1}},cE=class{constructor(e,n,r,i,o,s){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=s,this.Ca={},this.Fa=new ao(a=>hx(a),Ig),this.Ma=new Map,this.xa=new Set,this.Oa=new Qe(Y.comparator),this.Na=new Map,this.La=new fl,this.Ba={},this.ka=new Map,this.qa=hl.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}};function yq(t,e,n=!0){return C(this,null,function*(){let r=Wx(t),i,o=r.Fa.get(e);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),i=o.view.Da()):i=yield $x(r,e,n,!0),i})}function vq(t,e){return C(this,null,function*(){let n=Wx(t);yield $x(n,e,!0,!1)})}function $x(t,e,n,r){return C(this,null,function*(){let i=yield tq(t.localStore,Sr(e)),o=i.targetId,s=t.sharedClientState.addLocalQueryTarget(o,n),a;return r&&(a=yield wq(t,e,o,s==="current",i.resumeToken)),t.isPrimaryClient&&n&&kx(t.remoteStore,i),a})}function wq(t,e,n,r,i){return C(this,null,function*(){t.Ka=(g,_,b)=>function(O,k,U,Q){return C(this,null,function*(){let Z=k.view.ma(U);Z.ns&&(Z=yield BR(O.localStore,k.query,!1).then(({documents:S})=>k.view.ma(S,Z)));let ce=Q&&Q.targetChanges.get(k.targetId),Oe=Q&&Q.targetMismatches.get(k.targetId)!=null,ee=k.view.applyChanges(Z,O.isPrimaryClient,ce,Oe);return GR(O,k.targetId,ee.wa),ee.snapshot})}(t,g,_,b);let o=yield BR(t.localStore,e,!0),s=new oE(e,o.Ts),a=s.ma(o.documents),u=ll.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),d=s.applyChanges(a,t.isPrimaryClient,u);GR(t,n,d.wa);let p=new sE(e,n,s);return t.Fa.set(e,p),t.Ma.has(n)?t.Ma.get(n).push(e):t.Ma.set(n,[e]),d.snapshot})}function _q(t,e,n){return C(this,null,function*(){let r=ie(t),i=r.Fa.get(e),o=r.Ma.get(i.targetId);if(o.length>1)return r.Ma.set(i.targetId,o.filter(s=>!Ig(s,e))),void r.Fa.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||(yield qI(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&RE(r.remoteStore,i.targetId),uE(r,i.targetId)}).catch(_l))):(uE(r,i.targetId),yield qI(r.localStore,i.targetId,!0))})}function Iq(t,e){return C(this,null,function*(){let n=ie(t),r=n.Fa.get(e),i=n.Ma.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),RE(n.remoteStore,r.targetId))})}function Eq(t,e,n){return C(this,null,function*(){let r=Rq(t);try{let i=yield function(s,a){let u=ie(s),d=At.now(),p=a.reduce((b,M)=>b.add(M.key),we()),g,_;return u.persistence.runTransaction("Locally write mutations","readwrite",b=>{let M=ai(),O=we();return u.cs.getEntries(b,p).next(k=>{M=k,M.forEach((U,Q)=>{Q.isValidDocument()||(O=O.add(U))})}).next(()=>u.localDocuments.getOverlayedDocuments(b,M)).next(k=>{g=k;let U=[];for(let Q of a){let Z=Rz(Q,g.get(Q.key).overlayedDocument);Z!=null&&U.push(new xr(Q.key,Z,ox(Z.value.mapValue),ro.exists(!0)))}return u.mutationQueue.addMutationBatch(b,d,U,a)}).next(k=>{_=k;let U=k.applyToLocalDocumentSet(g,O);return u.documentOverlayCache.saveOverlays(b,k.batchId,U)})}).then(()=>({batchId:_.batchId,changes:gx(g)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(s,a,u){let d=s.Ba[s.currentUser.toKey()];d||(d=new Qe(Se)),d=d.insert(a,u),s.Ba[s.currentUser.toKey()]=d}(r,i.batchId,n),yield bl(r,i.changes),yield Cg(r.remoteStore)}catch(i){let o=PE(i,"Failed to persist write");n.reject(o)}})}function Hx(t,e){return C(this,null,function*(){let n=ie(t);try{let r=yield Jz(n.localStore,e);e.targetChanges.forEach((i,o)=>{let s=n.Na.get(o);s&&(ke(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?s.va=!0:i.modifiedDocuments.size>0?ke(s.va):i.removedDocuments.size>0&&(ke(s.va),s.va=!1))}),yield bl(n,r,e)}catch(r){yield _l(r)}})}function qR(t,e,n){let r=ie(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){let i=[];r.Fa.forEach((o,s)=>{let a=s.view.Z_(e);a.snapshot&&i.push(a.snapshot)}),function(s,a){let u=ie(s);u.onlineState=a;let d=!1;u.queries.forEach((p,g)=>{for(let _ of g.j_)_.Z_(a)&&(d=!0)}),d&&kE(u)}(r.eventManager,e),i.length&&r.Ca.d_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function bq(t,e,n){return C(this,null,function*(){let r=ie(t);r.sharedClientState.updateQueryState(e,"rejected",n);let i=r.Na.get(e),o=i&&i.key;if(o){let s=new Qe(Y.comparator);s=s.insert(o,Wn.newNoDocument(o,se.min()));let a=we().add(o),u=new Wp(se.min(),new Map,new Qe(Se),s,a);yield Hx(r,u),r.Oa=r.Oa.remove(o),r.Na.delete(e),OE(r)}else yield qI(r.localStore,e,!1).then(()=>uE(r,e,n)).catch(_l)})}function Dq(t,e){return C(this,null,function*(){let n=ie(t),r=e.batch.batchId;try{let i=yield Zz(n.localStore,e);qx(n,r,null),zx(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),yield bl(n,i)}catch(i){yield _l(i)}})}function Cq(t,e,n){return C(this,null,function*(){let r=ie(t);try{let i=yield function(s,a){let u=ie(s);return u.persistence.runTransaction("Reject batch","readwrite-primary",d=>{let p;return u.mutationQueue.lookupMutationBatch(d,a).next(g=>(ke(g!==null),p=g.keys(),u.mutationQueue.removeMutationBatch(d,g))).next(()=>u.mutationQueue.performConsistencyCheck(d)).next(()=>u.documentOverlayCache.removeOverlaysForBatchId(d,p,a)).next(()=>u.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(d,p)).next(()=>u.localDocuments.getDocuments(d,p))})}(r.localStore,e);qx(r,e,n),zx(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),yield bl(r,i)}catch(i){yield _l(i)}})}function zx(t,e){(t.ka.get(e)||[]).forEach(n=>{n.resolve()}),t.ka.delete(e)}function qx(t,e,n){let r=ie(t),i=r.Ba[r.currentUser.toKey()];if(i){let o=i.get(e);o&&(n?o.reject(n):o.resolve(),i=i.remove(e)),r.Ba[r.currentUser.toKey()]=i}}function uE(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(let r of t.Ma.get(e))t.Fa.delete(r),n&&t.Ca.$a(r,n);t.Ma.delete(e),t.isPrimaryClient&&t.La.gr(e).forEach(r=>{t.La.containsKey(r)||Gx(t,r)})}function Gx(t,e){t.xa.delete(e.path.canonicalString());let n=t.Oa.get(e);n!==null&&(RE(t.remoteStore,n),t.Oa=t.Oa.remove(e),t.Na.delete(n),OE(t))}function GR(t,e,n){for(let r of n)r instanceof ag?(t.La.addReference(r.key,e),Tq(t,r)):r instanceof cg?(q("SyncEngine","Document no longer in limbo: "+r.key),t.La.removeReference(r.key,e),t.La.containsKey(r.key)||Gx(t,r.key)):te()}function Tq(t,e){let n=e.key,r=n.path.canonicalString();t.Oa.get(n)||t.xa.has(r)||(q("SyncEngine","New document in limbo: "+n),t.xa.add(r),OE(t))}function OE(t){for(;t.xa.size>0&&t.Oa.size<t.maxConcurrentLimboResolutions;){let e=t.xa.values().next().value;t.xa.delete(e);let n=new Y(qe.fromString(e)),r=t.qa.next();t.Na.set(r,new aE(n)),t.Oa=t.Oa.insert(n,r),kx(t.remoteStore,new dl(Sr(TE(n.path)),r,"TargetPurposeLimboResolution",tx.oe))}}function bl(t,e,n){return C(this,null,function*(){let r=ie(t),i=[],o=[],s=[];r.Fa.isEmpty()||(r.Fa.forEach((a,u)=>{s.push(r.Ka(u,e,n).then(d=>{var p;if((d||n)&&r.isPrimaryClient){let g=d?!d.fromCache:(p=n?.targetChanges.get(u.targetId))===null||p===void 0?void 0:p.current;r.sharedClientState.updateQueryState(u.targetId,g?"current":"not-current")}if(d){i.push(d);let g=BI.Wi(u.targetId,d);o.push(g)}}))}),yield Promise.all(s),r.Ca.d_(i),yield function(u,d){return C(this,null,function*(){let p=ie(u);try{yield p.persistence.runTransaction("notifyLocalViewChanges","readwrite",g=>L.forEach(d,_=>L.forEach(_.$i,b=>p.persistence.referenceDelegate.addReference(g,_.targetId,b)).next(()=>L.forEach(_.Ui,b=>p.persistence.referenceDelegate.removeReference(g,_.targetId,b)))))}catch(g){if(!Il(g))throw g;q("LocalStore","Failed to update sequence numbers: "+g)}for(let g of d){let _=g.targetId;if(!g.fromCache){let b=p.os.get(_),M=b.snapshotVersion,O=b.withLastLimboFreeSnapshotVersion(M);p.os=p.os.insert(_,O)}}})}(r.localStore,o))})}function Sq(t,e){return C(this,null,function*(){let n=ie(t);if(!n.currentUser.isEqual(e)){q("SyncEngine","User change. New user:",e.toKey());let r=yield Nx(n.localStore,e);n.currentUser=e,function(o,s){o.ka.forEach(a=>{a.forEach(u=>{u.reject(new H(F.CANCELLED,s))})}),o.ka.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield bl(n,r.hs)}})}function Aq(t,e){let n=ie(t),r=n.Na.get(e);if(r&&r.va)return we().add(r.key);{let i=we(),o=n.Ma.get(e);if(!o)return i;for(let s of o){let a=n.Fa.get(s);i=i.unionWith(a.view.Va)}return i}}function Wx(t){let e=ie(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=Hx.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Aq.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=bq.bind(null,e),e.Ca.d_=gq.bind(null,e.eventManager),e.Ca.$a=mq.bind(null,e.eventManager),e}function Rq(t){let e=ie(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Dq.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Cq.bind(null,e),e}var WR=(()=>{class t{constructor(){this.kind="memory",this.synchronizeTabs=!1}initialize(n){return C(this,null,function*(){this.serializer=bg(n.databaseInfo.databaseId),this.sharedClientState=this.Wa(n),this.persistence=this.Ga(n),yield this.persistence.start(),this.localStore=this.za(n),this.gcScheduler=this.ja(n,this.localStore),this.indexBackfillerScheduler=this.Ha(n,this.localStore)})}ja(n,r){return null}Ha(n,r){return null}za(n){return Yz(this.persistence,new HI,n.initialUser,this.serializer)}Ga(n){return new VI(UI.Zr,this.serializer)}Wa(n){return new GI}terminate(){return C(this,null,function*(){var n,r;(n=this.gcScheduler)===null||n===void 0||n.stop(),(r=this.indexBackfillerScheduler)===null||r===void 0||r.stop(),this.sharedClientState.shutdown(),yield this.persistence.shutdown()})}}return t.provider={build:()=>new t},t})();var xq=(()=>{class t{initialize(n,r){return C(this,null,function*(){this.localStore||(this.localStore=n.localStore,this.sharedClientState=n.sharedClientState,this.datastore=this.createDatastore(r),this.remoteStore=this.createRemoteStore(r),this.eventManager=this.createEventManager(r),this.syncEngine=this.createSyncEngine(r,!n.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>qR(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=Sq.bind(null,this.syncEngine),yield pq(this.remoteStore,this.syncEngine.isPrimaryClient))})}createEventManager(n){return function(){return new rE}()}createDatastore(n){let r=bg(n.databaseInfo.databaseId),i=function(s){return new QI(s)}(n.databaseInfo);return function(s,a,u,d){return new JI(s,a,u,d)}(n.authCredentials,n.appCheckCredentials,i,r)}createRemoteStore(n){return function(i,o,s,a,u){return new eE(i,o,s,a,u)}(this.localStore,this.datastore,n.asyncQueue,r=>qR(this.syncEngine,r,0),function(){return eg.D()?new eg:new WI}())}createSyncEngine(n,r){return function(o,s,a,u,d,p,g){let _=new cE(o,s,a,u,d,p);return g&&(_.Qa=!0),_}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,n.initialUser,n.maxConcurrentLimboResolutions,r)}terminate(){return C(this,null,function*(){var n,r;yield function(o){return C(this,null,function*(){let s=ie(o);q("RemoteStore","RemoteStore shutting down."),s.L_.add(5),yield El(s),s.k_.shutdown(),s.q_.set("Unknown")})}(this.remoteStore),(n=this.datastore)===null||n===void 0||n.terminate(),(r=this.eventManager)===null||r===void 0||r.terminate()})}}return t.provider={build:()=>new t},t})();var ug=class{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ya(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ya(this.observer.error,e):oi("Uncaught Error in snapshot listener:",e.toString()))}Za(){this.muted=!0}Ya(e,n){setTimeout(()=>{this.muted||e(n)},0)}};var lE=class{constructor(e,n,r,i,o){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=Et.UNAUTHENTICATED,this.clientId=Up.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(r,s=>C(this,null,function*(){q("FirestoreClient","Received user=",s.uid),yield this.authCredentialListener(s),this.user=s})),this.appCheckCredentials.start(r,s=>(q("FirestoreClient","Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();let e=new Cr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(()=>C(this,null,function*(){try{this._onlineComponents&&(yield this._onlineComponents.terminate()),this._offlineComponents&&(yield this._offlineComponents.terminate()),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){let r=PE(n,"Failed to shutdown persistence");e.reject(r)}})),e.promise}};function B_(t,e){return C(this,null,function*(){t.asyncQueue.verifyOperationInProgress(),q("FirestoreClient","Initializing OfflineComponentProvider");let n=t.configuration;yield e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(i=>C(this,null,function*(){r.isEqual(i)||(yield Nx(e.localStore,i),r=i)})),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e})}function KR(t,e){return C(this,null,function*(){t.asyncQueue.verifyOperationInProgress();let n=yield Mq(t);q("FirestoreClient","Initializing OnlineComponentProvider"),yield e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>$R(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>$R(e.remoteStore,i)),t._onlineComponents=e})}function Mq(t){return C(this,null,function*(){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){q("FirestoreClient","Using user provided OfflineComponentProvider");try{yield B_(t,t._uninitializedComponentsProvider._offline)}catch(e){let n=e;if(!function(i){return i.name==="FirebaseError"?i.code===F.FAILED_PRECONDITION||i.code===F.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(n))throw n;Ya("Error using user provided cache. Falling back to memory cache: "+n),yield B_(t,new WR)}}else q("FirestoreClient","Using default OfflineComponentProvider"),yield B_(t,new WR);return t._offlineComponents})}function Kx(t){return C(this,null,function*(){return t._onlineComponents||(t._uninitializedComponentsProvider?(q("FirestoreClient","Using user provided OnlineComponentProvider"),yield KR(t,t._uninitializedComponentsProvider._online)):(q("FirestoreClient","Using default OnlineComponentProvider"),yield KR(t,new xq))),t._onlineComponents})}function Nq(t){return Kx(t).then(e=>e.syncEngine)}function dE(t){return C(this,null,function*(){let e=yield Kx(t),n=e.eventManager;return n.onListen=yq.bind(null,e.syncEngine),n.onUnlisten=_q.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=vq.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=Iq.bind(null,e.syncEngine),n})}function Pq(t,e,n={}){let r=new Cr;return t.asyncQueue.enqueueAndForget(()=>C(this,null,function*(){return function(o,s,a,u,d){let p=new ug({next:_=>{p.Za(),s.enqueueAndForget(()=>Bx(o,g)),_.fromCache&&u.source==="server"?d.reject(new H(F.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):d.resolve(_)},error:_=>d.reject(_)}),g=new sg(a,p,{includeMetadataChanges:!0,_a:!0});return Ux(o,g)}(yield dE(t),t.asyncQueue,e,n,r)})),r.promise}function Qx(t){let e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}var QR=new Map;function Yx(t,e,n){if(!n)throw new H(F.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function kq(t,e,n,r){if(e===!0&&r===!0)throw new H(F.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function YR(t){if(!Y.isDocumentKey(t))throw new H(F.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function ZR(t){if(Y.isDocumentKey(t))throw new H(F.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function Tg(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{let e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":te()}function ii(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new H(F.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{let n=Tg(t);throw new H(F.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}var lg=class{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new H(F.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new H(F.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}kq("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=Qx((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new H(F.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new H(F.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new H(F.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}},sc=class{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new lg({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new H(F.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new H(F.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new lg(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new $_;switch(r.type){case"firstParty":return new G_(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new H(F.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}_restart(){return C(this,null,function*(){this._terminateTask==="notTerminated"?yield this._terminate():this._terminateTask="notTerminated"})}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){let r=QR.get(n);r&&(q("ComponentProvider","Removing Datastore"),QR.delete(n),r.terminate())}(this),Promise.resolve()}};function Zx(t,e,n,r={}){var i;let o=(t=ii(t,sc))._getSettings(),s=`${e}:${n}`;if(o.host!=="firestore.googleapis.com"&&o.host!==s&&Ya("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},o),{host:s,ssl:!1})),r.mockUserToken){let a,u;if(typeof r.mockUserToken=="string")a=r.mockUserToken,u=Et.MOCK_USER;else{a=ZS(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);let d=r.mockUserToken.sub||r.mockUserToken.user_id;if(!d)throw new H(F.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");u=new Et(d)}t._authCredentials=new H_(new jp(a,u))}}var uo=class t{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new t(this.firestore,e,this._query)}},Zt=class t{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new io(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new t(this.firestore,e,this._key)}},io=class t extends uo{constructor(e,n,r){super(e,n,TE(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){let e=this._path.popLast();return e.isEmpty()?null:new Zt(this.firestore,null,new Y(e))}withConverter(e){return new t(this.firestore,e,this._path)}};function Jx(t,e,...n){if(t=ot(t),Yx("collection","path",e),t instanceof sc){let r=qe.fromString(e,...n);return ZR(r),new io(t,null,r)}{if(!(t instanceof Zt||t instanceof io))throw new H(F.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=t._path.child(qe.fromString(e,...n));return ZR(r),new io(t.firestore,null,r)}}function FE(t,e,...n){if(t=ot(t),arguments.length===1&&(e=Up.newId()),Yx("doc","path",e),t instanceof sc){let r=qe.fromString(e,...n);return YR(r),new Zt(t,null,new Y(r))}{if(!(t instanceof Zt||t instanceof io))throw new H(F.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=t._path.child(qe.fromString(e,...n));return YR(r),new Zt(t.firestore,t instanceof io?t.converter:null,new Y(r))}}var dg=class{constructor(e=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new tg(this,"async_queue_retry"),this.Vu=()=>{let r=U_();r&&q("AsyncQueue","Visibility state changed to "+r.visibilityState),this.t_.jo()},this.mu=e;let n=U_();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.fu(),this.gu(e)}enterRestrictedMode(e){if(!this.Iu){this.Iu=!0,this.Au=e||!1;let n=U_();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Vu)}}enqueue(e){if(this.fu(),this.Iu)return new Promise(()=>{});let n=new Cr;return this.gu(()=>this.Iu&&this.Au?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Pu.push(e),this.pu()))}pu(){return C(this,null,function*(){if(this.Pu.length!==0){try{yield this.Pu[0](),this.Pu.shift(),this.t_.reset()}catch(e){if(!Il(e))throw e;q("AsyncQueue","Operation failed with retryable error: "+e)}this.Pu.length>0&&this.t_.Go(()=>this.pu())}})}gu(e){let n=this.mu.then(()=>(this.du=!0,e().catch(r=>{this.Eu=r,this.du=!1;let i=function(s){let a=s.message||"";return s.stack&&(a=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),a}(r);throw oi("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.du=!1,r))));return this.mu=n,n}enqueueAfterDelay(e,n,r){this.fu(),this.Ru.indexOf(e)>-1&&(n=0);let i=tE.createAndSchedule(this,e,n,r,o=>this.yu(o));return this.Tu.push(i),i}fu(){this.Eu&&te()}verifyOperationInProgress(){}wu(){return C(this,null,function*(){let e;do e=this.mu,yield e;while(e!==this.mu)})}Su(e){for(let n of this.Tu)if(n.timerId===e)return!0;return!1}bu(e){return this.wu().then(()=>{this.Tu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(let n of this.Tu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.wu()})}Du(e){this.Ru.push(e)}yu(e){let n=this.Tu.indexOf(e);this.Tu.splice(n,1)}};function JR(t){return function(n,r){if(typeof n!="object"||n===null)return!1;let i=n;for(let o of r)if(o in i&&typeof i[o]=="function")return!0;return!1}(t,["next","error","complete"])}var lo=class extends sc{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new dg,this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return C(this,null,function*(){if(this._firestoreClient){let e=this._firestoreClient.terminate();this._queue=new dg(e),this._firestoreClient=void 0,yield e}})}};function Xx(t,e){let n=typeof t=="object"?t:La(),r=typeof t=="string"?t:e||"(default)",i=$u(n,"firestore").getImmediate({identifier:r});if(!i._initialized){let o=YS("firestore");o&&Zx(i,...o)}return i}function LE(t){if(t._terminated)throw new H(F.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||Oq(t),t._firestoreClient}function Oq(t){var e,n,r;let i=t._freezeSettings(),o=function(a,u,d,p){return new Z_(a,u,d,p.host,p.ssl,p.experimentalForceLongPolling,p.experimentalAutoDetectLongPolling,Qx(p.experimentalLongPollingOptions),p.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._componentsProvider||!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),t._firestoreClient=new lE(t._authCredentials,t._appCheckCredentials,t._queue,o,t._componentsProvider&&function(a){let u=a?._online.build();return{_offline:a?._offline.build(u),_online:u}}(t._componentsProvider))}var pl=class t{constructor(e){this._byteString=e}static fromBase64String(e){try{return new t(Lt.fromBase64String(e))}catch(n){throw new H(F.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new t(Lt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}};var ac=class{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new H(F.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new pn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}};var gl=class{constructor(e){this._methodName=e}};var ml=class{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new H(F.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new H(F.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Se(this._lat,e._lat)||Se(this._long,e._long)}};var yl=class{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let o=0;o<r.length;++o)if(r[o]!==i[o])return!1;return!0}(this._values,e._values)}};var Fq=/^__.*__$/,hE=class{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new xr(e,this.data,this.fieldMask,n,this.fieldTransforms):new ys(e,this.data,n,this.fieldTransforms)}},hg=class{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new xr(e,this.data,this.fieldMask,n,this.fieldTransforms)}};function eM(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw te()}}var fE=class t{constructor(e,n,r,i,o,s){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,o===void 0&&this.vu(),this.fieldTransforms=o||[],this.fieldMask=s||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(e){return new t(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(e){var n;let r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Fu({path:r,xu:!1});return i.Ou(e),i}Nu(e){var n;let r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Fu({path:r,xu:!1});return i.vu(),i}Lu(e){return this.Fu({path:void 0,xu:!0})}Bu(e){return pg(e,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}vu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Ou(this.path.get(e))}Ou(e){if(e.length===0)throw this.Bu("Document fields must not be empty");if(eM(this.Cu)&&Fq.test(e))throw this.Bu('Document fields cannot begin and end with "__"')}},pE=class{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||bg(e)}Qu(e,n,r,i=!1){return new fE({Cu:e,methodName:n,qu:r,path:pn.emptyPath(),xu:!1,ku:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}};function VE(t){let e=t._freezeSettings(),n=bg(t._databaseId);return new pE(t._databaseId,!!e.ignoreUndefinedProperties,n)}function Lq(t,e,n,r,i,o={}){let s=t.Qu(o.merge||o.mergeFields?2:0,e,n,i);jE("Data must be an object, but it was:",s,r);let a=tM(r,s),u,d;if(o.merge)u=new An(s.fieldMask),d=s.fieldTransforms;else if(o.mergeFields){let p=[];for(let g of o.mergeFields){let _=gE(e,g,n);if(!s.contains(_))throw new H(F.INVALID_ARGUMENT,`Field '${_}' is specified in your field mask but missing from your input data.`);rM(p,_)||p.push(_)}u=new An(p),d=s.fieldTransforms.filter(g=>u.covers(g.field))}else u=null,d=s.fieldTransforms;return new hE(new fn(a),u,d)}var fg=class t extends gl{_toFieldTransform(e){if(e.Cu!==2)throw e.Cu===1?e.Bu(`${this._methodName}() can only appear at the top level of your update data`):e.Bu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof t}};function Vq(t,e,n,r){let i=t.Qu(1,e,n);jE("Data must be an object, but it was:",i,r);let o=[],s=fn.empty();vs(r,(u,d)=>{let p=UE(e,u,n);d=ot(d);let g=i.Nu(p);if(d instanceof fg)o.push(p);else{let _=Dl(d,g);_!=null&&(o.push(p),s.set(p,_))}});let a=new An(o);return new hg(s,a,i.fieldTransforms)}function jq(t,e,n,r,i,o){let s=t.Qu(1,e,n),a=[gE(e,r,n)],u=[i];if(o.length%2!=0)throw new H(F.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let _=0;_<o.length;_+=2)a.push(gE(e,o[_])),u.push(o[_+1]);let d=[],p=fn.empty();for(let _=a.length-1;_>=0;--_)if(!rM(d,a[_])){let b=a[_],M=u[_];M=ot(M);let O=s.Nu(b);if(M instanceof fg)d.push(b);else{let k=Dl(M,O);k!=null&&(d.push(b),p.set(b,k))}}let g=new An(d);return new hg(p,g,s.fieldTransforms)}function Uq(t,e,n,r=!1){return Dl(n,t.Qu(r?4:3,e))}function Dl(t,e){if(nM(t=ot(t)))return jE("Unsupported field value:",e,t),tM(t,e);if(t instanceof gl)return function(r,i){if(!eM(i.Cu))throw i.Bu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Bu(`${r._methodName}() is not currently supported inside arrays`);let o=r._toFieldTransform(i);o&&i.fieldTransforms.push(o)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.xu&&e.Cu!==4)throw e.Bu("Nested arrays are not supported");return function(r,i){let o=[],s=0;for(let a of r){let u=Dl(a,i.Lu(s));u==null&&(u={nullValue:"NULL_VALUE"}),o.push(u),s++}return{arrayValue:{values:o}}}(t,e)}return function(r,i){if((r=ot(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return Dz(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){let o=At.fromDate(r);return{timestampValue:Zp(i.serializer,o)}}if(r instanceof At){let o=new At(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Zp(i.serializer,o)}}if(r instanceof ml)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof pl)return{bytesValue:Cx(i.serializer,r._byteString)};if(r instanceof Zt){let o=i.databaseId,s=r.firestore._databaseId;if(!s.isEqual(o))throw i.Bu(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:AE(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof yl)return function(s,a){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:s.toArray().map(u=>{if(typeof u!="number")throw a.Bu("VectorValues must only contain numeric values.");return SE(a.serializer,u)})}}}}}}(r,i);throw i.Bu(`Unsupported field value: ${Tg(r)}`)}(t,e)}function tM(t,e){let n={};return nx(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):vs(t,(r,i)=>{let o=Dl(i,e.Mu(r));o!=null&&(n[r]=o)}),{mapValue:{fields:n}}}function nM(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof At||t instanceof ml||t instanceof pl||t instanceof Zt||t instanceof gl||t instanceof yl)}function jE(t,e,n){if(!nM(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){let r=Tg(n);throw r==="an object"?e.Bu(t+" a custom object"):e.Bu(t+" "+r)}}function gE(t,e,n){if((e=ot(e))instanceof ac)return e._internalPath;if(typeof e=="string")return UE(t,e);throw pg("Field path arguments must be of type string or ",t,!1,void 0,n)}var Bq=new RegExp("[~\\*/\\[\\]]");function UE(t,e,n){if(e.search(Bq)>=0)throw pg(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new ac(...e.split("."))._internalPath}catch{throw pg(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function pg(t,e,n,r,i){let o=r&&!r.isEmpty(),s=i!==void 0,a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let u="";return(o||s)&&(u+=" (found",o&&(u+=` in field ${r}`),s&&(u+=` in document ${i}`),u+=")"),new H(F.INVALID_ARGUMENT,a+t+u)}function rM(t,e){return t.some(n=>n.isEqual(e))}var gg=class{constructor(e,n,r,i,o){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new Zt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){let e=new mE(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){let n=this._document.data.field(Sg("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}},mE=class extends gg{data(){return super.data()}};function Sg(t,e){return typeof e=="string"?UE(t,e):e instanceof ac?e._internalPath:e._delegate._internalPath}function iM(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new H(F.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var vl=class{},mg=class extends vl{};function oM(t,e,...n){let r=[];e instanceof vl&&r.push(e),r=r.concat(n),function(o){let s=o.filter(u=>u instanceof yE).length,a=o.filter(u=>u instanceof yg).length;if(s>1||s>0&&a>0)throw new H(F.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(let i of r)t=i._apply(t);return t}var yg=class t extends mg{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new t(e,n,r)}_apply(e){let n=this._parse(e);return cM(e._query,n),new uo(e.firestore,e.converter,lI(e._query,n))}_parse(e){let n=VE(e.firestore);return function(o,s,a,u,d,p,g){let _;if(d.isKeyField()){if(p==="array-contains"||p==="array-contains-any")throw new H(F.INVALID_ARGUMENT,`Invalid Query. You can't perform '${p}' queries on documentId().`);if(p==="in"||p==="not-in"){ex(g,p);let b=[];for(let M of g)b.push(XR(u,o,M));_={arrayValue:{values:b}}}else _=XR(u,o,g)}else p!=="in"&&p!=="not-in"&&p!=="array-contains-any"||ex(g,p),_=Uq(a,s,g,p==="in"||p==="not-in");return ct.create(d,p,_)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}};function sM(t,e,n){let r=e,i=Sg("where",t);return yg._create(i,r,n)}var yE=class t extends vl{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new t(e,n)}_parse(e){let n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:Kn.create(n,this._getOperator())}_apply(e){let n=this._parse(e);return n.getFilters().length===0?e:(function(i,o){let s=i,a=o.getFlattenedFilters();for(let u of a)cM(s,u),s=lI(s,u)}(e._query,n),new uo(e.firestore,e.converter,lI(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}};var vE=class t extends mg{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new t(e,n)}_apply(e){let n=function(i,o,s){if(i.startAt!==null)throw new H(F.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new H(F.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new ps(o,s)}(e._query,this._field,this._direction);return new uo(e.firestore,e.converter,function(i,o){let s=i.explicitOrderBy.concat([o]);return new so(i.path,i.collectionGroup,s,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(e._query,n))}};function aM(t,e="asc"){let n=e,r=Sg("orderBy",t);return vE._create(r,n)}function XR(t,e,n){if(typeof(n=ot(n))=="string"){if(n==="")throw new H(F.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!dx(e)&&n.indexOf("/")!==-1)throw new H(F.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);let r=e.path.child(qe.fromString(n));if(!Y.isDocumentKey(r))throw new H(F.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return DR(t,new Y(r))}if(n instanceof Zt)return DR(t,n._key);throw new H(F.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Tg(n)}.`)}function ex(t,e){if(!Array.isArray(t)||t.length===0)throw new H(F.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function cM(t,e){let n=function(i,o){for(let s of i)for(let a of s.getFlattenedFilters())if(o.indexOf(a.op)>=0)return a.op;return null}(t.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new H(F.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new H(F.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}var wE=class{convertValue(e,n="none"){switch(fs(e)){case 0:return null;case 1:return e.booleanValue;case 2:return He(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(oo(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw te()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){let r={};return vs(e,(i,o)=>{r[i]=this.convertValue(o,n)}),r}convertVectorValue(e){var n,r,i;let o=(i=(r=(n=e.fields)===null||n===void 0?void 0:n.value.arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(s=>He(s.doubleValue));return new yl(o)}convertGeoPoint(e){return new ml(He(e.latitude),He(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":let r=EE(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(cl(e));default:return null}}convertTimestamp(e){let n=si(e);return new At(n.seconds,n.nanos)}convertDocumentKey(e,n){let r=qe.fromString(e);ke(Mx(r));let i=new zp(r.get(1),r.get(3)),o=new Y(r.popFirst(5));return i.isEqual(n)||oi(`Document ${o} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),o}};function $q(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}var ls=class{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}},vg=class extends gg{constructor(e,n,r,i,o,s){super(e,n,r,i,s),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){let n=new Qa(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){let r=this._document.data.field(Sg("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}},Qa=class extends vg{data(e={}){return super.data(e)}},wg=class{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new ls(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){let e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new Qa(this._firestore,this._userDataWriter,r.key,r,new ls(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){let n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new H(F.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,o){if(i._snapshot.oldDocs.isEmpty()){let s=0;return i._snapshot.docChanges.map(a=>{let u=new Qa(i._firestore,i._userDataWriter,a.doc.key,a.doc,new ls(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:u,oldIndex:-1,newIndex:s++}})}{let s=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>o||a.type!==3).map(a=>{let u=new Qa(i._firestore,i._userDataWriter,a.doc.key,a.doc,new ls(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter),d=-1,p=-1;return a.type!==0&&(d=s.indexOf(a.doc.key),s=s.delete(a.doc.key)),a.type!==1&&(s=s.add(a.doc),p=s.indexOf(a.doc.key)),{type:Hq(a.type),doc:u,oldIndex:d,newIndex:p}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}};function Hq(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return te()}}var wl=class extends wE{constructor(e){super(),this.firestore=e}convertBytes(e){return new pl(e)}convertReference(e){let n=this.convertDocumentKey(e,this.firestore._databaseId);return new Zt(this.firestore,null,n)}};function uM(t){t=ii(t,uo);let e=ii(t.firestore,lo),n=LE(e),r=new wl(e);return iM(t._query),Pq(n,t._query).then(i=>new wg(e,r,t,i))}function lM(t,e,n,...r){t=ii(t,Zt);let i=ii(t.firestore,lo),o=VE(i),s;return s=typeof(e=ot(e))=="string"||e instanceof ac?jq(o,"updateDoc",t._key,e,n,r):Vq(o,"updateDoc",t._key,e),hM(i,[s.toMutation(t._key,ro.exists(!0))])}function dM(t,e){let n=ii(t.firestore,lo),r=FE(t),i=$q(t.converter,e);return hM(n,[Lq(VE(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,ro.exists(!1))]).then(()=>r)}function BE(t,...e){var n,r,i;t=ot(t);let o={includeMetadataChanges:!1,source:"default"},s=0;typeof e[s]!="object"||JR(e[s])||(o=e[s],s++);let a={includeMetadataChanges:o.includeMetadataChanges,source:o.source};if(JR(e[s])){let g=e[s];e[s]=(n=g.next)===null||n===void 0?void 0:n.bind(g),e[s+1]=(r=g.error)===null||r===void 0?void 0:r.bind(g),e[s+2]=(i=g.complete)===null||i===void 0?void 0:i.bind(g)}let u,d,p;if(t instanceof Zt)d=ii(t.firestore,lo),p=TE(t._key.path),u={next:g=>{e[s]&&e[s](zq(d,t,g))},error:e[s+1],complete:e[s+2]};else{let g=ii(t,uo);d=ii(g.firestore,lo),p=g._query;let _=new wl(d);u={next:b=>{e[s]&&e[s](new wg(d,_,g,b))},error:e[s+1],complete:e[s+2]},iM(t._query)}return function(_,b,M,O){let k=new ug(O),U=new sg(b,k,M);return _.asyncQueue.enqueueAndForget(()=>C(this,null,function*(){return Ux(yield dE(_),U)})),()=>{k.Za(),_.asyncQueue.enqueueAndForget(()=>C(this,null,function*(){return Bx(yield dE(_),U)}))}}(LE(d),p,a,u)}function hM(t,e){return function(r,i){let o=new Cr;return r.asyncQueue.enqueueAndForget(()=>C(this,null,function*(){return Eq(yield Nq(r),i,o)})),o.promise}(LE(t),e)}function zq(t,e,n){let r=n.docs.get(e._key),i=new wl(t);return new vg(t,i,e._key,r,new ls(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(i){cc=i})(Xi),Ji(new Sn("firestore",(r,{instanceIdentifier:i,options:o})=>{let s=r.getProvider("app").getImmediate(),a=new lo(new z_(r.getProvider("auth-internal")),new K_(r.getProvider("app-check-internal")),function(d,p){if(!Object.prototype.hasOwnProperty.apply(d.options,["projectId"]))throw new H(F.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new zp(d.options.projectId,p)}(s,i),s);return o=Object.assign({useFetchStreams:n},o),a._setSettings(o),a},"PUBLIC").setMultipleInstances(!0)),gt(_R,"4.7.3",e),gt(_R,"4.7.3","esm2017")})();var Ag=function(){return Ag=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var o in n)Object.prototype.hasOwnProperty.call(n,o)&&(e[o]=n[o])}return e},Ag.apply(this,arguments)};var Wq={includeMetadataChanges:!1};function fM(t,e){return e===void 0&&(e=Wq),new me(function(n){var r=BE(t,e,{next:n.next.bind(n),error:n.error.bind(n),complete:n.complete.bind(n)});return{unsubscribe:r}})}function pM(t,e){var n;e===void 0&&(e={});var r=t.data(e);return!t.exists()||typeof r!="object"||r===null||!e.idField?r:Ag(Ag({},r),(n={},n[e.idField]=t.id,n))}function gM(t){return fM(t,{includeMetadataChanges:!0}).pipe(le(function(e){return e.docs}))}function mM(t,e){return e===void 0&&(e={}),gM(t).pipe(le(function(n){return n.map(function(r){return pM(r,e)})}))}var Cl=class{constructor(e){return e}},yM="firestore",$E=class{constructor(){return Hu(yM)}};var HE=new z("angularfire2.firestore-instances");function Kq(t,e){let n=fp(yM,t,e);return n&&new Cl(n)}function Qq(t){return(e,n)=>{let r=e.runOutsideAngular(()=>t(n));return new Cl(r)}}var Yq={provide:$E,deps:[[new Nt,HE]]},Zq={provide:Cl,useFactory:Kq,deps:[[new Nt,HE],Zr]};function oZ(t,...e){return gt("angularfire",ns.full,"fst"),hr([Zq,Yq,{provide:HE,useFactory:Qq(t),multi:!0,deps:[De,Tt,Ua,rs,[new Nt,Xu],[new Nt,ja],...e]}])}var sZ=kt(mM,!0);var aZ=kt(dM,!0);var cZ=kt(Jx,!0);var uZ=kt(FE,!0);var lZ=kt(uM,!0);var dZ=kt(Xx,!0);var hZ=kt(aM,!0);var fZ=kt(oM,!0);var pZ=kt(lM,!0);var gZ=kt(sM,!0);var Jt=cN(vM());var wM=class t{mostrarSuccess(e){Jt.default.fire({toast:!0,position:"top-end",icon:"success",title:"Exito",text:e,showConfirmButton:!1,timer:2e3,background:"#333",color:"#fff",iconColor:"#28a745",customClass:{popup:"colored-toast"}})}mostrarError(e){Jt.default.fire({toast:!0,position:"top-end",icon:"error",title:"Error",text:e,showConfirmButton:!1,timer:3e3,background:"#333",color:"#fff",iconColor:"#ff5f6d",customClass:{popup:"colored-toast"}})}mostrarDialogoMotivo(){return Jt.default.fire({title:"Cancelar Turno",input:"text",inputLabel:"Ingrese el motivo de la cancelaci\xF3n:",inputPlaceholder:"Motivo de cancelaci\xF3n",showCancelButton:!0,confirmButtonText:"Cancelar Turno",cancelButtonText:"Cancelar",background:"#333",color:"#fff",icon:"warning",iconColor:"#FF0000",customClass:{popup:"colored-toast",confirmButton:"confirm-button",cancelButton:"cancel-button"},inputAttributes:{style:"color: #fff; background-color: #444; border: 1px solid #555; padding: 10px; border-radius: 4px;"}}).then(e=>e.isConfirmed&&e.value||null)}mostrarDialogoMotivoRechazo(){return Jt.default.fire({title:"Rechazar Turno",input:"text",inputLabel:"Ingrese el motivo del rechazo:",inputPlaceholder:"Motivo del rechazo",showCancelButton:!0,confirmButtonText:"Rechazar Turno",cancelButtonText:"Cancelar",background:"#333",color:"#fff",icon:"warning",iconColor:"#FF0000",customClass:{popup:"colored-toast",confirmButton:"confirm-button",cancelButton:"cancel-button"},inputAttributes:{style:"color: #fff; background-color: #444; border: 1px solid #555; padding: 10px; border-radius: 4px;"}}).then(e=>e.isConfirmed&&e.value||null)}mostrarDialogoCalificacion(){return Jt.default.fire({title:"Calificar Turno",input:"text",inputLabel:"Ingrese un comentario sobre el turno",inputPlaceholder:"Calificar el turno",showCancelButton:!0,confirmButtonText:"Enviar",cancelButtonText:"Cancelar",background:"#333",color:"#fff",icon:"info",iconColor:"#FF0000",customClass:{popup:"colored-toast",confirmButton:"confirm-button",cancelButton:"cancel-button"},inputAttributes:{style:"color: #fff; background-color: #444; border: 1px solid #555; padding: 10px; border-radius: 4px;"}}).then(e=>e.isConfirmed&&e.value||null)}leerResenia(e){return Jt.default.fire({title:"Rese\xF1a del Turno",html:`
            <div style="margin-bottom: 10px;">
                <label style="color: #FF0000">Rese\xF1a:</label><br>
                <span style="color: #fff;">${e.resenia?.resenia}</span>
            </div>
            <div>
                <label style="color: #FF0000">Diagn\xF3stico:</label><br>
                <span style="color: #fff;">${e.resenia?.diagnostico}</span>
            </div>
        `,icon:"info",iconColor:"#FF0000",background:"#333",color:"#fff",confirmButtonText:"Cerrar",customClass:{popup:"colored-toast",confirmButton:"confirm-button"}})}mostrarFormularioEncuesta(){return C(this,null,function*(){return Jt.default.fire({title:"Completar Encuesta",html:`
            <form id="form-encuesta">
                <label for="recomendacion" style="color: #FF0000; display: block; margin-bottom: 5px; margin-top: 20px;">\xBFRecomendar\xEDas el hospital a tus conocidos?</label>
                <select id="recomendacion" class="swal2-input" style="color: #fff; background-color: #444; border: 1px solid #555; padding: 10px; border-radius: 4px; width: calc(100% - 22px); box-sizing: border-box;">
                    <option value="" disabled selected>Selecciona una opci\xF3n</option>
                    <option value="S\xED">S\xED</option>
                    <option value="No">No</option>
                </select>

                <label for="instalaciones" style="color: #FF0000; display: block; margin-top: 20px;">Del 1 al 10, \xBFqu\xE9 te parecieron nuestras instalaciones?</label>
                <input id="instalaciones" type="number" class="swal2-input" min="1" max="10" placeholder="1-10" style="color: #fff; background-color: #444; border: 1px solid #555; padding: 10px; border-radius: 4px; width: 80px; box-sizing: border-box;">

                <label for="consejo" style="color: #FF0000; display: block; margin-top: 20px;">Deja un consejo de mejora:</label>
                <textarea id="consejo" class="swal2-input" placeholder="Escribe tu consejo" style="color: #fff; background-color: #444; border: 1px solid #555; padding: 10px; border-radius: 4px; width: calc(100% - 22px); height: 100px; box-sizing: border-box;"></textarea>
            </form>
        `,showCancelButton:!0,confirmButtonText:"Enviar",cancelButtonText:"Cancelar",background:"#333",color:"#fff",icon:"question",iconColor:"#FF0000",customClass:{popup:"colored-toast",confirmButton:"confirm-button",cancelButton:"cancel-button"},preConfirm:()=>{let e=document.getElementById("recomendacion").value,n=parseInt(document.getElementById("instalaciones").value,10),r=document.getElementById("consejo").value;return e?!n||n<1||n>10?(Jt.default.showValidationMessage("Por favor, ingresa una calificaci\xF3n de 1 a 10 para las instalaciones."),null):r?{recomendacion:e,instalaciones:n,consejo:r}:(Jt.default.showValidationMessage("Por favor, deja un consejo de mejora."),null):(Jt.default.showValidationMessage("Por favor, selecciona si recomendar\xEDas el hospital."),null)}}).then(e=>e.isConfirmed&&e.value||null)})}mostrarFormularioRese\u00F1a(){return C(this,null,function*(){return Jt.default.fire({title:"Completar Rese\xF1a",html:`
            <form id="form-encuesta" style="text-align: left; margin-top: 20px;">
                <div style="margin-bottom: 15px;">
                    <label for="resenia" style="color: #FF0000; display: block; margin-bottom: 5px;">Rese\xF1a:</label>
                    <textarea id="resenia" class="swal2-input" placeholder="Escribe tu rese\xF1a" style="color: #fff; background-color: #444; border: 1px solid #555; padding: 10px; border-radius: 4px; width: 100%; resize: none; height: 100px;"></textarea>
                </div>
                <div style="margin-bottom: 15px;">
                    <label for="diagnostico" style="color: #FF0000; display: block; margin-bottom: 5px;">Diagn\xF3stico:</label>
                    <input id="diagnostico" type="text" class="swal2-input" placeholder="Escribe el diagn\xF3stico" style="color: #fff; background-color: #444; border: 1px solid #555; padding: 10px; border-radius: 4px; width: 80%; ">
                </div>
            </form>
        `,showCancelButton:!0,confirmButtonText:"Enviar",cancelButtonText:"Cancelar",background:"#333",color:"#fff",icon:"question",iconColor:"#FF0000",customClass:{popup:"colored-toast",confirmButton:"confirm-button",cancelButton:"cancel-button"},preConfirm:()=>{let e=document.getElementById("resenia").value,n=document.getElementById("diagnostico").value;return e?n?{resenia:e,diagnostico:n}:(Jt.default.showValidationMessage("Por favor, deja un diagn\xF3stico"),null):(Jt.default.showValidationMessage("Por favor, deja una rese\xF1a"),null)}}).then(e=>e.isConfirmed&&e.value||null)})}static \u0275fac=function(n){return new(n||t)};static \u0275prov=K({token:t,factory:t.\u0275fac,providedIn:"root"})};export{Ct as a,ne as b,sn as c,G as d,K as e,jn as f,z as g,X as h,j as i,Oh as j,Un as k,LD as l,_P as m,y6 as n,v6 as o,Ke as p,De as q,$n as r,gr as s,w6 as t,$k as u,_6 as v,W as w,da as x,sv as y,va as z,cv as A,rf as B,D6 as C,ru as D,of as E,iu as F,yF as G,vF as H,C6 as I,Hn as J,T6 as K,SF as L,S6 as M,T0 as N,xF as O,S0 as P,MF as Q,NF as R,A6 as S,PF as T,sf as U,R6 as V,x6 as W,M6 as X,N6 as Y,P6 as Z,k6 as _,O6 as $,F6 as aa,Yt as ba,s8 as ca,a8 as da,eT as ea,c8 as fa,Tf as ga,FL as ha,rT as ia,R8 as ja,x8 as ka,T2 as la,Kr as ma,T7 as na,S7 as oa,A7 as pa,YS as qa,ZS as ra,hn as sa,ot as ta,Sn as ua,Ji as va,$u as wa,Xi as xa,La as ya,gt as za,kt as Aa,yK as Ba,vK as Ca,aR as Da,cR as Ea,Ju as Fa,dQ as Ga,hQ as Ha,fQ as Ia,At as Ja,Cl as Ka,oZ as La,sZ as Ma,aZ as Na,cZ as Oa,uZ as Pa,lZ as Qa,dZ as Ra,hZ as Sa,fZ as Ta,pZ as Ua,gZ as Va,sV as Wa,bT as Xa,hT as Ya,K8 as Za,Q8 as _a,Of as $a,RV as ab,HT as bb,PV as cb,Z8 as db,OV as eb,qT as fb,GT as gb,WT as hb,UV as ib,YT as jb,J8 as kb,X8 as lb,WV as mb,QV as nb,IT as ob,e7 as pb,t7 as qb,eS as rb,wM as sb};
