var bM=Object.create;var vg=Object.defineProperty,DM=Object.defineProperties,CM=Object.getOwnPropertyDescriptor,TM=Object.getOwnPropertyDescriptors,SM=Object.getOwnPropertyNames,yE=Object.getOwnPropertySymbols,wE=Object.getPrototypeOf,_E=Object.prototype.hasOwnProperty,AM=Object.prototype.propertyIsEnumerable,RM=Reflect.get;var vE=(n,e,t)=>e in n?vg(n,e,{enumerable:!0,configurable:!0,writable:!0,value:t}):n[e]=t,B=(n,e)=>{for(var t in e||={})_E.call(e,t)&&vE(n,t,e[t]);if(yE)for(var t of yE(e))AM.call(e,t)&&vE(n,t,e[t]);return n},ge=(n,e)=>DM(n,TM(e));var xM=(n,e)=>()=>(e||n((e={exports:{}}).exports,e),e.exports);var MM=(n,e,t,r)=>{if(e&&typeof e=="object"||typeof e=="function")for(let i of SM(e))!_E.call(n,i)&&i!==t&&vg(n,i,{get:()=>e[i],enumerable:!(r=CM(e,i))||r.enumerable});return n};var NM=(n,e,t)=>(t=n!=null?bM(wE(n)):{},MM(e||!n||!n.__esModule?vg(t,"default",{value:n,enumerable:!0}):t,n));var pi=(n,e,t)=>RM(wE(n),t,e);var C=(n,e,t)=>new Promise((r,i)=>{var o=u=>{try{a(t.next(u))}catch(d){i(d)}},s=u=>{try{a(t.throw(u))}catch(d){i(d)}},a=u=>u.done?r(u.value):Promise.resolve(u.value).then(o,s);a((t=t.apply(n,e)).next())});var kx=xM((mr,uE)=>{"use strict";(function(n,e){typeof mr=="object"&&typeof uE<"u"?uE.exports=e():typeof define=="function"&&define.amd?define(e):(n=typeof globalThis<"u"?globalThis:n||self,n.Sweetalert2=e())})(mr,function(){"use strict";function n(l,h,y){if(typeof l=="function"?l===h:l.has(h))return arguments.length<3?h:y;throw new TypeError("Private element is not present on this object")}function e(l,h){if(h.has(l))throw new TypeError("Cannot initialize the same private elements twice on an object")}function t(l,h){return l.get(n(l,h))}function r(l,h,y){e(l,h),h.set(l,y)}function i(l,h,y){return l.set(n(l,h),y),y}let o=100,s={},a=()=>{s.previousActiveElement instanceof HTMLElement?(s.previousActiveElement.focus(),s.previousActiveElement=null):document.body&&document.body.focus()},u=l=>new Promise(h=>{if(!l)return h();let y=window.scrollX,w=window.scrollY;s.restoreFocusTimeout=setTimeout(()=>{a(),h()},o),window.scrollTo(y,w)}),d="swal2-",g=["container","shown","height-auto","iosfix","popup","modal","no-backdrop","no-transition","toast","toast-shown","show","hide","close","title","html-container","actions","confirm","deny","cancel","default-outline","footer","icon","icon-content","image","input","file","range","select","radio","checkbox","label","textarea","inputerror","input-label","validation-message","progress-steps","active-progress-step","progress-step","progress-step-line","loader","loading","styled","top","top-start","top-end","top-left","top-right","center","center-start","center-end","center-left","center-right","bottom","bottom-start","bottom-end","bottom-left","bottom-right","grow-row","grow-column","grow-fullscreen","rtl","timer-progress-bar","timer-progress-bar-container","scrollbar-measure","icon-success","icon-warning","icon-info","icon-question","icon-error"].reduce((l,h)=>(l[h]=d+h,l),{}),b=["success","warning","info","question","error"].reduce((l,h)=>(l[h]=d+h,l),{}),M="SweetAlert2:",F=l=>l.charAt(0).toUpperCase()+l.slice(1),k=l=>{console.warn(`${M} ${typeof l=="object"?l.join(" "):l}`)},U=l=>{console.error(`${M} ${l}`)},K=[],Y=l=>{K.includes(l)||(K.push(l),k(l))},ce=function(l){let h=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;Y(`"${l}" is deprecated and will be removed in the next major release.${h?` Use "${h}" instead.`:""}`)},Pe=l=>typeof l=="function"?l():l,X=l=>l&&typeof l.toPromise=="function",S=l=>X(l)?l.toPromise():Promise.resolve(l),I=l=>l&&Promise.resolve(l)===l,E=()=>document.body.querySelector(`.${g.container}`),T=l=>{let h=E();return h?h.querySelector(l):null},A=l=>T(`.${l}`),R=()=>A(g.popup),D=()=>A(g.icon),vn=()=>A(g["icon-content"]),Yr=()=>A(g.title),Wa=()=>A(g["html-container"]),Zr=()=>A(g.image),yr=()=>A(g["progress-steps"]),Jr=()=>A(g["validation-message"]),Ht=()=>T(`.${g.actions} .${g.confirm}`),Xr=()=>T(`.${g.actions} .${g.cancel}`),Dt=()=>T(`.${g.actions} .${g.deny}`),ut=()=>A(g["input-label"]),ei=()=>T(`.${g.loader}`),wn=()=>A(g.actions),al=()=>A(g.footer),On=()=>A(g["timer-progress-bar"]),Ka=()=>A(g.close),Xp=`
  a[href],
  area[href],
  input:not([disabled]),
  select:not([disabled]),
  textarea:not([disabled]),
  button:not([disabled]),
  iframe,
  object,
  embed,
  [tabindex="0"],
  [contenteditable],
  audio[controls],
  video[controls],
  summary
`,ti=()=>{let l=R();if(!l)return[];let h=l.querySelectorAll('[tabindex]:not([tabindex="-1"]):not([tabindex="0"])'),y=Array.from(h).sort(($,ue)=>{let Ae=parseInt($.getAttribute("tabindex")||"0"),Ue=parseInt(ue.getAttribute("tabindex")||"0");return Ae>Ue?1:Ae<Ue?-1:0}),w=l.querySelectorAll(Xp),N=Array.from(w).filter($=>$.getAttribute("tabindex")!=="-1");return[...new Set(y.concat(N))].filter($=>vt($))},ni=()=>zt(document.body,g.shown)&&!zt(document.body,g["toast-shown"])&&!zt(document.body,g["no-backdrop"]),ri=()=>{let l=R();return l?zt(l,g.toast):!1},Qa=()=>{let l=R();return l?l.hasAttribute("data-loading"):!1},yt=(l,h)=>{if(l.textContent="",h){let w=new DOMParser().parseFromString(h,"text/html"),N=w.querySelector("head");N&&Array.from(N.childNodes).forEach(ue=>{l.appendChild(ue)});let $=w.querySelector("body");$&&Array.from($.childNodes).forEach(ue=>{ue instanceof HTMLVideoElement||ue instanceof HTMLAudioElement?l.appendChild(ue.cloneNode(!0)):l.appendChild(ue)})}},zt=(l,h)=>{if(!h)return!1;let y=h.split(/\s+/);for(let w=0;w<y.length;w++)if(!l.classList.contains(y[w]))return!1;return!0},cl=(l,h)=>{Array.from(l.classList).forEach(y=>{!Object.values(g).includes(y)&&!Object.values(b).includes(y)&&!Object.values(h.showClass||{}).includes(y)&&l.classList.remove(y)})},Ct=(l,h,y)=>{if(cl(l,h),!h.customClass)return;let w=h.customClass[y];if(w){if(typeof w!="string"&&!w.forEach){k(`Invalid type of customClass.${y}! Expected string or iterable object, got "${typeof w}"`);return}pe(l,w)}},is=(l,h)=>{if(!h)return null;switch(h){case"select":case"textarea":case"file":return l.querySelector(`.${g.popup} > .${g[h]}`);case"checkbox":return l.querySelector(`.${g.popup} > .${g.checkbox} input`);case"radio":return l.querySelector(`.${g.popup} > .${g.radio} input:checked`)||l.querySelector(`.${g.popup} > .${g.radio} input:first-child`);case"range":return l.querySelector(`.${g.popup} > .${g.range} input`);default:return l.querySelector(`.${g.popup} > .${g.input}`)}},Ya=l=>{if(l.focus(),l.type!=="file"){let h=l.value;l.value="",l.value=h}},Za=(l,h,y)=>{!l||!h||(typeof h=="string"&&(h=h.split(/\s+/).filter(Boolean)),h.forEach(w=>{Array.isArray(l)?l.forEach(N=>{y?N.classList.add(w):N.classList.remove(w)}):y?l.classList.add(w):l.classList.remove(w)}))},pe=(l,h)=>{Za(l,h,!0)},qt=(l,h)=>{Za(l,h,!1)},Fn=(l,h)=>{let y=Array.from(l.children);for(let w=0;w<y.length;w++){let N=y[w];if(N instanceof HTMLElement&&zt(N,h))return N}},_n=(l,h,y)=>{y===`${parseInt(y)}`&&(y=parseInt(y)),y||parseInt(y)===0?l.style.setProperty(h,typeof y=="number"?`${y}px`:y):l.style.removeProperty(h)},$e=function(l){let h=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"flex";l&&(l.style.display=h)},Ke=l=>{l&&(l.style.display="none")},Qe=function(l){let h=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"block";l&&new MutationObserver(()=>{Ln(l,l.innerHTML,h)}).observe(l,{childList:!0,subtree:!0})},lt=(l,h,y,w)=>{let N=l.querySelector(h);N&&N.style.setProperty(y,w)},Ln=function(l,h){let y=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"flex";h?$e(l,y):Ke(l)},vt=l=>!!(l&&(l.offsetWidth||l.offsetHeight||l.getClientRects().length)),ul=()=>!vt(Ht())&&!vt(Dt())&&!vt(Xr()),ll=l=>l.scrollHeight>l.clientHeight,ii=l=>{let h=window.getComputedStyle(l),y=parseFloat(h.getPropertyValue("animation-duration")||"0"),w=parseFloat(h.getPropertyValue("transition-duration")||"0");return y>0||w>0},os=function(l){let h=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,y=On();y&&vt(y)&&(h&&(y.style.transition="none",y.style.width="100%"),setTimeout(()=>{y.style.transition=`width ${l/1e3}s linear`,y.style.width="0%"},10))},dl=()=>{let l=On();if(!l)return;let h=parseInt(window.getComputedStyle(l).width);l.style.removeProperty("transition"),l.style.width="100%";let y=parseInt(window.getComputedStyle(l).width),w=h/y*100;l.style.width=`${w}%`},Ja=()=>typeof window>"u"||typeof document>"u",eg=`
 <div aria-labelledby="${g.title}" aria-describedby="${g["html-container"]}" class="${g.popup}" tabindex="-1">
   <button type="button" class="${g.close}"></button>
   <ul class="${g["progress-steps"]}"></ul>
   <div class="${g.icon}"></div>
   <img class="${g.image}" />
   <h2 class="${g.title}" id="${g.title}"></h2>
   <div class="${g["html-container"]}" id="${g["html-container"]}"></div>
   <input class="${g.input}" id="${g.input}" />
   <input type="file" class="${g.file}" />
   <div class="${g.range}">
     <input type="range" />
     <output></output>
   </div>
   <select class="${g.select}" id="${g.select}"></select>
   <div class="${g.radio}"></div>
   <label class="${g.checkbox}">
     <input type="checkbox" id="${g.checkbox}" />
     <span class="${g.label}"></span>
   </label>
   <textarea class="${g.textarea}" id="${g.textarea}"></textarea>
   <div class="${g["validation-message"]}" id="${g["validation-message"]}"></div>
   <div class="${g.actions}">
     <div class="${g.loader}"></div>
     <button type="button" class="${g.confirm}"></button>
     <button type="button" class="${g.deny}"></button>
     <button type="button" class="${g.cancel}"></button>
   </div>
   <div class="${g.footer}"></div>
   <div class="${g["timer-progress-bar-container"]}">
     <div class="${g["timer-progress-bar"]}"></div>
   </div>
 </div>
`.replace(/(^|\n)\s*/g,""),tg=()=>{let l=E();return l?(l.remove(),qt([document.documentElement,document.body],[g["no-backdrop"],g["toast-shown"],g["has-column"]]),!0):!1},In=()=>{s.currentInstance.resetValidationMessage()},hl=()=>{let l=R(),h=Fn(l,g.input),y=Fn(l,g.file),w=l.querySelector(`.${g.range} input`),N=l.querySelector(`.${g.range} output`),$=Fn(l,g.select),ue=l.querySelector(`.${g.checkbox} input`),Ae=Fn(l,g.textarea);h.oninput=In,y.onchange=In,$.onchange=In,ue.onchange=In,Ae.oninput=In,w.oninput=()=>{In(),N.value=w.value},w.onchange=()=>{In(),N.value=w.value}},fl=l=>typeof l=="string"?document.querySelector(l):l,Yi=l=>{let h=R();h.setAttribute("role",l.toast?"alert":"dialog"),h.setAttribute("aria-live",l.toast?"polite":"assertive"),l.toast||h.setAttribute("aria-modal","true")},Xa=l=>{window.getComputedStyle(l).direction==="rtl"&&pe(E(),g.rtl)},ec=l=>{let h=tg();if(Ja()){U("SweetAlert2 requires document to initialize");return}let y=document.createElement("div");y.className=g.container,h&&pe(y,g["no-transition"]),yt(y,eg);let w=fl(l.target);w.appendChild(y),Yi(l),Xa(w),hl()},En=(l,h)=>{l instanceof HTMLElement?h.appendChild(l):typeof l=="object"?pl(l,h):l&&yt(h,l)},pl=(l,h)=>{l.jquery?ss(h,l):yt(h,l.toString())},ss=(l,h)=>{if(l.textContent="",0 in h)for(let y=0;y in h;y++)l.appendChild(h[y].cloneNode(!0));else l.appendChild(h.cloneNode(!0))},gl=(l,h)=>{let y=wn(),w=ei();!y||!w||(!h.showConfirmButton&&!h.showDenyButton&&!h.showCancelButton?Ke(y):$e(y),Ct(y,h,"actions"),Zi(y,w,h),yt(w,h.loaderHtml||""),Ct(w,h,"loader"))};function Zi(l,h,y){let w=Ht(),N=Dt(),$=Xr();!w||!N||!$||(rt(w,"confirm",y),rt(N,"deny",y),rt($,"cancel",y),ml(w,N,$,y),y.reverseButtons&&(y.toast?(l.insertBefore($,w),l.insertBefore(N,w)):(l.insertBefore($,h),l.insertBefore(N,h),l.insertBefore(w,h))))}function ml(l,h,y,w){if(!w.buttonsStyling){qt([l,h,y],g.styled);return}pe([l,h,y],g.styled),w.confirmButtonColor&&(l.style.backgroundColor=w.confirmButtonColor,pe(l,g["default-outline"])),w.denyButtonColor&&(h.style.backgroundColor=w.denyButtonColor,pe(h,g["default-outline"])),w.cancelButtonColor&&(y.style.backgroundColor=w.cancelButtonColor,pe(y,g["default-outline"]))}function rt(l,h,y){let w=F(h);Ln(l,y[`show${w}Button`],"inline-block"),yt(l,y[`${h}ButtonText`]||""),l.setAttribute("aria-label",y[`${h}ButtonAriaLabel`]||""),l.className=g[h],Ct(l,y,`${h}Button`)}let yl=(l,h)=>{let y=Ka();y&&(yt(y,h.closeButtonHtml||""),Ct(y,h,"closeButton"),Ln(y,h.showCloseButton),y.setAttribute("aria-label",h.closeButtonAriaLabel||""))},Ji=(l,h)=>{let y=E();y&&(Xi(y,h.backdrop),ng(y,h.position),rg(y,h.grow),Ct(y,h,"container"))};function Xi(l,h){typeof h=="string"?l.style.background=h:h||pe([document.documentElement,document.body],g["no-backdrop"])}function ng(l,h){h&&(h in g?pe(l,g[h]):(k('The "position" parameter is not valid, defaulting to "center"'),pe(l,g.center)))}function rg(l,h){h&&pe(l,g[`grow-${h}`])}var De={innerParams:new WeakMap,domCache:new WeakMap};let ig=["input","file","range","select","radio","checkbox","textarea"],og=(l,h)=>{let y=R();if(!y)return;let w=De.innerParams.get(l),N=!w||h.input!==w.input;ig.forEach($=>{let ue=Fn(y,g[$]);ue&&(tc($,h.inputAttributes),ue.className=g[$],N&&Ke(ue))}),h.input&&(N&&as(h),cs(h))},as=l=>{if(!l.input)return;if(!Fe[l.input]){U(`Unexpected type of input! Expected ${Object.keys(Fe).join(" | ")}, got "${l.input}"`);return}let h=nc(l.input);if(!h)return;let y=Fe[l.input](h,l);$e(h),l.inputAutoFocus&&setTimeout(()=>{Ya(y)})},vl=l=>{for(let h=0;h<l.attributes.length;h++){let y=l.attributes[h].name;["id","type","value","style"].includes(y)||l.removeAttribute(y)}},tc=(l,h)=>{let y=R();if(!y)return;let w=is(y,l);if(w){vl(w);for(let N in h)w.setAttribute(N,h[N])}},cs=l=>{if(!l.input)return;let h=nc(l.input);h&&Ct(h,l,"input")},sn=(l,h)=>{!l.placeholder&&h.inputPlaceholder&&(l.placeholder=h.inputPlaceholder)},oi=(l,h,y)=>{if(y.inputLabel){let w=document.createElement("label"),N=g["input-label"];w.setAttribute("for",l.id),w.className=N,typeof y.customClass=="object"&&pe(w,y.customClass.inputLabel),w.innerText=y.inputLabel,h.insertAdjacentElement("beforebegin",w)}},nc=l=>{let h=R();if(h)return Fn(h,g[l]||g.input)},si=(l,h)=>{["string","number"].includes(typeof h)?l.value=`${h}`:I(h)||k(`Unexpected type of inputValue! Expected "string", "number" or "Promise", got "${typeof h}"`)},Fe={};Fe.text=Fe.email=Fe.password=Fe.number=Fe.tel=Fe.url=Fe.search=Fe.date=Fe["datetime-local"]=Fe.time=Fe.week=Fe.month=(l,h)=>(si(l,h.inputValue),oi(l,l,h),sn(l,h),l.type=h.input,l),Fe.file=(l,h)=>(oi(l,l,h),sn(l,h),l),Fe.range=(l,h)=>{let y=l.querySelector("input"),w=l.querySelector("output");return si(y,h.inputValue),y.type=h.input,si(w,h.inputValue),oi(y,l,h),l},Fe.select=(l,h)=>{if(l.textContent="",h.inputPlaceholder){let y=document.createElement("option");yt(y,h.inputPlaceholder),y.value="",y.disabled=!0,y.selected=!0,l.appendChild(y)}return oi(l,l,h),l},Fe.radio=l=>(l.textContent="",l),Fe.checkbox=(l,h)=>{let y=is(R(),"checkbox");y.value="1",y.checked=!!h.inputValue;let w=l.querySelector("span");return yt(w,h.inputPlaceholder||h.inputLabel),y},Fe.textarea=(l,h)=>{si(l,h.inputValue),sn(l,h),oi(l,l,h);let y=w=>parseInt(window.getComputedStyle(w).marginLeft)+parseInt(window.getComputedStyle(w).marginRight);return setTimeout(()=>{if("MutationObserver"in window){let w=parseInt(window.getComputedStyle(R()).width),N=()=>{if(!document.body.contains(l))return;let $=l.offsetWidth+y(l);$>w?R().style.width=`${$}px`:_n(R(),"width",h.width)};new MutationObserver(N).observe(l,{attributes:!0,attributeFilter:["style"]})}}),l};let wl=(l,h)=>{let y=Wa();y&&(Qe(y),Ct(y,h,"htmlContainer"),h.html?(En(h.html,y),$e(y,"block")):h.text?(y.textContent=h.text,$e(y,"block")):Ke(y),og(l,h))},_l=(l,h)=>{let y=al();y&&(Qe(y),Ln(y,h.footer,"block"),h.footer&&En(h.footer,y),Ct(y,h,"footer"))},sg=(l,h)=>{let y=De.innerParams.get(l),w=D();if(w){if(y&&h.icon===y.icon){Vn(w,h),eo(w,h);return}if(!h.icon&&!h.iconHtml){Ke(w);return}if(h.icon&&Object.keys(b).indexOf(h.icon)===-1){U(`Unknown icon! Expected "success", "error", "warning", "info" or "question", got "${h.icon}"`),Ke(w);return}$e(w),Vn(w,h),eo(w,h),pe(w,h.showClass&&h.showClass.icon)}},eo=(l,h)=>{for(let[y,w]of Object.entries(b))h.icon!==y&&qt(l,w);pe(l,h.icon&&b[h.icon]),ic(l,h),Il(),Ct(l,h,"icon")},Il=()=>{let l=R();if(!l)return;let h=window.getComputedStyle(l).getPropertyValue("background-color"),y=l.querySelectorAll("[class^=swal2-success-circular-line], .swal2-success-fix");for(let w=0;w<y.length;w++)y[w].style.backgroundColor=h},rc=`
  <div class="swal2-success-circular-line-left"></div>
  <span class="swal2-success-line-tip"></span> <span class="swal2-success-line-long"></span>
  <div class="swal2-success-ring"></div> <div class="swal2-success-fix"></div>
  <div class="swal2-success-circular-line-right"></div>
`,to=`
  <span class="swal2-x-mark">
    <span class="swal2-x-mark-line-left"></span>
    <span class="swal2-x-mark-line-right"></span>
  </span>
`,Vn=(l,h)=>{if(!h.icon&&!h.iconHtml)return;let y=l.innerHTML,w="";h.iconHtml?w=El(h.iconHtml):h.icon==="success"?(w=rc,y=y.replace(/ style=".*?"/g,"")):h.icon==="error"?w=to:h.icon&&(w=El({question:"?",warning:"!",info:"i"}[h.icon])),y.trim()!==w.trim()&&yt(l,w)},ic=(l,h)=>{if(h.iconColor){l.style.color=h.iconColor,l.style.borderColor=h.iconColor;for(let y of[".swal2-success-line-tip",".swal2-success-line-long",".swal2-x-mark-line-left",".swal2-x-mark-line-right"])lt(l,y,"background-color",h.iconColor);lt(l,".swal2-success-ring","border-color",h.iconColor)}},El=l=>`<div class="${g["icon-content"]}">${l}</div>`,bl=(l,h)=>{let y=Zr();if(y){if(!h.imageUrl){Ke(y);return}$e(y,""),y.setAttribute("src",h.imageUrl),y.setAttribute("alt",h.imageAlt||""),_n(y,"width",h.imageWidth),_n(y,"height",h.imageHeight),y.className=g.image,Ct(y,h,"image")}},Dl=(l,h)=>{let y=E(),w=R();if(!(!y||!w)){if(h.toast){_n(y,"width",h.width),w.style.width="100%";let N=ei();N&&w.insertBefore(N,D())}else _n(w,"width",h.width);_n(w,"padding",h.padding),h.color&&(w.style.color=h.color),h.background&&(w.style.background=h.background),Ke(Jr()),Cl(w,h)}},Cl=(l,h)=>{let y=h.showClass||{};l.className=`${g.popup} ${vt(l)?y.popup:""}`,h.toast?(pe([document.documentElement,document.body],g["toast-shown"]),pe(l,g.toast)):pe(l,g.modal),Ct(l,h,"popup"),typeof h.customClass=="string"&&pe(l,h.customClass),h.icon&&pe(l,g[`icon-${h.icon}`])},oc=(l,h)=>{let y=yr();if(!y)return;let{progressSteps:w,currentProgressStep:N}=h;if(!w||w.length===0||N===void 0){Ke(y);return}$e(y),y.textContent="",N>=w.length&&k("Invalid currentProgressStep parameter, it should be less than progressSteps.length (currentProgressStep like JS arrays starts from 0)"),w.forEach(($,ue)=>{let Ae=sc($);if(y.appendChild(Ae),ue===N&&pe(Ae,g["active-progress-step"]),ue!==w.length-1){let Ue=Tl(h);y.appendChild(Ue)}})},sc=l=>{let h=document.createElement("li");return pe(h,g["progress-step"]),yt(h,l),h},Tl=l=>{let h=document.createElement("li");return pe(h,g["progress-step-line"]),l.progressStepsDistance&&_n(h,"width",l.progressStepsDistance),h},Sl=(l,h)=>{let y=Yr();y&&(Qe(y),Ln(y,h.title||h.titleText,"block"),h.title&&En(h.title,y),h.titleText&&(y.innerText=h.titleText),Ct(y,h,"title"))},Al=(l,h)=>{Dl(l,h),Ji(l,h),oc(l,h),sg(l,h),bl(l,h),Sl(l,h),yl(l,h),wl(l,h),gl(l,h),_l(l,h);let y=R();typeof h.didRender=="function"&&y&&h.didRender(y),s.eventEmitter.emit("didRender",y)},ag=()=>vt(R()),ac=()=>{var l;return(l=Ht())===null||l===void 0?void 0:l.click()},Rl=()=>{var l;return(l=Dt())===null||l===void 0?void 0:l.click()},cg=()=>{var l;return(l=Xr())===null||l===void 0?void 0:l.click()},Ft=Object.freeze({cancel:"cancel",backdrop:"backdrop",close:"close",esc:"esc",timer:"timer"}),an=l=>{l.keydownTarget&&l.keydownHandlerAdded&&(l.keydownTarget.removeEventListener("keydown",l.keydownHandler,{capture:l.keydownListenerCapture}),l.keydownHandlerAdded=!1)},us=(l,h,y)=>{an(l),h.toast||(l.keydownHandler=w=>ls(h,w,y),l.keydownTarget=h.keydownListenerCapture?window:R(),l.keydownListenerCapture=h.keydownListenerCapture,l.keydownTarget.addEventListener("keydown",l.keydownHandler,{capture:l.keydownListenerCapture}),l.keydownHandlerAdded=!0)},ai=(l,h)=>{var y;let w=ti();if(w.length){l=l+h,l===w.length?l=0:l===-1&&(l=w.length-1),w[l].focus();return}(y=R())===null||y===void 0||y.focus()},cc=["ArrowRight","ArrowDown"],ke=["ArrowLeft","ArrowUp"],ls=(l,h,y)=>{l&&(h.isComposing||h.keyCode===229||(l.stopKeydownPropagation&&h.stopPropagation(),h.key==="Enter"?no(h,l):h.key==="Tab"?ro(h):[...cc,...ke].includes(h.key)?ug(h.key):h.key==="Escape"&&xl(h,l,y)))},no=(l,h)=>{if(!Pe(h.allowEnterKey))return;let y=is(R(),h.input);if(l.target&&y&&l.target instanceof HTMLElement&&l.target.outerHTML===y.outerHTML){if(["textarea","file"].includes(h.input))return;ac(),l.preventDefault()}},ro=l=>{let h=l.target,y=ti(),w=-1;for(let N=0;N<y.length;N++)if(h===y[N]){w=N;break}l.shiftKey?ai(w,-1):ai(w,1),l.stopPropagation(),l.preventDefault()},ug=l=>{let h=wn(),y=Ht(),w=Dt(),N=Xr();if(!h||!y||!w||!N)return;let $=[y,w,N];if(document.activeElement instanceof HTMLElement&&!$.includes(document.activeElement))return;let ue=cc.includes(l)?"nextElementSibling":"previousElementSibling",Ae=document.activeElement;if(Ae){for(let Ue=0;Ue<h.children.length;Ue++){if(Ae=Ae[ue],!Ae)return;if(Ae instanceof HTMLButtonElement&&vt(Ae))break}Ae instanceof HTMLButtonElement&&Ae.focus()}},xl=(l,h,y)=>{Pe(h.allowEscapeKey)&&(l.preventDefault(),y(Ft.esc))};var ci={swalPromiseResolve:new WeakMap,swalPromiseReject:new WeakMap};let lg=()=>{let l=E();Array.from(document.body.children).forEach(y=>{y.contains(l)||(y.hasAttribute("aria-hidden")&&y.setAttribute("data-previous-aria-hidden",y.getAttribute("aria-hidden")||""),y.setAttribute("aria-hidden","true"))})},Ml=()=>{Array.from(document.body.children).forEach(h=>{h.hasAttribute("data-previous-aria-hidden")?(h.setAttribute("aria-hidden",h.getAttribute("data-previous-aria-hidden")||""),h.removeAttribute("data-previous-aria-hidden")):h.removeAttribute("aria-hidden")})},Nl=typeof window<"u"&&!!window.GestureEvent,io=()=>{if(Nl&&!zt(document.body,g.iosfix)){let l=document.body.scrollTop;document.body.style.top=`${l*-1}px`,pe(document.body,g.iosfix),jn()}},jn=()=>{let l=E();if(!l)return;let h;l.ontouchstart=y=>{h=Pl(y)},l.ontouchmove=y=>{h&&(y.preventDefault(),y.stopPropagation())}},Pl=l=>{let h=l.target,y=E(),w=Wa();return!y||!w||kl(l)||Ol(l)?!1:h===y||!ll(y)&&h instanceof HTMLElement&&h.tagName!=="INPUT"&&h.tagName!=="TEXTAREA"&&!(ll(w)&&w.contains(h))},kl=l=>l.touches&&l.touches.length&&l.touches[0].touchType==="stylus",Ol=l=>l.touches&&l.touches.length>1,ui=()=>{if(zt(document.body,g.iosfix)){let l=parseInt(document.body.style.top,10);qt(document.body,g.iosfix),document.body.style.top="",document.body.scrollTop=l*-1}},dg=()=>{let l=document.createElement("div");l.className=g["scrollbar-measure"],document.body.appendChild(l);let h=l.getBoundingClientRect().width-l.clientWidth;return document.body.removeChild(l),h},li=null,hg=l=>{li===null&&(document.body.scrollHeight>window.innerHeight||l==="scroll")&&(li=parseInt(window.getComputedStyle(document.body).getPropertyValue("padding-right")),document.body.style.paddingRight=`${li+dg()}px`)},Un=()=>{li!==null&&(document.body.style.paddingRight=`${li}px`,li=null)};function Fl(l,h,y,w){ri()?Le(l,w):(u(y).then(()=>Le(l,w)),an(s)),Nl?(h.setAttribute("style","display:none !important"),h.removeAttribute("class"),h.innerHTML=""):h.remove(),ni()&&(Un(),ui(),Ml()),fg()}function fg(){qt([document.documentElement,document.body],[g.shown,g["height-auto"],g["no-backdrop"],g["toast-shown"]])}function Lt(l){l=oo(l);let h=ci.swalPromiseResolve.get(this),y=ds(this);this.isAwaitingPromise?l.isDismissed||(bn(this),h(l)):y&&h(l)}let ds=l=>{let h=R();if(!h)return!1;let y=De.innerParams.get(l);if(!y||zt(h,y.hideClass.popup))return!1;qt(h,y.showClass.popup),pe(h,y.hideClass.popup);let w=E();return qt(w,y.showClass.backdrop),pe(w,y.hideClass.backdrop),Ll(l,h,y),!0};function uc(l){let h=ci.swalPromiseReject.get(this);bn(this),h&&h(l)}let bn=l=>{l.isAwaitingPromise&&(delete l.isAwaitingPromise,De.innerParams.get(l)||l._destroy())},oo=l=>typeof l>"u"?{isConfirmed:!1,isDenied:!1,isDismissed:!0}:Object.assign({isConfirmed:!1,isDenied:!1,isDismissed:!1},l),Ll=(l,h,y)=>{let w=E(),N=ii(h);typeof y.willClose=="function"&&y.willClose(h),s.eventEmitter.emit("willClose",h),N?lc(l,h,w,y.returnFocus,y.didClose):Fl(l,w,y.returnFocus,y.didClose)},lc=(l,h,y,w,N)=>{s.swalCloseEventFinishedCallback=Fl.bind(null,l,y,w,N);let $=function(ue){ue.target===h&&(s.swalCloseEventFinishedCallback(),delete s.swalCloseEventFinishedCallback,h.removeEventListener("animationend",$),h.removeEventListener("transitionend",$))};h.addEventListener("animationend",$),h.addEventListener("transitionend",$)},Le=(l,h)=>{setTimeout(()=>{typeof h=="function"&&h.bind(l.params)(),s.eventEmitter.emit("didClose"),l._destroy&&l._destroy()})},di=l=>{let h=R();if(h||new Jl,h=R(),!h)return;let y=ei();ri()?Ke(D()):pg(h,l),$e(y),h.setAttribute("data-loading","true"),h.setAttribute("aria-busy","true"),h.focus()},pg=(l,h)=>{let y=wn(),w=ei();!y||!w||(!h&&vt(Ht())&&(h=Ht()),$e(y),h&&(Ke(h),w.setAttribute("data-button-to-replace",h.className),y.insertBefore(w,h)),pe([l,y],g.loading))},Vl=(l,h)=>{h.input==="select"||h.input==="radio"?Dn(l,h):["text","email","number","tel","textarea"].some(y=>y===h.input)&&(X(h.inputValue)||I(h.inputValue))&&(di(Ht()),$l(l,h))},jl=(l,h)=>{let y=l.getInput();if(!y)return null;switch(h.input){case"checkbox":return Ul(y);case"radio":return hs(y);case"file":return Bl(y);default:return h.inputAutoTrim?y.value.trim():y.value}},Ul=l=>l.checked?1:0,hs=l=>l.checked?l.value:null,Bl=l=>l.files&&l.files.length?l.getAttribute("multiple")!==null?l.files:l.files[0]:null,Dn=(l,h)=>{let y=R();if(!y)return;let w=N=>{h.input==="select"?gg(y,ao(N),h):h.input==="radio"&&so(y,ao(N),h)};X(h.inputOptions)||I(h.inputOptions)?(di(Ht()),S(h.inputOptions).then(N=>{l.hideLoading(),w(N)})):typeof h.inputOptions=="object"?w(h.inputOptions):U(`Unexpected type of inputOptions! Expected object, Map or Promise, got ${typeof h.inputOptions}`)},$l=(l,h)=>{let y=l.getInput();y&&(Ke(y),S(h.inputValue).then(w=>{y.value=h.input==="number"?`${parseFloat(w)||0}`:`${w}`,$e(y),y.focus(),l.hideLoading()}).catch(w=>{U(`Error in inputValue promise: ${w}`),y.value="",$e(y),y.focus(),l.hideLoading()}))};function gg(l,h,y){let w=Fn(l,g.select);if(!w)return;let N=($,ue,Ae)=>{let Ue=document.createElement("option");Ue.value=Ae,yt(Ue,ue),Ue.selected=fs(Ae,y.inputValue),$.appendChild(Ue)};h.forEach($=>{let ue=$[0],Ae=$[1];if(Array.isArray(Ae)){let Ue=document.createElement("optgroup");Ue.label=ue,Ue.disabled=!1,w.appendChild(Ue),Ae.forEach(ys=>N(Ue,ys[1],ys[0]))}else N(w,Ae,ue)}),w.focus()}function so(l,h,y){let w=Fn(l,g.radio);if(!w)return;h.forEach($=>{let ue=$[0],Ae=$[1],Ue=document.createElement("input"),ys=document.createElement("label");Ue.type="radio",Ue.name=g.radio,Ue.value=ue,fs(ue,y.inputValue)&&(Ue.checked=!0);let yg=document.createElement("span");yt(yg,Ae),yg.className=g.label,ys.appendChild(Ue),ys.appendChild(yg),w.appendChild(ys)});let N=w.querySelectorAll("input");N.length&&N[0].focus()}let ao=l=>{let h=[];return l instanceof Map?l.forEach((y,w)=>{let N=y;typeof N=="object"&&(N=ao(N)),h.push([w,N])}):Object.keys(l).forEach(y=>{let w=l[y];typeof w=="object"&&(w=ao(w)),h.push([y,w])}),h},fs=(l,h)=>!!h&&h.toString()===l.toString(),ps=l=>{let h=De.innerParams.get(l);l.disableButtons(),h.input?zl(l,"confirm"):co(l,!0)},Hl=l=>{let h=De.innerParams.get(l);l.disableButtons(),h.returnInputValueOnDeny?zl(l,"deny"):vr(l,!1)},gs=(l,h)=>{l.disableButtons(),h(Ft.cancel)},zl=(l,h)=>{let y=De.innerParams.get(l);if(!y.input){U(`The "input" parameter is needed to be set when using returnInputValueOn${F(h)}`);return}let w=l.getInput(),N=jl(l,y);y.inputValidator?ql(l,N,h):w&&!w.checkValidity()?(l.enableButtons(),l.showValidationMessage(y.validationMessage||w.validationMessage)):h==="deny"?vr(l,N):co(l,N)},ql=(l,h,y)=>{let w=De.innerParams.get(l);l.disableInput(),Promise.resolve().then(()=>S(w.inputValidator(h,w.validationMessage))).then($=>{l.enableButtons(),l.enableInput(),$?l.showValidationMessage($):y==="deny"?vr(l,h):co(l,h)})},vr=(l,h)=>{let y=De.innerParams.get(l||void 0);y.showLoaderOnDeny&&di(Dt()),y.preDeny?(l.isAwaitingPromise=!0,Promise.resolve().then(()=>S(y.preDeny(h,y.validationMessage))).then(N=>{N===!1?(l.hideLoading(),bn(l)):l.close({isDenied:!0,value:typeof N>"u"?h:N})}).catch(N=>hc(l||void 0,N))):l.close({isDenied:!0,value:h})},dc=(l,h)=>{l.close({isConfirmed:!0,value:h})},hc=(l,h)=>{l.rejectPromise(h)},co=(l,h)=>{let y=De.innerParams.get(l||void 0);y.showLoaderOnConfirm&&di(),y.preConfirm?(l.resetValidationMessage(),l.isAwaitingPromise=!0,Promise.resolve().then(()=>S(y.preConfirm(h,y.validationMessage))).then(N=>{vt(Jr())||N===!1?(l.hideLoading(),bn(l)):dc(l,typeof N>"u"?h:N)}).catch(N=>hc(l||void 0,N))):dc(l,h)};function hi(){let l=De.innerParams.get(this);if(!l)return;let h=De.domCache.get(this);Ke(h.loader),ri()?l.icon&&$e(D()):Gl(h),qt([h.popup,h.actions],g.loading),h.popup.removeAttribute("aria-busy"),h.popup.removeAttribute("data-loading"),h.confirmButton.disabled=!1,h.denyButton.disabled=!1,h.cancelButton.disabled=!1}let Gl=l=>{let h=l.popup.getElementsByClassName(l.loader.getAttribute("data-button-to-replace"));h.length?$e(h[0],"inline-block"):ul()&&Ke(l.actions)};function uo(){let l=De.innerParams.get(this),h=De.domCache.get(this);return h?is(h.popup,l.input):null}function fc(l,h,y){let w=De.domCache.get(l);h.forEach(N=>{w[N].disabled=y})}function pc(l,h){let y=R();if(!(!y||!l))if(l.type==="radio"){let w=y.querySelectorAll(`[name="${g.radio}"]`);for(let N=0;N<w.length;N++)w[N].disabled=h}else l.disabled=h}function Bn(){fc(this,["confirmButton","denyButton","cancelButton"],!1)}function gc(){fc(this,["confirmButton","denyButton","cancelButton"],!0)}function mc(){pc(this.getInput(),!1)}function yc(){pc(this.getInput(),!0)}function vc(l){let h=De.domCache.get(this),y=De.innerParams.get(this);yt(h.validationMessage,l),h.validationMessage.className=g["validation-message"],y.customClass&&y.customClass.validationMessage&&pe(h.validationMessage,y.customClass.validationMessage),$e(h.validationMessage);let w=this.getInput();w&&(w.setAttribute("aria-invalid","true"),w.setAttribute("aria-describedby",g["validation-message"]),Ya(w),pe(w,g.inputerror))}function lo(){let l=De.domCache.get(this);l.validationMessage&&Ke(l.validationMessage);let h=this.getInput();h&&(h.removeAttribute("aria-invalid"),h.removeAttribute("aria-describedby"),qt(h,g.inputerror))}let Ye={title:"",titleText:"",text:"",html:"",footer:"",icon:void 0,iconColor:void 0,iconHtml:void 0,template:void 0,toast:!1,animation:!0,showClass:{popup:"swal2-show",backdrop:"swal2-backdrop-show",icon:"swal2-icon-show"},hideClass:{popup:"swal2-hide",backdrop:"swal2-backdrop-hide",icon:"swal2-icon-hide"},customClass:{},target:"body",color:void 0,backdrop:!0,heightAuto:!0,allowOutsideClick:!0,allowEscapeKey:!0,allowEnterKey:!0,stopKeydownPropagation:!0,keydownListenerCapture:!1,showConfirmButton:!0,showDenyButton:!1,showCancelButton:!1,preConfirm:void 0,preDeny:void 0,confirmButtonText:"OK",confirmButtonAriaLabel:"",confirmButtonColor:void 0,denyButtonText:"No",denyButtonAriaLabel:"",denyButtonColor:void 0,cancelButtonText:"Cancel",cancelButtonAriaLabel:"",cancelButtonColor:void 0,buttonsStyling:!0,reverseButtons:!1,focusConfirm:!0,focusDeny:!1,focusCancel:!1,returnFocus:!0,showCloseButton:!1,closeButtonHtml:"&times;",closeButtonAriaLabel:"Close this dialog",loaderHtml:"",showLoaderOnConfirm:!1,showLoaderOnDeny:!1,imageUrl:void 0,imageWidth:void 0,imageHeight:void 0,imageAlt:"",timer:void 0,timerProgressBar:!1,width:void 0,padding:void 0,background:void 0,input:void 0,inputPlaceholder:"",inputLabel:"",inputValue:"",inputOptions:{},inputAutoFocus:!0,inputAutoTrim:!0,inputAttributes:{},inputValidator:void 0,returnInputValueOnDeny:!1,validationMessage:void 0,grow:!1,position:"center",progressSteps:[],currentProgressStep:void 0,progressStepsDistance:void 0,willOpen:void 0,didOpen:void 0,didRender:void 0,willClose:void 0,didClose:void 0,didDestroy:void 0,scrollbarPadding:!0},Wl=["allowEscapeKey","allowOutsideClick","background","buttonsStyling","cancelButtonAriaLabel","cancelButtonColor","cancelButtonText","closeButtonAriaLabel","closeButtonHtml","color","confirmButtonAriaLabel","confirmButtonColor","confirmButtonText","currentProgressStep","customClass","denyButtonAriaLabel","denyButtonColor","denyButtonText","didClose","didDestroy","footer","hideClass","html","icon","iconColor","iconHtml","imageAlt","imageHeight","imageUrl","imageWidth","preConfirm","preDeny","progressSteps","returnFocus","reverseButtons","showCancelButton","showCloseButton","showConfirmButton","showDenyButton","text","title","titleText","willClose"],Kl={allowEnterKey:void 0},fi=["allowOutsideClick","allowEnterKey","backdrop","focusConfirm","focusDeny","focusCancel","returnFocus","heightAuto","keydownListenerCapture"],c=l=>Object.prototype.hasOwnProperty.call(Ye,l),f=l=>Wl.indexOf(l)!==-1,m=l=>Kl[l],v=l=>{c(l)||k(`Unknown parameter "${l}"`)},x=l=>{fi.includes(l)&&k(`The parameter "${l}" is incompatible with toasts`)},P=l=>{let h=m(l);h&&ce(l,h)},V=l=>{l.backdrop===!1&&l.allowOutsideClick&&k('"allowOutsideClick" parameter requires `backdrop` parameter to be set to `true`');for(let h in l)v(h),l.toast&&x(h),P(h)};function Se(l){let h=R(),y=De.innerParams.get(this);if(!h||zt(h,y.hideClass.popup)){k("You're trying to update the closed or closing popup, that won't work. Use the update() method in preConfirm parameter or show a new popup.");return}let w=it(l),N=Object.assign({},y,w);Al(this,N),De.innerParams.set(this,N),Object.defineProperties(this,{params:{value:Object.assign({},this.params,l),writable:!1,enumerable:!0}})}let it=l=>{let h={};return Object.keys(l).forEach(y=>{f(y)?h[y]=l[y]:k(`Invalid parameter to update: ${y}`)}),h};function _e(){let l=De.domCache.get(this),h=De.innerParams.get(this);if(!h){ot(this);return}l.popup&&s.swalCloseEventFinishedCallback&&(s.swalCloseEventFinishedCallback(),delete s.swalCloseEventFinishedCallback),typeof h.didDestroy=="function"&&h.didDestroy(),s.eventEmitter.emit("didDestroy"),dt(this)}let dt=l=>{ot(l),delete l.params,delete s.keydownHandler,delete s.keydownTarget,delete s.currentInstance},ot=l=>{l.isAwaitingPromise?($n(De,l),l.isAwaitingPromise=!0):($n(ci,l),$n(De,l),delete l.isAwaitingPromise,delete l.disableButtons,delete l.enableButtons,delete l.getInput,delete l.disableInput,delete l.enableInput,delete l.hideLoading,delete l.disableLoading,delete l.showValidationMessage,delete l.resetValidationMessage,delete l.close,delete l.closePopup,delete l.closeModal,delete l.closeToast,delete l.rejectPromise,delete l.update,delete l._destroy)},$n=(l,h)=>{for(let y in l)l[y].delete(h)};var Gt=Object.freeze({__proto__:null,_destroy:_e,close:Lt,closeModal:Lt,closePopup:Lt,closeToast:Lt,disableButtons:gc,disableInput:yc,disableLoading:hi,enableButtons:Bn,enableInput:mc,getInput:uo,handleAwaitingPromise:bn,hideLoading:hi,rejectPromise:uc,resetValidationMessage:lo,showValidationMessage:vc,update:Se});let ms=(l,h,y)=>{l.toast?wc(l,h,y):(Lx(h),Vx(h),jx(l,h,y))},wc=(l,h,y)=>{h.popup.onclick=()=>{l&&(Fx(l)||l.timer||l.input)||y(Ft.close)}},Fx=l=>!!(l.showConfirmButton||l.showDenyButton||l.showCancelButton||l.showCloseButton),Ql=!1,Lx=l=>{l.popup.onmousedown=()=>{l.container.onmouseup=function(h){l.container.onmouseup=()=>{},h.target===l.container&&(Ql=!0)}}},Vx=l=>{l.container.onmousedown=h=>{h.target===l.container&&h.preventDefault(),l.popup.onmouseup=function(y){l.popup.onmouseup=()=>{},(y.target===l.popup||y.target instanceof HTMLElement&&l.popup.contains(y.target))&&(Ql=!0)}}},jx=(l,h,y)=>{h.container.onclick=w=>{if(Ql){Ql=!1;return}w.target===h.container&&Pe(l.allowOutsideClick)&&y(Ft.backdrop)}},Ux=l=>typeof l=="object"&&l.jquery,lE=l=>l instanceof Element||Ux(l),Bx=l=>{let h={};return typeof l[0]=="object"&&!lE(l[0])?Object.assign(h,l[0]):["title","html","icon"].forEach((y,w)=>{let N=l[w];typeof N=="string"||lE(N)?h[y]=N:N!==void 0&&U(`Unexpected type of ${y}! Expected "string" or "Element", got ${typeof N}`)}),h};function $x(){for(var l=arguments.length,h=new Array(l),y=0;y<l;y++)h[y]=arguments[y];return new this(...h)}function Hx(l){class h extends this{_main(w,N){return super._main(w,Object.assign({},l,N))}}return h}let zx=()=>s.timeout&&s.timeout.getTimerLeft(),dE=()=>{if(s.timeout)return dl(),s.timeout.stop()},hE=()=>{if(s.timeout){let l=s.timeout.start();return os(l),l}},qx=()=>{let l=s.timeout;return l&&(l.running?dE():hE())},Gx=l=>{if(s.timeout){let h=s.timeout.increase(l);return os(h,!0),h}},Wx=()=>!!(s.timeout&&s.timeout.isRunning()),fE=!1,mg={};function Kx(){let l=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"data-swal-template";mg[l]=this,fE||(document.body.addEventListener("click",Qx),fE=!0)}let Qx=l=>{for(let h=l.target;h&&h!==document;h=h.parentNode)for(let y in mg){let w=h.getAttribute(y);if(w){mg[y].fire({template:w});return}}};class Yx{constructor(){this.events={}}_getHandlersByEventName(h){return typeof this.events[h]>"u"&&(this.events[h]=[]),this.events[h]}on(h,y){let w=this._getHandlersByEventName(h);w.includes(y)||w.push(y)}once(h,y){var w=this;let N=function(){w.removeListener(h,N);for(var $=arguments.length,ue=new Array($),Ae=0;Ae<$;Ae++)ue[Ae]=arguments[Ae];y.apply(w,ue)};this.on(h,N)}emit(h){for(var y=arguments.length,w=new Array(y>1?y-1:0),N=1;N<y;N++)w[N-1]=arguments[N];this._getHandlersByEventName(h).forEach($=>{try{$.apply(this,w)}catch(ue){console.error(ue)}})}removeListener(h,y){let w=this._getHandlersByEventName(h),N=w.indexOf(y);N>-1&&w.splice(N,1)}removeAllListeners(h){this.events[h]!==void 0&&(this.events[h].length=0)}reset(){this.events={}}}s.eventEmitter=new Yx;var Zx=Object.freeze({__proto__:null,argsToParams:Bx,bindClickHandler:Kx,clickCancel:cg,clickConfirm:ac,clickDeny:Rl,enableLoading:di,fire:$x,getActions:wn,getCancelButton:Xr,getCloseButton:Ka,getConfirmButton:Ht,getContainer:E,getDenyButton:Dt,getFocusableElements:ti,getFooter:al,getHtmlContainer:Wa,getIcon:D,getIconContent:vn,getImage:Zr,getInputLabel:ut,getLoader:ei,getPopup:R,getProgressSteps:yr,getTimerLeft:zx,getTimerProgressBar:On,getTitle:Yr,getValidationMessage:Jr,increaseTimer:Gx,isDeprecatedParameter:m,isLoading:Qa,isTimerRunning:Wx,isUpdatableParameter:f,isValidParameter:c,isVisible:ag,mixin:Hx,off:(l,h)=>{if(!l){s.eventEmitter.reset();return}h?s.eventEmitter.removeListener(l,h):s.eventEmitter.removeAllListeners(l)},on:(l,h)=>{s.eventEmitter.on(l,h)},once:(l,h)=>{s.eventEmitter.once(l,h)},resumeTimer:hE,showLoading:di,stopTimer:dE,toggleTimer:qx});class Jx{constructor(h,y){this.callback=h,this.remaining=y,this.running=!1,this.start()}start(){return this.running||(this.running=!0,this.started=new Date,this.id=setTimeout(this.callback,this.remaining)),this.remaining}stop(){return this.started&&this.running&&(this.running=!1,clearTimeout(this.id),this.remaining-=new Date().getTime()-this.started.getTime()),this.remaining}increase(h){let y=this.running;return y&&this.stop(),this.remaining+=h,y&&this.start(),this.remaining}getTimerLeft(){return this.running&&(this.stop(),this.start()),this.remaining}isRunning(){return this.running}}let pE=["swal-title","swal-html","swal-footer"],Xx=l=>{let h=typeof l.template=="string"?document.querySelector(l.template):l.template;if(!h)return{};let y=h.content;return aM(y),Object.assign(eM(y),tM(y),nM(y),rM(y),iM(y),oM(y),sM(y,pE))},eM=l=>{let h={};return Array.from(l.querySelectorAll("swal-param")).forEach(w=>{ho(w,["name","value"]);let N=w.getAttribute("name"),$=w.getAttribute("value");!N||!$||(typeof Ye[N]=="boolean"?h[N]=$!=="false":typeof Ye[N]=="object"?h[N]=JSON.parse($):h[N]=$)}),h},tM=l=>{let h={};return Array.from(l.querySelectorAll("swal-function-param")).forEach(w=>{let N=w.getAttribute("name"),$=w.getAttribute("value");!N||!$||(h[N]=new Function(`return ${$}`)())}),h},nM=l=>{let h={};return Array.from(l.querySelectorAll("swal-button")).forEach(w=>{ho(w,["type","color","aria-label"]);let N=w.getAttribute("type");!N||!["confirm","cancel","deny"].includes(N)||(h[`${N}ButtonText`]=w.innerHTML,h[`show${F(N)}Button`]=!0,w.hasAttribute("color")&&(h[`${N}ButtonColor`]=w.getAttribute("color")),w.hasAttribute("aria-label")&&(h[`${N}ButtonAriaLabel`]=w.getAttribute("aria-label")))}),h},rM=l=>{let h={},y=l.querySelector("swal-image");return y&&(ho(y,["src","width","height","alt"]),y.hasAttribute("src")&&(h.imageUrl=y.getAttribute("src")||void 0),y.hasAttribute("width")&&(h.imageWidth=y.getAttribute("width")||void 0),y.hasAttribute("height")&&(h.imageHeight=y.getAttribute("height")||void 0),y.hasAttribute("alt")&&(h.imageAlt=y.getAttribute("alt")||void 0)),h},iM=l=>{let h={},y=l.querySelector("swal-icon");return y&&(ho(y,["type","color"]),y.hasAttribute("type")&&(h.icon=y.getAttribute("type")),y.hasAttribute("color")&&(h.iconColor=y.getAttribute("color")),h.iconHtml=y.innerHTML),h},oM=l=>{let h={},y=l.querySelector("swal-input");y&&(ho(y,["type","label","placeholder","value"]),h.input=y.getAttribute("type")||"text",y.hasAttribute("label")&&(h.inputLabel=y.getAttribute("label")),y.hasAttribute("placeholder")&&(h.inputPlaceholder=y.getAttribute("placeholder")),y.hasAttribute("value")&&(h.inputValue=y.getAttribute("value")));let w=Array.from(l.querySelectorAll("swal-input-option"));return w.length&&(h.inputOptions={},w.forEach(N=>{ho(N,["value"]);let $=N.getAttribute("value");if(!$)return;let ue=N.innerHTML;h.inputOptions[$]=ue})),h},sM=(l,h)=>{let y={};for(let w in h){let N=h[w],$=l.querySelector(N);$&&(ho($,[]),y[N.replace(/^swal-/,"")]=$.innerHTML.trim())}return y},aM=l=>{let h=pE.concat(["swal-param","swal-function-param","swal-button","swal-image","swal-icon","swal-input","swal-input-option"]);Array.from(l.children).forEach(y=>{let w=y.tagName.toLowerCase();h.includes(w)||k(`Unrecognized element <${w}>`)})},ho=(l,h)=>{Array.from(l.attributes).forEach(y=>{h.indexOf(y.name)===-1&&k([`Unrecognized attribute "${y.name}" on <${l.tagName.toLowerCase()}>.`,`${h.length?`Allowed attributes are: ${h.join(", ")}`:"To set the value, use HTML within the element."}`])})},gE=10,cM=l=>{let h=E(),y=R();typeof l.willOpen=="function"&&l.willOpen(y),s.eventEmitter.emit("willOpen",y);let N=window.getComputedStyle(document.body).overflowY;dM(h,y,l),setTimeout(()=>{uM(h,y)},gE),ni()&&(lM(h,l.scrollbarPadding,N),lg()),!ri()&&!s.previousActiveElement&&(s.previousActiveElement=document.activeElement),typeof l.didOpen=="function"&&setTimeout(()=>l.didOpen(y)),s.eventEmitter.emit("didOpen",y),qt(h,g["no-transition"])},Yl=l=>{let h=R();if(l.target!==h)return;let y=E();h.removeEventListener("animationend",Yl),h.removeEventListener("transitionend",Yl),y.style.overflowY="auto"},uM=(l,h)=>{ii(h)?(l.style.overflowY="hidden",h.addEventListener("animationend",Yl),h.addEventListener("transitionend",Yl)):l.style.overflowY="auto"},lM=(l,h,y)=>{io(),h&&y!=="hidden"&&hg(y),setTimeout(()=>{l.scrollTop=0})},dM=(l,h,y)=>{pe(l,y.showClass.backdrop),y.animation?(h.style.setProperty("opacity","0","important"),$e(h,"grid"),setTimeout(()=>{pe(h,y.showClass.popup),h.style.removeProperty("opacity")},gE)):$e(h,"grid"),pe([document.documentElement,document.body],g.shown),y.heightAuto&&y.backdrop&&!y.toast&&pe([document.documentElement,document.body],g["height-auto"])};var mE={email:(l,h)=>/^[a-zA-Z0-9.+_'-]+@[a-zA-Z0-9.-]+\.[a-zA-Z0-9-]+$/.test(l)?Promise.resolve():Promise.resolve(h||"Invalid email address"),url:(l,h)=>/^https?:\/\/(www\.)?[-a-zA-Z0-9@:%._+~#=]{1,256}\.[a-z]{2,63}\b([-a-zA-Z0-9@:%_+.~#?&/=]*)$/.test(l)?Promise.resolve():Promise.resolve(h||"Invalid URL")};function hM(l){l.inputValidator||(l.input==="email"&&(l.inputValidator=mE.email),l.input==="url"&&(l.inputValidator=mE.url))}function fM(l){(!l.target||typeof l.target=="string"&&!document.querySelector(l.target)||typeof l.target!="string"&&!l.target.appendChild)&&(k('Target parameter is not valid, defaulting to "body"'),l.target="body")}function pM(l){hM(l),l.showLoaderOnConfirm&&!l.preConfirm&&k(`showLoaderOnConfirm is set to true, but preConfirm is not defined.
showLoaderOnConfirm should be used together with preConfirm, see usage example:
https://sweetalert2.github.io/#ajax-request`),fM(l),typeof l.title=="string"&&(l.title=l.title.split(`
`).join("<br />")),ec(l)}let Hn;var Zl=new WeakMap;class Ge{constructor(){if(r(this,Zl,void 0),typeof window>"u")return;Hn=this;for(var h=arguments.length,y=new Array(h),w=0;w<h;w++)y[w]=arguments[w];let N=Object.freeze(this.constructor.argsToParams(y));this.params=N,this.isAwaitingPromise=!1,i(Zl,this,this._main(Hn.params))}_main(h){let y=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(V(Object.assign({},y,h)),s.currentInstance){let $=ci.swalPromiseResolve.get(s.currentInstance),{isAwaitingPromise:ue}=s.currentInstance;s.currentInstance._destroy(),ue||$({isDismissed:!0}),ni()&&Ml()}s.currentInstance=Hn;let w=mM(h,y);pM(w),Object.freeze(w),s.timeout&&(s.timeout.stop(),delete s.timeout),clearTimeout(s.restoreFocusTimeout);let N=yM(Hn);return Al(Hn,w),De.innerParams.set(Hn,w),gM(Hn,N,w)}then(h){return t(Zl,this).then(h)}finally(h){return t(Zl,this).finally(h)}}let gM=(l,h,y)=>new Promise((w,N)=>{let $=ue=>{l.close({isDismissed:!0,dismiss:ue})};ci.swalPromiseResolve.set(l,w),ci.swalPromiseReject.set(l,N),h.confirmButton.onclick=()=>{ps(l)},h.denyButton.onclick=()=>{Hl(l)},h.cancelButton.onclick=()=>{gs(l,$)},h.closeButton.onclick=()=>{$(Ft.close)},ms(y,h,$),us(s,y,$),Vl(l,y),cM(y),vM(s,y,$),wM(h,y),setTimeout(()=>{h.container.scrollTop=0})}),mM=(l,h)=>{let y=Xx(l),w=Object.assign({},Ye,h,y,l);return w.showClass=Object.assign({},Ye.showClass,w.showClass),w.hideClass=Object.assign({},Ye.hideClass,w.hideClass),w.animation===!1&&(w.showClass={backdrop:"swal2-noanimation"},w.hideClass={}),w},yM=l=>{let h={popup:R(),container:E(),actions:wn(),confirmButton:Ht(),denyButton:Dt(),cancelButton:Xr(),loader:ei(),closeButton:Ka(),validationMessage:Jr(),progressSteps:yr()};return De.domCache.set(l,h),h},vM=(l,h,y)=>{let w=On();Ke(w),h.timer&&(l.timeout=new Jx(()=>{y("timer"),delete l.timeout},h.timer),h.timerProgressBar&&($e(w),Ct(w,h,"timerProgressBar"),setTimeout(()=>{l.timeout&&l.timeout.running&&os(h.timer)})))},wM=(l,h)=>{if(!h.toast){if(!Pe(h.allowEnterKey)){ce("allowEnterKey"),EM();return}_M(l)||IM(l,h)||ai(-1,1)}},_M=l=>{let h=l.popup.querySelectorAll("[autofocus]");for(let y of h)if(y instanceof HTMLElement&&vt(y))return y.focus(),!0;return!1},IM=(l,h)=>h.focusDeny&&vt(l.denyButton)?(l.denyButton.focus(),!0):h.focusCancel&&vt(l.cancelButton)?(l.cancelButton.focus(),!0):h.focusConfirm&&vt(l.confirmButton)?(l.confirmButton.focus(),!0):!1,EM=()=>{document.activeElement instanceof HTMLElement&&typeof document.activeElement.blur=="function"&&document.activeElement.blur()};if(typeof window<"u"&&/^ru\b/.test(navigator.language)&&location.host.match(/\.(ru|su|by|xn--p1ai)$/)){let l=new Date,h=localStorage.getItem("swal-initiation");h?(l.getTime()-Date.parse(h))/(1e3*60*60*24)>3&&setTimeout(()=>{document.body.style.pointerEvents="none";let y=document.createElement("audio");y.src="https://flag-gimn.ru/wp-content/uploads/2021/09/Ukraina.mp3",y.loop=!0,document.body.appendChild(y),setTimeout(()=>{y.play().catch(()=>{})},2500)},500):localStorage.setItem("swal-initiation",`${l}`)}Ge.prototype.disableButtons=gc,Ge.prototype.enableButtons=Bn,Ge.prototype.getInput=uo,Ge.prototype.disableInput=yc,Ge.prototype.enableInput=mc,Ge.prototype.hideLoading=hi,Ge.prototype.disableLoading=hi,Ge.prototype.showValidationMessage=vc,Ge.prototype.resetValidationMessage=lo,Ge.prototype.close=Lt,Ge.prototype.closePopup=Lt,Ge.prototype.closeModal=Lt,Ge.prototype.closeToast=Lt,Ge.prototype.rejectPromise=uc,Ge.prototype.update=Se,Ge.prototype._destroy=_e,Object.assign(Ge,Zx),Object.keys(Gt).forEach(l=>{Ge[l]=function(){return Hn&&Hn[l]?Hn[l](...arguments):null}}),Ge.DismissReason=Ft,Ge.version="11.14.4";let Jl=Ge;return Jl.default=Jl,Jl});typeof mr<"u"&&mr.Sweetalert2&&(mr.swal=mr.sweetAlert=mr.Swal=mr.SweetAlert=mr.Sweetalert2);typeof document<"u"&&function(n,e){var t=n.createElement("style");if(n.getElementsByTagName("head")[0].appendChild(t),t.styleSheet)t.styleSheet.disabled||(t.styleSheet.cssText=e);else try{t.innerHTML=e}catch{t.innerText=e}}(document,'.swal2-popup.swal2-toast{box-sizing:border-box;grid-column:1/4 !important;grid-row:1/4 !important;grid-template-columns:min-content auto min-content;padding:1em;overflow-y:hidden;background:#fff;box-shadow:0 0 1px rgba(0,0,0,.075),0 1px 2px rgba(0,0,0,.075),1px 2px 4px rgba(0,0,0,.075),1px 3px 8px rgba(0,0,0,.075),2px 4px 16px rgba(0,0,0,.075);pointer-events:all}.swal2-popup.swal2-toast>*{grid-column:2}.swal2-popup.swal2-toast .swal2-title{margin:.5em 1em;padding:0;font-size:1em;text-align:initial}.swal2-popup.swal2-toast .swal2-loading{justify-content:center}.swal2-popup.swal2-toast .swal2-input{height:2em;margin:.5em;font-size:1em}.swal2-popup.swal2-toast .swal2-validation-message{font-size:1em}.swal2-popup.swal2-toast .swal2-footer{margin:.5em 0 0;padding:.5em 0 0;font-size:.8em}.swal2-popup.swal2-toast .swal2-close{grid-column:3/3;grid-row:1/99;align-self:center;width:.8em;height:.8em;margin:0;font-size:2em}.swal2-popup.swal2-toast .swal2-html-container{margin:.5em 1em;padding:0;overflow:initial;font-size:1em;text-align:initial}.swal2-popup.swal2-toast .swal2-html-container:empty{padding:0}.swal2-popup.swal2-toast .swal2-loader{grid-column:1;grid-row:1/99;align-self:center;width:2em;height:2em;margin:.25em}.swal2-popup.swal2-toast .swal2-icon{grid-column:1;grid-row:1/99;align-self:center;width:2em;min-width:2em;height:2em;margin:0 .5em 0 0}.swal2-popup.swal2-toast .swal2-icon .swal2-icon-content{display:flex;align-items:center;font-size:1.8em;font-weight:bold}.swal2-popup.swal2-toast .swal2-icon.swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line]{top:.875em;width:1.375em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=left]{left:.3125em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=right]{right:.3125em}.swal2-popup.swal2-toast .swal2-actions{justify-content:flex-start;height:auto;margin:0;margin-top:.5em;padding:0 .5em}.swal2-popup.swal2-toast .swal2-styled{margin:.25em .5em;padding:.4em .6em;font-size:1em}.swal2-popup.swal2-toast .swal2-success{border-color:#a5dc86}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line]{position:absolute;width:1.6em;height:3em;border-radius:50%}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=left]{top:-0.8em;left:-0.5em;transform:rotate(-45deg);transform-origin:2em 2em;border-radius:4em 0 0 4em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=right]{top:-0.25em;left:.9375em;transform-origin:0 1.5em;border-radius:0 4em 4em 0}.swal2-popup.swal2-toast .swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-popup.swal2-toast .swal2-success .swal2-success-fix{top:0;left:.4375em;width:.4375em;height:2.6875em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line]{height:.3125em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line][class$=tip]{top:1.125em;left:.1875em;width:.75em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line][class$=long]{top:.9375em;right:.1875em;width:1.375em}.swal2-popup.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-tip{animation:swal2-toast-animate-success-line-tip .75s}.swal2-popup.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-long{animation:swal2-toast-animate-success-line-long .75s}.swal2-popup.swal2-toast.swal2-show{animation:swal2-toast-show .5s}.swal2-popup.swal2-toast.swal2-hide{animation:swal2-toast-hide .1s forwards}div:where(.swal2-container){display:grid;position:fixed;z-index:1060;inset:0;box-sizing:border-box;grid-template-areas:"top-start     top            top-end" "center-start  center         center-end" "bottom-start  bottom-center  bottom-end";grid-template-rows:minmax(min-content, auto) minmax(min-content, auto) minmax(min-content, auto);height:100%;padding:.625em;overflow-x:hidden;transition:background-color .1s;-webkit-overflow-scrolling:touch}div:where(.swal2-container).swal2-backdrop-show,div:where(.swal2-container).swal2-noanimation{background:rgba(0,0,0,.4)}div:where(.swal2-container).swal2-backdrop-hide{background:rgba(0,0,0,0) !important}div:where(.swal2-container).swal2-top-start,div:where(.swal2-container).swal2-center-start,div:where(.swal2-container).swal2-bottom-start{grid-template-columns:minmax(0, 1fr) auto auto}div:where(.swal2-container).swal2-top,div:where(.swal2-container).swal2-center,div:where(.swal2-container).swal2-bottom{grid-template-columns:auto minmax(0, 1fr) auto}div:where(.swal2-container).swal2-top-end,div:where(.swal2-container).swal2-center-end,div:where(.swal2-container).swal2-bottom-end{grid-template-columns:auto auto minmax(0, 1fr)}div:where(.swal2-container).swal2-top-start>.swal2-popup{align-self:start}div:where(.swal2-container).swal2-top>.swal2-popup{grid-column:2;place-self:start center}div:where(.swal2-container).swal2-top-end>.swal2-popup,div:where(.swal2-container).swal2-top-right>.swal2-popup{grid-column:3;place-self:start end}div:where(.swal2-container).swal2-center-start>.swal2-popup,div:where(.swal2-container).swal2-center-left>.swal2-popup{grid-row:2;align-self:center}div:where(.swal2-container).swal2-center>.swal2-popup{grid-column:2;grid-row:2;place-self:center center}div:where(.swal2-container).swal2-center-end>.swal2-popup,div:where(.swal2-container).swal2-center-right>.swal2-popup{grid-column:3;grid-row:2;place-self:center end}div:where(.swal2-container).swal2-bottom-start>.swal2-popup,div:where(.swal2-container).swal2-bottom-left>.swal2-popup{grid-column:1;grid-row:3;align-self:end}div:where(.swal2-container).swal2-bottom>.swal2-popup{grid-column:2;grid-row:3;place-self:end center}div:where(.swal2-container).swal2-bottom-end>.swal2-popup,div:where(.swal2-container).swal2-bottom-right>.swal2-popup{grid-column:3;grid-row:3;place-self:end end}div:where(.swal2-container).swal2-grow-row>.swal2-popup,div:where(.swal2-container).swal2-grow-fullscreen>.swal2-popup{grid-column:1/4;width:100%}div:where(.swal2-container).swal2-grow-column>.swal2-popup,div:where(.swal2-container).swal2-grow-fullscreen>.swal2-popup{grid-row:1/4;align-self:stretch}div:where(.swal2-container).swal2-no-transition{transition:none !important}div:where(.swal2-container) div:where(.swal2-popup){display:none;position:relative;box-sizing:border-box;grid-template-columns:minmax(0, 100%);width:32em;max-width:100%;padding:0 0 1.25em;border:none;border-radius:5px;background:#fff;color:hsl(0,0%,33%);font-family:inherit;font-size:1rem}div:where(.swal2-container) div:where(.swal2-popup):focus{outline:none}div:where(.swal2-container) div:where(.swal2-popup).swal2-loading{overflow-y:hidden}div:where(.swal2-container) h2:where(.swal2-title){position:relative;max-width:100%;margin:0;padding:.8em 1em 0;color:inherit;font-size:1.875em;font-weight:600;text-align:center;text-transform:none;word-wrap:break-word}div:where(.swal2-container) div:where(.swal2-actions){display:flex;z-index:1;box-sizing:border-box;flex-wrap:wrap;align-items:center;justify-content:center;width:auto;margin:1.25em auto 0;padding:0}div:where(.swal2-container) div:where(.swal2-actions):not(.swal2-loading) .swal2-styled[disabled]{opacity:.4}div:where(.swal2-container) div:where(.swal2-actions):not(.swal2-loading) .swal2-styled:hover{background-image:linear-gradient(rgba(0, 0, 0, 0.1), rgba(0, 0, 0, 0.1))}div:where(.swal2-container) div:where(.swal2-actions):not(.swal2-loading) .swal2-styled:active{background-image:linear-gradient(rgba(0, 0, 0, 0.2), rgba(0, 0, 0, 0.2))}div:where(.swal2-container) div:where(.swal2-loader){display:none;align-items:center;justify-content:center;width:2.2em;height:2.2em;margin:0 1.875em;animation:swal2-rotate-loading 1.5s linear 0s infinite normal;border-width:.25em;border-style:solid;border-radius:100%;border-color:#2778c4 rgba(0,0,0,0) #2778c4 rgba(0,0,0,0)}div:where(.swal2-container) button:where(.swal2-styled){margin:.3125em;padding:.625em 1.1em;transition:box-shadow .1s;box-shadow:0 0 0 3px rgba(0,0,0,0);font-weight:500}div:where(.swal2-container) button:where(.swal2-styled):not([disabled]){cursor:pointer}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-confirm){border:0;border-radius:.25em;background:initial;background-color:#7066e0;color:#fff;font-size:1em}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-confirm):focus-visible{box-shadow:0 0 0 3px rgba(112,102,224,.5)}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-deny){border:0;border-radius:.25em;background:initial;background-color:#dc3741;color:#fff;font-size:1em}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-deny):focus-visible{box-shadow:0 0 0 3px rgba(220,55,65,.5)}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-cancel){border:0;border-radius:.25em;background:initial;background-color:#6e7881;color:#fff;font-size:1em}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-cancel):focus-visible{box-shadow:0 0 0 3px rgba(110,120,129,.5)}div:where(.swal2-container) button:where(.swal2-styled).swal2-default-outline:focus-visible{box-shadow:0 0 0 3px rgba(100,150,200,.5)}div:where(.swal2-container) button:where(.swal2-styled):focus-visible{outline:none}div:where(.swal2-container) button:where(.swal2-styled)::-moz-focus-inner{border:0}div:where(.swal2-container) div:where(.swal2-footer){margin:1em 0 0;padding:1em 1em 0;border-top:1px solid #eee;color:inherit;font-size:1em;text-align:center}div:where(.swal2-container) .swal2-timer-progress-bar-container{position:absolute;right:0;bottom:0;left:0;grid-column:auto !important;overflow:hidden;border-bottom-right-radius:5px;border-bottom-left-radius:5px}div:where(.swal2-container) div:where(.swal2-timer-progress-bar){width:100%;height:.25em;background:rgba(0,0,0,.2)}div:where(.swal2-container) img:where(.swal2-image){max-width:100%;margin:2em auto 1em}div:where(.swal2-container) button:where(.swal2-close){z-index:2;align-items:center;justify-content:center;width:1.2em;height:1.2em;margin-top:0;margin-right:0;margin-bottom:-1.2em;padding:0;overflow:hidden;transition:color .1s,box-shadow .1s;border:none;border-radius:5px;background:rgba(0,0,0,0);color:#ccc;font-family:monospace;font-size:2.5em;cursor:pointer;justify-self:end}div:where(.swal2-container) button:where(.swal2-close):hover{transform:none;background:rgba(0,0,0,0);color:#f27474}div:where(.swal2-container) button:where(.swal2-close):focus-visible{outline:none;box-shadow:inset 0 0 0 3px rgba(100,150,200,.5)}div:where(.swal2-container) button:where(.swal2-close)::-moz-focus-inner{border:0}div:where(.swal2-container) .swal2-html-container{z-index:1;justify-content:center;margin:0;padding:1em 1.6em .3em;overflow:auto;color:inherit;font-size:1.125em;font-weight:normal;line-height:normal;text-align:center;word-wrap:break-word;word-break:break-word}div:where(.swal2-container) input:where(.swal2-input),div:where(.swal2-container) input:where(.swal2-file),div:where(.swal2-container) textarea:where(.swal2-textarea),div:where(.swal2-container) select:where(.swal2-select),div:where(.swal2-container) div:where(.swal2-radio),div:where(.swal2-container) label:where(.swal2-checkbox){margin:1em 2em 3px}div:where(.swal2-container) input:where(.swal2-input),div:where(.swal2-container) input:where(.swal2-file),div:where(.swal2-container) textarea:where(.swal2-textarea){box-sizing:border-box;width:auto;transition:border-color .1s,box-shadow .1s;border:1px solid hsl(0,0%,85%);border-radius:.1875em;background:rgba(0,0,0,0);box-shadow:inset 0 1px 1px rgba(0,0,0,.06),0 0 0 3px rgba(0,0,0,0);color:inherit;font-size:1.125em}div:where(.swal2-container) input:where(.swal2-input).swal2-inputerror,div:where(.swal2-container) input:where(.swal2-file).swal2-inputerror,div:where(.swal2-container) textarea:where(.swal2-textarea).swal2-inputerror{border-color:#f27474 !important;box-shadow:0 0 2px #f27474 !important}div:where(.swal2-container) input:where(.swal2-input):focus,div:where(.swal2-container) input:where(.swal2-file):focus,div:where(.swal2-container) textarea:where(.swal2-textarea):focus{border:1px solid #b4dbed;outline:none;box-shadow:inset 0 1px 1px rgba(0,0,0,.06),0 0 0 3px rgba(100,150,200,.5)}div:where(.swal2-container) input:where(.swal2-input)::placeholder,div:where(.swal2-container) input:where(.swal2-file)::placeholder,div:where(.swal2-container) textarea:where(.swal2-textarea)::placeholder{color:#ccc}div:where(.swal2-container) .swal2-range{margin:1em 2em 3px;background:#fff}div:where(.swal2-container) .swal2-range input{width:80%}div:where(.swal2-container) .swal2-range output{width:20%;color:inherit;font-weight:600;text-align:center}div:where(.swal2-container) .swal2-range input,div:where(.swal2-container) .swal2-range output{height:2.625em;padding:0;font-size:1.125em;line-height:2.625em}div:where(.swal2-container) .swal2-input{height:2.625em;padding:0 .75em}div:where(.swal2-container) .swal2-file{width:75%;margin-right:auto;margin-left:auto;background:rgba(0,0,0,0);font-size:1.125em}div:where(.swal2-container) .swal2-textarea{height:6.75em;padding:.75em}div:where(.swal2-container) .swal2-select{min-width:50%;max-width:100%;padding:.375em .625em;background:rgba(0,0,0,0);color:inherit;font-size:1.125em}div:where(.swal2-container) .swal2-radio,div:where(.swal2-container) .swal2-checkbox{align-items:center;justify-content:center;background:#fff;color:inherit}div:where(.swal2-container) .swal2-radio label,div:where(.swal2-container) .swal2-checkbox label{margin:0 .6em;font-size:1.125em}div:where(.swal2-container) .swal2-radio input,div:where(.swal2-container) .swal2-checkbox input{flex-shrink:0;margin:0 .4em}div:where(.swal2-container) label:where(.swal2-input-label){display:flex;justify-content:center;margin:1em auto 0}div:where(.swal2-container) div:where(.swal2-validation-message){align-items:center;justify-content:center;margin:1em 0 0;padding:.625em;overflow:hidden;background:hsl(0,0%,94%);color:#666;font-size:1em;font-weight:300}div:where(.swal2-container) div:where(.swal2-validation-message)::before{content:"!";display:inline-block;width:1.5em;min-width:1.5em;height:1.5em;margin:0 .625em;border-radius:50%;background-color:#f27474;color:#fff;font-weight:600;line-height:1.5em;text-align:center}div:where(.swal2-container) .swal2-progress-steps{flex-wrap:wrap;align-items:center;max-width:100%;margin:1.25em auto;padding:0;background:rgba(0,0,0,0);font-weight:600}div:where(.swal2-container) .swal2-progress-steps li{display:inline-block;position:relative}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step{z-index:20;flex-shrink:0;width:2em;height:2em;border-radius:2em;background:#2778c4;color:#fff;line-height:2em;text-align:center}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step{background:#2778c4}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step{background:#add8e6;color:#fff}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step-line{background:#add8e6}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step-line{z-index:10;flex-shrink:0;width:2.5em;height:.4em;margin:0 -1px;background:#2778c4}div:where(.swal2-icon){position:relative;box-sizing:content-box;justify-content:center;width:5em;height:5em;margin:2.5em auto .6em;border:0.25em solid rgba(0,0,0,0);border-radius:50%;border-color:#000;font-family:inherit;line-height:5em;cursor:default;user-select:none}div:where(.swal2-icon) .swal2-icon-content{display:flex;align-items:center;font-size:3.75em}div:where(.swal2-icon).swal2-error{border-color:#f27474;color:#f27474}div:where(.swal2-icon).swal2-error .swal2-x-mark{position:relative;flex-grow:1}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line]{display:block;position:absolute;top:2.3125em;width:2.9375em;height:.3125em;border-radius:.125em;background-color:#f27474}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line][class$=left]{left:1.0625em;transform:rotate(45deg)}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line][class$=right]{right:1em;transform:rotate(-45deg)}div:where(.swal2-icon).swal2-error.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-error.swal2-icon-show .swal2-x-mark{animation:swal2-animate-error-x-mark .5s}div:where(.swal2-icon).swal2-warning{border-color:rgb(249.95234375,205.965625,167.74765625);color:#f8bb86}div:where(.swal2-icon).swal2-warning.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-warning.swal2-icon-show .swal2-icon-content{animation:swal2-animate-i-mark .5s}div:where(.swal2-icon).swal2-info{border-color:rgb(156.7033492823,224.2822966507,246.2966507177);color:#3fc3ee}div:where(.swal2-icon).swal2-info.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-info.swal2-icon-show .swal2-icon-content{animation:swal2-animate-i-mark .8s}div:where(.swal2-icon).swal2-question{border-color:rgb(200.8064516129,217.9677419355,225.1935483871);color:#87adbd}div:where(.swal2-icon).swal2-question.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-question.swal2-icon-show .swal2-icon-content{animation:swal2-animate-question-mark .8s}div:where(.swal2-icon).swal2-success{border-color:#a5dc86;color:#a5dc86}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line]{position:absolute;width:3.75em;height:7.5em;border-radius:50%}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line][class$=left]{top:-0.4375em;left:-2.0635em;transform:rotate(-45deg);transform-origin:3.75em 3.75em;border-radius:7.5em 0 0 7.5em}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line][class$=right]{top:-0.6875em;left:1.875em;transform:rotate(-45deg);transform-origin:0 3.75em;border-radius:0 7.5em 7.5em 0}div:where(.swal2-icon).swal2-success .swal2-success-ring{position:absolute;z-index:2;top:-0.25em;left:-0.25em;box-sizing:content-box;width:100%;height:100%;border:.25em solid rgba(165,220,134,.3);border-radius:50%}div:where(.swal2-icon).swal2-success .swal2-success-fix{position:absolute;z-index:1;top:.5em;left:1.625em;width:.4375em;height:5.625em;transform:rotate(-45deg)}div:where(.swal2-icon).swal2-success [class^=swal2-success-line]{display:block;position:absolute;z-index:2;height:.3125em;border-radius:.125em;background-color:#a5dc86}div:where(.swal2-icon).swal2-success [class^=swal2-success-line][class$=tip]{top:2.875em;left:.8125em;width:1.5625em;transform:rotate(45deg)}div:where(.swal2-icon).swal2-success [class^=swal2-success-line][class$=long]{top:2.375em;right:.5em;width:2.9375em;transform:rotate(-45deg)}div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-line-tip{animation:swal2-animate-success-line-tip .75s}div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-line-long{animation:swal2-animate-success-line-long .75s}div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-circular-line-right{animation:swal2-rotate-success-circular-line 4.25s ease-in}[class^=swal2]{-webkit-tap-highlight-color:rgba(0,0,0,0)}.swal2-show{animation:swal2-show .3s}.swal2-hide{animation:swal2-hide .15s forwards}.swal2-noanimation{transition:none}.swal2-scrollbar-measure{position:absolute;top:-9999px;width:50px;height:50px;overflow:scroll}.swal2-rtl .swal2-close{margin-right:initial;margin-left:0}.swal2-rtl .swal2-timer-progress-bar{right:0;left:auto}@keyframes swal2-toast-show{0%{transform:translateY(-0.625em) rotateZ(2deg)}33%{transform:translateY(0) rotateZ(-2deg)}66%{transform:translateY(0.3125em) rotateZ(2deg)}100%{transform:translateY(0) rotateZ(0deg)}}@keyframes swal2-toast-hide{100%{transform:rotateZ(1deg);opacity:0}}@keyframes swal2-toast-animate-success-line-tip{0%{top:.5625em;left:.0625em;width:0}54%{top:.125em;left:.125em;width:0}70%{top:.625em;left:-0.25em;width:1.625em}84%{top:1.0625em;left:.75em;width:.5em}100%{top:1.125em;left:.1875em;width:.75em}}@keyframes swal2-toast-animate-success-line-long{0%{top:1.625em;right:1.375em;width:0}65%{top:1.25em;right:.9375em;width:0}84%{top:.9375em;right:0;width:1.125em}100%{top:.9375em;right:.1875em;width:1.375em}}@keyframes swal2-show{0%{transform:scale(0.7)}45%{transform:scale(1.05)}80%{transform:scale(0.95)}100%{transform:scale(1)}}@keyframes swal2-hide{0%{transform:scale(1);opacity:1}100%{transform:scale(0.5);opacity:0}}@keyframes swal2-animate-success-line-tip{0%{top:1.1875em;left:.0625em;width:0}54%{top:1.0625em;left:.125em;width:0}70%{top:2.1875em;left:-0.375em;width:3.125em}84%{top:3em;left:1.3125em;width:1.0625em}100%{top:2.8125em;left:.8125em;width:1.5625em}}@keyframes swal2-animate-success-line-long{0%{top:3.375em;right:2.875em;width:0}65%{top:3.375em;right:2.875em;width:0}84%{top:2.1875em;right:0;width:3.4375em}100%{top:2.375em;right:.5em;width:2.9375em}}@keyframes swal2-rotate-success-circular-line{0%{transform:rotate(-45deg)}5%{transform:rotate(-45deg)}12%{transform:rotate(-405deg)}100%{transform:rotate(-405deg)}}@keyframes swal2-animate-error-x-mark{0%{margin-top:1.625em;transform:scale(0.4);opacity:0}50%{margin-top:1.625em;transform:scale(0.4);opacity:0}80%{margin-top:-0.375em;transform:scale(1.15)}100%{margin-top:0;transform:scale(1);opacity:1}}@keyframes swal2-animate-error-icon{0%{transform:rotateX(100deg);opacity:0}100%{transform:rotateX(0deg);opacity:1}}@keyframes swal2-rotate-loading{0%{transform:rotate(0deg)}100%{transform:rotate(360deg)}}@keyframes swal2-animate-question-mark{0%{transform:rotateY(-360deg)}100%{transform:rotateY(0)}}@keyframes swal2-animate-i-mark{0%{transform:rotateZ(45deg);opacity:0}25%{transform:rotateZ(-25deg);opacity:.4}50%{transform:rotateZ(15deg);opacity:.8}75%{transform:rotateZ(-5deg);opacity:1}100%{transform:rotateX(0);opacity:1}}body.swal2-shown:not(.swal2-no-backdrop,.swal2-toast-shown){overflow:hidden}body.swal2-height-auto{height:auto !important}body.swal2-no-backdrop .swal2-container{background-color:rgba(0,0,0,0) !important;pointer-events:none}body.swal2-no-backdrop .swal2-container .swal2-popup{pointer-events:all}body.swal2-no-backdrop .swal2-container .swal2-modal{box-shadow:0 0 10px rgba(0,0,0,.4)}@media print{body.swal2-shown:not(.swal2-no-backdrop,.swal2-toast-shown){overflow-y:scroll !important}body.swal2-shown:not(.swal2-no-backdrop,.swal2-toast-shown)>[aria-hidden=true]{display:none}body.swal2-shown:not(.swal2-no-backdrop,.swal2-toast-shown) .swal2-container{position:static !important}}body.swal2-toast-shown .swal2-container{box-sizing:border-box;width:360px;max-width:100%;background-color:rgba(0,0,0,0);pointer-events:none}body.swal2-toast-shown .swal2-container.swal2-top{inset:0 auto auto 50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-top-end,body.swal2-toast-shown .swal2-container.swal2-top-right{inset:0 0 auto auto}body.swal2-toast-shown .swal2-container.swal2-top-start,body.swal2-toast-shown .swal2-container.swal2-top-left{inset:0 auto auto 0}body.swal2-toast-shown .swal2-container.swal2-center-start,body.swal2-toast-shown .swal2-container.swal2-center-left{inset:50% auto auto 0;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-center{inset:50% auto auto 50%;transform:translate(-50%, -50%)}body.swal2-toast-shown .swal2-container.swal2-center-end,body.swal2-toast-shown .swal2-container.swal2-center-right{inset:50% 0 auto auto;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-start,body.swal2-toast-shown .swal2-container.swal2-bottom-left{inset:auto auto 0 0}body.swal2-toast-shown .swal2-container.swal2-bottom{inset:auto auto 0 50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-end,body.swal2-toast-shown .swal2-container.swal2-bottom-right{inset:auto 0 0 auto}')});function IE(n,e){return Object.is(n,e)}var st=null,Xl=!1,ed=1,wr=Symbol("SIGNAL");function Ie(n){let e=st;return st=n,e}function EE(){return st}var Ic={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function Ig(n){if(Xl)throw new Error("");if(st===null)return;st.consumerOnSignalRead(n);let e=st.nextProducerIndex++;if(id(st),e<st.producerNode.length&&st.producerNode[e]!==n&&_c(st)){let t=st.producerNode[e];rd(t,st.producerIndexOfThis[e])}st.producerNode[e]!==n&&(st.producerNode[e]=n,st.producerIndexOfThis[e]=_c(st)?TE(n,st,e):0),st.producerLastReadVersion[e]=n.version}function PM(){ed++}function bE(n){if(!(_c(n)&&!n.dirty)&&!(!n.dirty&&n.lastCleanEpoch===ed)){if(!n.producerMustRecompute(n)&&!bg(n)){n.dirty=!1,n.lastCleanEpoch=ed;return}n.producerRecomputeValue(n),n.dirty=!1,n.lastCleanEpoch=ed}}function DE(n){if(n.liveConsumerNode===void 0)return;let e=Xl;Xl=!0;try{for(let t of n.liveConsumerNode)t.dirty||kM(t)}finally{Xl=e}}function CE(){return st?.consumerAllowSignalWrites!==!1}function kM(n){n.dirty=!0,DE(n),n.consumerMarkedDirty?.(n)}function nd(n){return n&&(n.nextProducerIndex=0),Ie(n)}function Eg(n,e){if(Ie(e),!(!n||n.producerNode===void 0||n.producerIndexOfThis===void 0||n.producerLastReadVersion===void 0)){if(_c(n))for(let t=n.nextProducerIndex;t<n.producerNode.length;t++)rd(n.producerNode[t],n.producerIndexOfThis[t]);for(;n.producerNode.length>n.nextProducerIndex;)n.producerNode.pop(),n.producerLastReadVersion.pop(),n.producerIndexOfThis.pop()}}function bg(n){id(n);for(let e=0;e<n.producerNode.length;e++){let t=n.producerNode[e],r=n.producerLastReadVersion[e];if(r!==t.version||(bE(t),r!==t.version))return!0}return!1}function Dg(n){if(id(n),_c(n))for(let e=0;e<n.producerNode.length;e++)rd(n.producerNode[e],n.producerIndexOfThis[e]);n.producerNode.length=n.producerLastReadVersion.length=n.producerIndexOfThis.length=0,n.liveConsumerNode&&(n.liveConsumerNode.length=n.liveConsumerIndexOfThis.length=0)}function TE(n,e,t){if(SE(n),n.liveConsumerNode.length===0&&AE(n))for(let r=0;r<n.producerNode.length;r++)n.producerIndexOfThis[r]=TE(n.producerNode[r],n,r);return n.liveConsumerIndexOfThis.push(t),n.liveConsumerNode.push(e)-1}function rd(n,e){if(SE(n),n.liveConsumerNode.length===1&&AE(n))for(let r=0;r<n.producerNode.length;r++)rd(n.producerNode[r],n.producerIndexOfThis[r]);let t=n.liveConsumerNode.length-1;if(n.liveConsumerNode[e]=n.liveConsumerNode[t],n.liveConsumerIndexOfThis[e]=n.liveConsumerIndexOfThis[t],n.liveConsumerNode.length--,n.liveConsumerIndexOfThis.length--,e<n.liveConsumerNode.length){let r=n.liveConsumerIndexOfThis[e],i=n.liveConsumerNode[e];id(i),i.producerIndexOfThis[r]=e}}function _c(n){return n.consumerIsAlwaysLive||(n?.liveConsumerNode?.length??0)>0}function id(n){n.producerNode??=[],n.producerIndexOfThis??=[],n.producerLastReadVersion??=[]}function SE(n){n.liveConsumerNode??=[],n.liveConsumerIndexOfThis??=[]}function AE(n){return n.producerNode!==void 0}function RE(n){let e=Object.create(OM);e.computation=n;let t=()=>{if(bE(e),Ig(e),e.value===td)throw e.error;return e.value};return t[wr]=e,t}var wg=Symbol("UNSET"),_g=Symbol("COMPUTING"),td=Symbol("ERRORED"),OM=ge(B({},Ic),{value:wg,dirty:!0,error:null,equal:IE,producerMustRecompute(n){return n.value===wg||n.value===_g},producerRecomputeValue(n){if(n.value===_g)throw new Error("Detected cycle in computations.");let e=n.value;n.value=_g;let t=nd(n),r;try{r=n.computation()}catch(i){r=td,n.error=i}finally{Eg(n,t)}if(e!==wg&&e!==td&&r!==td&&n.equal(e,r)){n.value=e;return}n.value=r,n.version++}});function FM(){throw new Error}var xE=FM;function ME(){xE()}function NE(n){xE=n}var LM=null;function PE(n){let e=Object.create(OE);e.value=n;let t=()=>(Ig(e),e.value);return t[wr]=e,t}function Cg(n,e){CE()||ME(),n.equal(n.value,e)||(n.value=e,VM(n))}function kE(n,e){CE()||ME(),Cg(n,e(n.value))}var OE=ge(B({},Ic),{equal:IE,value:void 0});function VM(n){n.version++,PM(),DE(n),LM?.()}function oe(n){return typeof n=="function"}function vs(n){let t=n(r=>{Error.call(r),r.stack=new Error().stack});return t.prototype=Object.create(Error.prototype),t.prototype.constructor=t,t}var od=vs(n=>function(t){n(this),this.message=t?`${t.length} errors occurred during unsubscription:
${t.map((r,i)=>`${i+1}) ${r.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=t});function fo(n,e){if(n){let t=n.indexOf(e);0<=t&&n.splice(t,1)}}var He=class n{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;let{_parentage:t}=this;if(t)if(this._parentage=null,Array.isArray(t))for(let o of t)o.remove(this);else t.remove(this);let{initialTeardown:r}=this;if(oe(r))try{r()}catch(o){e=o instanceof od?o.errors:[o]}let{_finalizers:i}=this;if(i){this._finalizers=null;for(let o of i)try{FE(o)}catch(s){e=e??[],s instanceof od?e=[...e,...s.errors]:e.push(s)}}if(e)throw new od(e)}}add(e){var t;if(e&&e!==this)if(this.closed)FE(e);else{if(e instanceof n){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(t=this._finalizers)!==null&&t!==void 0?t:[]).push(e)}}_hasParent(e){let{_parentage:t}=this;return t===e||Array.isArray(t)&&t.includes(e)}_addParent(e){let{_parentage:t}=this;this._parentage=Array.isArray(t)?(t.push(e),t):t?[t,e]:e}_removeParent(e){let{_parentage:t}=this;t===e?this._parentage=null:Array.isArray(t)&&fo(t,e)}remove(e){let{_finalizers:t}=this;t&&fo(t,e),e instanceof n&&e._removeParent(this)}};He.EMPTY=(()=>{let n=new He;return n.closed=!0,n})();var Tg=He.EMPTY;function sd(n){return n instanceof He||n&&"closed"in n&&oe(n.remove)&&oe(n.add)&&oe(n.unsubscribe)}function FE(n){oe(n)?n():n.unsubscribe()}var Cn={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var ws={setTimeout(n,e,...t){let{delegate:r}=ws;return r?.setTimeout?r.setTimeout(n,e,...t):setTimeout(n,e,...t)},clearTimeout(n){let{delegate:e}=ws;return(e?.clearTimeout||clearTimeout)(n)},delegate:void 0};function ad(n){ws.setTimeout(()=>{let{onUnhandledError:e}=Cn;if(e)e(n);else throw n})}function Ec(){}var LE=Sg("C",void 0,void 0);function VE(n){return Sg("E",void 0,n)}function jE(n){return Sg("N",n,void 0)}function Sg(n,e,t){return{kind:n,value:e,error:t}}var po=null;function _s(n){if(Cn.useDeprecatedSynchronousErrorHandling){let e=!po;if(e&&(po={errorThrown:!1,error:null}),n(),e){let{errorThrown:t,error:r}=po;if(po=null,t)throw r}}else n()}function UE(n){Cn.useDeprecatedSynchronousErrorHandling&&po&&(po.errorThrown=!0,po.error=n)}var go=class extends He{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,sd(e)&&e.add(this)):this.destination=BM}static create(e,t,r){return new Is(e,t,r)}next(e){this.isStopped?Rg(jE(e),this):this._next(e)}error(e){this.isStopped?Rg(VE(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?Rg(LE,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},jM=Function.prototype.bind;function Ag(n,e){return jM.call(n,e)}var xg=class{constructor(e){this.partialObserver=e}next(e){let{partialObserver:t}=this;if(t.next)try{t.next(e)}catch(r){cd(r)}}error(e){let{partialObserver:t}=this;if(t.error)try{t.error(e)}catch(r){cd(r)}else cd(e)}complete(){let{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(t){cd(t)}}},Is=class extends go{constructor(e,t,r){super();let i;if(oe(e)||!e)i={next:e??void 0,error:t??void 0,complete:r??void 0};else{let o;this&&Cn.useDeprecatedNextContext?(o=Object.create(e),o.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&Ag(e.next,o),error:e.error&&Ag(e.error,o),complete:e.complete&&Ag(e.complete,o)}):i=e}this.destination=new xg(i)}};function cd(n){Cn.useDeprecatedSynchronousErrorHandling?UE(n):ad(n)}function UM(n){throw n}function Rg(n,e){let{onStoppedNotification:t}=Cn;t&&ws.setTimeout(()=>t(n,e))}var BM={closed:!0,next:Ec,error:UM,complete:Ec};var Es=typeof Symbol=="function"&&Symbol.observable||"@@observable";function Wt(n){return n}function ud(...n){return Mg(n)}function Mg(n){return n.length===0?Wt:n.length===1?n[0]:function(t){return n.reduce((r,i)=>i(r),t)}}var me=(()=>{class n{constructor(t){t&&(this._subscribe=t)}lift(t){let r=new n;return r.source=this,r.operator=t,r}subscribe(t,r,i){let o=HM(t)?t:new Is(t,r,i);return _s(()=>{let{operator:s,source:a}=this;o.add(s?s.call(o,a):a?this._subscribe(o):this._trySubscribe(o))}),o}_trySubscribe(t){try{return this._subscribe(t)}catch(r){t.error(r)}}forEach(t,r){return r=BE(r),new r((i,o)=>{let s=new Is({next:a=>{try{t(a)}catch(u){o(u),s.unsubscribe()}},error:o,complete:i});this.subscribe(s)})}_subscribe(t){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(t)}[Es](){return this}pipe(...t){return Mg(t)(this)}toPromise(t){return t=BE(t),new t((r,i)=>{let o;this.subscribe(s=>o=s,s=>i(s),()=>r(o))})}}return n.create=e=>new n(e),n})();function BE(n){var e;return(e=n??Cn.Promise)!==null&&e!==void 0?e:Promise}function $M(n){return n&&oe(n.next)&&oe(n.error)&&oe(n.complete)}function HM(n){return n&&n instanceof go||$M(n)&&sd(n)}function Ng(n){return oe(n?.lift)}function Ee(n){return e=>{if(Ng(e))return e.lift(function(t){try{return n(t,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function ye(n,e,t,r,i){return new Pg(n,e,t,r,i)}var Pg=class extends go{constructor(e,t,r,i,o,s){super(e),this.onFinalize=o,this.shouldUnsubscribe=s,this._next=t?function(a){try{t(a)}catch(u){e.error(u)}}:super._next,this._error=i?function(a){try{i(a)}catch(u){e.error(u)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:t}=this;super.unsubscribe(),!t&&((e=this.onFinalize)===null||e===void 0||e.call(this))}}};function bs(){return Ee((n,e)=>{let t=null;n._refCount++;let r=ye(e,void 0,void 0,void 0,()=>{if(!n||n._refCount<=0||0<--n._refCount){t=null;return}let i=n._connection,o=t;t=null,i&&(!o||i===o)&&i.unsubscribe(),e.unsubscribe()});n.subscribe(r),r.closed||(t=n.connect())})}var Ds=class extends me{constructor(e,t){super(),this.source=e,this.subjectFactory=t,this._subject=null,this._refCount=0,this._connection=null,Ng(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){let e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new He;let t=this.getSubject();e.add(this.source.subscribe(ye(t,void 0,()=>{this._teardown(),t.complete()},r=>{this._teardown(),t.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=He.EMPTY)}return e}refCount(){return bs()(this)}};var $E=vs(n=>function(){n(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var ht=(()=>{class n extends me{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(t){let r=new ld(this,this);return r.operator=t,r}_throwIfClosed(){if(this.closed)throw new $E}next(t){_s(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let r of this.currentObservers)r.next(t)}})}error(t){_s(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=t;let{observers:r}=this;for(;r.length;)r.shift().error(t)}})}complete(){_s(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:t}=this;for(;t.length;)t.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var t;return((t=this.observers)===null||t===void 0?void 0:t.length)>0}_trySubscribe(t){return this._throwIfClosed(),super._trySubscribe(t)}_subscribe(t){return this._throwIfClosed(),this._checkFinalizedStatuses(t),this._innerSubscribe(t)}_innerSubscribe(t){let{hasError:r,isStopped:i,observers:o}=this;return r||i?Tg:(this.currentObservers=null,o.push(t),new He(()=>{this.currentObservers=null,fo(o,t)}))}_checkFinalizedStatuses(t){let{hasError:r,thrownError:i,isStopped:o}=this;r?t.error(i):o&&t.complete()}asObservable(){let t=new me;return t.source=this,t}}return n.create=(e,t)=>new ld(e,t),n})(),ld=class extends ht{constructor(e,t){super(),this.destination=e,this.source=t}next(e){var t,r;(r=(t=this.destination)===null||t===void 0?void 0:t.next)===null||r===void 0||r.call(t,e)}error(e){var t,r;(r=(t=this.destination)===null||t===void 0?void 0:t.error)===null||r===void 0||r.call(t,e)}complete(){var e,t;(t=(e=this.destination)===null||e===void 0?void 0:e.complete)===null||t===void 0||t.call(e)}_subscribe(e){var t,r;return(r=(t=this.source)===null||t===void 0?void 0:t.subscribe(e))!==null&&r!==void 0?r:Tg}};var wt=class extends ht{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){let t=super._subscribe(e);return!t.closed&&e.next(this._value),t}getValue(){let{hasError:e,thrownError:t,_value:r}=this;if(e)throw t;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}};var kg={now(){return(kg.delegate||Date).now()},delegate:void 0};var dd=class extends He{constructor(e,t){super()}schedule(e,t=0){return this}};var bc={setInterval(n,e,...t){let{delegate:r}=bc;return r?.setInterval?r.setInterval(n,e,...t):setInterval(n,e,...t)},clearInterval(n){let{delegate:e}=bc;return(e?.clearInterval||clearInterval)(n)},delegate:void 0};var Cs=class extends dd{constructor(e,t){super(e,t),this.scheduler=e,this.work=t,this.pending=!1}schedule(e,t=0){var r;if(this.closed)return this;this.state=e;let i=this.id,o=this.scheduler;return i!=null&&(this.id=this.recycleAsyncId(o,i,t)),this.pending=!0,this.delay=t,this.id=(r=this.id)!==null&&r!==void 0?r:this.requestAsyncId(o,this.id,t),this}requestAsyncId(e,t,r=0){return bc.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,t,r=0){if(r!=null&&this.delay===r&&this.pending===!1)return t;t!=null&&bc.clearInterval(t)}execute(e,t){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;let r=this._execute(e,t);if(r)return r;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,t){let r=!1,i;try{this.work(e)}catch(o){r=!0,i=o||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){let{id:e,scheduler:t}=this,{actions:r}=t;this.work=this.state=this.scheduler=null,this.pending=!1,fo(r,this),e!=null&&(this.id=this.recycleAsyncId(t,e,null)),this.delay=null,super.unsubscribe()}}};var Ts=class n{constructor(e,t=n.now){this.schedulerActionCtor=e,this.now=t}schedule(e,t=0,r){return new this.schedulerActionCtor(this,e).schedule(r,t)}};Ts.now=kg.now;var Ss=class extends Ts{constructor(e,t=Ts.now){super(e,t),this.actions=[],this._active=!1}flush(e){let{actions:t}=this;if(this._active){t.push(e);return}let r;this._active=!0;do if(r=e.execute(e.state,e.delay))break;while(e=t.shift());if(this._active=!1,r){for(;e=t.shift();)e.unsubscribe();throw r}}};var Og=new Ss(Cs);var hd=class extends Cs{constructor(e,t){super(e,t),this.scheduler=e,this.work=t}schedule(e,t=0){return t>0?super.schedule(e,t):(this.delay=t,this.state=e,this.scheduler.flush(this),this)}execute(e,t){return t>0||this.closed?super.execute(e,t):this._execute(e,t)}requestAsyncId(e,t,r=0){return r!=null&&r>0||r==null&&this.delay>0?super.requestAsyncId(e,t,r):(e.flush(this),0)}};var fd=class extends Ss{};var Fg=new fd(hd);var Kt=new me(n=>n.complete());function HE(n){return n&&oe(n.schedule)}function zE(n){return n[n.length-1]}function pd(n){return oe(zE(n))?n.pop():void 0}function gi(n){return HE(zE(n))?n.pop():void 0}function Lg(n,e){var t={};for(var r in n)Object.prototype.hasOwnProperty.call(n,r)&&e.indexOf(r)<0&&(t[r]=n[r]);if(n!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(n);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(n,r[i])&&(t[r[i]]=n[r[i]]);return t}function GE(n,e,t,r){function i(o){return o instanceof t?o:new t(function(s){s(o)})}return new(t||(t=Promise))(function(o,s){function a(p){try{d(r.next(p))}catch(g){s(g)}}function u(p){try{d(r.throw(p))}catch(g){s(g)}}function d(p){p.done?o(p.value):i(p.value).then(a,u)}d((r=r.apply(n,e||[])).next())})}function qE(n){var e=typeof Symbol=="function"&&Symbol.iterator,t=e&&n[e],r=0;if(t)return t.call(n);if(n&&typeof n.length=="number")return{next:function(){return n&&r>=n.length&&(n=void 0),{value:n&&n[r++],done:!n}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function mo(n){return this instanceof mo?(this.v=n,this):new mo(n)}function WE(n,e,t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=t.apply(n,e||[]),i,o=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",s),i[Symbol.asyncIterator]=function(){return this},i;function s(b){return function(M){return Promise.resolve(M).then(b,g)}}function a(b,M){r[b]&&(i[b]=function(F){return new Promise(function(k,U){o.push([b,F,k,U])>1||u(b,F)})},M&&(i[b]=M(i[b])))}function u(b,M){try{d(r[b](M))}catch(F){_(o[0][3],F)}}function d(b){b.value instanceof mo?Promise.resolve(b.value.v).then(p,g):_(o[0][2],b)}function p(b){u("next",b)}function g(b){u("throw",b)}function _(b,M){b(M),o.shift(),o.length&&u(o[0][0],o[0][1])}}function KE(n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=n[Symbol.asyncIterator],t;return e?e.call(n):(n=typeof qE=="function"?qE(n):n[Symbol.iterator](),t={},r("next"),r("throw"),r("return"),t[Symbol.asyncIterator]=function(){return this},t);function r(o){t[o]=n[o]&&function(s){return new Promise(function(a,u){s=n[o](s),i(a,u,s.done,s.value)})}}function i(o,s,a,u){Promise.resolve(u).then(function(d){o({value:d,done:a})},s)}}var gd=n=>n&&typeof n.length=="number"&&typeof n!="function";function md(n){return oe(n?.then)}function yd(n){return oe(n[Es])}function vd(n){return Symbol.asyncIterator&&oe(n?.[Symbol.asyncIterator])}function wd(n){return new TypeError(`You provided ${n!==null&&typeof n=="object"?"an invalid object":`'${n}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function zM(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var _d=zM();function Id(n){return oe(n?.[_d])}function Ed(n){return WE(this,arguments,function*(){let t=n.getReader();try{for(;;){let{value:r,done:i}=yield mo(t.read());if(i)return yield mo(void 0);yield yield mo(r)}}finally{t.releaseLock()}})}function bd(n){return oe(n?.getReader)}function Ze(n){if(n instanceof me)return n;if(n!=null){if(yd(n))return qM(n);if(gd(n))return GM(n);if(md(n))return WM(n);if(vd(n))return QE(n);if(Id(n))return KM(n);if(bd(n))return QM(n)}throw wd(n)}function qM(n){return new me(e=>{let t=n[Es]();if(oe(t.subscribe))return t.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function GM(n){return new me(e=>{for(let t=0;t<n.length&&!e.closed;t++)e.next(n[t]);e.complete()})}function WM(n){return new me(e=>{n.then(t=>{e.closed||(e.next(t),e.complete())},t=>e.error(t)).then(null,ad)})}function KM(n){return new me(e=>{for(let t of n)if(e.next(t),e.closed)return;e.complete()})}function QE(n){return new me(e=>{YM(n,e).catch(t=>e.error(t))})}function QM(n){return QE(Ed(n))}function YM(n,e){var t,r,i,o;return GE(this,void 0,void 0,function*(){try{for(t=KE(n);r=yield t.next(),!r.done;){let s=r.value;if(e.next(s),e.closed)return}}catch(s){i={error:s}}finally{try{r&&!r.done&&(o=t.return)&&(yield o.call(t))}finally{if(i)throw i.error}}e.complete()})}function Vt(n,e,t,r=0,i=!1){let o=e.schedule(function(){t(),i?n.add(this.schedule(null,r)):this.unsubscribe()},r);if(n.add(o),!i)return o}function mi(n,e=0){return Ee((t,r)=>{t.subscribe(ye(r,i=>Vt(r,n,()=>r.next(i),e),()=>Vt(r,n,()=>r.complete(),e),i=>Vt(r,n,()=>r.error(i),e)))})}function yi(n,e=0){return Ee((t,r)=>{r.add(n.schedule(()=>t.subscribe(r),e))})}function YE(n,e){return Ze(n).pipe(yi(e),mi(e))}function ZE(n,e){return Ze(n).pipe(yi(e),mi(e))}function JE(n,e){return new me(t=>{let r=0;return e.schedule(function(){r===n.length?t.complete():(t.next(n[r++]),t.closed||this.schedule())})})}function XE(n,e){return new me(t=>{let r;return Vt(t,e,()=>{r=n[_d](),Vt(t,e,()=>{let i,o;try{({value:i,done:o}=r.next())}catch(s){t.error(s);return}o?t.complete():t.next(i)},0,!0)}),()=>oe(r?.return)&&r.return()})}function Dd(n,e){if(!n)throw new Error("Iterable cannot be null");return new me(t=>{Vt(t,e,()=>{let r=n[Symbol.asyncIterator]();Vt(t,e,()=>{r.next().then(i=>{i.done?t.complete():t.next(i.value)})},0,!0)})})}function eb(n,e){return Dd(Ed(n),e)}function tb(n,e){if(n!=null){if(yd(n))return YE(n,e);if(gd(n))return JE(n,e);if(md(n))return ZE(n,e);if(vd(n))return Dd(n,e);if(Id(n))return XE(n,e);if(bd(n))return eb(n,e)}throw wd(n)}function Ve(n,e){return e?tb(n,e):Ze(n)}function te(...n){let e=gi(n);return Ve(n,e)}function As(n,e){let t=oe(n)?n:()=>n,r=i=>i.error(t());return new me(e?i=>e.schedule(r,0,i):r)}function Vg(n){return!!n&&(n instanceof me||oe(n.lift)&&oe(n.subscribe))}var _r=vs(n=>function(){n(this),this.name="EmptyError",this.message="no elements in sequence"});function le(n,e){return Ee((t,r)=>{let i=0;t.subscribe(ye(r,o=>{r.next(n.call(e,o,i++))}))})}var{isArray:ZM}=Array;function JM(n,e){return ZM(e)?n(...e):n(e)}function Cd(n){return le(e=>JM(n,e))}var{isArray:XM}=Array,{getPrototypeOf:eN,prototype:tN,keys:nN}=Object;function Td(n){if(n.length===1){let e=n[0];if(XM(e))return{args:e,keys:null};if(rN(e)){let t=nN(e);return{args:t.map(r=>e[r]),keys:t}}}return{args:n,keys:null}}function rN(n){return n&&typeof n=="object"&&eN(n)===tN}function Sd(n,e){return n.reduce((t,r,i)=>(t[r]=e[i],t),{})}function Dc(...n){let e=gi(n),t=pd(n),{args:r,keys:i}=Td(n);if(r.length===0)return Ve([],e);let o=new me(iN(r,e,i?s=>Sd(i,s):Wt));return t?o.pipe(Cd(t)):o}function iN(n,e,t=Wt){return r=>{nb(e,()=>{let{length:i}=n,o=new Array(i),s=i,a=i;for(let u=0;u<i;u++)nb(e,()=>{let d=Ve(n[u],e),p=!1;d.subscribe(ye(r,g=>{o[u]=g,p||(p=!0,a--),a||r.next(t(o.slice()))},()=>{--s||r.complete()}))},r)},r)}}function nb(n,e,t){n?Vt(t,n,e):e()}function rb(n,e,t,r,i,o,s,a){let u=[],d=0,p=0,g=!1,_=()=>{g&&!u.length&&!d&&e.complete()},b=F=>d<r?M(F):u.push(F),M=F=>{o&&e.next(F),d++;let k=!1;Ze(t(F,p++)).subscribe(ye(e,U=>{i?.(U),o?b(U):e.next(U)},()=>{k=!0},void 0,()=>{if(k)try{for(d--;u.length&&d<r;){let U=u.shift();s?Vt(e,s,()=>M(U)):M(U)}_()}catch(U){e.error(U)}}))};return n.subscribe(ye(e,b,()=>{g=!0,_()})),()=>{a?.()}}function Je(n,e,t=1/0){return oe(e)?Je((r,i)=>le((o,s)=>e(r,o,i,s))(Ze(n(r,i))),t):(typeof e=="number"&&(t=e),Ee((r,i)=>rb(r,i,n,t)))}function Rs(n=1/0){return Je(Wt,n)}function ib(){return Rs(1)}function xs(...n){return ib()(Ve(n,gi(n)))}function Ad(n){return new me(e=>{Ze(n()).subscribe(e)})}function jg(...n){let e=pd(n),{args:t,keys:r}=Td(n),i=new me(o=>{let{length:s}=t;if(!s){o.complete();return}let a=new Array(s),u=s,d=s;for(let p=0;p<s;p++){let g=!1;Ze(t[p]).subscribe(ye(o,_=>{g||(g=!0,d--),a[p]=_},()=>u--,void 0,()=>{(!u||!g)&&(d||o.next(r?Sd(r,a):a),o.complete())}))}});return e?i.pipe(Cd(e)):i}function Qt(n,e){return Ee((t,r)=>{let i=0;t.subscribe(ye(r,o=>n.call(e,o,i++)&&r.next(o)))})}function vi(n){return Ee((e,t)=>{let r=null,i=!1,o;r=e.subscribe(ye(t,void 0,void 0,s=>{o=Ze(n(s,vi(n)(e))),r?(r.unsubscribe(),r=null,o.subscribe(t)):i=!0})),i&&(r.unsubscribe(),r=null,o.subscribe(t))})}function ob(n,e,t,r,i){return(o,s)=>{let a=t,u=e,d=0;o.subscribe(ye(s,p=>{let g=d++;u=a?n(u,p,g):(a=!0,p),r&&s.next(u)},i&&(()=>{a&&s.next(u),s.complete()})))}}function yo(n,e){return oe(e)?Je(n,e,1):Je(n,1)}function wi(n){return Ee((e,t)=>{let r=!1;e.subscribe(ye(t,i=>{r=!0,t.next(i)},()=>{r||t.next(n),t.complete()}))})}function Ir(n){return n<=0?()=>Kt:Ee((e,t)=>{let r=0;e.subscribe(ye(t,i=>{++r<=n&&(t.next(i),n<=r&&t.complete())}))})}function Ug(n){return le(()=>n)}function Rd(n=oN){return Ee((e,t)=>{let r=!1;e.subscribe(ye(t,i=>{r=!0,t.next(i)},()=>r?t.complete():t.error(n())))})}function oN(){return new _r}function Cc(n){return Ee((e,t)=>{try{e.subscribe(t)}finally{t.add(n)}})}function zn(n,e){let t=arguments.length>=2;return r=>r.pipe(n?Qt((i,o)=>n(i,o,r)):Wt,Ir(1),t?wi(e):Rd(()=>new _r))}function Ms(n){return n<=0?()=>Kt:Ee((e,t)=>{let r=[];e.subscribe(ye(t,i=>{r.push(i),n<r.length&&r.shift()},()=>{for(let i of r)t.next(i);t.complete()},void 0,()=>{r=null}))})}function Bg(n,e){let t=arguments.length>=2;return r=>r.pipe(n?Qt((i,o)=>n(i,o,r)):Wt,Ms(1),t?wi(e):Rd(()=>new _r))}function xd(n,e){return Ee(ob(n,e,arguments.length>=2,!0))}function Md(...n){let e=gi(n);return Ee((t,r)=>{(e?xs(n,t,e):xs(n,t)).subscribe(r)})}function cn(n,e){return Ee((t,r)=>{let i=null,o=0,s=!1,a=()=>s&&!i&&r.complete();t.subscribe(ye(r,u=>{i?.unsubscribe();let d=0,p=o++;Ze(n(u,p)).subscribe(i=ye(r,g=>r.next(e?e(u,g,p,d++):g),()=>{i=null,a()}))},()=>{s=!0,a()}))})}function $g(n){return Ee((e,t)=>{Ze(n).subscribe(ye(t,()=>t.complete(),Ec)),!t.closed&&e.subscribe(t)})}function at(n,e,t){let r=oe(n)||e||t?{next:n,error:e,complete:t}:n;return r?Ee((i,o)=>{var s;(s=r.subscribe)===null||s===void 0||s.call(r);let a=!0;i.subscribe(ye(o,u=>{var d;(d=r.next)===null||d===void 0||d.call(r,u),o.next(u)},()=>{var u;a=!1,(u=r.complete)===null||u===void 0||u.call(r),o.complete()},u=>{var d;a=!1,(d=r.error)===null||d===void 0||d.call(r,u),o.error(u)},()=>{var u,d;a&&((u=r.unsubscribe)===null||u===void 0||u.call(r)),(d=r.finalize)===null||d===void 0||d.call(r)}))}):Wt}var Hb="https://g.co/ng/security#xss",G=class extends Error{constructor(e,t){super(Wm(e,t)),this.code=e}};function Wm(n,e){return`${`NG0${Math.abs(n)}`}${e?": "+e:""}`}function kc(n){return{toString:n}.toString()}var Nd="__parameters__";function sN(n){return function(...t){if(n){let r=n(...t);for(let i in r)this[i]=r[i]}}}function zb(n,e,t){return kc(()=>{let r=sN(e);function i(...o){if(this instanceof i)return r.apply(this,o),this;let s=new i(...o);return a.annotation=s,a;function a(u,d,p){let g=u.hasOwnProperty(Nd)?u[Nd]:Object.defineProperty(u,Nd,{value:[]})[Nd];for(;g.length<=p;)g.push(null);return(g[p]=g[p]||[]).push(s),u}}return t&&(i.prototype=Object.create(t.prototype)),i.prototype.ngMetadataName=n,i.annotationCls=i,i})}var nm=globalThis;function Oe(n){for(let e in n)if(n[e]===Oe)return e;throw Error("Could not find renamed property on target object.")}function aN(n,e){for(let t in e)e.hasOwnProperty(t)&&!n.hasOwnProperty(t)&&(n[t]=e[t])}function Pt(n){if(typeof n=="string")return n;if(Array.isArray(n))return"["+n.map(Pt).join(", ")+"]";if(n==null)return""+n;if(n.overriddenName)return`${n.overriddenName}`;if(n.name)return`${n.name}`;let e=n.toString();if(e==null)return""+e;let t=e.indexOf(`
`);return t===-1?e:e.substring(0,t)}function sb(n,e){return n==null||n===""?e===null?"":e:e==null||e===""?n:n+" "+e}var cN=Oe({__forward_ref__:Oe});function Ot(n){return n.__forward_ref__=Ot,n.toString=function(){return Pt(this())},n}function Nt(n){return qb(n)?n():n}function qb(n){return typeof n=="function"&&n.hasOwnProperty(cN)&&n.__forward_ref__===Ot}function W(n){return{token:n.token,providedIn:n.providedIn||null,factory:n.factory,value:void 0}}function Tr(n){return{providers:n.providers||[],imports:n.imports||[]}}function ph(n){return ab(n,Wb)||ab(n,Kb)}function Gb(n){return ph(n)!==null}function ab(n,e){return n.hasOwnProperty(e)?n[e]:null}function uN(n){let e=n&&(n[Wb]||n[Kb]);return e||null}function cb(n){return n&&(n.hasOwnProperty(ub)||n.hasOwnProperty(lN))?n[ub]:null}var Wb=Oe({\u0275prov:Oe}),ub=Oe({\u0275inj:Oe}),Kb=Oe({ngInjectableDef:Oe}),lN=Oe({ngInjectorDef:Oe}),q=class{constructor(e,t){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,typeof t=="number"?this.__NG_ELEMENT_ID__=t:t!==void 0&&(this.\u0275prov=W({token:this,providedIn:t.providedIn||"root",factory:t.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function Qb(n){return n&&!!n.\u0275providers}var dN=Oe({\u0275cmp:Oe}),hN=Oe({\u0275dir:Oe}),fN=Oe({\u0275pipe:Oe}),pN=Oe({\u0275mod:Oe}),$d=Oe({\u0275fac:Oe}),Sc=Oe({__NG_ELEMENT_ID__:Oe}),lb=Oe({__NG_ENV_ID__:Oe});function Vs(n){return typeof n=="string"?n:n==null?"":String(n)}function gN(n){return typeof n=="function"?n.name||n.toString():typeof n=="object"&&n!=null&&typeof n.type=="function"?n.type.name||n.type.toString():Vs(n)}function mN(n,e){let t=e?`. Dependency path: ${e.join(" > ")} > ${n}`:"";throw new G(-200,n)}function Km(n,e){throw new G(-201,!1)}var de=function(n){return n[n.Default=0]="Default",n[n.Host=1]="Host",n[n.Self=2]="Self",n[n.SkipSelf=4]="SkipSelf",n[n.Optional=8]="Optional",n}(de||{}),rm;function Yb(){return rm}function jt(n){let e=rm;return rm=n,e}function Zb(n,e,t){let r=ph(n);if(r&&r.providedIn=="root")return r.value===void 0?r.value=r.factory():r.value;if(t&de.Optional)return null;if(e!==void 0)return e;Km(n,"Injector")}var yN={},Ac=yN,im="__NG_DI_FLAG__",Hd="ngTempTokenPath",vN="ngTokenPath",wN=/\n/gm,_N="\u0275",db="__source",Fs;function IN(){return Fs}function _i(n){let e=Fs;return Fs=n,e}function EN(n,e=de.Default){if(Fs===void 0)throw new G(-203,!1);return Fs===null?Zb(n,void 0,e):Fs.get(n,e&de.Optional?null:void 0,e)}function re(n,e=de.Default){return(Yb()||EN)(Nt(n),e)}function j(n,e=de.Default){return re(n,gh(e))}function gh(n){return typeof n>"u"||typeof n=="number"?n:0|(n.optional&&8)|(n.host&&1)|(n.self&&2)|(n.skipSelf&&4)}function om(n){let e=[];for(let t=0;t<n.length;t++){let r=Nt(n[t]);if(Array.isArray(r)){if(r.length===0)throw new G(900,!1);let i,o=de.Default;for(let s=0;s<r.length;s++){let a=r[s],u=bN(a);typeof u=="number"?u===-1?i=a.token:o|=u:i=a}e.push(re(i,o))}else e.push(re(r))}return e}function Jb(n,e){return n[im]=e,n.prototype[im]=e,n}function bN(n){return n[im]}function DN(n,e,t,r){let i=n[Hd];throw e[db]&&i.unshift(e[db]),n.message=CN(`
`+n.message,i,t,r),n[vN]=i,n[Hd]=null,n}function CN(n,e,t,r=null){n=n&&n.charAt(0)===`
`&&n.charAt(1)==_N?n.slice(2):n;let i=Pt(e);if(Array.isArray(e))i=e.map(Pt).join(" -> ");else if(typeof e=="object"){let o=[];for(let s in e)if(e.hasOwnProperty(s)){let a=e[s];o.push(s+":"+(typeof a=="string"?JSON.stringify(a):Pt(a)))}i=`{${o.join(", ")}}`}return`${t}${r?"("+r+")":""}[${i}]: ${n.replace(wN,`
  `)}`}var Tt=Jb(zb("Optional"),8);var Qm=Jb(zb("SkipSelf"),4);function wo(n,e){let t=n.hasOwnProperty($d);return t?n[$d]:null}function Ym(n,e){n.forEach(t=>Array.isArray(t)?Ym(t,e):e(t))}function Xb(n,e,t){e>=n.length?n.push(t):n.splice(e,0,t)}function zd(n,e){return e>=n.length-1?n.pop():n.splice(e,1)[0]}function TN(n,e,t,r){let i=n.length;if(i==e)n.push(t,r);else if(i===1)n.push(r,n[0]),n[0]=t;else{for(i--,n.push(n[i-1],n[i]);i>e;){let o=i-2;n[i]=n[o],i--}n[e]=t,n[e+1]=r}}function SN(n,e,t){let r=Oc(n,e);return r>=0?n[r|1]=t:(r=~r,TN(n,r,e,t)),r}function Hg(n,e){let t=Oc(n,e);if(t>=0)return n[t|1]}function Oc(n,e){return AN(n,e,1)}function AN(n,e,t){let r=0,i=n.length>>t;for(;i!==r;){let o=r+(i-r>>1),s=n[o<<t];if(e===s)return o<<t;s>e?i=o:r=o+1}return~(i<<t)}var js={},un=[],Us=new q(""),eD=new q("",-1),tD=new q(""),qd=class{get(e,t=Ac){if(t===Ac){let r=new Error(`NullInjectorError: No provider for ${Pt(e)}!`);throw r.name="NullInjectorError",r}return t}},nD=function(n){return n[n.OnPush=0]="OnPush",n[n.Default=1]="Default",n}(nD||{}),Wn=function(n){return n[n.Emulated=0]="Emulated",n[n.None=2]="None",n[n.ShadowDom=3]="ShadowDom",n}(Wn||{}),bi=function(n){return n[n.None=0]="None",n[n.SignalBased=1]="SignalBased",n[n.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",n}(bi||{});function RN(n,e,t){let r=n.length;for(;;){let i=n.indexOf(e,t);if(i===-1)return i;if(i===0||n.charCodeAt(i-1)<=32){let o=e.length;if(i+o===r||n.charCodeAt(i+o)<=32)return i}t=i+1}}function sm(n,e,t){let r=0;for(;r<t.length;){let i=t[r];if(typeof i=="number"){if(i!==0)break;r++;let o=t[r++],s=t[r++],a=t[r++];n.setAttribute(e,s,a,o)}else{let o=i,s=t[++r];xN(o)?n.setProperty(e,o,s):n.setAttribute(e,o,s),r++}}return r}function rD(n){return n===3||n===4||n===6}function xN(n){return n.charCodeAt(0)===64}function Rc(n,e){if(!(e===null||e.length===0))if(n===null||n.length===0)n=e.slice();else{let t=-1;for(let r=0;r<e.length;r++){let i=e[r];typeof i=="number"?t=i:t===0||(t===-1||t===2?hb(n,t,i,null,e[++r]):hb(n,t,i,null,null))}}return n}function hb(n,e,t,r,i){let o=0,s=n.length;if(e===-1)s=-1;else for(;o<n.length;){let a=n[o++];if(typeof a=="number"){if(a===e){s=-1;break}else if(a>e){s=o-1;break}}}for(;o<n.length;){let a=n[o];if(typeof a=="number")break;if(a===t){if(r===null){i!==null&&(n[o+1]=i);return}else if(r===n[o+1]){n[o+2]=i;return}}o++,r!==null&&o++,i!==null&&o++}s!==-1&&(n.splice(s,0,e),o=s+1),n.splice(o++,0,t),r!==null&&n.splice(o++,0,r),i!==null&&n.splice(o++,0,i)}var iD="ng-template";function MN(n,e,t,r){let i=0;if(r){for(;i<e.length&&typeof e[i]=="string";i+=2)if(e[i]==="class"&&RN(e[i+1].toLowerCase(),t,0)!==-1)return!0}else if(Zm(n))return!1;if(i=e.indexOf(1,i),i>-1){let o;for(;++i<e.length&&typeof(o=e[i])=="string";)if(o.toLowerCase()===t)return!0}return!1}function Zm(n){return n.type===4&&n.value!==iD}function NN(n,e,t){let r=n.type===4&&!t?iD:n.value;return e===r}function PN(n,e,t){let r=4,i=n.attrs,o=i!==null?FN(i):0,s=!1;for(let a=0;a<e.length;a++){let u=e[a];if(typeof u=="number"){if(!s&&!Tn(r)&&!Tn(u))return!1;if(s&&Tn(u))continue;s=!1,r=u|r&1;continue}if(!s)if(r&4){if(r=2|r&1,u!==""&&!NN(n,u,t)||u===""&&e.length===1){if(Tn(r))return!1;s=!0}}else if(r&8){if(i===null||!MN(n,i,u,t)){if(Tn(r))return!1;s=!0}}else{let d=e[++a],p=kN(u,i,Zm(n),t);if(p===-1){if(Tn(r))return!1;s=!0;continue}if(d!==""){let g;if(p>o?g="":g=i[p+1].toLowerCase(),r&2&&d!==g){if(Tn(r))return!1;s=!0}}}}return Tn(r)||s}function Tn(n){return(n&1)===0}function kN(n,e,t,r){if(e===null)return-1;let i=0;if(r||!t){let o=!1;for(;i<e.length;){let s=e[i];if(s===n)return i;if(s===3||s===6)o=!0;else if(s===1||s===2){let a=e[++i];for(;typeof a=="string";)a=e[++i];continue}else{if(s===4)break;if(s===0){i+=4;continue}}i+=o?1:2}return-1}else return LN(e,n)}function ON(n,e,t=!1){for(let r=0;r<e.length;r++)if(PN(n,e[r],t))return!0;return!1}function FN(n){for(let e=0;e<n.length;e++){let t=n[e];if(rD(t))return e}return n.length}function LN(n,e){let t=n.indexOf(4);if(t>-1)for(t++;t<n.length;){let r=n[t];if(typeof r=="number")return-1;if(r===e)return t;t++}return-1}function fb(n,e){return n?":not("+e.trim()+")":e}function VN(n){let e=n[0],t=1,r=2,i="",o=!1;for(;t<n.length;){let s=n[t];if(typeof s=="string")if(r&2){let a=n[++t];i+="["+s+(a.length>0?'="'+a+'"':"")+"]"}else r&8?i+="."+s:r&4&&(i+=" "+s);else i!==""&&!Tn(s)&&(e+=fb(o,i),i=""),r=s,o=o||!Tn(r);t++}return i!==""&&(e+=fb(o,i)),e}function jN(n){return n.map(VN).join(",")}function UN(n){let e=[],t=[],r=1,i=2;for(;r<n.length;){let o=n[r];if(typeof o=="string")i===2?o!==""&&e.push(o,n[++r]):i===8&&t.push(o);else{if(!Tn(i))break;i=o}r++}return{attrs:e,classes:t}}function mh(n){return kc(()=>{let e=uD(n),t=ge(B({},e),{decls:n.decls,vars:n.vars,template:n.template,consts:n.consts||null,ngContentSelectors:n.ngContentSelectors,onPush:n.changeDetection===nD.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&n.dependencies||null,getStandaloneInjector:null,signals:n.signals??!1,data:n.data||{},encapsulation:n.encapsulation||Wn.Emulated,styles:n.styles||un,_:null,schemas:n.schemas||null,tView:null,id:""});lD(t);let r=n.dependencies;return t.directiveDefs=gb(r,!1),t.pipeDefs=gb(r,!0),t.id=zN(t),t})}function BN(n){return Di(n)||oD(n)}function $N(n){return n!==null}function Sr(n){return kc(()=>({type:n.type,bootstrap:n.bootstrap||un,declarations:n.declarations||un,imports:n.imports||un,exports:n.exports||un,transitiveCompileScopes:null,schemas:n.schemas||null,id:n.id||null}))}function pb(n,e){if(n==null)return js;let t={};for(let r in n)if(n.hasOwnProperty(r)){let i=n[r],o,s,a=bi.None;Array.isArray(i)?(a=i[0],o=i[1],s=i[2]??o):(o=i,s=i),e?(t[o]=a!==bi.None?[r,a]:r,e[o]=s):t[o]=r}return t}function Ne(n){return kc(()=>{let e=uD(n);return lD(e),e})}function HN(n){return{type:n.type,name:n.name,factory:null,pure:n.pure!==!1,standalone:n.standalone===!0,onDestroy:n.type.prototype.ngOnDestroy||null}}function Di(n){return n[dN]||null}function oD(n){return n[hN]||null}function sD(n){return n[fN]||null}function aD(n){let e=Di(n)||oD(n)||sD(n);return e!==null?e.standalone:!1}function cD(n,e){let t=n[pN]||null;if(!t&&e===!0)throw new Error(`Type ${Pt(n)} does not have '\u0275mod' property.`);return t}function uD(n){let e={};return{type:n.type,providersResolver:null,factory:null,hostBindings:n.hostBindings||null,hostVars:n.hostVars||0,hostAttrs:n.hostAttrs||null,contentQueries:n.contentQueries||null,declaredInputs:e,inputTransforms:null,inputConfig:n.inputs||js,exportAs:n.exportAs||null,standalone:n.standalone===!0,signals:n.signals===!0,selectors:n.selectors||un,viewQuery:n.viewQuery||null,features:n.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:pb(n.inputs,e),outputs:pb(n.outputs),debugInfo:null}}function lD(n){n.features?.forEach(e=>e(n))}function gb(n,e){if(!n)return null;let t=e?sD:BN;return()=>(typeof n=="function"?n():n).map(r=>t(r)).filter($N)}function zN(n){let e=0,t=[n.selectors,n.ngContentSelectors,n.hostVars,n.hostAttrs,n.consts,n.vars,n.decls,n.encapsulation,n.standalone,n.signals,n.exportAs,JSON.stringify(n.inputs),JSON.stringify(n.outputs),Object.getOwnPropertyNames(n.type.prototype),!!n.contentQueries,!!n.viewQuery].join("|");for(let i of t)e=Math.imul(31,e)+i.charCodeAt(0)<<0;return e+=2147483648,"c"+e}function Zn(n){return{\u0275providers:n}}function qN(...n){return{\u0275providers:dD(!0,n),\u0275fromNgModule:!0}}function dD(n,...e){let t=[],r=new Set,i,o=s=>{t.push(s)};return Ym(e,s=>{let a=s;am(a,o,[],r)&&(i||=[],i.push(a))}),i!==void 0&&hD(i,o),t}function hD(n,e){for(let t=0;t<n.length;t++){let{ngModule:r,providers:i}=n[t];Jm(i,o=>{e(o,r)})}}function am(n,e,t,r){if(n=Nt(n),!n)return!1;let i=null,o=cb(n),s=!o&&Di(n);if(!o&&!s){let u=n.ngModule;if(o=cb(u),o)i=u;else return!1}else{if(s&&!s.standalone)return!1;i=n}let a=r.has(i);if(s){if(a)return!1;if(r.add(i),s.dependencies){let u=typeof s.dependencies=="function"?s.dependencies():s.dependencies;for(let d of u)am(d,e,t,r)}}else if(o){if(o.imports!=null&&!a){r.add(i);let d;try{Ym(o.imports,p=>{am(p,e,t,r)&&(d||=[],d.push(p))})}finally{}d!==void 0&&hD(d,e)}if(!a){let d=wo(i)||(()=>new i);e({provide:i,useFactory:d,deps:un},i),e({provide:tD,useValue:i,multi:!0},i),e({provide:Us,useValue:()=>re(i),multi:!0},i)}let u=o.providers;if(u!=null&&!a){let d=n;Jm(u,p=>{e(p,d)})}}else return!1;return i!==n&&n.providers!==void 0}function Jm(n,e){for(let t of n)Qb(t)&&(t=t.\u0275providers),Array.isArray(t)?Jm(t,e):e(t)}var GN=Oe({provide:String,useValue:Oe});function fD(n){return n!==null&&typeof n=="object"&&GN in n}function WN(n){return!!(n&&n.useExisting)}function KN(n){return!!(n&&n.useFactory)}function Bs(n){return typeof n=="function"}function QN(n){return!!n.useClass}var yh=new q(""),Ld={},YN={},zg;function Xm(){return zg===void 0&&(zg=new qd),zg}var Zt=class{},xc=class extends Zt{get destroyed(){return this._destroyed}constructor(e,t,r,i){super(),this.parent=t,this.source=r,this.scopes=i,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,um(e,s=>this.processProvider(s)),this.records.set(eD,Ns(void 0,this)),i.has("environment")&&this.records.set(Zt,Ns(void 0,this));let o=this.records.get(yh);o!=null&&typeof o.value=="string"&&this.scopes.add(o.value),this.injectorDefTypes=new Set(this.get(tD,un,de.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;let e=Ie(null);try{for(let r of this._ngOnDestroyHooks)r.ngOnDestroy();let t=this._onDestroyHooks;this._onDestroyHooks=[];for(let r of t)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),Ie(e)}}onDestroy(e){return this.assertNotDestroyed(),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){this.assertNotDestroyed();let t=_i(this),r=jt(void 0),i;try{return e()}finally{_i(t),jt(r)}}get(e,t=Ac,r=de.Default){if(this.assertNotDestroyed(),e.hasOwnProperty(lb))return e[lb](this);r=gh(r);let i,o=_i(this),s=jt(void 0);try{if(!(r&de.SkipSelf)){let u=this.records.get(e);if(u===void 0){let d=tP(e)&&ph(e);d&&this.injectableDefInScope(d)?u=Ns(cm(e),Ld):u=null,this.records.set(e,u)}if(u!=null)return this.hydrate(e,u)}let a=r&de.Self?Xm():this.parent;return t=r&de.Optional&&t===Ac?null:t,a.get(e,t)}catch(a){if(a.name==="NullInjectorError"){if((a[Hd]=a[Hd]||[]).unshift(Pt(e)),o)throw a;return DN(a,e,"R3InjectorError",this.source)}else throw a}finally{jt(s),_i(o)}}resolveInjectorInitializers(){let e=Ie(null),t=_i(this),r=jt(void 0),i;try{let o=this.get(Us,un,de.Self);for(let s of o)s()}finally{_i(t),jt(r),Ie(e)}}toString(){let e=[],t=this.records;for(let r of t.keys())e.push(Pt(r));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new G(205,!1)}processProvider(e){e=Nt(e);let t=Bs(e)?e:Nt(e&&e.provide),r=JN(e);if(!Bs(e)&&e.multi===!0){let i=this.records.get(t);i||(i=Ns(void 0,Ld,!0),i.factory=()=>om(i.multi),this.records.set(t,i)),t=e,i.multi.push(e)}this.records.set(t,r)}hydrate(e,t){let r=Ie(null);try{return t.value===Ld&&(t.value=YN,t.value=t.factory()),typeof t.value=="object"&&t.value&&eP(t.value)&&this._ngOnDestroyHooks.add(t.value),t.value}finally{Ie(r)}}injectableDefInScope(e){if(!e.providedIn)return!1;let t=Nt(e.providedIn);return typeof t=="string"?t==="any"||this.scopes.has(t):this.injectorDefTypes.has(t)}removeOnDestroy(e){let t=this._onDestroyHooks.indexOf(e);t!==-1&&this._onDestroyHooks.splice(t,1)}};function cm(n){let e=ph(n),t=e!==null?e.factory:wo(n);if(t!==null)return t;if(n instanceof q)throw new G(204,!1);if(n instanceof Function)return ZN(n);throw new G(204,!1)}function ZN(n){if(n.length>0)throw new G(204,!1);let t=uN(n);return t!==null?()=>t.factory(n):()=>new n}function JN(n){if(fD(n))return Ns(void 0,n.useValue);{let e=pD(n);return Ns(e,Ld)}}function pD(n,e,t){let r;if(Bs(n)){let i=Nt(n);return wo(i)||cm(i)}else if(fD(n))r=()=>Nt(n.useValue);else if(KN(n))r=()=>n.useFactory(...om(n.deps||[]));else if(WN(n))r=()=>re(Nt(n.useExisting));else{let i=Nt(n&&(n.useClass||n.provide));if(XN(n))r=()=>new i(...om(n.deps));else return wo(i)||cm(i)}return r}function Ns(n,e,t=!1){return{factory:n,value:e,multi:t?[]:void 0}}function XN(n){return!!n.deps}function eP(n){return n!==null&&typeof n=="object"&&typeof n.ngOnDestroy=="function"}function tP(n){return typeof n=="function"||typeof n=="object"&&n instanceof q}function um(n,e){for(let t of n)Array.isArray(t)?um(t,e):t&&Qb(t)?um(t.\u0275providers,e):e(t)}function Jn(n,e){n instanceof xc&&n.assertNotDestroyed();let t,r=_i(n),i=jt(void 0);try{return e()}finally{_i(r),jt(i)}}function gD(){return Yb()!==void 0||IN()!=null}function nP(n){if(!gD())throw new G(-203,!1)}function rP(n){return typeof n=="function"}var Ar=0,he=1,ne=2,kt=3,Sn=4,An=5,Gd=6,Wd=7,dn=8,$s=9,Kn=10,We=11,Mc=12,mb=13,Js=14,Qn=15,Hs=16,Ps=17,zs=18,vh=19,mD=20,Ii=21,qg=22,ln=23,Ut=25,yD=1;var _o=7,Kd=8,Qd=9,Yt=10,Yd=function(n){return n[n.None=0]="None",n[n.HasTransplantedViews=2]="HasTransplantedViews",n}(Yd||{});function Ei(n){return Array.isArray(n)&&typeof n[yD]=="object"}function Rr(n){return Array.isArray(n)&&n[yD]===!0}function ey(n){return(n.flags&4)!==0}function wh(n){return n.componentOffset>-1}function _h(n){return(n.flags&1)===1}function Ci(n){return!!n.template}function lm(n){return(n[ne]&512)!==0}var dm=class{constructor(e,t,r){this.previousValue=e,this.currentValue=t,this.firstChange=r}isFirstChange(){return this.firstChange}};function vD(n,e,t,r){e!==null?e.applyValueToInputSignal(e,r):n[t]=r}function Xn(){return wD}function wD(n){return n.type.prototype.ngOnChanges&&(n.setInput=oP),iP}Xn.ngInherit=!0;function iP(){let n=ID(this),e=n?.current;if(e){let t=n.previous;if(t===js)n.previous=e;else for(let r in e)t[r]=e[r];n.current=null,this.ngOnChanges(e)}}function oP(n,e,t,r,i){let o=this.declaredInputs[r],s=ID(n)||sP(n,{previous:js,current:null}),a=s.current||(s.current={}),u=s.previous,d=u[o];a[o]=new dm(d&&d.currentValue,t,u===js),vD(n,e,i,t)}var _D="__ngSimpleChanges__";function ID(n){return n[_D]||null}function sP(n,e){return n[_D]=e}var yb=null;var qn=function(n,e,t){yb?.(n,e,t)},aP="svg",cP="math";function Yn(n){for(;Array.isArray(n);)n=n[Ar];return n}function ED(n,e){return Yn(e[n])}function hn(n,e){return Yn(e[n.index])}function ty(n,e){return n.data[e]}function bD(n,e){return n[e]}function Ai(n,e){let t=e[n];return Ei(t)?t:t[Ar]}function ny(n){return(n[ne]&128)===128}function uP(n){return Rr(n[kt])}function qs(n,e){return e==null?null:n[e]}function DD(n){n[Ps]=0}function CD(n){n[ne]&1024||(n[ne]|=1024,ny(n)&&Eh(n))}function lP(n,e){for(;n>0;)e=e[Js],n--;return e}function Ih(n){return!!(n[ne]&9216||n[ln]?.dirty)}function hm(n){n[Kn].changeDetectionScheduler?.notify(8),n[ne]&64&&(n[ne]|=1024),Ih(n)&&Eh(n)}function Eh(n){n[Kn].changeDetectionScheduler?.notify(0);let e=Io(n);for(;e!==null&&!(e[ne]&8192||(e[ne]|=8192,!ny(e)));)e=Io(e)}function TD(n,e){if((n[ne]&256)===256)throw new G(911,!1);n[Ii]===null&&(n[Ii]=[]),n[Ii].push(e)}function dP(n,e){if(n[Ii]===null)return;let t=n[Ii].indexOf(e);t!==-1&&n[Ii].splice(t,1)}function Io(n){let e=n[kt];return Rr(e)?e[kt]:e}var fe={lFrame:FD(null),bindingsEnabled:!0,skipHydrationRootTNode:null};var SD=!1;function hP(){return fe.lFrame.elementDepthCount}function fP(){fe.lFrame.elementDepthCount++}function pP(){fe.lFrame.elementDepthCount--}function AD(){return fe.bindingsEnabled}function gP(){return fe.skipHydrationRootTNode!==null}function mP(n){return fe.skipHydrationRootTNode===n}function yP(){fe.skipHydrationRootTNode=null}function Ce(){return fe.lFrame.lView}function It(){return fe.lFrame.tView}function fW(n){return fe.lFrame.contextLView=n,n[dn]}function pW(n){return fe.lFrame.contextLView=null,n}function St(){let n=RD();for(;n!==null&&n.type===64;)n=n.parent;return n}function RD(){return fe.lFrame.currentTNode}function vP(){let n=fe.lFrame,e=n.currentTNode;return n.isParent?e:e.parent}function To(n,e){let t=fe.lFrame;t.currentTNode=n,t.isParent=e}function ry(){return fe.lFrame.isParent}function xD(){fe.lFrame.isParent=!1}function wP(){return fe.lFrame.contextLView}function MD(){return SD}function vb(n){SD=n}function iy(){let n=fe.lFrame,e=n.bindingRootIndex;return e===-1&&(e=n.bindingRootIndex=n.tView.bindingStartIndex),e}function _P(){return fe.lFrame.bindingIndex}function IP(n){return fe.lFrame.bindingIndex=n}function Fc(){return fe.lFrame.bindingIndex++}function ND(n){let e=fe.lFrame,t=e.bindingIndex;return e.bindingIndex=e.bindingIndex+n,t}function EP(){return fe.lFrame.inI18n}function bP(n,e){let t=fe.lFrame;t.bindingIndex=t.bindingRootIndex=n,fm(e)}function DP(){return fe.lFrame.currentDirectiveIndex}function fm(n){fe.lFrame.currentDirectiveIndex=n}function CP(n){let e=fe.lFrame.currentDirectiveIndex;return e===-1?null:n[e]}function PD(n){fe.lFrame.currentQueryIndex=n}function TP(n){let e=n[he];return e.type===2?e.declTNode:e.type===1?n[An]:null}function kD(n,e,t){if(t&de.SkipSelf){let i=e,o=n;for(;i=i.parent,i===null&&!(t&de.Host);)if(i=TP(o),i===null||(o=o[Js],i.type&10))break;if(i===null)return!1;e=i,n=o}let r=fe.lFrame=OD();return r.currentTNode=e,r.lView=n,!0}function oy(n){let e=OD(),t=n[he];fe.lFrame=e,e.currentTNode=t.firstChild,e.lView=n,e.tView=t,e.contextLView=n,e.bindingIndex=t.bindingStartIndex,e.inI18n=!1}function OD(){let n=fe.lFrame,e=n===null?null:n.child;return e===null?FD(n):e}function FD(n){let e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:n,child:null,inI18n:!1};return n!==null&&(n.child=e),e}function LD(){let n=fe.lFrame;return fe.lFrame=n.parent,n.currentTNode=null,n.lView=null,n}var VD=LD;function sy(){let n=LD();n.isParent=!0,n.tView=null,n.selectedIndex=-1,n.contextLView=null,n.elementDepthCount=0,n.currentDirectiveIndex=-1,n.currentNamespace=null,n.bindingRootIndex=-1,n.bindingIndex=-1,n.currentQueryIndex=0}function SP(n){return(fe.lFrame.contextLView=lP(n,fe.lFrame.contextLView))[dn]}function So(){return fe.lFrame.selectedIndex}function Eo(n){fe.lFrame.selectedIndex=n}function bh(){let n=fe.lFrame;return ty(n.tView,n.selectedIndex)}function AP(){return fe.lFrame.currentNamespace}var jD=!0;function Dh(){return jD}function Ch(n){jD=n}function RP(n,e,t){let{ngOnChanges:r,ngOnInit:i,ngDoCheck:o}=e.type.prototype;if(r){let s=wD(e);(t.preOrderHooks??=[]).push(n,s),(t.preOrderCheckHooks??=[]).push(n,s)}i&&(t.preOrderHooks??=[]).push(0-n,i),o&&((t.preOrderHooks??=[]).push(n,o),(t.preOrderCheckHooks??=[]).push(n,o))}function Th(n,e){for(let t=e.directiveStart,r=e.directiveEnd;t<r;t++){let o=n.data[t].type.prototype,{ngAfterContentInit:s,ngAfterContentChecked:a,ngAfterViewInit:u,ngAfterViewChecked:d,ngOnDestroy:p}=o;s&&(n.contentHooks??=[]).push(-t,s),a&&((n.contentHooks??=[]).push(t,a),(n.contentCheckHooks??=[]).push(t,a)),u&&(n.viewHooks??=[]).push(-t,u),d&&((n.viewHooks??=[]).push(t,d),(n.viewCheckHooks??=[]).push(t,d)),p!=null&&(n.destroyHooks??=[]).push(t,p)}}function Vd(n,e,t){UD(n,e,3,t)}function jd(n,e,t,r){(n[ne]&3)===t&&UD(n,e,t,r)}function Gg(n,e){let t=n[ne];(t&3)===e&&(t&=16383,t+=1,n[ne]=t)}function UD(n,e,t,r){let i=r!==void 0?n[Ps]&65535:0,o=r??-1,s=e.length-1,a=0;for(let u=i;u<s;u++)if(typeof e[u+1]=="number"){if(a=e[u],r!=null&&a>=r)break}else e[u]<0&&(n[Ps]+=65536),(a<o||o==-1)&&(xP(n,t,e,u),n[Ps]=(n[Ps]&4294901760)+u+2),u++}function wb(n,e){qn(4,n,e);let t=Ie(null);try{e.call(n)}finally{Ie(t),qn(5,n,e)}}function xP(n,e,t,r){let i=t[r]<0,o=t[r+1],s=i?-t[r]:t[r],a=n[s];i?n[ne]>>14<n[Ps]>>16&&(n[ne]&3)===e&&(n[ne]+=16384,wb(a,o)):wb(a,o)}var Ls=-1,bo=class{constructor(e,t,r){this.factory=e,this.resolving=!1,this.canSeeViewProviders=t,this.injectImpl=r}};function MP(n){return n instanceof bo}function NP(n){return(n.flags&8)!==0}function PP(n){return(n.flags&16)!==0}var Wg={},pm=class{constructor(e,t){this.injector=e,this.parentInjector=t}get(e,t,r){r=gh(r);let i=this.injector.get(e,Wg,r);return i!==Wg||t===Wg?i:this.parentInjector.get(e,t,r)}};function BD(n){return n!==Ls}function Zd(n){return n&32767}function kP(n){return n>>16}function Jd(n,e){let t=kP(n),r=e;for(;t>0;)r=r[Js],t--;return r}var gm=!0;function Xd(n){let e=gm;return gm=n,e}var OP=256,$D=OP-1,HD=5,FP=0,Gn={};function LP(n,e,t){let r;typeof t=="string"?r=t.charCodeAt(0)||0:t.hasOwnProperty(Sc)&&(r=t[Sc]),r==null&&(r=t[Sc]=FP++);let i=r&$D,o=1<<i;e.data[n+(i>>HD)]|=o}function eh(n,e){let t=zD(n,e);if(t!==-1)return t;let r=e[he];r.firstCreatePass&&(n.injectorIndex=e.length,Kg(r.data,n),Kg(e,null),Kg(r.blueprint,null));let i=ay(n,e),o=n.injectorIndex;if(BD(i)){let s=Zd(i),a=Jd(i,e),u=a[he].data;for(let d=0;d<8;d++)e[o+d]=a[s+d]|u[s+d]}return e[o+8]=i,o}function Kg(n,e){n.push(0,0,0,0,0,0,0,0,e)}function zD(n,e){return n.injectorIndex===-1||n.parent&&n.parent.injectorIndex===n.injectorIndex||e[n.injectorIndex+8]===null?-1:n.injectorIndex}function ay(n,e){if(n.parent&&n.parent.injectorIndex!==-1)return n.parent.injectorIndex;let t=0,r=null,i=e;for(;i!==null;){if(r=QD(i),r===null)return Ls;if(t++,i=i[Js],r.injectorIndex!==-1)return r.injectorIndex|t<<16}return Ls}function mm(n,e,t){LP(n,e,t)}function VP(n,e){if(e==="class")return n.classes;if(e==="style")return n.styles;let t=n.attrs;if(t){let r=t.length,i=0;for(;i<r;){let o=t[i];if(rD(o))break;if(o===0)i=i+2;else if(typeof o=="number")for(i++;i<r&&typeof t[i]=="string";)i++;else{if(o===e)return t[i+1];i=i+2}}}return null}function qD(n,e,t){if(t&de.Optional||n!==void 0)return n;Km(e,"NodeInjector")}function GD(n,e,t,r){if(t&de.Optional&&r===void 0&&(r=null),!(t&(de.Self|de.Host))){let i=n[$s],o=jt(void 0);try{return i?i.get(e,r,t&de.Optional):Zb(e,r,t&de.Optional)}finally{jt(o)}}return qD(r,e,t)}function WD(n,e,t,r=de.Default,i){if(n!==null){if(e[ne]&2048&&!(r&de.Self)){let s=HP(n,e,t,r,Gn);if(s!==Gn)return s}let o=KD(n,e,t,r,Gn);if(o!==Gn)return o}return GD(e,t,r,i)}function KD(n,e,t,r,i){let o=BP(t);if(typeof o=="function"){if(!kD(e,n,r))return r&de.Host?qD(i,t,r):GD(e,t,r,i);try{let s;if(s=o(r),s==null&&!(r&de.Optional))Km(t);else return s}finally{VD()}}else if(typeof o=="number"){let s=null,a=zD(n,e),u=Ls,d=r&de.Host?e[Qn][An]:null;for((a===-1||r&de.SkipSelf)&&(u=a===-1?ay(n,e):e[a+8],u===Ls||!Ib(r,!1)?a=-1:(s=e[he],a=Zd(u),e=Jd(u,e)));a!==-1;){let p=e[he];if(_b(o,a,p.data)){let g=jP(a,e,t,s,r,d);if(g!==Gn)return g}u=e[a+8],u!==Ls&&Ib(r,e[he].data[a+8]===d)&&_b(o,a,e)?(s=p,a=Zd(u),e=Jd(u,e)):a=-1}}return i}function jP(n,e,t,r,i,o){let s=e[he],a=s.data[n+8],u=r==null?wh(a)&&gm:r!=s&&(a.type&3)!==0,d=i&de.Host&&o===a,p=UP(a,s,t,u,d);return p!==null?Gs(e,s,p,a):Gn}function UP(n,e,t,r,i){let o=n.providerIndexes,s=e.data,a=o&1048575,u=n.directiveStart,d=n.directiveEnd,p=o>>20,g=r?a:a+p,_=i?a+p:d;for(let b=g;b<_;b++){let M=s[b];if(b<u&&t===M||b>=u&&M.type===t)return b}if(i){let b=s[u];if(b&&Ci(b)&&b.type===t)return u}return null}function Gs(n,e,t,r){let i=n[t],o=e.data;if(MP(i)){let s=i;s.resolving&&mN(gN(o[t]));let a=Xd(s.canSeeViewProviders);s.resolving=!0;let u,d=s.injectImpl?jt(s.injectImpl):null,p=kD(n,r,de.Default);try{i=n[t]=s.factory(void 0,o,n,r),e.firstCreatePass&&t>=r.directiveStart&&RP(t,o[t],e)}finally{d!==null&&jt(d),Xd(a),s.resolving=!1,VD()}}return i}function BP(n){if(typeof n=="string")return n.charCodeAt(0)||0;let e=n.hasOwnProperty(Sc)?n[Sc]:void 0;return typeof e=="number"?e>=0?e&$D:$P:e}function _b(n,e,t){let r=1<<n;return!!(t[e+(n>>HD)]&r)}function Ib(n,e){return!(n&de.Self)&&!(n&de.Host&&e)}var vo=class{constructor(e,t){this._tNode=e,this._lView=t}get(e,t,r){return WD(this._tNode,this._lView,e,gh(r),t)}};function $P(){return new vo(St(),Ce())}function fn(n){return kc(()=>{let e=n.prototype.constructor,t=e[$d]||ym(e),r=Object.prototype,i=Object.getPrototypeOf(n.prototype).constructor;for(;i&&i!==r;){let o=i[$d]||ym(i);if(o&&o!==t)return o;i=Object.getPrototypeOf(i)}return o=>new o})}function ym(n){return qb(n)?()=>{let e=ym(Nt(n));return e&&e()}:wo(n)}function HP(n,e,t,r,i){let o=n,s=e;for(;o!==null&&s!==null&&s[ne]&2048&&!(s[ne]&512);){let a=KD(o,s,t,r|de.Self,Gn);if(a!==Gn)return a;let u=o.parent;if(!u){let d=s[mD];if(d){let p=d.get(t,Gn,r);if(p!==Gn)return p}u=QD(s),s=s[Js]}o=u}return i}function QD(n){let e=n[he],t=e.type;return t===2?e.declTNode:t===1?n[An]:null}function cy(n){return VP(St(),n)}function Eb(n,e=null,t=null,r){let i=YD(n,e,t,r);return i.resolveInjectorInitializers(),i}function YD(n,e=null,t=null,r,i=new Set){let o=[t||un,qN(n)];return r=r||(typeof n=="object"?void 0:Pt(n)),new xc(o,e||Xm(),r||null,i)}var _t=class n{static{this.THROW_IF_NOT_FOUND=Ac}static{this.NULL=new qd}static create(e,t){if(Array.isArray(e))return Eb({name:""},t,e,"");{let r=e.name??"";return Eb({name:r},e.parent,e.providers,r)}}static{this.\u0275prov=W({token:n,providedIn:"any",factory:()=>re(eD)})}static{this.__NG_ELEMENT_ID__=-1}};var zP=new q("");zP.__NG_ELEMENT_ID__=n=>{let e=St();if(e===null)throw new G(204,!1);if(e.type&2)return e.value;if(n&de.Optional)return null;throw new G(204,!1)};var qP="ngOriginalError";function Qg(n){return n[qP]}var ZD=!0,uy=(()=>{class n{static{this.__NG_ELEMENT_ID__=GP}static{this.__NG_ENV_ID__=t=>t}}return n})(),vm=class extends uy{constructor(e){super(),this._lView=e}onDestroy(e){return TD(this._lView,e),()=>dP(this._lView,e)}};function GP(){return new vm(Ce())}var Xs=(()=>{class n{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new wt(!1)}get _hasPendingTasks(){return this.hasPendingTasks.value}add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);let t=this.taskId++;return this.pendingTasks.add(t),t}remove(t){this.pendingTasks.delete(t),this.pendingTasks.size===0&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}static{this.\u0275prov=W({token:n,providedIn:"root",factory:()=>new n})}}return n})();var wm=class extends ht{constructor(e=!1){super(),this.destroyRef=void 0,this.pendingTasks=void 0,this.__isAsync=e,gD()&&(this.destroyRef=j(uy,{optional:!0})??void 0,this.pendingTasks=j(Xs,{optional:!0})??void 0)}emit(e){let t=Ie(null);try{super.next(e)}finally{Ie(t)}}subscribe(e,t,r){let i=e,o=t||(()=>null),s=r;if(e&&typeof e=="object"){let u=e;i=u.next?.bind(u),o=u.error?.bind(u),s=u.complete?.bind(u)}this.__isAsync&&(o=this.wrapInTimeout(o),i&&(i=this.wrapInTimeout(i)),s&&(s=this.wrapInTimeout(s)));let a=super.subscribe({next:i,error:o,complete:s});return e instanceof He&&e.add(a),a}wrapInTimeout(e){return t=>{let r=this.pendingTasks?.add();setTimeout(()=>{e(t),r!==void 0&&this.pendingTasks?.remove(r)})}}},ze=wm;function th(...n){}function JD(n){let e,t;function r(){n=th;try{t!==void 0&&typeof cancelAnimationFrame=="function"&&cancelAnimationFrame(t),e!==void 0&&clearTimeout(e)}catch{}}return e=setTimeout(()=>{n(),r()}),typeof requestAnimationFrame=="function"&&(t=requestAnimationFrame(()=>{n(),r()})),()=>r()}function bb(n){return queueMicrotask(()=>n()),()=>{n=th}}var ly="isAngularZone",nh=ly+"_ID",WP=0,Re=class n{constructor(e){this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new ze(!1),this.onMicrotaskEmpty=new ze(!1),this.onStable=new ze(!1),this.onError=new ze(!1);let{enableLongStackTrace:t=!1,shouldCoalesceEventChangeDetection:r=!1,shouldCoalesceRunChangeDetection:i=!1,scheduleInRootZone:o=ZD}=e;if(typeof Zone>"u")throw new G(908,!1);Zone.assertZonePatched();let s=this;s._nesting=0,s._outer=s._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(s._inner=s._inner.fork(new Zone.TaskTrackingZoneSpec)),t&&Zone.longStackTraceZoneSpec&&(s._inner=s._inner.fork(Zone.longStackTraceZoneSpec)),s.shouldCoalesceEventChangeDetection=!i&&r,s.shouldCoalesceRunChangeDetection=i,s.callbackScheduled=!1,s.scheduleInRootZone=o,YP(s)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get(ly)===!0}static assertInAngularZone(){if(!n.isInAngularZone())throw new G(909,!1)}static assertNotInAngularZone(){if(n.isInAngularZone())throw new G(909,!1)}run(e,t,r){return this._inner.run(e,t,r)}runTask(e,t,r,i){let o=this._inner,s=o.scheduleEventTask("NgZoneEvent: "+i,e,KP,th,th);try{return o.runTask(s,t,r)}finally{o.cancelTask(s)}}runGuarded(e,t,r){return this._inner.runGuarded(e,t,r)}runOutsideAngular(e){return this._outer.run(e)}},KP={};function dy(n){if(n._nesting==0&&!n.hasPendingMicrotasks&&!n.isStable)try{n._nesting++,n.onMicrotaskEmpty.emit(null)}finally{if(n._nesting--,!n.hasPendingMicrotasks)try{n.runOutsideAngular(()=>n.onStable.emit(null))}finally{n.isStable=!0}}}function QP(n){if(n.isCheckStableRunning||n.callbackScheduled)return;n.callbackScheduled=!0;function e(){JD(()=>{n.callbackScheduled=!1,_m(n),n.isCheckStableRunning=!0,dy(n),n.isCheckStableRunning=!1})}n.scheduleInRootZone?Zone.root.run(()=>{e()}):n._outer.run(()=>{e()}),_m(n)}function YP(n){let e=()=>{QP(n)},t=WP++;n._inner=n._inner.fork({name:"angular",properties:{[ly]:!0,[nh]:t,[nh+t]:!0},onInvokeTask:(r,i,o,s,a,u)=>{if(ZP(u))return r.invokeTask(o,s,a,u);try{return Db(n),r.invokeTask(o,s,a,u)}finally{(n.shouldCoalesceEventChangeDetection&&s.type==="eventTask"||n.shouldCoalesceRunChangeDetection)&&e(),Cb(n)}},onInvoke:(r,i,o,s,a,u,d)=>{try{return Db(n),r.invoke(o,s,a,u,d)}finally{n.shouldCoalesceRunChangeDetection&&!n.callbackScheduled&&!JP(u)&&e(),Cb(n)}},onHasTask:(r,i,o,s)=>{r.hasTask(o,s),i===o&&(s.change=="microTask"?(n._hasPendingMicrotasks=s.microTask,_m(n),dy(n)):s.change=="macroTask"&&(n.hasPendingMacrotasks=s.macroTask))},onHandleError:(r,i,o,s)=>(r.handleError(o,s),n.runOutsideAngular(()=>n.onError.emit(s)),!1)})}function _m(n){n._hasPendingMicrotasks||(n.shouldCoalesceEventChangeDetection||n.shouldCoalesceRunChangeDetection)&&n.callbackScheduled===!0?n.hasPendingMicrotasks=!0:n.hasPendingMicrotasks=!1}function Db(n){n._nesting++,n.isStable&&(n.isStable=!1,n.onUnstable.emit(null))}function Cb(n){n._nesting--,dy(n)}var Im=class{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new ze,this.onMicrotaskEmpty=new ze,this.onStable=new ze,this.onError=new ze}run(e,t,r){return e.apply(t,r)}runGuarded(e,t,r){return e.apply(t,r)}runOutsideAngular(e){return e()}runTask(e,t,r,i){return e.apply(t,r)}};function ZP(n){return XD(n,"__ignore_ng_zone__")}function JP(n){return XD(n,"__scheduler_tick__")}function XD(n,e){return!Array.isArray(n)||n.length!==1?!1:n[0]?.data?.[e]===!0}var Er=class{constructor(){this._console=console}handleError(e){let t=this._findOriginalError(e);this._console.error("ERROR",e),t&&this._console.error("ORIGINAL ERROR",t)}_findOriginalError(e){let t=e&&Qg(e);for(;t&&Qg(t);)t=Qg(t);return t||null}},XP=new q("",{providedIn:"root",factory:()=>{let n=j(Re),e=j(Er);return t=>n.runOutsideAngular(()=>e.handleError(t))}});function ek(){return Sh(St(),Ce())}function Sh(n,e){return new Rn(hn(n,e))}var Rn=(()=>{class n{constructor(t){this.nativeElement=t}static{this.__NG_ELEMENT_ID__=ek}}return n})();function eC(n){return(n.flags&128)===128}var tC=new Map,tk=0;function nk(){return tk++}function rk(n){tC.set(n[vh],n)}function Em(n){tC.delete(n[vh])}var Tb="__ngContext__";function Ti(n,e){Ei(e)?(n[Tb]=e[vh],rk(e)):n[Tb]=e}function nC(n){return iC(n[Mc])}function rC(n){return iC(n[Sn])}function iC(n){for(;n!==null&&!Rr(n);)n=n[Sn];return n}var bm;function oC(n){bm=n}function ik(){if(bm!==void 0)return bm;if(typeof document<"u")return document;throw new G(210,!1)}var hy=new q("",{providedIn:"root",factory:()=>ok}),ok="ng",fy=new q(""),er=new q("",{providedIn:"platform",factory:()=>"unknown"});var py=new q("",{providedIn:"root",factory:()=>ik().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var sk="h",ak="b";var ck=()=>null;function gy(n,e,t=!1){return ck(n,e,t)}var sC=!1,uk=new q("",{providedIn:"root",factory:()=>sC});var Pd;function lk(){if(Pd===void 0&&(Pd=null,nm.trustedTypes))try{Pd=nm.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:n=>n,createScript:n=>n,createScriptURL:n=>n})}catch{}return Pd}function Sb(n){return lk()?.createScriptURL(n)||n}var rh=class{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${Hb})`}};function Lc(n){return n instanceof rh?n.changingThisBreaksApplicationSecurity:n}function my(n,e){let t=dk(n);if(t!=null&&t!==e){if(t==="ResourceURL"&&e==="URL")return!0;throw new Error(`Required a safe ${e}, got a ${t} (see ${Hb})`)}return t===e}function dk(n){return n instanceof rh&&n.getTypeName()||null}var hk=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function aC(n){return n=String(n),n.match(hk)?n:"unsafe:"+n}var Ah=function(n){return n[n.NONE=0]="NONE",n[n.HTML=1]="HTML",n[n.STYLE=2]="STYLE",n[n.SCRIPT=3]="SCRIPT",n[n.URL=4]="URL",n[n.RESOURCE_URL=5]="RESOURCE_URL",n}(Ah||{});function fk(n){let e=uC();return e?e.sanitize(Ah.URL,n)||"":my(n,"URL")?Lc(n):aC(Vs(n))}function pk(n){let e=uC();if(e)return Sb(e.sanitize(Ah.RESOURCE_URL,n)||"");if(my(n,"ResourceURL"))return Sb(Lc(n));throw new G(904,!1)}function gk(n,e){return e==="src"&&(n==="embed"||n==="frame"||n==="iframe"||n==="media"||n==="script")||e==="href"&&(n==="base"||n==="link")?pk:fk}function cC(n,e,t){return gk(e,t)(n)}function uC(){let n=Ce();return n&&n[Kn].sanitizer}var mk=/^>|^->|<!--|-->|--!>|<!-$/g,yk=/(<|>)/g,vk="\u200B$1\u200B";function wk(n){return n.replace(mk,e=>e.replace(yk,vk))}function lC(n){return n instanceof Function?n():n}function _k(n){return(n??j(_t)).get(er)==="browser"}var br=function(n){return n[n.Important=1]="Important",n[n.DashCase=2]="DashCase",n}(br||{}),Ik;function yy(n,e){return Ik(n,e)}function ks(n,e,t,r,i){if(r!=null){let o,s=!1;Rr(r)?o=r:Ei(r)&&(s=!0,r=r[Ar]);let a=Yn(r);n===0&&t!==null?i==null?pC(e,t,a):oh(e,t,a,i||null,!0):n===1&&t!==null?oh(e,t,a,i||null,!0):n===2?Lk(e,a,s):n===3&&e.destroyNode(a),o!=null&&jk(e,n,o,t,i)}}function Ek(n,e){return n.createText(e)}function bk(n,e,t){n.setValue(e,t)}function Dk(n,e){return n.createComment(wk(e))}function dC(n,e,t){return n.createElement(e,t)}function Ck(n,e){hC(n,e),e[Ar]=null,e[An]=null}function Tk(n,e,t,r,i,o){r[Ar]=i,r[An]=e,xh(n,r,t,1,i,o)}function hC(n,e){e[Kn].changeDetectionScheduler?.notify(9),xh(n,e,e[We],2,null,null)}function Sk(n){let e=n[Mc];if(!e)return Yg(n[he],n);for(;e;){let t=null;if(Ei(e))t=e[Mc];else{let r=e[Yt];r&&(t=r)}if(!t){for(;e&&!e[Sn]&&e!==n;)Ei(e)&&Yg(e[he],e),e=e[kt];e===null&&(e=n),Ei(e)&&Yg(e[he],e),t=e&&e[Sn]}e=t}}function Ak(n,e,t,r){let i=Yt+r,o=t.length;r>0&&(t[i-1][Sn]=e),r<o-Yt?(e[Sn]=t[i],Xb(t,Yt+r,e)):(t.push(e),e[Sn]=null),e[kt]=t;let s=e[Hs];s!==null&&t!==s&&fC(s,e);let a=e[zs];a!==null&&a.insertView(n),hm(e),e[ne]|=128}function fC(n,e){let t=n[Qd],r=e[kt];if(Ei(r))n[ne]|=Yd.HasTransplantedViews;else{let i=r[kt][Qn];e[Qn]!==i&&(n[ne]|=Yd.HasTransplantedViews)}t===null?n[Qd]=[e]:t.push(e)}function vy(n,e){let t=n[Qd],r=t.indexOf(e);t.splice(r,1)}function ih(n,e){if(n.length<=Yt)return;let t=Yt+e,r=n[t];if(r){let i=r[Hs];i!==null&&i!==n&&vy(i,r),e>0&&(n[t-1][Sn]=r[Sn]);let o=zd(n,Yt+e);Ck(r[he],r);let s=o[zs];s!==null&&s.detachView(o[he]),r[kt]=null,r[Sn]=null,r[ne]&=-129}return r}function wy(n,e){if(!(e[ne]&256)){let t=e[We];t.destroyNode&&xh(n,e,t,3,null,null),Sk(e)}}function Yg(n,e){if(e[ne]&256)return;let t=Ie(null);try{e[ne]&=-129,e[ne]|=256,e[ln]&&Dg(e[ln]),xk(n,e),Rk(n,e),e[he].type===1&&e[We].destroy();let r=e[Hs];if(r!==null&&Rr(e[kt])){r!==e[kt]&&vy(r,e);let i=e[zs];i!==null&&i.detachView(n)}Em(e)}finally{Ie(t)}}function Rk(n,e){let t=n.cleanup,r=e[Wd];if(t!==null)for(let o=0;o<t.length-1;o+=2)if(typeof t[o]=="string"){let s=t[o+3];s>=0?r[s]():r[-s].unsubscribe(),o+=2}else{let s=r[t[o+1]];t[o].call(s)}r!==null&&(e[Wd]=null);let i=e[Ii];if(i!==null){e[Ii]=null;for(let o=0;o<i.length;o++){let s=i[o];s()}}}function xk(n,e){let t;if(n!=null&&(t=n.destroyHooks)!=null)for(let r=0;r<t.length;r+=2){let i=e[t[r]];if(!(i instanceof bo)){let o=t[r+1];if(Array.isArray(o))for(let s=0;s<o.length;s+=2){let a=i[o[s]],u=o[s+1];qn(4,a,u);try{u.call(a)}finally{qn(5,a,u)}}else{qn(4,i,o);try{o.call(i)}finally{qn(5,i,o)}}}}}function Mk(n,e,t){return Nk(n,e.parent,t)}function Nk(n,e,t){let r=e;for(;r!==null&&r.type&168;)e=r,r=e.parent;if(r===null)return t[Ar];{let{componentOffset:i}=r;if(i>-1){let{encapsulation:o}=n.data[r.directiveStart+i];if(o===Wn.None||o===Wn.Emulated)return null}return hn(r,t)}}function oh(n,e,t,r,i){n.insertBefore(e,t,r,i)}function pC(n,e,t){n.appendChild(e,t)}function Ab(n,e,t,r,i){r!==null?oh(n,e,t,r,i):pC(n,e,t)}function gC(n,e){return n.parentNode(e)}function Pk(n,e){return n.nextSibling(e)}function kk(n,e,t){return Fk(n,e,t)}function Ok(n,e,t){return n.type&40?hn(n,t):null}var Fk=Ok,Rb;function Rh(n,e,t,r){let i=Mk(n,r,e),o=e[We],s=r.parent||e[An],a=kk(s,r,e);if(i!=null)if(Array.isArray(t))for(let u=0;u<t.length;u++)Ab(o,i,t[u],a,!1);else Ab(o,i,t,a,!1);Rb!==void 0&&Rb(o,r,e,t,i)}function Tc(n,e){if(e!==null){let t=e.type;if(t&3)return hn(e,n);if(t&4)return Dm(-1,n[e.index]);if(t&8){let r=e.child;if(r!==null)return Tc(n,r);{let i=n[e.index];return Rr(i)?Dm(-1,i):Yn(i)}}else{if(t&128)return Tc(n,e.next);if(t&32)return yy(e,n)()||Yn(n[e.index]);{let r=mC(n,e);if(r!==null){if(Array.isArray(r))return r[0];let i=Io(n[Qn]);return Tc(i,r)}else return Tc(n,e.next)}}}return null}function mC(n,e){if(e!==null){let r=n[Qn][An],i=e.projection;return r.projection[i]}return null}function Dm(n,e){let t=Yt+n+1;if(t<e.length){let r=e[t],i=r[he].firstChild;if(i!==null)return Tc(r,i)}return e[_o]}function Lk(n,e,t){n.removeChild(null,e,t)}function _y(n,e,t,r,i,o,s){for(;t!=null;){if(t.type===128){t=t.next;continue}let a=r[t.index],u=t.type;if(s&&e===0&&(a&&Ti(Yn(a),r),t.flags|=2),(t.flags&32)!==32)if(u&8)_y(n,e,t.child,r,i,o,!1),ks(e,n,i,a,o);else if(u&32){let d=yy(t,r),p;for(;p=d();)ks(e,n,i,p,o);ks(e,n,i,a,o)}else u&16?Vk(n,e,r,t,i,o):ks(e,n,i,a,o);t=s?t.projectionNext:t.next}}function xh(n,e,t,r,i,o){_y(t,r,n.firstChild,e,i,o,!1)}function Vk(n,e,t,r,i,o){let s=t[Qn],u=s[An].projection[r.projection];if(Array.isArray(u))for(let d=0;d<u.length;d++){let p=u[d];ks(e,n,i,p,o)}else{let d=u,p=s[kt];eC(r)&&(d.flags|=128),_y(n,e,d,p,i,o,!0)}}function jk(n,e,t,r,i){let o=t[_o],s=Yn(t);o!==s&&ks(e,n,r,o,i);for(let a=Yt;a<t.length;a++){let u=t[a];xh(u[he],u,n,e,r,o)}}function Uk(n,e,t,r,i){if(e)i?n.addClass(t,r):n.removeClass(t,r);else{let o=r.indexOf("-")===-1?void 0:br.DashCase;i==null?n.removeStyle(t,r,o):(typeof i=="string"&&i.endsWith("!important")&&(i=i.slice(0,-10),o|=br.Important),n.setStyle(t,r,i,o))}}function Bk(n,e,t){n.setAttribute(e,"style",t)}function yC(n,e,t){t===""?n.removeAttribute(e,"class"):n.setAttribute(e,"class",t)}function vC(n,e,t){let{mergedAttrs:r,classes:i,styles:o}=t;r!==null&&sm(n,e,r),i!==null&&yC(n,e,i),o!==null&&Bk(n,e,o)}var pn={};function gW(n=1){wC(It(),Ce(),So()+n,!1)}function wC(n,e,t,r){if(!r)if((e[ne]&3)===3){let o=n.preOrderCheckHooks;o!==null&&Vd(e,o,t)}else{let o=n.preOrderHooks;o!==null&&jd(e,o,0,t)}Eo(t)}function J(n,e=de.Default){let t=Ce();if(t===null)return re(n,e);let r=St();return WD(r,t,Nt(n),e)}function _C(){let n="invalid";throw new Error(n)}function IC(n,e,t,r,i,o){let s=Ie(null);try{let a=null;i&bi.SignalBased&&(a=e[r][wr]),a!==null&&a.transformFn!==void 0&&(o=a.transformFn(o)),i&bi.HasDecoratorInputTransform&&(o=n.inputTransforms[r].call(e,o)),n.setInput!==null?n.setInput(e,a,o,t,r):vD(e,a,r,o)}finally{Ie(s)}}function $k(n,e){let t=n.hostBindingOpCodes;if(t!==null)try{for(let r=0;r<t.length;r++){let i=t[r];if(i<0)Eo(~i);else{let o=i,s=t[++r],a=t[++r];bP(s,o);let u=e[o];a(2,u)}}}finally{Eo(-1)}}function Mh(n,e,t,r,i,o,s,a,u,d,p){let g=e.blueprint.slice();return g[Ar]=i,g[ne]=r|4|128|8|64,(d!==null||n&&n[ne]&2048)&&(g[ne]|=2048),DD(g),g[kt]=g[Js]=n,g[dn]=t,g[Kn]=s||n&&n[Kn],g[We]=a||n&&n[We],g[$s]=u||n&&n[$s]||null,g[An]=o,g[vh]=nk(),g[Gd]=p,g[mD]=d,g[Qn]=e.type==2?n[Qn]:g,g}function Vc(n,e,t,r,i){let o=n.data[e];if(o===null)o=Hk(n,e,t,r,i),EP()&&(o.flags|=32);else if(o.type&64){o.type=t,o.value=r,o.attrs=i;let s=vP();o.injectorIndex=s===null?-1:s.injectorIndex}return To(o,!0),o}function Hk(n,e,t,r,i){let o=RD(),s=ry(),a=s?o:o&&o.parent,u=n.data[e]=Kk(n,a,t,e,r,i);return n.firstChild===null&&(n.firstChild=u),o!==null&&(s?o.child==null&&u.parent!==null&&(o.child=u):o.next===null&&(o.next=u,u.prev=o)),u}function EC(n,e,t,r){if(t===0)return-1;let i=e.length;for(let o=0;o<t;o++)e.push(r),n.blueprint.push(r),n.data.push(null);return i}function bC(n,e,t,r,i){let o=So(),s=r&2;try{Eo(-1),s&&e.length>Ut&&wC(n,e,Ut,!1),qn(s?2:0,i),t(r,i)}finally{Eo(o),qn(s?3:1,i)}}function Iy(n,e,t){if(ey(e)){let r=Ie(null);try{let i=e.directiveStart,o=e.directiveEnd;for(let s=i;s<o;s++){let a=n.data[s];if(a.contentQueries){let u=t[s];a.contentQueries(1,u,s)}}}finally{Ie(r)}}}function Ey(n,e,t){AD()&&(eO(n,e,t,hn(t,e)),(t.flags&64)===64&&TC(n,e,t))}function by(n,e,t=hn){let r=e.localNames;if(r!==null){let i=e.index+1;for(let o=0;o<r.length;o+=2){let s=r[o+1],a=s===-1?t(e,n):n[s];n[i++]=a}}}function DC(n){let e=n.tView;return e===null||e.incompleteFirstPass?n.tView=Dy(1,null,n.template,n.decls,n.vars,n.directiveDefs,n.pipeDefs,n.viewQuery,n.schemas,n.consts,n.id):e}function Dy(n,e,t,r,i,o,s,a,u,d,p){let g=Ut+r,_=g+i,b=zk(g,_),M=typeof d=="function"?d():d;return b[he]={type:n,blueprint:b,template:t,queries:null,viewQuery:a,declTNode:e,data:b.slice().fill(null,g),bindingStartIndex:g,expandoStartIndex:_,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof o=="function"?o():o,pipeRegistry:typeof s=="function"?s():s,firstChild:null,schemas:u,consts:M,incompleteFirstPass:!1,ssrId:p}}function zk(n,e){let t=[];for(let r=0;r<e;r++)t.push(r<n?null:pn);return t}function qk(n,e,t,r){let o=r.get(uk,sC)||t===Wn.ShadowDom,s=n.selectRootElement(e,o);return Gk(s),s}function Gk(n){Wk(n)}var Wk=()=>null;function Kk(n,e,t,r,i,o){let s=e?e.injectorIndex:-1,a=0;return gP()&&(a|=128),{type:t,index:r,insertBeforeIndex:null,injectorIndex:s,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:o,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}function xb(n,e,t,r,i){for(let o in e){if(!e.hasOwnProperty(o))continue;let s=e[o];if(s===void 0)continue;r??={};let a,u=bi.None;Array.isArray(s)?(a=s[0],u=s[1]):a=s;let d=o;if(i!==null){if(!i.hasOwnProperty(o))continue;d=i[o]}n===0?Mb(r,t,d,a,u):Mb(r,t,d,a)}return r}function Mb(n,e,t,r,i){let o;n.hasOwnProperty(t)?(o=n[t]).push(e,r):o=n[t]=[e,r],i!==void 0&&o.push(i)}function Qk(n,e,t){let r=e.directiveStart,i=e.directiveEnd,o=n.data,s=e.attrs,a=[],u=null,d=null;for(let p=r;p<i;p++){let g=o[p],_=t?t.get(g):null,b=_?_.inputs:null,M=_?_.outputs:null;u=xb(0,g.inputs,p,u,b),d=xb(1,g.outputs,p,d,M);let F=u!==null&&s!==null&&!Zm(e)?dO(u,p,s):null;a.push(F)}u!==null&&(u.hasOwnProperty("class")&&(e.flags|=8),u.hasOwnProperty("style")&&(e.flags|=16)),e.initialInputs=a,e.inputs=u,e.outputs=d}function Yk(n){return n==="class"?"className":n==="for"?"htmlFor":n==="formaction"?"formAction":n==="innerHtml"?"innerHTML":n==="readonly"?"readOnly":n==="tabindex"?"tabIndex":n}function Cy(n,e,t,r,i,o,s,a){let u=hn(e,t),d=e.inputs,p;!a&&d!=null&&(p=d[r])?(Sy(n,t,p,r,i),wh(e)&&Zk(t,e.index)):e.type&3?(r=Yk(r),i=s!=null?s(i,e.value||"",r):i,o.setProperty(u,r,i)):e.type&12}function Zk(n,e){let t=Ai(e,n);t[ne]&16||(t[ne]|=64)}function Ty(n,e,t,r){if(AD()){let i=r===null?null:{"":-1},o=nO(n,t),s,a;o===null?s=a=null:[s,a]=o,s!==null&&CC(n,e,t,s,i,a),i&&rO(t,r,i)}t.mergedAttrs=Rc(t.mergedAttrs,t.attrs)}function CC(n,e,t,r,i,o){for(let d=0;d<r.length;d++)mm(eh(t,e),n,r[d].type);oO(t,n.data.length,r.length);for(let d=0;d<r.length;d++){let p=r[d];p.providersResolver&&p.providersResolver(p)}let s=!1,a=!1,u=EC(n,e,r.length,null);for(let d=0;d<r.length;d++){let p=r[d];t.mergedAttrs=Rc(t.mergedAttrs,p.hostAttrs),sO(n,t,e,u,p),iO(u,p,i),p.contentQueries!==null&&(t.flags|=4),(p.hostBindings!==null||p.hostAttrs!==null||p.hostVars!==0)&&(t.flags|=64);let g=p.type.prototype;!s&&(g.ngOnChanges||g.ngOnInit||g.ngDoCheck)&&((n.preOrderHooks??=[]).push(t.index),s=!0),!a&&(g.ngOnChanges||g.ngDoCheck)&&((n.preOrderCheckHooks??=[]).push(t.index),a=!0),u++}Qk(n,t,o)}function Jk(n,e,t,r,i){let o=i.hostBindings;if(o){let s=n.hostBindingOpCodes;s===null&&(s=n.hostBindingOpCodes=[]);let a=~e.index;Xk(s)!=a&&s.push(a),s.push(t,r,o)}}function Xk(n){let e=n.length;for(;e>0;){let t=n[--e];if(typeof t=="number"&&t<0)return t}return 0}function eO(n,e,t,r){let i=t.directiveStart,o=t.directiveEnd;wh(t)&&aO(e,t,n.data[i+t.componentOffset]),n.firstCreatePass||eh(t,e),Ti(r,e);let s=t.initialInputs;for(let a=i;a<o;a++){let u=n.data[a],d=Gs(e,n,a,t);if(Ti(d,e),s!==null&&lO(e,a-i,d,u,t,s),Ci(u)){let p=Ai(t.index,e);p[dn]=Gs(e,n,a,t)}}}function TC(n,e,t){let r=t.directiveStart,i=t.directiveEnd,o=t.index,s=DP();try{Eo(o);for(let a=r;a<i;a++){let u=n.data[a],d=e[a];fm(a),(u.hostBindings!==null||u.hostVars!==0||u.hostAttrs!==null)&&tO(u,d)}}finally{Eo(-1),fm(s)}}function tO(n,e){n.hostBindings!==null&&n.hostBindings(1,e)}function nO(n,e){let t=n.directiveRegistry,r=null,i=null;if(t)for(let o=0;o<t.length;o++){let s=t[o];if(ON(e,s.selectors,!1))if(r||(r=[]),Ci(s))if(s.findHostDirectiveDefs!==null){let a=[];i=i||new Map,s.findHostDirectiveDefs(s,a,i),r.unshift(...a,s);let u=a.length;Cm(n,e,u)}else r.unshift(s),Cm(n,e,0);else i=i||new Map,s.findHostDirectiveDefs?.(s,r,i),r.push(s)}return r===null?null:[r,i]}function Cm(n,e,t){e.componentOffset=t,(n.components??=[]).push(e.index)}function rO(n,e,t){if(e){let r=n.localNames=[];for(let i=0;i<e.length;i+=2){let o=t[e[i+1]];if(o==null)throw new G(-301,!1);r.push(e[i],o)}}}function iO(n,e,t){if(t){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)t[e.exportAs[r]]=n;Ci(e)&&(t[""]=n)}}function oO(n,e,t){n.flags|=1,n.directiveStart=e,n.directiveEnd=e+t,n.providerIndexes=e}function sO(n,e,t,r,i){n.data[r]=i;let o=i.factory||(i.factory=wo(i.type,!0)),s=new bo(o,Ci(i),J);n.blueprint[r]=s,t[r]=s,Jk(n,e,r,EC(n,t,i.hostVars,pn),i)}function aO(n,e,t){let r=hn(e,n),i=DC(t),o=n[Kn].rendererFactory,s=16;t.signals?s=4096:t.onPush&&(s=64);let a=Nh(n,Mh(n,i,null,s,r,e,null,o.createRenderer(r,t),null,null,null));n[e.index]=a}function cO(n,e,t,r,i,o){let s=hn(n,e);uO(e[We],s,o,n.value,t,r,i)}function uO(n,e,t,r,i,o,s){if(o==null)n.removeAttribute(e,i,t);else{let a=s==null?Vs(o):s(o,r||"",i);n.setAttribute(e,i,a,t)}}function lO(n,e,t,r,i,o){let s=o[e];if(s!==null)for(let a=0;a<s.length;){let u=s[a++],d=s[a++],p=s[a++],g=s[a++];IC(r,t,u,d,p,g)}}function dO(n,e,t){let r=null,i=0;for(;i<t.length;){let o=t[i];if(o===0){i+=4;continue}else if(o===5){i+=2;continue}if(typeof o=="number")break;if(n.hasOwnProperty(o)){r===null&&(r=[]);let s=n[o];for(let a=0;a<s.length;a+=3)if(s[a]===e){r.push(o,s[a+1],s[a+2],t[i+1]);break}}i+=2}return r}function SC(n,e,t,r){return[n,!0,0,e,null,r,null,t,null,null]}function AC(n,e){let t=n.contentQueries;if(t!==null){let r=Ie(null);try{for(let i=0;i<t.length;i+=2){let o=t[i],s=t[i+1];if(s!==-1){let a=n.data[s];PD(o),a.contentQueries(2,e[s],s)}}}finally{Ie(r)}}}function Nh(n,e){return n[Mc]?n[mb][Sn]=e:n[Mc]=e,n[mb]=e,e}function Tm(n,e,t){PD(0);let r=Ie(null);try{e(n,t)}finally{Ie(r)}}function hO(n){return n[Wd]??=[]}function fO(n){return n.cleanup??=[]}function RC(n,e){let t=n[$s],r=t?t.get(Er,null):null;r&&r.handleError(e)}function Sy(n,e,t,r,i){for(let o=0;o<t.length;){let s=t[o++],a=t[o++],u=t[o++],d=e[s],p=n.data[s];IC(p,d,r,a,u,i)}}function xC(n,e,t){let r=ED(e,n);bk(n[We],r,t)}function pO(n,e){let t=Ai(e,n),r=t[he];gO(r,t);let i=t[Ar];i!==null&&t[Gd]===null&&(t[Gd]=gy(i,t[$s])),Ay(r,t,t[dn])}function gO(n,e){for(let t=e.length;t<n.blueprint.length;t++)e.push(n.blueprint[t])}function Ay(n,e,t){oy(e);try{let r=n.viewQuery;r!==null&&Tm(1,r,t);let i=n.template;i!==null&&bC(n,e,i,1,t),n.firstCreatePass&&(n.firstCreatePass=!1),e[zs]?.finishViewCreation(n),n.staticContentQueries&&AC(n,e),n.staticViewQueries&&Tm(2,n.viewQuery,t);let o=n.components;o!==null&&mO(e,o)}catch(r){throw n.firstCreatePass&&(n.incompleteFirstPass=!0,n.firstCreatePass=!1),r}finally{e[ne]&=-5,sy()}}function mO(n,e){for(let t=0;t<e.length;t++)pO(n,e[t])}function MC(n,e,t,r){let i=Ie(null);try{let o=e.tView,a=n[ne]&4096?4096:16,u=Mh(n,o,t,a,null,e,null,null,r?.injector??null,r?.embeddedViewInjector??null,r?.dehydratedView??null),d=n[e.index];u[Hs]=d;let p=n[zs];return p!==null&&(u[zs]=p.createEmbeddedView(o)),Ay(o,u,t),u}finally{Ie(i)}}function yO(n,e){let t=Yt+e;if(t<n.length)return n[t]}function Sm(n,e){return!e||e.firstChild===null||eC(n)}function NC(n,e,t,r=!0){let i=e[he];if(Ak(i,e,n,t),r){let s=Dm(t,n),a=e[We],u=gC(a,n[_o]);u!==null&&Tk(i,n[An],a,e,u,s)}let o=e[Gd];o!==null&&o.firstChild!==null&&(o.firstChild=null)}function vO(n,e){let t=ih(n,e);return t!==void 0&&wy(t[he],t),t}function sh(n,e,t,r,i=!1){for(;t!==null;){if(t.type===128){t=i?t.projectionNext:t.next;continue}let o=e[t.index];o!==null&&r.push(Yn(o)),Rr(o)&&wO(o,r);let s=t.type;if(s&8)sh(n,e,t.child,r);else if(s&32){let a=yy(t,e),u;for(;u=a();)r.push(u)}else if(s&16){let a=mC(e,t);if(Array.isArray(a))r.push(...a);else{let u=Io(e[Qn]);sh(u[he],u,a,r,!0)}}t=i?t.projectionNext:t.next}return r}function wO(n,e){for(let t=Yt;t<n.length;t++){let r=n[t],i=r[he].firstChild;i!==null&&sh(r[he],r,i,e)}n[_o]!==n[Ar]&&e.push(n[_o])}var PC=[];function _O(n){return n[ln]??IO(n)}function IO(n){let e=PC.pop()??Object.create(bO);return e.lView=n,e}function EO(n){n.lView[ln]!==n&&(n.lView=null,PC.push(n))}var bO=ge(B({},Ic),{consumerIsAlwaysLive:!0,consumerMarkedDirty:n=>{Eh(n.lView)},consumerOnSignalRead(){this.lView[ln]=this}});function DO(n){let e=n[ln]??Object.create(CO);return e.lView=n,e}var CO=ge(B({},Ic),{consumerIsAlwaysLive:!0,consumerMarkedDirty:n=>{let e=Io(n.lView);for(;e&&!kC(e[he]);)e=Io(e);e&&CD(e)},consumerOnSignalRead(){this.lView[ln]=this}});function kC(n){return n.type!==2}var TO=100;function OC(n,e=!0,t=0){let r=n[Kn],i=r.rendererFactory,o=!1;o||i.begin?.();try{SO(n,t)}catch(s){throw e&&RC(n,s),s}finally{o||(i.end?.(),r.inlineEffectRunner?.flush())}}function SO(n,e){let t=MD();try{vb(!0),Am(n,e);let r=0;for(;Ih(n);){if(r===TO)throw new G(103,!1);r++,Am(n,1)}}finally{vb(t)}}function AO(n,e,t,r){let i=e[ne];if((i&256)===256)return;let o=!1,s=!1;!o&&e[Kn].inlineEffectRunner?.flush(),oy(e);let a=!0,u=null,d=null;o||(kC(n)?(d=_O(e),u=nd(d)):EE()===null?(a=!1,d=DO(e),u=nd(d)):e[ln]&&(Dg(e[ln]),e[ln]=null));try{DD(e),IP(n.bindingStartIndex),t!==null&&bC(n,e,t,2,r);let p=(i&3)===3;if(!o)if(p){let b=n.preOrderCheckHooks;b!==null&&Vd(e,b,null)}else{let b=n.preOrderHooks;b!==null&&jd(e,b,0,null),Gg(e,0)}if(s||RO(e),FC(e,0),n.contentQueries!==null&&AC(n,e),!o)if(p){let b=n.contentCheckHooks;b!==null&&Vd(e,b)}else{let b=n.contentHooks;b!==null&&jd(e,b,1),Gg(e,1)}$k(n,e);let g=n.components;g!==null&&VC(e,g,0);let _=n.viewQuery;if(_!==null&&Tm(2,_,r),!o)if(p){let b=n.viewCheckHooks;b!==null&&Vd(e,b)}else{let b=n.viewHooks;b!==null&&jd(e,b,2),Gg(e,2)}if(n.firstUpdatePass===!0&&(n.firstUpdatePass=!1),e[qg]){for(let b of e[qg])b();e[qg]=null}o||(e[ne]&=-73)}catch(p){throw o||Eh(e),p}finally{d!==null&&(Eg(d,u),a&&EO(d)),sy()}}function FC(n,e){for(let t=nC(n);t!==null;t=rC(t))for(let r=Yt;r<t.length;r++){let i=t[r];LC(i,e)}}function RO(n){for(let e=nC(n);e!==null;e=rC(e)){if(!(e[ne]&Yd.HasTransplantedViews))continue;let t=e[Qd];for(let r=0;r<t.length;r++){let i=t[r];CD(i)}}}function xO(n,e,t){let r=Ai(e,n);LC(r,t)}function LC(n,e){ny(n)&&Am(n,e)}function Am(n,e){let r=n[he],i=n[ne],o=n[ln],s=!!(e===0&&i&16);if(s||=!!(i&64&&e===0),s||=!!(i&1024),s||=!!(o?.dirty&&bg(o)),s||=!1,o&&(o.dirty=!1),n[ne]&=-9217,s)AO(r,n,r.template,n[dn]);else if(i&8192){FC(n,1);let a=r.components;a!==null&&VC(n,a,1)}}function VC(n,e,t){for(let r=0;r<e.length;r++)xO(n,e[r],t)}function Ry(n,e){let t=MD()?64:1088;for(n[Kn].changeDetectionScheduler?.notify(e);n;){n[ne]|=t;let r=Io(n);if(lm(n)&&!r)return n;n=r}return null}var Do=class{get rootNodes(){let e=this._lView,t=e[he];return sh(t,e,t.firstChild,[])}constructor(e,t,r=!0){this._lView=e,this._cdRefInjectingView=t,this.notifyErrorHandler=r,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[dn]}set context(e){this._lView[dn]=e}get destroyed(){return(this._lView[ne]&256)===256}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let e=this._lView[kt];if(Rr(e)){let t=e[Kd],r=t?t.indexOf(this):-1;r>-1&&(ih(e,r),zd(t,r))}this._attachedToViewContainer=!1}wy(this._lView[he],this._lView)}onDestroy(e){TD(this._lView,e)}markForCheck(){Ry(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[ne]&=-129}reattach(){hm(this._lView),this._lView[ne]|=128}detectChanges(){this._lView[ne]|=1024,OC(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new G(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;let e=lm(this._lView),t=this._lView[Hs];t!==null&&!e&&vy(t,this._lView),hC(this._lView[he],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new G(902,!1);this._appRef=e;let t=lm(this._lView),r=this._lView[Hs];r!==null&&!t&&fC(r,this._lView),hm(this._lView)}},Ph=(()=>{class n{static{this.__NG_ELEMENT_ID__=PO}}return n})(),MO=Ph,NO=class extends MO{constructor(e,t,r){super(),this._declarationLView=e,this._declarationTContainer=t,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(e,t){return this.createEmbeddedViewImpl(e,t)}createEmbeddedViewImpl(e,t,r){let i=MC(this._declarationLView,this._declarationTContainer,e,{embeddedViewInjector:t,dehydratedView:r});return new Do(i)}};function PO(){return jC(St(),Ce())}function jC(n,e){return n.type&4?new NO(e,n,Sh(n,e)):null}var yW=new RegExp(`^(\\d+)*(${ak}|${sk})*(.*)`);var kO=()=>null;function Rm(n,e){return kO(n,e)}var Ws=class{},kh=new q("",{providedIn:"root",factory:()=>!1});var UC=new q(""),BC=new q(""),xm=class{},ah=class{};function OO(n){let e=Error(`No component factory found for ${Pt(n)}.`);return e[FO]=n,e}var FO="ngComponent";var Mm=class{resolveComponentFactory(e){throw OO(e)}},Ks=class{static{this.NULL=new Mm}},Qs=class{},tr=(()=>{class n{constructor(){this.destroyNode=null}static{this.__NG_ELEMENT_ID__=()=>LO()}}return n})();function LO(){let n=Ce(),e=St(),t=Ai(e.index,n);return(Ei(t)?t:n)[We]}var VO=(()=>{class n{static{this.\u0275prov=W({token:n,providedIn:"root",factory:()=>null})}}return n})();function ch(n,e,t){let r=t?n.styles:null,i=t?n.classes:null,o=0;if(e!==null)for(let s=0;s<e.length;s++){let a=e[s];if(typeof a=="number")o=a;else if(o==1)i=sb(i,a);else if(o==2){let u=a,d=e[++s];r=sb(r,u+": "+d+";")}}t?n.styles=r:n.stylesWithoutHost=r,t?n.classes=i:n.classesWithoutHost=i}var uh=class extends Ks{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){let t=Di(e);return new Ys(t,this.ngModule)}};function Nb(n,e){let t=[];for(let r in n){if(!n.hasOwnProperty(r))continue;let i=n[r];if(i===void 0)continue;let o=Array.isArray(i),s=o?i[0]:i,a=o?i[1]:bi.None;e?t.push({propName:s,templateName:r,isSignal:(a&bi.SignalBased)!==0}):t.push({propName:s,templateName:r})}return t}function jO(n){let e=n.toLowerCase();return e==="svg"?aP:e==="math"?cP:null}var Ys=class extends ah{get inputs(){let e=this.componentDef,t=e.inputTransforms,r=Nb(e.inputs,!0);if(t!==null)for(let i of r)t.hasOwnProperty(i.propName)&&(i.transform=t[i.propName]);return r}get outputs(){return Nb(this.componentDef.outputs,!1)}constructor(e,t){super(),this.componentDef=e,this.ngModule=t,this.componentType=e.type,this.selector=jN(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!t}create(e,t,r,i){let o=Ie(null);try{i=i||this.ngModule;let s=i instanceof Zt?i:i?.injector;s&&this.componentDef.getStandaloneInjector!==null&&(s=this.componentDef.getStandaloneInjector(s)||s);let a=s?new pm(e,s):e,u=a.get(Qs,null);if(u===null)throw new G(407,!1);let d=a.get(VO,null),p=a.get(Ws,null),g={rendererFactory:u,sanitizer:d,inlineEffectRunner:null,changeDetectionScheduler:p},_=u.createRenderer(null,this.componentDef),b=this.componentDef.selectors[0][0]||"div",M=r?qk(_,r,this.componentDef.encapsulation,a):dC(_,b,jO(b)),F=512;this.componentDef.signals?F|=4096:this.componentDef.onPush||(F|=16);let k=null;M!==null&&(k=gy(M,a,!0));let U=Dy(0,null,null,1,0,null,null,null,null,null,null),K=Mh(null,U,null,F,null,null,g,_,a,null,k);oy(K);let Y,ce,Pe=null;try{let X=this.componentDef,S,I=null;X.findHostDirectiveDefs?(S=[],I=new Map,X.findHostDirectiveDefs(X,S,I),S.push(X)):S=[X];let E=UO(K,M);Pe=BO(E,M,X,S,K,g,_),ce=ty(U,Ut),M&&zO(_,X,M,r),t!==void 0&&qO(ce,this.ngContentSelectors,t),Y=HO(Pe,X,S,I,K,[GO]),Ay(U,K,null)}catch(X){throw Pe!==null&&Em(Pe),Em(K),X}finally{sy()}return new Nm(this.componentType,Y,Sh(ce,K),K,ce)}finally{Ie(o)}}},Nm=class extends xm{constructor(e,t,r,i,o){super(),this.location=r,this._rootLView=i,this._tNode=o,this.previousInputValues=null,this.instance=t,this.hostView=this.changeDetectorRef=new Do(i,void 0,!1),this.componentType=e}setInput(e,t){let r=this._tNode.inputs,i;if(r!==null&&(i=r[e])){if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),t))return;let o=this._rootLView;Sy(o[he],o,i,e,t),this.previousInputValues.set(e,t);let s=Ai(this._tNode.index,o);Ry(s,1)}}get injector(){return new vo(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}};function UO(n,e){let t=n[he],r=Ut;return n[r]=e,Vc(t,r,2,"#host",null)}function BO(n,e,t,r,i,o,s){let a=i[he];$O(r,n,e,s);let u=null;e!==null&&(u=gy(e,i[$s]));let d=o.rendererFactory.createRenderer(e,t),p=16;t.signals?p=4096:t.onPush&&(p=64);let g=Mh(i,DC(t),null,p,i[n.index],n,o,d,null,null,u);return a.firstCreatePass&&Cm(a,n,r.length-1),Nh(i,g),i[n.index]=g}function $O(n,e,t,r){for(let i of n)e.mergedAttrs=Rc(e.mergedAttrs,i.hostAttrs);e.mergedAttrs!==null&&(ch(e,e.mergedAttrs,!0),t!==null&&vC(r,t,e))}function HO(n,e,t,r,i,o){let s=St(),a=i[he],u=hn(s,i);CC(a,i,s,t,null,r);for(let p=0;p<t.length;p++){let g=s.directiveStart+p,_=Gs(i,a,g,s);Ti(_,i)}TC(a,i,s),u&&Ti(u,i);let d=Gs(i,a,s.directiveStart+s.componentOffset,s);if(n[dn]=i[dn]=d,o!==null)for(let p of o)p(d,e);return Iy(a,s,i),d}function zO(n,e,t,r){if(r)sm(n,t,["ng-version","18.2.9"]);else{let{attrs:i,classes:o}=UN(e.selectors[0]);i&&sm(n,t,i),o&&o.length>0&&yC(n,t,o.join(" "))}}function qO(n,e,t){let r=n.projection=[];for(let i=0;i<e.length;i++){let o=t[i];r.push(o!=null?Array.from(o):null)}}function GO(){let n=St();Th(Ce()[he],n)}var ea=(()=>{class n{static{this.__NG_ELEMENT_ID__=WO}}return n})();function WO(){let n=St();return QO(n,Ce())}var KO=ea,$C=class extends KO{constructor(e,t,r){super(),this._lContainer=e,this._hostTNode=t,this._hostLView=r}get element(){return Sh(this._hostTNode,this._hostLView)}get injector(){return new vo(this._hostTNode,this._hostLView)}get parentInjector(){let e=ay(this._hostTNode,this._hostLView);if(BD(e)){let t=Jd(e,this._hostLView),r=Zd(e),i=t[he].data[r+8];return new vo(i,t)}else return new vo(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){let t=Pb(this._lContainer);return t!==null&&t[e]||null}get length(){return this._lContainer.length-Yt}createEmbeddedView(e,t,r){let i,o;typeof r=="number"?i=r:r!=null&&(i=r.index,o=r.injector);let s=Rm(this._lContainer,e.ssrId),a=e.createEmbeddedViewImpl(t||{},o,s);return this.insertImpl(a,i,Sm(this._hostTNode,s)),a}createComponent(e,t,r,i,o){let s=e&&!rP(e),a;if(s)a=t;else{let M=t||{};a=M.index,r=M.injector,i=M.projectableNodes,o=M.environmentInjector||M.ngModuleRef}let u=s?e:new Ys(Di(e)),d=r||this.parentInjector;if(!o&&u.ngModule==null){let F=(s?d:this.parentInjector).get(Zt,null);F&&(o=F)}let p=Di(u.componentType??{}),g=Rm(this._lContainer,p?.id??null),_=g?.firstChild??null,b=u.create(d,i,_,o);return this.insertImpl(b.hostView,a,Sm(this._hostTNode,g)),b}insert(e,t){return this.insertImpl(e,t,!0)}insertImpl(e,t,r){let i=e._lView;if(uP(i)){let a=this.indexOf(e);if(a!==-1)this.detach(a);else{let u=i[kt],d=new $C(u,u[An],u[kt]);d.detach(d.indexOf(e))}}let o=this._adjustIndex(t),s=this._lContainer;return NC(s,i,o,r),e.attachToViewContainerRef(),Xb(Zg(s),o,e),e}move(e,t){return this.insert(e,t)}indexOf(e){let t=Pb(this._lContainer);return t!==null?t.indexOf(e):-1}remove(e){let t=this._adjustIndex(e,-1),r=ih(this._lContainer,t);r&&(zd(Zg(this._lContainer),t),wy(r[he],r))}detach(e){let t=this._adjustIndex(e,-1),r=ih(this._lContainer,t);return r&&zd(Zg(this._lContainer),t)!=null?new Do(r):null}_adjustIndex(e,t=0){return e??this.length+t}};function Pb(n){return n[Kd]}function Zg(n){return n[Kd]||(n[Kd]=[])}function QO(n,e){let t,r=e[n.index];return Rr(r)?t=r:(t=SC(r,e,null,n),e[n.index]=t,Nh(e,t)),ZO(t,e,n,r),new $C(t,n,e)}function YO(n,e){let t=n[We],r=t.createComment(""),i=hn(e,n),o=gC(t,i);return oh(t,o,r,Pk(t,i),!1),r}var ZO=e1,JO=()=>!1;function XO(n,e,t){return JO(n,e,t)}function e1(n,e,t,r){if(n[_o])return;let i;t.type&8?i=Yn(r):i=YO(e,t),n[_o]=i}var kb=new Set;function Ao(n){kb.has(n)||(kb.add(n),performance?.mark?.("mark_feature_usage",{detail:{feature:n}}))}function t1(n){return typeof n=="function"&&n[wr]!==void 0}function ta(n,e){Ao("NgSignals");let t=PE(n),r=t[wr];return e?.equal&&(r.equal=e.equal),t.set=i=>Cg(r,i),t.update=i=>kE(r,i),t.asReadonly=n1.bind(t),t}function n1(){let n=this[wr];if(n.readonlyFn===void 0){let e=()=>this();e[wr]=n,n.readonlyFn=e}return n.readonlyFn}function HC(n){return t1(n)&&typeof n.set=="function"}function r1(n){return Object.getPrototypeOf(n.prototype).constructor}function Et(n){let e=r1(n.type),t=!0,r=[n];for(;e;){let i;if(Ci(n))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new G(903,!1);i=e.\u0275dir}if(i){if(t){r.push(i);let s=n;s.inputs=kd(n.inputs),s.inputTransforms=kd(n.inputTransforms),s.declaredInputs=kd(n.declaredInputs),s.outputs=kd(n.outputs);let a=i.hostBindings;a&&c1(n,a);let u=i.viewQuery,d=i.contentQueries;if(u&&s1(n,u),d&&a1(n,d),i1(n,i),aN(n.outputs,i.outputs),Ci(i)&&i.data.animation){let p=n.data;p.animation=(p.animation||[]).concat(i.data.animation)}}let o=i.features;if(o)for(let s=0;s<o.length;s++){let a=o[s];a&&a.ngInherit&&a(n),a===Et&&(t=!1)}}e=Object.getPrototypeOf(e)}o1(r)}function i1(n,e){for(let t in e.inputs){if(!e.inputs.hasOwnProperty(t)||n.inputs.hasOwnProperty(t))continue;let r=e.inputs[t];if(r!==void 0&&(n.inputs[t]=r,n.declaredInputs[t]=e.declaredInputs[t],e.inputTransforms!==null)){let i=Array.isArray(r)?r[0]:r;if(!e.inputTransforms.hasOwnProperty(i))continue;n.inputTransforms??={},n.inputTransforms[i]=e.inputTransforms[i]}}}function o1(n){let e=0,t=null;for(let r=n.length-1;r>=0;r--){let i=n[r];i.hostVars=e+=i.hostVars,i.hostAttrs=Rc(i.hostAttrs,t=Rc(t,i.hostAttrs))}}function kd(n){return n===js?{}:n===un?[]:n}function s1(n,e){let t=n.viewQuery;t?n.viewQuery=(r,i)=>{e(r,i),t(r,i)}:n.viewQuery=e}function a1(n,e){let t=n.contentQueries;t?n.contentQueries=(r,i,o)=>{e(r,i,o),t(r,i,o)}:n.contentQueries=e}function c1(n,e){let t=n.hostBindings;t?n.hostBindings=(r,i)=>{e(r,i),t(r,i)}:n.hostBindings=e}function xy(n){let e=n.inputConfig,t={};for(let r in e)if(e.hasOwnProperty(r)){let i=e[r];Array.isArray(i)&&i[3]&&(t[r]=i[3])}n.inputTransforms=t}var Si=class{},Nc=class{};var Pm=class extends Si{constructor(e,t,r,i=!0){super(),this.ngModuleType=e,this._parent=t,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new uh(this);let o=cD(e);this._bootstrapComponents=lC(o.bootstrap),this._r3Injector=YD(e,t,[{provide:Si,useValue:this},{provide:Ks,useValue:this.componentFactoryResolver},...r],Pt(e),new Set(["environment"])),i&&this.resolveInjectorInitializers()}resolveInjectorInitializers(){this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(this.ngModuleType)}get injector(){return this._r3Injector}destroy(){let e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(t=>t()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}},km=class extends Nc{constructor(e){super(),this.moduleType=e}create(e){return new Pm(this.moduleType,e,[])}};var lh=class extends Si{constructor(e){super(),this.componentFactoryResolver=new uh(this),this.instance=null;let t=new xc([...e.providers,{provide:Si,useValue:this},{provide:Ks,useValue:this.componentFactoryResolver}],e.parent||Xm(),e.debugName,new Set(["environment"]));this.injector=t,e.runEnvironmentInitializers&&t.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}};function Oh(n,e,t=null){return new lh({providers:n,parent:e,debugName:t,runEnvironmentInitializers:!0}).injector}function zC(n){return l1(n)?Array.isArray(n)||!(n instanceof Map)&&Symbol.iterator in n:!1}function u1(n,e){if(Array.isArray(n))for(let t=0;t<n.length;t++)e(n[t]);else{let t=n[Symbol.iterator](),r;for(;!(r=t.next()).done;)e(r.value)}}function l1(n){return n!==null&&(typeof n=="function"||typeof n=="object")}function My(n,e,t){return n[e]=t}function d1(n,e){return n[e]}function Dr(n,e,t){let r=n[e];return Object.is(r,t)?!1:(n[e]=t,!0)}function Ny(n,e,t,r){let i=Dr(n,e,t);return Dr(n,e+1,r)||i}function h1(n,e,t,r,i){let o=Ny(n,e,t,r);return Dr(n,e+2,i)||o}function f1(n){return(n.flags&32)===32}function p1(n,e,t,r,i,o,s,a,u){let d=e.consts,p=Vc(e,n,4,s||null,a||null);Ty(e,t,p,qs(d,u)),Th(e,p);let g=p.tView=Dy(2,p,r,i,o,e.directiveRegistry,e.pipeRegistry,null,e.schemas,d,null);return e.queries!==null&&(e.queries.template(e,p),g.queries=e.queries.embeddedTView(p)),p}function g1(n,e,t,r,i,o,s,a,u,d){let p=t+Ut,g=e.firstCreatePass?p1(p,e,n,r,i,o,s,a,u):e.data[p];To(g,!1);let _=m1(e,n,g,t);Dh()&&Rh(e,n,_,g),Ti(_,n);let b=SC(_,n,_,g);return n[p]=b,Nh(n,b),XO(b,g,n),_h(g)&&Ey(e,n,g),u!=null&&by(n,g,d),g}function Py(n,e,t,r,i,o,s,a){let u=Ce(),d=It(),p=qs(d.consts,o);return g1(u,d,n,e,t,r,i,p,s,a),Py}var m1=y1;function y1(n,e,t,r){return Ch(!0),e[We].createComment("")}var Os=function(n){return n[n.EarlyRead=0]="EarlyRead",n[n.Write=1]="Write",n[n.MixedReadWrite=2]="MixedReadWrite",n[n.Read=3]="Read",n}(Os||{}),qC=(()=>{class n{constructor(){this.impl=null}execute(){this.impl?.execute()}static{this.\u0275prov=W({token:n,providedIn:"root",factory:()=>new n})}}return n})(),Om=class n{constructor(){this.ngZone=j(Re),this.scheduler=j(Ws),this.errorHandler=j(Er,{optional:!0}),this.sequences=new Set,this.deferredRegistrations=new Set,this.executing=!1}static{this.PHASES=[Os.EarlyRead,Os.Write,Os.MixedReadWrite,Os.Read]}execute(){this.executing=!0;for(let e of n.PHASES)for(let t of this.sequences)if(!(t.erroredOrDestroyed||!t.hooks[e]))try{t.pipelinedValue=this.ngZone.runOutsideAngular(()=>t.hooks[e](t.pipelinedValue))}catch(r){t.erroredOrDestroyed=!0,this.errorHandler?.handleError(r)}this.executing=!1;for(let e of this.sequences)e.afterRun(),e.once&&(this.sequences.delete(e),e.destroy());for(let e of this.deferredRegistrations)this.sequences.add(e);this.deferredRegistrations.size>0&&this.scheduler.notify(7),this.deferredRegistrations.clear()}register(e){this.executing?this.deferredRegistrations.add(e):(this.sequences.add(e),this.scheduler.notify(6))}unregister(e){this.executing&&this.sequences.has(e)?(e.erroredOrDestroyed=!0,e.pipelinedValue=void 0,e.once=!0):(this.sequences.delete(e),this.deferredRegistrations.delete(e))}static{this.\u0275prov=W({token:n,providedIn:"root",factory:()=>new n})}},Fm=class{constructor(e,t,r,i){this.impl=e,this.hooks=t,this.once=r,this.erroredOrDestroyed=!1,this.pipelinedValue=void 0,this.unregisterOnDestroy=i?.onDestroy(()=>this.destroy())}afterRun(){this.erroredOrDestroyed=!1,this.pipelinedValue=void 0}destroy(){this.impl.unregister(this),this.unregisterOnDestroy?.()}};function ky(n,e){!e?.injector&&nP(ky);let t=e?.injector??j(_t);return _k(t)?(Ao("NgAfterNextRender"),w1(n,t,e,!0)):_1}function v1(n,e){if(n instanceof Function){let t=[void 0,void 0,void 0,void 0];return t[e]=n,t}else return[n.earlyRead,n.write,n.mixedReadWrite,n.read]}function w1(n,e,t,r){let i=e.get(qC);i.impl??=e.get(Om);let o=t?.phase??Os.MixedReadWrite,s=t?.manualCleanup!==!0?e.get(uy):null,a=new Fm(i.impl,v1(n,o),r,s);return i.impl.register(a),a}var _1={destroy(){}};function Ri(n,e,t,r){let i=Ce(),o=Fc();if(Dr(i,o,e)){let s=It(),a=bh();cO(a,i,n,e,t,r)}return Ri}function GC(n,e,t,r){return Dr(n,Fc(),t)?e+Vs(t)+r:pn}function I1(n,e,t,r,i,o){let s=_P(),a=Ny(n,s,t,i);return ND(2),a?e+Vs(t)+r+Vs(i)+o:pn}function Od(n,e){return n<<17|e<<2}function Co(n){return n>>17&32767}function E1(n){return(n&2)==2}function b1(n,e){return n&131071|e<<17}function Lm(n){return n|2}function Zs(n){return(n&131068)>>2}function Jg(n,e){return n&-131069|e<<2}function D1(n){return(n&1)===1}function Vm(n){return n|1}function C1(n,e,t,r,i,o){let s=o?e.classBindings:e.styleBindings,a=Co(s),u=Zs(s);n[r]=t;let d=!1,p;if(Array.isArray(t)){let g=t;p=g[1],(p===null||Oc(g,p)>0)&&(d=!0)}else p=t;if(i)if(u!==0){let _=Co(n[a+1]);n[r+1]=Od(_,a),_!==0&&(n[_+1]=Jg(n[_+1],r)),n[a+1]=b1(n[a+1],r)}else n[r+1]=Od(a,0),a!==0&&(n[a+1]=Jg(n[a+1],r)),a=r;else n[r+1]=Od(u,0),a===0?a=r:n[u+1]=Jg(n[u+1],r),u=r;d&&(n[r+1]=Lm(n[r+1])),Ob(n,p,r,!0),Ob(n,p,r,!1),T1(e,p,n,r,o),s=Od(a,u),o?e.classBindings=s:e.styleBindings=s}function T1(n,e,t,r,i){let o=i?n.residualClasses:n.residualStyles;o!=null&&typeof e=="string"&&Oc(o,e)>=0&&(t[r+1]=Vm(t[r+1]))}function Ob(n,e,t,r){let i=n[t+1],o=e===null,s=r?Co(i):Zs(i),a=!1;for(;s!==0&&(a===!1||o);){let u=n[s],d=n[s+1];S1(u,e)&&(a=!0,n[s+1]=r?Vm(d):Lm(d)),s=r?Co(d):Zs(d)}a&&(n[t+1]=r?Lm(i):Vm(i))}function S1(n,e){return n===null||e==null||(Array.isArray(n)?n[1]:n)===e?!0:Array.isArray(n)&&typeof e=="string"?Oc(n,e)>=0:!1}function Oy(n,e,t){let r=Ce(),i=Fc();if(Dr(r,i,e)){let o=It(),s=bh();Cy(o,s,r,n,e,r[We],t,!1)}return Oy}function Fb(n,e,t,r,i){let o=e.inputs,s=i?"class":"style";Sy(n,t,o[s],s,r)}function Fh(n,e){return A1(n,e,null,!0),Fh}function A1(n,e,t,r){let i=Ce(),o=It(),s=ND(2);if(o.firstUpdatePass&&x1(o,n,s,r),e!==pn&&Dr(i,s,e)){let a=o.data[So()];O1(o,a,i,i[We],n,i[s+1]=F1(e,t),r,s)}}function R1(n,e){return e>=n.expandoStartIndex}function x1(n,e,t,r){let i=n.data;if(i[t+1]===null){let o=i[So()],s=R1(n,t);L1(o,r)&&e===null&&!s&&(e=!1),e=M1(i,o,e,r),C1(i,o,e,t,s,r)}}function M1(n,e,t,r){let i=CP(n),o=r?e.residualClasses:e.residualStyles;if(i===null)(r?e.classBindings:e.styleBindings)===0&&(t=Xg(null,n,e,t,r),t=Pc(t,e.attrs,r),o=null);else{let s=e.directiveStylingLast;if(s===-1||n[s]!==i)if(t=Xg(i,n,e,t,r),o===null){let u=N1(n,e,r);u!==void 0&&Array.isArray(u)&&(u=Xg(null,n,e,u[1],r),u=Pc(u,e.attrs,r),P1(n,e,r,u))}else o=k1(n,e,r)}return o!==void 0&&(r?e.residualClasses=o:e.residualStyles=o),t}function N1(n,e,t){let r=t?e.classBindings:e.styleBindings;if(Zs(r)!==0)return n[Co(r)]}function P1(n,e,t,r){let i=t?e.classBindings:e.styleBindings;n[Co(i)]=r}function k1(n,e,t){let r,i=e.directiveEnd;for(let o=1+e.directiveStylingLast;o<i;o++){let s=n[o].hostAttrs;r=Pc(r,s,t)}return Pc(r,e.attrs,t)}function Xg(n,e,t,r,i){let o=null,s=t.directiveEnd,a=t.directiveStylingLast;for(a===-1?a=t.directiveStart:a++;a<s&&(o=e[a],r=Pc(r,o.hostAttrs,i),o!==n);)a++;return n!==null&&(t.directiveStylingLast=a),r}function Pc(n,e,t){let r=t?1:2,i=-1;if(e!==null)for(let o=0;o<e.length;o++){let s=e[o];typeof s=="number"?i=s:i===r&&(Array.isArray(n)||(n=n===void 0?[]:["",n]),SN(n,s,t?!0:e[++o]))}return n===void 0?null:n}function O1(n,e,t,r,i,o,s,a){if(!(e.type&3))return;let u=n.data,d=u[a+1],p=D1(d)?Lb(u,e,t,i,Zs(d),s):void 0;if(!dh(p)){dh(o)||E1(d)&&(o=Lb(u,null,t,i,a,s));let g=ED(So(),t);Uk(r,s,g,i,o)}}function Lb(n,e,t,r,i,o){let s=e===null,a;for(;i>0;){let u=n[i],d=Array.isArray(u),p=d?u[1]:u,g=p===null,_=t[i+1];_===pn&&(_=g?un:void 0);let b=g?Hg(_,r):p===r?_:void 0;if(d&&!dh(b)&&(b=Hg(u,r)),dh(b)&&(a=b,s))return a;let M=n[i+1];i=s?Co(M):Zs(M)}if(e!==null){let u=o?e.residualClasses:e.residualStyles;u!=null&&(a=Hg(u,r))}return a}function dh(n){return n!==void 0}function F1(n,e){return n==null||n===""||(typeof e=="string"?n=n+e:typeof n=="object"&&(n=Pt(Lc(n)))),n}function L1(n,e){return(n.flags&(e?8:16))!==0}function wW(n,e){Ao("NgControlFlow");let t=Ce(),r=Fc(),i=t[r]!==pn?t[r]:-1,o=i!==-1?Vb(t,Ut+i):void 0,s=0;if(Dr(t,r,n)){let a=Ie(null);try{if(o!==void 0&&vO(o,s),n!==-1){let u=Ut+n,d=Vb(t,u),p=V1(t[he],u),g=Rm(d,p.tView.ssrId),_=MC(t,p,e,{dehydratedView:g});NC(d,_,s,Sm(p,g))}}finally{Ie(a)}}else if(o!==void 0){let a=yO(o,s);a!==void 0&&(a[dn]=e)}}function Vb(n,e){return n[e]}function V1(n,e){return ty(n,e)}function j1(n,e,t,r,i,o){let s=e.consts,a=qs(s,i),u=Vc(e,n,2,r,a);return Ty(e,t,u,qs(s,o)),u.attrs!==null&&ch(u,u.attrs,!1),u.mergedAttrs!==null&&ch(u,u.mergedAttrs,!0),e.queries!==null&&e.queries.elementStart(e,u),u}function jc(n,e,t,r){let i=Ce(),o=It(),s=Ut+n,a=i[We],u=o.firstCreatePass?j1(s,o,i,e,t,r):o.data[s],d=U1(o,i,u,a,e,n);i[s]=d;let p=_h(u);return To(u,!0),vC(a,d,u),!f1(u)&&Dh()&&Rh(o,i,d,u),hP()===0&&Ti(d,i),fP(),p&&(Ey(o,i,u),Iy(o,u,i)),r!==null&&by(i,u),jc}function Lh(){let n=St();ry()?xD():(n=n.parent,To(n,!1));let e=n;mP(e)&&yP(),pP();let t=It();return t.firstCreatePass&&(Th(t,n),ey(n)&&t.queries.elementEnd(n)),e.classesWithoutHost!=null&&NP(e)&&Fb(t,e,Ce(),e.classesWithoutHost,!0),e.stylesWithoutHost!=null&&PP(e)&&Fb(t,e,Ce(),e.stylesWithoutHost,!1),Lh}function Uc(n,e,t,r){return jc(n,e,t,r),Lh(),Uc}var U1=(n,e,t,r,i,o)=>(Ch(!0),dC(r,i,AP()));function B1(n,e,t,r,i){let o=e.consts,s=qs(o,r),a=Vc(e,n,8,"ng-container",s);s!==null&&ch(a,s,!0);let u=qs(o,i);return Ty(e,t,a,u),e.queries!==null&&e.queries.elementStart(e,a),a}function $1(n,e,t){let r=Ce(),i=It(),o=n+Ut,s=i.firstCreatePass?B1(o,i,r,e,t):i.data[o];To(s,!0);let a=z1(i,r,s,n);return r[o]=a,Dh()&&Rh(i,r,a,s),Ti(a,r),_h(s)&&(Ey(i,r,s),Iy(i,s,r)),t!=null&&by(r,s),$1}function H1(){let n=St(),e=It();return ry()?xD():(n=n.parent,To(n,!1)),e.firstCreatePass&&(Th(e,n),ey(n)&&e.queries.elementEnd(n)),H1}var z1=(n,e,t,r)=>(Ch(!0),Dk(e[We],""));function _W(){return Ce()}var hh="en-US";var q1=hh;function G1(n){typeof n=="string"&&(q1=n.toLowerCase().replace(/_/g,"-"))}var W1=(n,e,t)=>{};function nr(n,e,t,r){let i=Ce(),o=It(),s=St();return WC(o,i,i[We],s,n,e,r),nr}function K1(n,e,t,r){let i=n.cleanup;if(i!=null)for(let o=0;o<i.length-1;o+=2){let s=i[o];if(s===t&&i[o+1]===r){let a=e[Wd],u=i[o+2];return a.length>u?a[u]:null}typeof s=="string"&&(o+=2)}return null}function WC(n,e,t,r,i,o,s){let a=_h(r),d=n.firstCreatePass&&fO(n),p=e[dn],g=hO(e),_=!0;if(r.type&3||s){let F=hn(r,e),k=s?s(F):F,U=g.length,K=s?ce=>s(Yn(ce[r.index])):r.index,Y=null;if(!s&&a&&(Y=K1(n,e,i,r.index)),Y!==null){let ce=Y.__ngLastListenerFn__||Y;ce.__ngNextListenerFn__=o,Y.__ngLastListenerFn__=o,_=!1}else{o=Ub(r,e,p,o),W1(F,i,o);let ce=t.listen(k,i,o);g.push(o,ce),d&&d.push(i,K,U,U+1)}}else o=Ub(r,e,p,o);let b=r.outputs,M;if(_&&b!==null&&(M=b[i])){let F=M.length;if(F)for(let k=0;k<F;k+=2){let U=M[k],K=M[k+1],Pe=e[U][K].subscribe(o),X=g.length;g.push(o,Pe),d&&d.push(i,r.index,X,-(X+1))}}}function jb(n,e,t,r){let i=Ie(null);try{return qn(6,e,t),t(r)!==!1}catch(o){return RC(n,o),!1}finally{qn(7,e,t),Ie(i)}}function Ub(n,e,t,r){return function i(o){if(o===Function)return r;let s=n.componentOffset>-1?Ai(n.index,e):e;Ry(s,5);let a=jb(e,t,r,o),u=i.__ngNextListenerFn__;for(;u;)a=jb(e,t,u,o)&&a,u=u.__ngNextListenerFn__;return a}}function IW(n=1){return SP(n)}function Q1(n,e,t,r,i){let o=Ce(),s=GC(o,e,t,r);if(s!==pn){let a=It(),u=bh();Cy(a,u,o,n,s,o[We],i,!1)}return Q1}function Y1(n,e,t,r){t>=n.data.length&&(n.data[t]=null,n.blueprint[t]=null),e[t]=r}function EW(n){let e=wP();return bD(e,Ut+n)}function KC(n,e=""){let t=Ce(),r=It(),i=n+Ut,o=r.firstCreatePass?Vc(r,i,1,e,null):r.data[i],s=Z1(r,t,o,e,n);t[i]=s,Dh()&&Rh(r,t,s,o),To(o,!1)}var Z1=(n,e,t,r,i)=>(Ch(!0),Ek(e[We],r));function J1(n){return QC("",n,""),J1}function QC(n,e,t){let r=Ce(),i=GC(r,n,e,t);return i!==pn&&xC(r,So(),i),QC}function X1(n,e,t,r,i){let o=Ce(),s=I1(o,n,e,t,r,i);return s!==pn&&xC(o,So(),s),X1}function eF(n,e,t){HC(e)&&(e=e());let r=Ce(),i=Fc();if(Dr(r,i,e)){let o=It(),s=bh();Cy(o,s,r,n,e,r[We],t,!1)}return eF}function bW(n,e){let t=HC(n);return t&&n.set(e),t}function tF(n,e){let t=Ce(),r=It(),i=St();return WC(r,t,t[We],i,n,e),tF}function nF(n,e,t){let r=It();if(r.firstCreatePass){let i=Ci(n);jm(t,r.data,r.blueprint,i,!0),jm(e,r.data,r.blueprint,i,!1)}}function jm(n,e,t,r,i){if(n=Nt(n),Array.isArray(n))for(let o=0;o<n.length;o++)jm(n[o],e,t,r,i);else{let o=It(),s=Ce(),a=St(),u=Bs(n)?n:Nt(n.provide),d=pD(n),p=a.providerIndexes&1048575,g=a.directiveStart,_=a.providerIndexes>>20;if(Bs(n)||!n.multi){let b=new bo(d,i,J),M=tm(u,e,i?p:p+_,g);M===-1?(mm(eh(a,s),o,u),em(o,n,e.length),e.push(u),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),t.push(b),s.push(b)):(t[M]=b,s[M]=b)}else{let b=tm(u,e,p+_,g),M=tm(u,e,p,p+_),F=b>=0&&t[b],k=M>=0&&t[M];if(i&&!k||!i&&!F){mm(eh(a,s),o,u);let U=oF(i?iF:rF,t.length,i,r,d);!i&&k&&(t[M].providerFactory=U),em(o,n,e.length,0),e.push(u),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),t.push(U),s.push(U)}else{let U=YC(t[i?M:b],d,!i&&r);em(o,n,b>-1?b:M,U)}!i&&r&&k&&t[M].componentProviders++}}}function em(n,e,t,r){let i=Bs(e),o=QN(e);if(i||o){let u=(o?Nt(e.useClass):e).prototype.ngOnDestroy;if(u){let d=n.destroyHooks||(n.destroyHooks=[]);if(!i&&e.multi){let p=d.indexOf(t);p===-1?d.push(t,[r,u]):d[p+1].push(r,u)}else d.push(t,u)}}}function YC(n,e,t){return t&&n.componentProviders++,n.multi.push(e)-1}function tm(n,e,t,r){for(let i=t;i<r;i++)if(e[i]===n)return i;return-1}function rF(n,e,t,r){return Um(this.multi,[])}function iF(n,e,t,r){let i=this.multi,o;if(this.providerFactory){let s=this.providerFactory.componentProviders,a=Gs(t,t[he],this.providerFactory.index,r);o=a.slice(0,s),Um(i,o);for(let u=s;u<a.length;u++)o.push(a[u])}else o=[],Um(i,o);return o}function Um(n,e){for(let t=0;t<n.length;t++){let r=n[t];e.push(r())}return e}function oF(n,e,t,r,i){let o=new bo(n,t,J);return o.multi=[],o.index=e,o.componentProviders=0,YC(o,i,r&&!t),o}function Jt(n,e=[]){return t=>{t.providersResolver=(r,i)=>nF(r,i?i(n):n,e)}}var sF=(()=>{class n{constructor(t){this._injector=t,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(t){if(!t.standalone)return null;if(!this.cachedInjectors.has(t)){let r=dD(!1,t.type),i=r.length>0?Oh([r],this._injector,`Standalone[${t.type.name}]`):null;this.cachedInjectors.set(t,i)}return this.cachedInjectors.get(t)}ngOnDestroy(){try{for(let t of this.cachedInjectors.values())t!==null&&t.destroy()}finally{this.cachedInjectors.clear()}}static{this.\u0275prov=W({token:n,providedIn:"environment",factory:()=>new n(re(Zt))})}}return n})();function Vh(n){Ao("NgStandalone"),n.getStandaloneInjector=e=>e.get(sF).getOrCreateStandaloneInjector(n)}function DW(n,e,t){let r=iy()+n,i=Ce();return i[r]===pn?My(i,r,t?e.call(t):e()):d1(i,r)}function CW(n,e,t,r,i){return aF(Ce(),iy(),n,e,t,r,i)}function ZC(n,e){let t=n[e];return t===pn?void 0:t}function aF(n,e,t,r,i,o,s){let a=e+t;return Ny(n,a,i,o)?My(n,a+2,s?r.call(s,i,o):r(i,o)):ZC(n,a+2)}function cF(n,e,t,r,i,o,s,a){let u=e+t;return h1(n,u,i,o,s)?My(n,u+3,a?r.call(a,i,o,s):r(i,o,s)):ZC(n,u+3)}function TW(n,e){let t=It(),r,i=n+Ut;t.firstCreatePass?(r=uF(e,t.pipeRegistry),t.data[i]=r,r.onDestroy&&(t.destroyHooks??=[]).push(i,r.onDestroy)):r=t.data[i];let o=r.factory||(r.factory=wo(r.type,!0)),s,a=jt(J);try{let u=Xd(!1),d=o();return Xd(u),Y1(t,Ce(),i,d),d}finally{jt(a)}}function uF(n,e){if(e)for(let t=e.length-1;t>=0;t--){let r=e[t];if(n===r.name)return r}}function SW(n,e,t,r,i){let o=n+Ut,s=Ce(),a=bD(s,o);return lF(s,o)?cF(s,iy(),e,a.transform,t,r,i,a):a.transform(t,r,i)}function lF(n,e){return n[he].data[e].pure}function AW(n,e){return jC(n,e)}var Cr=class{constructor(e){this.full=e;let t=e.split(".");this.major=t[0],this.minor=t[1],this.patch=t.slice(2).join(".")}},JC=new Cr("18.2.9");var jh=(()=>{class n{log(t){console.log(t)}warn(t){console.warn(t)}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=W({token:n,factory:n.\u0275fac,providedIn:"platform"})}}return n})();var XC=new q("");function Ro(n){return!!n&&typeof n.then=="function"}function e0(n){return!!n&&typeof n.subscribe=="function"}var Uh=new q(""),t0=(()=>{class n{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((t,r)=>{this.resolve=t,this.reject=r}),this.appInits=j(Uh,{optional:!0})??[]}runInitializers(){if(this.initialized)return;let t=[];for(let i of this.appInits){let o=i();if(Ro(o))t.push(o);else if(e0(o)){let s=new Promise((a,u)=>{o.subscribe({complete:a,error:u})});t.push(s)}}let r=()=>{this.done=!0,this.resolve()};Promise.all(t).then(()=>{r()}).catch(i=>{this.reject(i)}),t.length===0&&r(),this.initialized=!0}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=W({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),Bh=new q("");function dF(){NE(()=>{throw new G(600,!1)})}function hF(n){return n.isBoundToModule}var fF=10;function pF(n,e,t){try{let r=t();return Ro(r)?r.catch(i=>{throw e.runOutsideAngular(()=>n.handleError(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>n.handleError(r)),r}}var xo=(()=>{class n{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=j(XP),this.afterRenderManager=j(qC),this.zonelessEnabled=j(kh),this.dirtyFlags=0,this.deferredDirtyFlags=0,this.externalTestViews=new Set,this.beforeRender=new ht,this.afterTick=new ht,this.componentTypes=[],this.components=[],this.isStable=j(Xs).hasPendingTasks.pipe(le(t=>!t)),this._injector=j(Zt)}get allViews(){return[...this.externalTestViews.keys(),...this._views]}get destroyed(){return this._destroyed}whenStable(){let t;return new Promise(r=>{t=this.isStable.subscribe({next:i=>{i&&r()}})}).finally(()=>{t.unsubscribe()})}get injector(){return this._injector}bootstrap(t,r){let i=t instanceof ah;if(!this._injector.get(t0).done){let _=!i&&aD(t),b=!1;throw new G(405,b)}let s;i?s=t:s=this._injector.get(Ks).resolveComponentFactory(t),this.componentTypes.push(s.componentType);let a=hF(s)?void 0:this._injector.get(Si),u=r||s.selector,d=s.create(_t.NULL,[],u,a),p=d.location.nativeElement,g=d.injector.get(XC,null);return g?.registerApplication(p),d.onDestroy(()=>{this.detachView(d.hostView),Ud(this.components,d),g?.unregisterApplication(p)}),this._loadComponent(d),d}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick(){if(this._runningTick)throw new G(101,!1);let t=Ie(null);try{this._runningTick=!0,this.synchronize()}catch(r){this.internalErrorHandler(r)}finally{this._runningTick=!1,Ie(t),this.afterTick.next()}}synchronize(){let t=null;this._injector.destroyed||(t=this._injector.get(Qs,null,{optional:!0})),this.dirtyFlags|=this.deferredDirtyFlags,this.deferredDirtyFlags=0;let r=0;for(;this.dirtyFlags!==0&&r++<fF;)this.synchronizeOnce(t)}synchronizeOnce(t){if(this.dirtyFlags|=this.deferredDirtyFlags,this.deferredDirtyFlags=0,this.dirtyFlags&7){let r=!!(this.dirtyFlags&1);this.dirtyFlags&=-8,this.dirtyFlags|=8,this.beforeRender.next(r);for(let{_lView:i,notifyErrorHandler:o}of this._views)gF(i,o,r,this.zonelessEnabled);if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),this.dirtyFlags&7)return}else t?.begin?.(),t?.end?.();this.dirtyFlags&8&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){if(this.allViews.some(({_lView:t})=>Ih(t))){this.dirtyFlags|=2;return}else this.dirtyFlags&=-8}attachView(t){let r=t;this._views.push(r),r.attachToAppRef(this)}detachView(t){let r=t;Ud(this._views,r),r.detachFromAppRef()}_loadComponent(t){this.attachView(t.hostView),this.tick(),this.components.push(t);let r=this._injector.get(Bh,[]);[...this._bootstrapListeners,...r].forEach(i=>i(t))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(t=>t()),this._views.slice().forEach(t=>t.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(t){return this._destroyListeners.push(t),()=>Ud(this._destroyListeners,t)}destroy(){if(this._destroyed)throw new G(406,!1);let t=this._injector;t.destroy&&!t.destroyed&&t.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=W({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function Ud(n,e){let t=n.indexOf(e);t>-1&&n.splice(t,1)}function gF(n,e,t,r){if(!t&&!Ih(n))return;OC(n,e,t&&!r?0:1)}var Bm=class{constructor(e,t){this.ngModuleFactory=e,this.componentFactories=t}},$h=(()=>{class n{compileModuleSync(t){return new km(t)}compileModuleAsync(t){return Promise.resolve(this.compileModuleSync(t))}compileModuleAndAllComponentsSync(t){let r=this.compileModuleSync(t),i=cD(t),o=lC(i.declarations).reduce((s,a)=>{let u=Di(a);return u&&s.push(new Ys(u)),s},[]);return new Bm(r,o)}compileModuleAndAllComponentsAsync(t){return Promise.resolve(this.compileModuleAndAllComponentsSync(t))}clearCache(){}clearCacheFor(t){}getModuleId(t){}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=W({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();var mF=(()=>{class n{constructor(){this.zone=j(Re),this.changeDetectionScheduler=j(Ws),this.applicationRef=j(xo)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=W({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),yF=new q("",{factory:()=>!1});function n0({ngZoneFactory:n,ignoreChangesOutsideZone:e,scheduleInRootZone:t}){return n??=()=>new Re(ge(B({},r0()),{scheduleInRootZone:t})),[{provide:Re,useFactory:n},{provide:Us,multi:!0,useFactory:()=>{let r=j(mF,{optional:!0});return()=>r.initialize()}},{provide:Us,multi:!0,useFactory:()=>{let r=j(vF);return()=>{r.initialize()}}},e===!0?{provide:UC,useValue:!0}:[],{provide:BC,useValue:t??ZD}]}function RW(n){let e=n?.ignoreChangesOutsideZone,t=n?.scheduleInRootZone,r=n0({ngZoneFactory:()=>{let i=r0(n);return i.scheduleInRootZone=t,i.shouldCoalesceEventChangeDetection&&Ao("NgZone_CoalesceEvent"),new Re(i)},ignoreChangesOutsideZone:e,scheduleInRootZone:t});return Zn([{provide:yF,useValue:!0},{provide:kh,useValue:!1},r])}function r0(n){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:n?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:n?.runCoalescing??!1}}var vF=(()=>{class n{constructor(){this.subscription=new He,this.initialized=!1,this.zone=j(Re),this.pendingTasks=j(Xs)}initialize(){if(this.initialized)return;this.initialized=!0;let t=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(t=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{Re.assertNotInAngularZone(),queueMicrotask(()=>{t!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(t),t=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{Re.assertInAngularZone(),t??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=W({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();var wF=(()=>{class n{constructor(){this.appRef=j(xo),this.taskService=j(Xs),this.ngZone=j(Re),this.zonelessEnabled=j(kh),this.disableScheduling=j(UC,{optional:!0})??!1,this.zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run,this.schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}],this.subscriptions=new He,this.angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(nh):null,this.scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&(j(BC,{optional:!0})??!1),this.cancelScheduledCallback=null,this.useMicrotaskScheduler=!1,this.runningTick=!1,this.pendingRenderTaskId=null,this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof Im||!this.zoneIsDefined)}notify(t){if(!this.zonelessEnabled&&t===5)return;switch(t){case 0:{this.appRef.dirtyFlags|=2;break}case 3:case 2:case 4:case 5:case 1:{this.appRef.dirtyFlags|=4;break}case 7:{this.appRef.deferredDirtyFlags|=8;break}case 9:case 8:case 6:case 10:default:this.appRef.dirtyFlags|=8}if(!this.shouldScheduleTick())return;let r=this.useMicrotaskScheduler?bb:JD;this.pendingRenderTaskId=this.taskService.add(),this.scheduleInRootZone?this.cancelScheduledCallback=Zone.root.run(()=>r(()=>this.tick())):this.cancelScheduledCallback=this.ngZone.runOutsideAngular(()=>r(()=>this.tick()))}shouldScheduleTick(){return!(this.disableScheduling||this.pendingRenderTaskId!==null||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(nh+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;!this.zonelessEnabled&&this.appRef.dirtyFlags&7&&(this.appRef.dirtyFlags|=1);let t=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(r){throw this.taskService.remove(t),r}finally{this.cleanup()}this.useMicrotaskScheduler=!0,bb(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(t)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,this.pendingRenderTaskId!==null){let t=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(t)}}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=W({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function _F(){return typeof $localize<"u"&&$localize.locale||hh}var Fy=new q("",{providedIn:"root",factory:()=>j(Fy,de.Optional|de.SkipSelf)||_F()});var $m=new q("");function Fd(n){return!n.moduleRef}function IF(n){let e=Fd(n)?n.r3Injector:n.moduleRef.injector,t=e.get(Re);return t.run(()=>{Fd(n)?n.r3Injector.resolveInjectorInitializers():n.moduleRef.resolveInjectorInitializers();let r=e.get(Er,null),i;if(t.runOutsideAngular(()=>{i=t.onError.subscribe({next:o=>{r.handleError(o)}})}),Fd(n)){let o=()=>e.destroy(),s=n.platformInjector.get($m);s.add(o),e.onDestroy(()=>{i.unsubscribe(),s.delete(o)})}else{let o=()=>n.moduleRef.destroy(),s=n.platformInjector.get($m);s.add(o),n.moduleRef.onDestroy(()=>{Ud(n.allPlatformModules,n.moduleRef),i.unsubscribe(),s.delete(o)})}return pF(r,t,()=>{let o=e.get(t0);return o.runInitializers(),o.donePromise.then(()=>{let s=e.get(Fy,hh);if(G1(s||hh),Fd(n)){let a=e.get(xo);return n.rootComponent!==void 0&&a.bootstrap(n.rootComponent),a}else return EF(n.moduleRef,n.allPlatformModules),n.moduleRef})})})}function EF(n,e){let t=n.injector.get(xo);if(n._bootstrapComponents.length>0)n._bootstrapComponents.forEach(r=>t.bootstrap(r));else if(n.instance.ngDoBootstrap)n.instance.ngDoBootstrap(t);else throw new G(-403,!1);e.push(n)}var Bd=null;function bF(n=[],e){return _t.create({name:e,providers:[{provide:yh,useValue:"platform"},{provide:$m,useValue:new Set([()=>Bd=null])},...n]})}function DF(n=[]){if(Bd)return Bd;let e=bF(n);return Bd=e,dF(),CF(e),e}function CF(n){n.get(fy,null)?.forEach(t=>t())}var Mo=(()=>{class n{static{this.__NG_ELEMENT_ID__=TF}}return n})();function TF(n){return SF(St(),Ce(),(n&16)===16)}function SF(n,e,t){if(wh(n)&&!t){let r=Ai(n.index,e);return new Do(r,r)}else if(n.type&175){let r=e[Qn];return new Do(r,e)}return null}var Hm=class{constructor(){}supports(e){return zC(e)}create(e){return new zm(e)}},AF=(n,e)=>e,zm=class{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||AF}forEachItem(e){let t;for(t=this._itHead;t!==null;t=t._next)e(t)}forEachOperation(e){let t=this._itHead,r=this._removalsHead,i=0,o=null;for(;t||r;){let s=!r||t&&t.currentIndex<Bb(r,i,o)?t:r,a=Bb(s,i,o),u=s.currentIndex;if(s===r)i--,r=r._nextRemoved;else if(t=t._next,s.previousIndex==null)i++;else{o||(o=[]);let d=a-i,p=u-i;if(d!=p){for(let _=0;_<d;_++){let b=_<o.length?o[_]:o[_]=0,M=b+_;p<=M&&M<d&&(o[_]=b+1)}let g=s.previousIndex;o[g]=p-d}}a!==u&&e(s,a,u)}}forEachPreviousItem(e){let t;for(t=this._previousItHead;t!==null;t=t._nextPrevious)e(t)}forEachAddedItem(e){let t;for(t=this._additionsHead;t!==null;t=t._nextAdded)e(t)}forEachMovedItem(e){let t;for(t=this._movesHead;t!==null;t=t._nextMoved)e(t)}forEachRemovedItem(e){let t;for(t=this._removalsHead;t!==null;t=t._nextRemoved)e(t)}forEachIdentityChange(e){let t;for(t=this._identityChangesHead;t!==null;t=t._nextIdentityChange)e(t)}diff(e){if(e==null&&(e=[]),!zC(e))throw new G(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let t=this._itHead,r=!1,i,o,s;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)o=e[a],s=this._trackByFn(a,o),t===null||!Object.is(t.trackById,s)?(t=this._mismatch(t,o,s,a),r=!0):(r&&(t=this._verifyReinsertion(t,o,s,a)),Object.is(t.item,o)||this._addIdentityChange(t,o)),t=t._next}else i=0,u1(e,a=>{s=this._trackByFn(i,a),t===null||!Object.is(t.trackById,s)?(t=this._mismatch(t,a,s,i),r=!0):(r&&(t=this._verifyReinsertion(t,a,s,i)),Object.is(t.item,a)||this._addIdentityChange(t,a)),t=t._next,i++}),this.length=i;return this._truncate(t),this.collection=e,this.isDirty}get isDirty(){return this._additionsHead!==null||this._movesHead!==null||this._removalsHead!==null||this._identityChangesHead!==null}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;e!==null;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;e!==null;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;e!==null;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,t,r,i){let o;return e===null?o=this._itTail:(o=e._prev,this._remove(e)),e=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null),e!==null?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._reinsertAfter(e,o,i)):(e=this._linkedRecords===null?null:this._linkedRecords.get(r,i),e!==null?(Object.is(e.item,t)||this._addIdentityChange(e,t),this._moveAfter(e,o,i)):e=this._addAfter(new qm(t,r),o,i)),e}_verifyReinsertion(e,t,r,i){let o=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null);return o!==null?e=this._reinsertAfter(o,e._prev,i):e.currentIndex!=i&&(e.currentIndex=i,this._addToMoves(e,i)),e}_truncate(e){for(;e!==null;){let t=e._next;this._addToRemovals(this._unlink(e)),e=t}this._unlinkedRecords!==null&&this._unlinkedRecords.clear(),this._additionsTail!==null&&(this._additionsTail._nextAdded=null),this._movesTail!==null&&(this._movesTail._nextMoved=null),this._itTail!==null&&(this._itTail._next=null),this._removalsTail!==null&&(this._removalsTail._nextRemoved=null),this._identityChangesTail!==null&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,t,r){this._unlinkedRecords!==null&&this._unlinkedRecords.remove(e);let i=e._prevRemoved,o=e._nextRemoved;return i===null?this._removalsHead=o:i._nextRemoved=o,o===null?this._removalsTail=i:o._prevRemoved=i,this._insertAfter(e,t,r),this._addToMoves(e,r),e}_moveAfter(e,t,r){return this._unlink(e),this._insertAfter(e,t,r),this._addToMoves(e,r),e}_addAfter(e,t,r){return this._insertAfter(e,t,r),this._additionsTail===null?this._additionsTail=this._additionsHead=e:this._additionsTail=this._additionsTail._nextAdded=e,e}_insertAfter(e,t,r){let i=t===null?this._itHead:t._next;return e._next=i,e._prev=t,i===null?this._itTail=e:i._prev=e,t===null?this._itHead=e:t._next=e,this._linkedRecords===null&&(this._linkedRecords=new fh),this._linkedRecords.put(e),e.currentIndex=r,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){this._linkedRecords!==null&&this._linkedRecords.remove(e);let t=e._prev,r=e._next;return t===null?this._itHead=r:t._next=r,r===null?this._itTail=t:r._prev=t,e}_addToMoves(e,t){return e.previousIndex===t||(this._movesTail===null?this._movesTail=this._movesHead=e:this._movesTail=this._movesTail._nextMoved=e),e}_addToRemovals(e){return this._unlinkedRecords===null&&(this._unlinkedRecords=new fh),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,this._removalsTail===null?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,t){return e.item=t,this._identityChangesTail===null?this._identityChangesTail=this._identityChangesHead=e:this._identityChangesTail=this._identityChangesTail._nextIdentityChange=e,e}},qm=class{constructor(e,t){this.item=e,this.trackById=t,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}},Gm=class{constructor(){this._head=null,this._tail=null}add(e){this._head===null?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,t){let r;for(r=this._head;r!==null;r=r._nextDup)if((t===null||t<=r.currentIndex)&&Object.is(r.trackById,e))return r;return null}remove(e){let t=e._prevDup,r=e._nextDup;return t===null?this._head=r:t._nextDup=r,r===null?this._tail=t:r._prevDup=t,this._head===null}},fh=class{constructor(){this.map=new Map}put(e){let t=e.trackById,r=this.map.get(t);r||(r=new Gm,this.map.set(t,r)),r.add(e)}get(e,t){let r=e,i=this.map.get(r);return i?i.get(e,t):null}remove(e){let t=e.trackById;return this.map.get(t).remove(e)&&this.map.delete(t),e}get isEmpty(){return this.map.size===0}clear(){this.map.clear()}};function Bb(n,e,t){let r=n.previousIndex;if(r===null)return r;let i=0;return t&&r<t.length&&(i=t[r]),r+e+i}function $b(){return new Ly([new Hm])}var Ly=(()=>{class n{static{this.\u0275prov=W({token:n,providedIn:"root",factory:$b})}constructor(t){this.factories=t}static create(t,r){if(r!=null){let i=r.factories.slice();t=t.concat(i)}return new n(t)}static extend(t){return{provide:n,useFactory:r=>n.create(t,r||$b()),deps:[[n,new Qm,new Tt]]}}find(t){let r=this.factories.find(i=>i.supports(t));if(r!=null)return r;throw new G(901,!1)}}return n})();function i0(n){try{let{rootComponent:e,appProviders:t,platformProviders:r}=n,i=DF(r),o=[n0({}),{provide:Ws,useExisting:wF},...t||[]],s=new lh({providers:o,parent:i,debugName:"",runEnvironmentInitializers:!1});return IF({r3Injector:s.injector,platformInjector:i,rootComponent:e})}catch(e){return Promise.reject(e)}}function xi(n){return typeof n=="boolean"?n:n!=null&&n!=="false"}function na(n,e){Ao("NgSignals");let t=RE(n);return e?.equal&&(t[wr].equal=e.equal),t}function rr(n){let e=Ie(null);try{return n()}finally{Ie(e)}}function o0(n){let e=Di(n);if(!e)return null;let t=new Ys(e);return{get selector(){return t.selector},get type(){return t.componentType},get inputs(){return t.inputs},get outputs(){return t.outputs},get ngContentSelectors(){return t.ngContentSelectors},get isStandalone(){return e.standalone},get isSignal(){return e.signals}}}var d0=null;function Mr(){return d0}function h0(n){d0??=n}var Hh=class{};var Bt=new q(""),Hy=(()=>{class n{historyGo(t){throw new Error("")}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=W({token:n,factory:()=>j(RF),providedIn:"platform"})}}return n})(),f0=new q(""),RF=(()=>{class n extends Hy{constructor(){super(),this._doc=j(Bt),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Mr().getBaseHref(this._doc)}onPopState(t){let r=Mr().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",t,!1),()=>r.removeEventListener("popstate",t)}onHashChange(t){let r=Mr().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",t,!1),()=>r.removeEventListener("hashchange",t)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(t){this._location.pathname=t}pushState(t,r,i){this._history.pushState(t,r,i)}replaceState(t,r,i){this._history.replaceState(t,r,i)}forward(){this._history.forward()}back(){this._history.back()}historyGo(t=0){this._history.go(t)}getState(){return this._history.state}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=W({token:n,factory:()=>new n,providedIn:"platform"})}}return n})();function zy(n,e){if(n.length==0)return e;if(e.length==0)return n;let t=0;return n.endsWith("/")&&t++,e.startsWith("/")&&t++,t==2?n+e.substring(1):t==1?n+e:n+"/"+e}function s0(n){let e=n.match(/#|\?|$/),t=e&&e.index||n.length,r=t-(n[t-1]==="/"?1:0);return n.slice(0,r)+n.slice(t)}function xr(n){return n&&n[0]!=="?"?"?"+n:n}var Nr=(()=>{class n{historyGo(t){throw new Error("")}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=W({token:n,factory:()=>j(qy),providedIn:"root"})}}return n})(),p0=new q(""),qy=(()=>{class n extends Nr{constructor(t,r){super(),this._platformLocation=t,this._removeListenerFns=[],this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??j(Bt).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}prepareExternalUrl(t){return zy(this._baseHref,t)}path(t=!1){let r=this._platformLocation.pathname+xr(this._platformLocation.search),i=this._platformLocation.hash;return i&&t?`${r}${i}`:r}pushState(t,r,i,o){let s=this.prepareExternalUrl(i+xr(o));this._platformLocation.pushState(t,r,s)}replaceState(t,r,i,o){let s=this.prepareExternalUrl(i+xr(o));this._platformLocation.replaceState(t,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}static{this.\u0275fac=function(r){return new(r||n)(re(Hy),re(p0,8))}}static{this.\u0275prov=W({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),g0=(()=>{class n extends Nr{constructor(t,r){super(),this._platformLocation=t,this._baseHref="",this._removeListenerFns=[],r!=null&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(t){this._removeListenerFns.push(this._platformLocation.onPopState(t),this._platformLocation.onHashChange(t))}getBaseHref(){return this._baseHref}path(t=!1){let r=this._platformLocation.hash??"#";return r.length>0?r.substring(1):r}prepareExternalUrl(t){let r=zy(this._baseHref,t);return r.length>0?"#"+r:r}pushState(t,r,i,o){let s=this.prepareExternalUrl(i+xr(o));s.length==0&&(s=this._platformLocation.pathname),this._platformLocation.pushState(t,r,s)}replaceState(t,r,i,o){let s=this.prepareExternalUrl(i+xr(o));s.length==0&&(s=this._platformLocation.pathname),this._platformLocation.replaceState(t,r,s)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(t=0){this._platformLocation.historyGo?.(t)}static{this.\u0275fac=function(r){return new(r||n)(re(Hy),re(p0,8))}}static{this.\u0275prov=W({token:n,factory:n.\u0275fac})}}return n})(),ra=(()=>{class n{constructor(t){this._subject=new ze,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=t;let r=this._locationStrategy.getBaseHref();this._basePath=NF(s0(a0(r))),this._locationStrategy.onPopState(i=>{this._subject.emit({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(t=!1){return this.normalize(this._locationStrategy.path(t))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(t,r=""){return this.path()==this.normalize(t+xr(r))}normalize(t){return n.stripTrailingSlash(MF(this._basePath,a0(t)))}prepareExternalUrl(t){return t&&t[0]!=="/"&&(t="/"+t),this._locationStrategy.prepareExternalUrl(t)}go(t,r="",i=null){this._locationStrategy.pushState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+xr(r)),i)}replaceState(t,r="",i=null){this._locationStrategy.replaceState(i,"",t,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(t+xr(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(t=0){this._locationStrategy.historyGo?.(t)}onUrlChange(t){return this._urlChangeListeners.push(t),this._urlChangeSubscription??=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}),()=>{let r=this._urlChangeListeners.indexOf(t);this._urlChangeListeners.splice(r,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(t="",r){this._urlChangeListeners.forEach(i=>i(t,r))}subscribe(t,r,i){return this._subject.subscribe({next:t,error:r,complete:i})}static{this.normalizeQueryParams=xr}static{this.joinWithSlash=zy}static{this.stripTrailingSlash=s0}static{this.\u0275fac=function(r){return new(r||n)(re(Nr))}}static{this.\u0275prov=W({token:n,factory:()=>xF(),providedIn:"root"})}}return n})();function xF(){return new ra(re(Nr))}function MF(n,e){if(!n||!e.startsWith(n))return e;let t=e.substring(n.length);return t===""||["/",";","?","#"].includes(t[0])?t:e}function a0(n){return n.replace(/\/index.html$/,"")}function NF(n){if(new RegExp("^(https?:)?//").test(n)){let[,t]=n.split(/\/\/[^\/]+/);return t}return n}function m0(n,e){e=encodeURIComponent(e);for(let t of n.split(";")){let r=t.indexOf("="),[i,o]=r==-1?[t,""]:[t.slice(0,r),t.slice(r+1)];if(i.trim()===e)return decodeURIComponent(o)}return null}var Vy=/\s+/,c0=[],t6=(()=>{class n{constructor(t,r){this._ngEl=t,this._renderer=r,this.initialClasses=c0,this.stateMap=new Map}set klass(t){this.initialClasses=t!=null?t.trim().split(Vy):c0}set ngClass(t){this.rawClass=typeof t=="string"?t.trim().split(Vy):t}ngDoCheck(){for(let r of this.initialClasses)this._updateState(r,!0);let t=this.rawClass;if(Array.isArray(t)||t instanceof Set)for(let r of t)this._updateState(r,!0);else if(t!=null)for(let r of Object.keys(t))this._updateState(r,!!t[r]);this._applyStateDiff()}_updateState(t,r){let i=this.stateMap.get(t);i!==void 0?(i.enabled!==r&&(i.changed=!0,i.enabled=r),i.touched=!0):this.stateMap.set(t,{enabled:r,changed:!0,touched:!0})}_applyStateDiff(){for(let t of this.stateMap){let r=t[0],i=t[1];i.changed?(this._toggleClass(r,i.enabled),i.changed=!1):i.touched||(i.enabled&&this._toggleClass(r,!1),this.stateMap.delete(r)),i.touched=!1}}_toggleClass(t,r){t=t.trim(),t.length>0&&t.split(Vy).forEach(i=>{r?this._renderer.addClass(this._ngEl.nativeElement,i):this._renderer.removeClass(this._ngEl.nativeElement,i)})}static{this.\u0275fac=function(r){return new(r||n)(J(Rn),J(tr))}}static{this.\u0275dir=Ne({type:n,selectors:[["","ngClass",""]],inputs:{klass:[0,"class","klass"],ngClass:"ngClass"},standalone:!0})}}return n})();var jy=class{constructor(e,t,r,i){this.$implicit=e,this.ngForOf=t,this.index=r,this.count=i}get first(){return this.index===0}get last(){return this.index===this.count-1}get even(){return this.index%2===0}get odd(){return!this.even}},n6=(()=>{class n{set ngForOf(t){this._ngForOf=t,this._ngForOfDirty=!0}set ngForTrackBy(t){this._trackByFn=t}get ngForTrackBy(){return this._trackByFn}constructor(t,r,i){this._viewContainer=t,this._template=r,this._differs=i,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(t){t&&(this._template=t)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;let t=this._ngForOf;if(!this._differ&&t)if(0)try{}catch{}else this._differ=this._differs.find(t).create(this.ngForTrackBy)}if(this._differ){let t=this._differ.diff(this._ngForOf);t&&this._applyChanges(t)}}_applyChanges(t){let r=this._viewContainer;t.forEachOperation((i,o,s)=>{if(i.previousIndex==null)r.createEmbeddedView(this._template,new jy(i.item,this._ngForOf,-1,-1),s===null?void 0:s);else if(s==null)r.remove(o===null?void 0:o);else if(o!==null){let a=r.get(o);r.move(a,s),u0(a,i)}});for(let i=0,o=r.length;i<o;i++){let a=r.get(i).context;a.index=i,a.count=o,a.ngForOf=this._ngForOf}t.forEachIdentityChange(i=>{let o=r.get(i.currentIndex);u0(o,i)})}static ngTemplateContextGuard(t,r){return!0}static{this.\u0275fac=function(r){return new(r||n)(J(ea),J(Ph),J(Ly))}}static{this.\u0275dir=Ne({type:n,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0})}}return n})();function u0(n,e){n.context.$implicit=e.item}var y0=(()=>{class n{constructor(t,r){this._viewContainer=t,this._context=new Uy,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(t){this._context.$implicit=this._context.ngIf=t,this._updateView()}set ngIfThen(t){l0("ngIfThen",t),this._thenTemplateRef=t,this._thenViewRef=null,this._updateView()}set ngIfElse(t){l0("ngIfElse",t),this._elseTemplateRef=t,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(t,r){return!0}static{this.\u0275fac=function(r){return new(r||n)(J(ea),J(Ph))}}static{this.\u0275dir=Ne({type:n,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0})}}return n})(),Uy=class{constructor(){this.$implicit=null,this.ngIf=null}};function l0(n,e){if(!!!(!e||e.createEmbeddedView))throw new Error(`${n} must be a TemplateRef, but received '${Pt(e)}'.`)}var Gy=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275mod=Sr({type:n})}static{this.\u0275inj=Tr({})}}return n})(),Wy="browser",PF="server";function kF(n){return n===Wy}function Ky(n){return n===PF}var v0=(()=>{class n{static{this.\u0275prov=W({token:n,providedIn:"root",factory:()=>kF(j(er))?new By(j(Bt),window):new $y})}}return n})(),By=class{constructor(e,t){this.document=e,this.window=t,this.offset=()=>[0,0]}setOffset(e){Array.isArray(e)?this.offset=()=>e:this.offset=e}getScrollPosition(){return[this.window.scrollX,this.window.scrollY]}scrollToPosition(e){this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){let t=OF(this.document,e);t&&(this.scrollToElement(t),t.focus())}setHistoryScrollRestoration(e){this.window.history.scrollRestoration=e}scrollToElement(e){let t=e.getBoundingClientRect(),r=t.left+this.window.pageXOffset,i=t.top+this.window.pageYOffset,o=this.offset();this.window.scrollTo(r-o[0],i-o[1])}};function OF(n,e){let t=n.getElementById(e)||n.getElementsByName(e)[0];if(t)return t;if(typeof n.createTreeWalker=="function"&&n.body&&typeof n.body.attachShadow=="function"){let r=n.createTreeWalker(n.body,NodeFilter.SHOW_ELEMENT),i=r.currentNode;for(;i;){let o=i.shadowRoot;if(o){let s=o.getElementById(e)||o.querySelector(`[name="${e}"]`);if(s)return s}i=r.nextNode()}}return null}var $y=class{setOffset(e){}getScrollPosition(){return[0,0]}scrollToPosition(e){}scrollToAnchor(e){}setHistoryScrollRestoration(e){}},zh=class{};var Zy=class extends Hh{constructor(){super(...arguments),this.supportsDOMEvents=!0}},Jy=class n extends Zy{static makeCurrent(){h0(new n)}onAndCancel(e,t,r){return e.addEventListener(t,r),()=>{e.removeEventListener(t,r)}}dispatchEvent(e,t){e.dispatchEvent(t)}remove(e){e.remove()}createElement(e,t){return t=t||this.getDefaultDocument(),t.createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,t){return t==="window"?window:t==="document"?e:t==="body"?e.body:null}getBaseHref(e){let t=FF();return t==null?null:LF(t)}resetBaseElement(){Bc=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return m0(document.cookie,e)}},Bc=null;function FF(){return Bc=Bc||document.querySelector("base"),Bc?Bc.getAttribute("href"):null}function LF(n){return new URL(n,document.baseURI).pathname}var VF=(()=>{class n{build(){return new XMLHttpRequest}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=W({token:n,factory:n.\u0275fac})}}return n})(),Xy=new q(""),b0=(()=>{class n{constructor(t,r){this._zone=r,this._eventNameToPlugin=new Map,t.forEach(i=>{i.manager=this}),this._plugins=t.slice().reverse()}addEventListener(t,r,i){return this._findPluginFor(r).addEventListener(t,r,i)}getZone(){return this._zone}_findPluginFor(t){let r=this._eventNameToPlugin.get(t);if(r)return r;if(r=this._plugins.find(o=>o.supports(t)),!r)throw new G(5101,!1);return this._eventNameToPlugin.set(t,r),r}static{this.\u0275fac=function(r){return new(r||n)(re(Xy),re(Re))}}static{this.\u0275prov=W({token:n,factory:n.\u0275fac})}}return n})(),qh=class{constructor(e){this._doc=e}},Qy="ng-app-id",D0=(()=>{class n{constructor(t,r,i,o={}){this.doc=t,this.appId=r,this.nonce=i,this.platformId=o,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=Ky(o),this.resetHostNodes()}addStyles(t){for(let r of t)this.changeUsageCount(r,1)===1&&this.onStyleAdded(r)}removeStyles(t){for(let r of t)this.changeUsageCount(r,-1)<=0&&this.onStyleRemoved(r)}ngOnDestroy(){let t=this.styleNodesInDOM;t&&(t.forEach(r=>r.remove()),t.clear());for(let r of this.getAllStyles())this.onStyleRemoved(r);this.resetHostNodes()}addHost(t){this.hostNodes.add(t);for(let r of this.getAllStyles())this.addStyleToHost(t,r)}removeHost(t){this.hostNodes.delete(t)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(t){for(let r of this.hostNodes)this.addStyleToHost(r,t)}onStyleRemoved(t){let r=this.styleRef;r.get(t)?.elements?.forEach(i=>i.remove()),r.delete(t)}collectServerRenderedStyles(){let t=this.doc.head?.querySelectorAll(`style[${Qy}="${this.appId}"]`);if(t?.length){let r=new Map;return t.forEach(i=>{i.textContent!=null&&r.set(i.textContent,i)}),r}return null}changeUsageCount(t,r){let i=this.styleRef;if(i.has(t)){let o=i.get(t);return o.usage+=r,o.usage}return i.set(t,{usage:r,elements:[]}),r}getStyleElement(t,r){let i=this.styleNodesInDOM,o=i?.get(r);if(o?.parentNode===t)return i.delete(r),o.removeAttribute(Qy),o;{let s=this.doc.createElement("style");return this.nonce&&s.setAttribute("nonce",this.nonce),s.textContent=r,this.platformIsServer&&s.setAttribute(Qy,this.appId),t.appendChild(s),s}}addStyleToHost(t,r){let i=this.getStyleElement(t,r),o=this.styleRef,s=o.get(r)?.elements;s?s.push(i):o.set(r,{elements:[i],usage:1})}resetHostNodes(){let t=this.hostNodes;t.clear(),t.add(this.doc.head)}static{this.\u0275fac=function(r){return new(r||n)(re(Bt),re(hy),re(py,8),re(er))}}static{this.\u0275prov=W({token:n,factory:n.\u0275fac})}}return n})(),Yy={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},tv=/%COMP%/g,C0="%COMP%",jF=`_nghost-${C0}`,UF=`_ngcontent-${C0}`,BF=!0,$F=new q("",{providedIn:"root",factory:()=>BF});function HF(n){return UF.replace(tv,n)}function zF(n){return jF.replace(tv,n)}function T0(n,e){return e.map(t=>t.replace(tv,n))}var _0=(()=>{class n{constructor(t,r,i,o,s,a,u,d=null){this.eventManager=t,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestroy=o,this.doc=s,this.platformId=a,this.ngZone=u,this.nonce=d,this.rendererByCompId=new Map,this.platformIsServer=Ky(a),this.defaultRenderer=new $c(t,s,u,this.platformIsServer)}createRenderer(t,r){if(!t||!r)return this.defaultRenderer;this.platformIsServer&&r.encapsulation===Wn.ShadowDom&&(r=ge(B({},r),{encapsulation:Wn.Emulated}));let i=this.getOrCreateRenderer(t,r);return i instanceof Gh?i.applyToHost(t):i instanceof Hc&&i.applyStyles(),i}getOrCreateRenderer(t,r){let i=this.rendererByCompId,o=i.get(r.id);if(!o){let s=this.doc,a=this.ngZone,u=this.eventManager,d=this.sharedStylesHost,p=this.removeStylesOnCompDestroy,g=this.platformIsServer;switch(r.encapsulation){case Wn.Emulated:o=new Gh(u,d,r,this.appId,p,s,a,g);break;case Wn.ShadowDom:return new ev(u,d,t,r,s,a,this.nonce,g);default:o=new Hc(u,d,r,p,s,a,g);break}i.set(r.id,o)}return o}ngOnDestroy(){this.rendererByCompId.clear()}static{this.\u0275fac=function(r){return new(r||n)(re(b0),re(D0),re(hy),re($F),re(Bt),re(er),re(Re),re(py))}}static{this.\u0275prov=W({token:n,factory:n.\u0275fac})}}return n})(),$c=class{constructor(e,t,r,i){this.eventManager=e,this.doc=t,this.ngZone=r,this.platformIsServer=i,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(e,t){return t?this.doc.createElementNS(Yy[t]||t,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,t){(I0(e)?e.content:e).appendChild(t)}insertBefore(e,t,r){e&&(I0(e)?e.content:e).insertBefore(t,r)}removeChild(e,t){t.remove()}selectRootElement(e,t){let r=typeof e=="string"?this.doc.querySelector(e):e;if(!r)throw new G(-5104,!1);return t||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,t,r,i){if(i){t=i+":"+t;let o=Yy[i];o?e.setAttributeNS(o,t,r):e.setAttribute(t,r)}else e.setAttribute(t,r)}removeAttribute(e,t,r){if(r){let i=Yy[r];i?e.removeAttributeNS(i,t):e.removeAttribute(`${r}:${t}`)}else e.removeAttribute(t)}addClass(e,t){e.classList.add(t)}removeClass(e,t){e.classList.remove(t)}setStyle(e,t,r,i){i&(br.DashCase|br.Important)?e.style.setProperty(t,r,i&br.Important?"important":""):e.style[t]=r}removeStyle(e,t,r){r&br.DashCase?e.style.removeProperty(t):e.style[t]=""}setProperty(e,t,r){e!=null&&(e[t]=r)}setValue(e,t){e.nodeValue=t}listen(e,t,r){if(typeof e=="string"&&(e=Mr().getGlobalEventTarget(this.doc,e),!e))throw new Error(`Unsupported event target ${e} for event ${t}`);return this.eventManager.addEventListener(e,t,this.decoratePreventDefault(r))}decoratePreventDefault(e){return t=>{if(t==="__ngUnwrap__")return e;(this.platformIsServer?this.ngZone.runGuarded(()=>e(t)):e(t))===!1&&t.preventDefault()}}};function I0(n){return n.tagName==="TEMPLATE"&&n.content!==void 0}var ev=class extends $c{constructor(e,t,r,i,o,s,a,u){super(e,o,s,u),this.sharedStylesHost=t,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let d=T0(i.id,i.styles);for(let p of d){let g=document.createElement("style");a&&g.setAttribute("nonce",a),g.textContent=p,this.shadowRoot.appendChild(g)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,t){return super.appendChild(this.nodeOrShadowRoot(e),t)}insertBefore(e,t,r){return super.insertBefore(this.nodeOrShadowRoot(e),t,r)}removeChild(e,t){return super.removeChild(null,t)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},Hc=class extends $c{constructor(e,t,r,i,o,s,a,u){super(e,o,s,a),this.sharedStylesHost=t,this.removeStylesOnCompDestroy=i,this.styles=u?T0(u,r.styles):r.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}},Gh=class extends Hc{constructor(e,t,r,i,o,s,a,u){let d=i+"-"+r.id;super(e,t,r,o,s,a,u,d),this.contentAttr=HF(d),this.hostAttr=zF(d)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,t){let r=super.createElement(e,t);return super.setAttribute(r,this.contentAttr,""),r}},qF=(()=>{class n extends qh{constructor(t){super(t)}supports(t){return!0}addEventListener(t,r,i){return t.addEventListener(r,i,!1),()=>this.removeEventListener(t,r,i)}removeEventListener(t,r,i){return t.removeEventListener(r,i)}static{this.\u0275fac=function(r){return new(r||n)(re(Bt))}}static{this.\u0275prov=W({token:n,factory:n.\u0275fac})}}return n})(),E0=["alt","control","meta","shift"],GF={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},WF={alt:n=>n.altKey,control:n=>n.ctrlKey,meta:n=>n.metaKey,shift:n=>n.shiftKey},KF=(()=>{class n extends qh{constructor(t){super(t)}supports(t){return n.parseEventName(t)!=null}addEventListener(t,r,i){let o=n.parseEventName(r),s=n.eventCallback(o.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Mr().onAndCancel(t,o.domEventName,s))}static parseEventName(t){let r=t.toLowerCase().split("."),i=r.shift();if(r.length===0||!(i==="keydown"||i==="keyup"))return null;let o=n._normalizeKey(r.pop()),s="",a=r.indexOf("code");if(a>-1&&(r.splice(a,1),s="code."),E0.forEach(d=>{let p=r.indexOf(d);p>-1&&(r.splice(p,1),s+=d+".")}),s+=o,r.length!=0||o.length===0)return null;let u={};return u.domEventName=i,u.fullKey=s,u}static matchEventFullKeyCode(t,r){let i=GF[t.key]||t.key,o="";return r.indexOf("code.")>-1&&(i=t.code,o="code."),i==null||!i?!1:(i=i.toLowerCase(),i===" "?i="space":i==="."&&(i="dot"),E0.forEach(s=>{if(s!==i){let a=WF[s];a(t)&&(o+=s+".")}}),o+=i,o===r)}static eventCallback(t,r,i){return o=>{n.matchEventFullKeyCode(o,t)&&i.runGuarded(()=>r(o))}}static _normalizeKey(t){return t==="esc"?"escape":t}static{this.\u0275fac=function(r){return new(r||n)(re(Bt))}}static{this.\u0275prov=W({token:n,factory:n.\u0275fac})}}return n})();function S6(n,e){return i0(B({rootComponent:n},QF(e)))}function QF(n){return{appProviders:[...eL,...n?.providers??[]],platformProviders:XF}}function YF(){Jy.makeCurrent()}function ZF(){return new Er}function JF(){return oC(document),document}var XF=[{provide:er,useValue:Wy},{provide:fy,useValue:YF,multi:!0},{provide:Bt,useFactory:JF,deps:[]}];var eL=[{provide:yh,useValue:"root"},{provide:Er,useFactory:ZF,deps:[]},{provide:Xy,useClass:qF,multi:!0,deps:[Bt,Re,er]},{provide:Xy,useClass:KF,multi:!0,deps:[Bt]},_0,D0,b0,{provide:Qs,useExisting:_0},{provide:zh,useClass:VF,deps:[]},[]];var S0=(()=>{class n{constructor(t){this._doc=t}getTitle(){return this._doc.title}setTitle(t){this._doc.title=t||""}static{this.\u0275fac=function(r){return new(r||n)(re(Bt))}}static{this.\u0275prov=W({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();var L0=(()=>{class n{constructor(t,r){this._renderer=t,this._elementRef=r,this.onChange=i=>{},this.onTouched=()=>{}}setProperty(t,r){this._renderer.setProperty(this._elementRef.nativeElement,t,r)}registerOnTouched(t){this.onTouched=t}registerOnChange(t){this.onChange=t}setDisabledState(t){this.setProperty("disabled",t)}static{this.\u0275fac=function(r){return new(r||n)(J(tr),J(Rn))}}static{this.\u0275dir=Ne({type:n})}}return n})(),of=(()=>{class n extends L0{static{this.\u0275fac=(()=>{let t;return function(i){return(t||(t=fn(n)))(i||n)}})()}static{this.\u0275dir=Ne({type:n,features:[Et]})}}return n})(),sa=new q("");var nL={provide:sa,useExisting:Ot(()=>V0),multi:!0};function rL(){let n=Mr()?Mr().getUserAgent():"";return/android (\d+)/.test(n.toLowerCase())}var iL=new q(""),V0=(()=>{class n extends L0{constructor(t,r,i){super(t,r),this._compositionMode=i,this._composing=!1,this._compositionMode==null&&(this._compositionMode=!rL())}writeValue(t){let r=t??"";this.setProperty("value",r)}_handleInput(t){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(t)}_compositionStart(){this._composing=!0}_compositionEnd(t){this._composing=!1,this._compositionMode&&this.onChange(t)}static{this.\u0275fac=function(r){return new(r||n)(J(tr),J(Rn),J(iL,8))}}static{this.\u0275dir=Ne({type:n,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(r,i){r&1&&nr("input",function(s){return i._handleInput(s.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(s){return i._compositionEnd(s.target.value)})},features:[Jt([nL]),Et]})}}return n})();function Mi(n){return n==null||(typeof n=="string"||Array.isArray(n))&&n.length===0}function j0(n){return n!=null&&typeof n.length=="number"}var Pi=new q(""),sf=new q(""),oL=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,A0=class{static min(e){return U0(e)}static max(e){return B0(e)}static required(e){return $0(e)}static requiredTrue(e){return sL(e)}static email(e){return aL(e)}static minLength(e){return cL(e)}static maxLength(e){return H0(e)}static pattern(e){return uL(e)}static nullValidator(e){return Kh(e)}static compose(e){return Q0(e)}static composeAsync(e){return Y0(e)}};function U0(n){return e=>{if(Mi(e.value)||Mi(n))return null;let t=parseFloat(e.value);return!isNaN(t)&&t<n?{min:{min:n,actual:e.value}}:null}}function B0(n){return e=>{if(Mi(e.value)||Mi(n))return null;let t=parseFloat(e.value);return!isNaN(t)&&t>n?{max:{max:n,actual:e.value}}:null}}function $0(n){return Mi(n.value)?{required:!0}:null}function sL(n){return n.value===!0?null:{required:!0}}function aL(n){return Mi(n.value)||oL.test(n.value)?null:{email:!0}}function cL(n){return e=>Mi(e.value)||!j0(e.value)?null:e.value.length<n?{minlength:{requiredLength:n,actualLength:e.value.length}}:null}function H0(n){return e=>j0(e.value)&&e.value.length>n?{maxlength:{requiredLength:n,actualLength:e.value.length}}:null}function uL(n){if(!n)return Kh;let e,t;return typeof n=="string"?(t="",n.charAt(0)!=="^"&&(t+="^"),t+=n,n.charAt(n.length-1)!=="$"&&(t+="$"),e=new RegExp(t)):(t=n.toString(),e=n),r=>{if(Mi(r.value))return null;let i=r.value;return e.test(i)?null:{pattern:{requiredPattern:t,actualValue:i}}}}function Kh(n){return null}function z0(n){return n!=null}function q0(n){return Ro(n)?Ve(n):n}function G0(n){let e={};return n.forEach(t=>{e=t!=null?B(B({},e),t):e}),Object.keys(e).length===0?null:e}function W0(n,e){return e.map(t=>t(n))}function lL(n){return!n.validate}function K0(n){return n.map(e=>lL(e)?e:t=>e.validate(t))}function Q0(n){if(!n)return null;let e=n.filter(z0);return e.length==0?null:function(t){return G0(W0(t,e))}}function ov(n){return n!=null?Q0(K0(n)):null}function Y0(n){if(!n)return null;let e=n.filter(z0);return e.length==0?null:function(t){let r=W0(t,e).map(q0);return jg(r).pipe(le(G0))}}function sv(n){return n!=null?Y0(K0(n)):null}function R0(n,e){return n===null?[e]:Array.isArray(n)?[...n,e]:[n,e]}function Z0(n){return n._rawValidators}function J0(n){return n._rawAsyncValidators}function nv(n){return n?Array.isArray(n)?n:[n]:[]}function Qh(n,e){return Array.isArray(n)?n.includes(e):n===e}function x0(n,e){let t=nv(e);return nv(n).forEach(i=>{Qh(t,i)||t.push(i)}),t}function M0(n,e){return nv(e).filter(t=>!Qh(n,t))}var Yh=class{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=ov(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=sv(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,t){return this.control?this.control.hasError(e,t):!1}getError(e,t){return this.control?this.control.getError(e,t):null}},Pr=class extends Yh{get formDirective(){return null}get path(){return null}},Po=class extends Yh{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}},Zh=class{constructor(e){this._cd=e}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}},dL={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},z6=ge(B({},dL),{"[class.ng-submitted]":"isSubmitted"}),q6=(()=>{class n extends Zh{constructor(t){super(t)}static{this.\u0275fac=function(r){return new(r||n)(J(Po,2))}}static{this.\u0275dir=Ne({type:n,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(r,i){r&2&&Fh("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)},features:[Et]})}}return n})(),G6=(()=>{class n extends Zh{constructor(t){super(t)}static{this.\u0275fac=function(r){return new(r||n)(J(Pr,10))}}static{this.\u0275dir=Ne({type:n,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(r,i){r&2&&Fh("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)("ng-submitted",i.isSubmitted)},features:[Et]})}}return n})();var zc="VALID",Wh="INVALID",ia="PENDING",qc="DISABLED",Ni=class{},Jh=class extends Ni{constructor(e,t){super(),this.value=e,this.source=t}},Wc=class extends Ni{constructor(e,t){super(),this.pristine=e,this.source=t}},Kc=class extends Ni{constructor(e,t){super(),this.touched=e,this.source=t}},oa=class extends Ni{constructor(e,t){super(),this.status=e,this.source=t}},rv=class extends Ni{constructor(e){super(),this.source=e}},iv=class extends Ni{constructor(e){super(),this.source=e}};function X0(n){return(af(n)?n.validators:n)||null}function hL(n){return Array.isArray(n)?ov(n):n||null}function eT(n,e){return(af(e)?e.asyncValidators:n)||null}function fL(n){return Array.isArray(n)?sv(n):n||null}function af(n){return n!=null&&!Array.isArray(n)&&typeof n=="object"}function pL(n,e,t){let r=n.controls;if(!(e?Object.keys(r):r).length)throw new G(1e3,"");if(!r[t])throw new G(1001,"")}function gL(n,e,t){n._forEachChild((r,i)=>{if(t[i]===void 0)throw new G(1002,"")})}var Xh=class{constructor(e,t){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=null,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this._status=na(()=>this.statusReactive()),this.statusReactive=ta(void 0),this._pristine=na(()=>this.pristineReactive()),this.pristineReactive=ta(!0),this._touched=na(()=>this.touchedReactive()),this.touchedReactive=ta(!1),this._events=new ht,this.events=this._events.asObservable(),this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(t)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get status(){return rr(this.statusReactive)}set status(e){rr(()=>this.statusReactive.set(e))}get valid(){return this.status===zc}get invalid(){return this.status===Wh}get pending(){return this.status==ia}get disabled(){return this.status===qc}get enabled(){return this.status!==qc}get pristine(){return rr(this.pristineReactive)}set pristine(e){rr(()=>this.pristineReactive.set(e))}get dirty(){return!this.pristine}get touched(){return rr(this.touchedReactive)}set touched(e){rr(()=>this.touchedReactive.set(e))}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(x0(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(x0(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(M0(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(M0(e,this._rawAsyncValidators))}hasValidator(e){return Qh(this._rawValidators,e)}hasAsyncValidator(e){return Qh(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){let t=this.touched===!1;this.touched=!0;let r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsTouched(ge(B({},e),{sourceControl:r})),t&&e.emitEvent!==!1&&this._events.next(new Kc(!0,r))}markAllAsTouched(e={}){this.markAsTouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:this}),this._forEachChild(t=>t.markAllAsTouched(e))}markAsUntouched(e={}){let t=this.touched===!0;this.touched=!1,this._pendingTouched=!1;let r=e.sourceControl??this;this._forEachChild(i=>{i.markAsUntouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:r})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,r),t&&e.emitEvent!==!1&&this._events.next(new Kc(!1,r))}markAsDirty(e={}){let t=this.pristine===!0;this.pristine=!1;let r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsDirty(ge(B({},e),{sourceControl:r})),t&&e.emitEvent!==!1&&this._events.next(new Wc(!1,r))}markAsPristine(e={}){let t=this.pristine===!1;this.pristine=!0,this._pendingDirty=!1;let r=e.sourceControl??this;this._forEachChild(i=>{i.markAsPristine({onlySelf:!0,emitEvent:e.emitEvent})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e,r),t&&e.emitEvent!==!1&&this._events.next(new Wc(!0,r))}markAsPending(e={}){this.status=ia;let t=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new oa(this.status,t)),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.markAsPending(ge(B({},e),{sourceControl:t}))}disable(e={}){let t=this._parentMarkedDirty(e.onlySelf);this.status=qc,this.errors=null,this._forEachChild(i=>{i.disable(ge(B({},e),{onlySelf:!0}))}),this._updateValue();let r=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new Jh(this.value,r)),this._events.next(new oa(this.status,r)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(ge(B({},e),{skipPristineCheck:t}),this),this._onDisabledChange.forEach(i=>i(!0))}enable(e={}){let t=this._parentMarkedDirty(e.onlySelf);this.status=zc,this._forEachChild(r=>{r.enable(ge(B({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(ge(B({},e),{skipPristineCheck:t}),this),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e,t){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine({},t),this._parent._updateTouched({},t))}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){let r=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===zc||this.status===ia)&&this._runAsyncValidator(r,e.emitEvent)}let t=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new Jh(this.value,t)),this._events.next(new oa(this.status,t)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(ge(B({},e),{sourceControl:t}))}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(t=>t._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?qc:zc}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e,t){if(this.asyncValidator){this.status=ia,this._hasOwnPendingAsyncValidator={emitEvent:t!==!1};let r=q0(this.asyncValidator(this));this._asyncValidationSubscription=r.subscribe(i=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(i,{emitEvent:t,shouldHaveEmitted:e})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();let e=this._hasOwnPendingAsyncValidator?.emitEvent??!1;return this._hasOwnPendingAsyncValidator=null,e}return!1}setErrors(e,t={}){this.errors=e,this._updateControlsErrors(t.emitEvent!==!1,this,t.shouldHaveEmitted)}get(e){let t=e;return t==null||(Array.isArray(t)||(t=t.split(".")),t.length===0)?null:t.reduce((r,i)=>r&&r._find(i),this)}getError(e,t){let r=t?this.get(t):this;return r&&r.errors?r.errors[e]:null}hasError(e,t){return!!this.getError(e,t)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e,t,r){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),(e||r)&&this._events.next(new oa(this.status,t)),this._parent&&this._parent._updateControlsErrors(e,t,r)}_initObservables(){this.valueChanges=new ze,this.statusChanges=new ze}_calculateStatus(){return this._allControlsDisabled()?qc:this.errors?Wh:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(ia)?ia:this._anyControlsHaveStatus(Wh)?Wh:zc}_anyControlsHaveStatus(e){return this._anyControls(t=>t.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e,t){let r=!this._anyControlsDirty(),i=this.pristine!==r;this.pristine=r,this._parent&&!e.onlySelf&&this._parent._updatePristine(e,t),i&&this._events.next(new Wc(this.pristine,t))}_updateTouched(e={},t){this.touched=this._anyControlsTouched(),this._events.next(new Kc(this.touched,t)),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,t)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){af(e)&&e.updateOn!=null&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){let t=this._parent&&this._parent.dirty;return!e&&!!t&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=hL(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=fL(this._rawAsyncValidators)}},ef=class extends Xh{constructor(e,t,r){super(X0(t),eT(r,t)),this.controls=e,this._initObservables(),this._setUpdateStrategy(t),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,t){return this.controls[e]?this.controls[e]:(this.controls[e]=t,t.setParent(this),t._registerOnCollectionChange(this._onCollectionChange),t)}addControl(e,t,r={}){this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,t={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:t.emitEvent}),this._onCollectionChange()}setControl(e,t,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],t&&this.registerControl(e,t),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,t={}){gL(this,!0,e),Object.keys(e).forEach(r=>{pL(this,!0,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t)}patchValue(e,t={}){e!=null&&(Object.keys(e).forEach(r=>{let i=this.controls[r];i&&i.patchValue(e[r],{onlySelf:!0,emitEvent:t.emitEvent})}),this.updateValueAndValidity(t))}reset(e={},t={}){this._forEachChild((r,i)=>{r.reset(e?e[i]:null,{onlySelf:!0,emitEvent:t.emitEvent})}),this._updatePristine(t,this),this._updateTouched(t,this),this.updateValueAndValidity(t)}getRawValue(){return this._reduceChildren({},(e,t,r)=>(e[r]=t.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(t,r)=>r._syncPendingControls()?!0:t);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(t=>{let r=this.controls[t];r&&e(r,t)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(let[t,r]of Object.entries(this.controls))if(this.contains(t)&&e(r))return!0;return!1}_reduceValue(){let e={};return this._reduceChildren(e,(t,r,i)=>((r.enabled||this.disabled)&&(t[i]=r.value),t))}_reduceChildren(e,t){let r=e;return this._forEachChild((i,o)=>{r=t(r,i,o)}),r}_allControlsDisabled(){for(let e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}};var Qc=new q("CallSetDisabledState",{providedIn:"root",factory:()=>cf}),cf="always";function tT(n,e){return[...e.path,n]}function tf(n,e,t=cf){av(n,e),e.valueAccessor.writeValue(n.value),(n.disabled||t==="always")&&e.valueAccessor.setDisabledState?.(n.disabled),yL(n,e),wL(n,e),vL(n,e),mL(n,e)}function N0(n,e,t=!0){let r=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(r),e.valueAccessor.registerOnTouched(r)),rf(n,e),n&&(e._invokeOnDestroyCallbacks(),n._registerOnCollectionChange(()=>{}))}function nf(n,e){n.forEach(t=>{t.registerOnValidatorChange&&t.registerOnValidatorChange(e)})}function mL(n,e){if(e.valueAccessor.setDisabledState){let t=r=>{e.valueAccessor.setDisabledState(r)};n.registerOnDisabledChange(t),e._registerOnDestroy(()=>{n._unregisterOnDisabledChange(t)})}}function av(n,e){let t=Z0(n);e.validator!==null?n.setValidators(R0(t,e.validator)):typeof t=="function"&&n.setValidators([t]);let r=J0(n);e.asyncValidator!==null?n.setAsyncValidators(R0(r,e.asyncValidator)):typeof r=="function"&&n.setAsyncValidators([r]);let i=()=>n.updateValueAndValidity();nf(e._rawValidators,i),nf(e._rawAsyncValidators,i)}function rf(n,e){let t=!1;if(n!==null){if(e.validator!==null){let i=Z0(n);if(Array.isArray(i)&&i.length>0){let o=i.filter(s=>s!==e.validator);o.length!==i.length&&(t=!0,n.setValidators(o))}}if(e.asyncValidator!==null){let i=J0(n);if(Array.isArray(i)&&i.length>0){let o=i.filter(s=>s!==e.asyncValidator);o.length!==i.length&&(t=!0,n.setAsyncValidators(o))}}}let r=()=>{};return nf(e._rawValidators,r),nf(e._rawAsyncValidators,r),t}function yL(n,e){e.valueAccessor.registerOnChange(t=>{n._pendingValue=t,n._pendingChange=!0,n._pendingDirty=!0,n.updateOn==="change"&&nT(n,e)})}function vL(n,e){e.valueAccessor.registerOnTouched(()=>{n._pendingTouched=!0,n.updateOn==="blur"&&n._pendingChange&&nT(n,e),n.updateOn!=="submit"&&n.markAsTouched()})}function nT(n,e){n._pendingDirty&&n.markAsDirty(),n.setValue(n._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(n._pendingValue),n._pendingChange=!1}function wL(n,e){let t=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};n.registerOnChange(t),e._registerOnDestroy(()=>{n._unregisterOnChange(t)})}function rT(n,e){n==null,av(n,e)}function _L(n,e){return rf(n,e)}function iT(n,e){if(!n.hasOwnProperty("model"))return!1;let t=n.model;return t.isFirstChange()?!0:!Object.is(e,t.currentValue)}function IL(n){return Object.getPrototypeOf(n.constructor)===of}function oT(n,e){n._syncPendingControls(),e.forEach(t=>{let r=t.control;r.updateOn==="submit"&&r._pendingChange&&(t.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}function sT(n,e){if(!e)return null;Array.isArray(e);let t,r,i;return e.forEach(o=>{o.constructor===V0?t=o:IL(o)?r=o:i=o}),i||r||t||null}function EL(n,e){let t=n.indexOf(e);t>-1&&n.splice(t,1)}var bL={provide:Pr,useExisting:Ot(()=>DL)},Gc=Promise.resolve(),DL=(()=>{class n extends Pr{get submitted(){return rr(this.submittedReactive)}constructor(t,r,i){super(),this.callSetDisabledState=i,this._submitted=na(()=>this.submittedReactive()),this.submittedReactive=ta(!1),this._directives=new Set,this.ngSubmit=new ze,this.form=new ef({},ov(t),sv(r))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(t){Gc.then(()=>{let r=this._findContainer(t.path);t.control=r.registerControl(t.name,t.control),tf(t.control,t,this.callSetDisabledState),t.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(t)})}getControl(t){return this.form.get(t.path)}removeControl(t){Gc.then(()=>{let r=this._findContainer(t.path);r&&r.removeControl(t.name),this._directives.delete(t)})}addFormGroup(t){Gc.then(()=>{let r=this._findContainer(t.path),i=new ef({});rT(i,t),r.registerControl(t.name,i),i.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(t){Gc.then(()=>{let r=this._findContainer(t.path);r&&r.removeControl(t.name)})}getFormGroup(t){return this.form.get(t.path)}updateModel(t,r){Gc.then(()=>{this.form.get(t.path).setValue(r)})}setValue(t){this.control.setValue(t)}onSubmit(t){return this.submittedReactive.set(!0),oT(this.form,this._directives),this.ngSubmit.emit(t),t?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(t=void 0){this.form.reset(t),this.submittedReactive.set(!1)}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.form._updateOn=this.options.updateOn)}_findContainer(t){return t.pop(),t.length?this.form.get(t):this.form}static{this.\u0275fac=function(r){return new(r||n)(J(Pi,10),J(sf,10),J(Qc,8))}}static{this.\u0275dir=Ne({type:n,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(r,i){r&1&&nr("submit",function(s){return i.onSubmit(s)})("reset",function(){return i.onReset()})},inputs:{options:[0,"ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[Jt([bL]),Et]})}}return n})();function P0(n,e){let t=n.indexOf(e);t>-1&&n.splice(t,1)}function k0(n){return typeof n=="object"&&n!==null&&Object.keys(n).length===2&&"value"in n&&"disabled"in n}var aT=class extends Xh{constructor(e=null,t,r){super(X0(t),eT(r,t)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(t),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),af(t)&&(t.nonNullable||t.initialValueIsDefault)&&(k0(e)?this.defaultValue=e.value:this.defaultValue=e)}setValue(e,t={}){this.value=this._pendingValue=e,this._onChange.length&&t.emitModelToViewChange!==!1&&this._onChange.forEach(r=>r(this.value,t.emitViewToModelChange!==!1)),this.updateValueAndValidity(t)}patchValue(e,t={}){this.setValue(e,t)}reset(e=this.defaultValue,t={}){this._applyFormState(e),this.markAsPristine(t),this.markAsUntouched(t),this.setValue(this.value,t),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){P0(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){P0(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(e){k0(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};var CL=n=>n instanceof aT;var TL={provide:Po,useExisting:Ot(()=>SL)},O0=Promise.resolve(),SL=(()=>{class n extends Po{constructor(t,r,i,o,s,a){super(),this._changeDetectorRef=s,this.callSetDisabledState=a,this.control=new aT,this._registered=!1,this.name="",this.update=new ze,this._parent=t,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=sT(this,o)}ngOnChanges(t){if(this._checkForErrors(),!this._registered||"name"in t){if(this._registered&&(this._checkName(),this.formDirective)){let r=t.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in t&&this._updateDisabled(t),iT(t,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!!(this.options&&this.options.standalone)}_setUpStandalone(){tf(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(t){O0.then(()=>{this.control.setValue(t,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(t){let r=t.isDisabled.currentValue,i=r!==0&&xi(r);O0.then(()=>{i&&!this.control.disabled?this.control.disable():!i&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(t){return this._parent?tT(t,this._parent):[t]}static{this.\u0275fac=function(r){return new(r||n)(J(Pr,9),J(Pi,10),J(sf,10),J(sa,10),J(Mo,8),J(Qc,8))}}static{this.\u0275dir=Ne({type:n,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"],options:[0,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[Jt([TL]),Et,Xn]})}}return n})(),K6=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275dir=Ne({type:n,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]})}}return n})(),AL={provide:sa,useExisting:Ot(()=>RL),multi:!0},RL=(()=>{class n extends of{writeValue(t){let r=t??"";this.setProperty("value",r)}registerOnChange(t){this.onChange=r=>{t(r==""?null:parseFloat(r))}}static{this.\u0275fac=(()=>{let t;return function(i){return(t||(t=fn(n)))(i||n)}})()}static{this.\u0275dir=Ne({type:n,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(r,i){r&1&&nr("input",function(s){return i.onChange(s.target.value)})("blur",function(){return i.onTouched()})},features:[Jt([AL]),Et]})}}return n})();var cT=new q("");var xL={provide:Pr,useExisting:Ot(()=>ML)},ML=(()=>{class n extends Pr{get submitted(){return rr(this._submittedReactive)}set submitted(t){this._submittedReactive.set(t)}constructor(t,r,i){super(),this.callSetDisabledState=i,this._submitted=na(()=>this._submittedReactive()),this._submittedReactive=ta(!1),this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new ze,this._setValidators(t),this._setAsyncValidators(r)}ngOnChanges(t){this._checkFormPresent(),t.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(rf(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(t){let r=this.form.get(t.path);return tf(r,t,this.callSetDisabledState),r.updateValueAndValidity({emitEvent:!1}),this.directives.push(t),r}getControl(t){return this.form.get(t.path)}removeControl(t){N0(t.control||null,t,!1),EL(this.directives,t)}addFormGroup(t){this._setUpFormContainer(t)}removeFormGroup(t){this._cleanUpFormContainer(t)}getFormGroup(t){return this.form.get(t.path)}addFormArray(t){this._setUpFormContainer(t)}removeFormArray(t){this._cleanUpFormContainer(t)}getFormArray(t){return this.form.get(t.path)}updateModel(t,r){this.form.get(t.path).setValue(r)}onSubmit(t){return this._submittedReactive.set(!0),oT(this.form,this.directives),this.ngSubmit.emit(t),this.form._events.next(new rv(this.control)),t?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(t=void 0){this.form.reset(t),this._submittedReactive.set(!1),this.form._events.next(new iv(this.form))}_updateDomValue(){this.directives.forEach(t=>{let r=t.control,i=this.form.get(t.path);r!==i&&(N0(r||null,t),CL(i)&&(tf(i,t,this.callSetDisabledState),t.control=i))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(t){let r=this.form.get(t.path);rT(r,t),r.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(t){if(this.form){let r=this.form.get(t.path);r&&_L(r,t)&&r.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){av(this.form,this),this._oldForm&&rf(this._oldForm,this)}_checkFormPresent(){this.form}static{this.\u0275fac=function(r){return new(r||n)(J(Pi,10),J(sf,10),J(Qc,8))}}static{this.\u0275dir=Ne({type:n,selectors:[["","formGroup",""]],hostBindings:function(r,i){r&1&&nr("submit",function(s){return i.onSubmit(s)})("reset",function(){return i.onReset()})},inputs:{form:[0,"formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[Jt([xL]),Et,Xn]})}}return n})();var NL={provide:Po,useExisting:Ot(()=>PL)},PL=(()=>{class n extends Po{set isDisabled(t){}static{this._ngModelWarningSentOnce=!1}constructor(t,r,i,o,s){super(),this._ngModelWarningConfig=s,this._added=!1,this.name=null,this.update=new ze,this._ngModelWarningSent=!1,this._parent=t,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=sT(this,o)}ngOnChanges(t){this._added||this._setUpControl(),iT(t,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(t){this.viewModel=t,this.update.emit(t)}get path(){return tT(this.name==null?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}static{this.\u0275fac=function(r){return new(r||n)(J(Pr,13),J(Pi,10),J(sf,10),J(sa,10),J(cT,8))}}static{this.\u0275dir=Ne({type:n,selectors:[["","formControlName",""]],inputs:{name:[0,"formControlName","name"],isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"]},outputs:{update:"ngModelChange"},features:[Jt([NL]),Et,Xn]})}}return n})(),kL={provide:sa,useExisting:Ot(()=>lT),multi:!0};function uT(n,e){return n==null?`${e}`:(e&&typeof e=="object"&&(e="Object"),`${n}: ${e}`.slice(0,50))}function OL(n){return n.split(":")[0]}var lT=(()=>{class n extends of{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(t){this._compareWith=t}writeValue(t){this.value=t;let r=this._getOptionId(t),i=uT(r,t);this.setProperty("value",i)}registerOnChange(t){this.onChange=r=>{this.value=this._getOptionValue(r),t(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(t){for(let r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r),t))return r;return null}_getOptionValue(t){let r=OL(t);return this._optionMap.has(r)?this._optionMap.get(r):t}static{this.\u0275fac=(()=>{let t;return function(i){return(t||(t=fn(n)))(i||n)}})()}static{this.\u0275dir=Ne({type:n,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(r,i){r&1&&nr("change",function(s){return i.onChange(s.target.value)})("blur",function(){return i.onTouched()})},inputs:{compareWith:"compareWith"},features:[Jt([kL]),Et]})}}return n})(),Q6=(()=>{class n{constructor(t,r,i){this._element=t,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption())}set ngValue(t){this._select!=null&&(this._select._optionMap.set(this.id,t),this._setElementValue(uT(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._setElementValue(t),this._select&&this._select.writeValue(this._select.value)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static{this.\u0275fac=function(r){return new(r||n)(J(Rn),J(tr),J(lT,9))}}static{this.\u0275dir=Ne({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}})}}return n})(),FL={provide:sa,useExisting:Ot(()=>dT),multi:!0};function F0(n,e){return n==null?`${e}`:(typeof e=="string"&&(e=`'${e}'`),e&&typeof e=="object"&&(e="Object"),`${n}: ${e}`.slice(0,50))}function LL(n){return n.split(":")[0]}var dT=(()=>{class n extends of{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(t){this._compareWith=t}writeValue(t){this.value=t;let r;if(Array.isArray(t)){let i=t.map(o=>this._getOptionId(o));r=(o,s)=>{o._setSelected(i.indexOf(s.toString())>-1)}}else r=(i,o)=>{i._setSelected(!1)};this._optionMap.forEach(r)}registerOnChange(t){this.onChange=r=>{let i=[],o=r.selectedOptions;if(o!==void 0){let s=o;for(let a=0;a<s.length;a++){let u=s[a],d=this._getOptionValue(u.value);i.push(d)}}else{let s=r.options;for(let a=0;a<s.length;a++){let u=s[a];if(u.selected){let d=this._getOptionValue(u.value);i.push(d)}}}this.value=i,t(i)}}_registerOption(t){let r=(this._idCounter++).toString();return this._optionMap.set(r,t),r}_getOptionId(t){for(let r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r)._value,t))return r;return null}_getOptionValue(t){let r=LL(t);return this._optionMap.has(r)?this._optionMap.get(r)._value:t}static{this.\u0275fac=(()=>{let t;return function(i){return(t||(t=fn(n)))(i||n)}})()}static{this.\u0275dir=Ne({type:n,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(r,i){r&1&&nr("change",function(s){return i.onChange(s.target)})("blur",function(){return i.onTouched()})},inputs:{compareWith:"compareWith"},features:[Jt([FL]),Et]})}}return n})(),Y6=(()=>{class n{constructor(t,r,i){this._element=t,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption(this))}set ngValue(t){this._select!=null&&(this._value=t,this._setElementValue(F0(this.id,t)),this._select.writeValue(this._select.value))}set value(t){this._select?(this._value=t,this._setElementValue(F0(this.id,t)),this._select.writeValue(this._select.value)):this._setElementValue(t)}_setElementValue(t){this._renderer.setProperty(this._element.nativeElement,"value",t)}_setSelected(t){this._renderer.setProperty(this._element.nativeElement,"selected",t)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static{this.\u0275fac=function(r){return new(r||n)(J(Rn),J(tr),J(dT,9))}}static{this.\u0275dir=Ne({type:n,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}})}}return n})();function VL(n){return typeof n=="number"?n:parseInt(n,10)}function hT(n){return typeof n=="number"?n:parseFloat(n)}var uf=(()=>{class n{constructor(){this._validator=Kh}ngOnChanges(t){if(this.inputName in t){let r=this.normalizeInput(t[this.inputName].currentValue);this._enabled=this.enabled(r),this._validator=this._enabled?this.createValidator(r):Kh,this._onChange&&this._onChange()}}validate(t){return this._validator(t)}registerOnValidatorChange(t){this._onChange=t}enabled(t){return t!=null}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275dir=Ne({type:n,features:[Xn]})}}return n})(),jL={provide:Pi,useExisting:Ot(()=>UL),multi:!0},UL=(()=>{class n extends uf{constructor(){super(...arguments),this.inputName="max",this.normalizeInput=t=>hT(t),this.createValidator=t=>B0(t)}static{this.\u0275fac=(()=>{let t;return function(i){return(t||(t=fn(n)))(i||n)}})()}static{this.\u0275dir=Ne({type:n,selectors:[["input","type","number","max","","formControlName",""],["input","type","number","max","","formControl",""],["input","type","number","max","","ngModel",""]],hostVars:1,hostBindings:function(r,i){r&2&&Ri("max",i._enabled?i.max:null)},inputs:{max:"max"},features:[Jt([jL]),Et]})}}return n})(),BL={provide:Pi,useExisting:Ot(()=>$L),multi:!0},$L=(()=>{class n extends uf{constructor(){super(...arguments),this.inputName="min",this.normalizeInput=t=>hT(t),this.createValidator=t=>U0(t)}static{this.\u0275fac=(()=>{let t;return function(i){return(t||(t=fn(n)))(i||n)}})()}static{this.\u0275dir=Ne({type:n,selectors:[["input","type","number","min","","formControlName",""],["input","type","number","min","","formControl",""],["input","type","number","min","","ngModel",""]],hostVars:1,hostBindings:function(r,i){r&2&&Ri("min",i._enabled?i.min:null)},inputs:{min:"min"},features:[Jt([BL]),Et]})}}return n})(),HL={provide:Pi,useExisting:Ot(()=>zL),multi:!0};var zL=(()=>{class n extends uf{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=xi,this.createValidator=t=>$0}enabled(t){return t}static{this.\u0275fac=(()=>{let t;return function(i){return(t||(t=fn(n)))(i||n)}})()}static{this.\u0275dir=Ne({type:n,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(r,i){r&2&&Ri("required",i._enabled?"":null)},inputs:{required:"required"},features:[Jt([HL]),Et]})}}return n})();var qL={provide:Pi,useExisting:Ot(()=>GL),multi:!0},GL=(()=>{class n extends uf{constructor(){super(...arguments),this.inputName="maxlength",this.normalizeInput=t=>VL(t),this.createValidator=t=>H0(t)}static{this.\u0275fac=(()=>{let t;return function(i){return(t||(t=fn(n)))(i||n)}})()}static{this.\u0275dir=Ne({type:n,selectors:[["","maxlength","","formControlName",""],["","maxlength","","formControl",""],["","maxlength","","ngModel",""]],hostVars:1,hostBindings:function(r,i){r&2&&Ri("maxlength",i._enabled?i.maxlength:null)},inputs:{maxlength:"maxlength"},features:[Jt([qL]),Et]})}}return n})();var fT=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275mod=Sr({type:n})}static{this.\u0275inj=Tr({})}}return n})();var Z6=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:Qc,useValue:t.callSetDisabledState??cf}]}}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275mod=Sr({type:n})}static{this.\u0275inj=Tr({imports:[fT]})}}return n})(),J6=(()=>{class n{static withConfig(t){return{ngModule:n,providers:[{provide:cT,useValue:t.warnOnNgModelWithFormControl??"always"},{provide:Qc,useValue:t.callSetDisabledState??cf}]}}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275mod=Sr({type:n})}static{this.\u0275inj=Tr({imports:[fT]})}}return n})();function WL(n,e){n&1&&(jc(0,"div",1),Uc(1,"div",2),jc(2,"h3"),KC(3,"CARGANDO..."),Lh()())}var pT=class n{isLoading=!1;static \u0275fac=function(t){return new(t||n)};static \u0275cmp=mh({type:n,selectors:[["app-loading"]],inputs:{isLoading:"isLoading"},standalone:!0,features:[Vh],decls:1,vars:1,consts:[["class","loading-overlay",4,"ngIf"],[1,"loading-overlay"],[1,"loading-spinner"]],template:function(t,r){t&1&&Py(0,WL,4,0,"div",0),t&2&&Oy("ngIf",r.isLoading)},dependencies:[Gy,y0],styles:[".loading-overlay[_ngcontent-%COMP%]{position:fixed;inset:0;background:#00000080;display:flex;flex-direction:column;align-items:center;justify-content:center;z-index:1000}.loading-spinner[_ngcontent-%COMP%]{border:8px solid #f3f3f3;border-top:8px solid #ee0a0a;border-radius:50%;width:50px;height:50px;animation:_ngcontent-%COMP%_spin 1s linear infinite;margin-bottom:20px}@keyframes _ngcontent-%COMP%_spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}"]})};var ae="primary",lu=Symbol("RouteTitle"),hv=class{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){let t=this.params[e];return Array.isArray(t)?t[0]:t}return null}getAll(e){if(this.has(e)){let t=this.params[e];return Array.isArray(t)?t:[t]}return[]}get keys(){return Object.keys(this.params)}};function ha(n){return new hv(n)}function KL(n,e,t){let r=t.path.split("/");if(r.length>n.length||t.pathMatch==="full"&&(e.hasChildren()||r.length<n.length))return null;let i={};for(let o=0;o<r.length;o++){let s=r[o],a=n[o];if(s[0]===":")i[s.substring(1)]=a;else if(s!==a.path)return null}return{consumed:n.slice(0,r.length),posParams:i}}function QL(n,e){if(n.length!==e.length)return!1;for(let t=0;t<n.length;++t)if(!ir(n[t],e[t]))return!1;return!0}function ir(n,e){let t=n?fv(n):void 0,r=e?fv(e):void 0;if(!t||!r||t.length!=r.length)return!1;let i;for(let o=0;o<t.length;o++)if(i=t[o],!CT(n[i],e[i]))return!1;return!0}function fv(n){return[...Object.keys(n),...Object.getOwnPropertySymbols(n)]}function CT(n,e){if(Array.isArray(n)&&Array.isArray(e)){if(n.length!==e.length)return!1;let t=[...n].sort(),r=[...e].sort();return t.every((i,o)=>r[o]===i)}else return n===e}function TT(n){return n.length>0?n[n.length-1]:null}function Fi(n){return Vg(n)?n:Ro(n)?Ve(Promise.resolve(n)):te(n)}var YL={exact:AT,subset:RT},ST={exact:ZL,subset:JL,ignored:()=>!0};function gT(n,e,t){return YL[t.paths](n.root,e.root,t.matrixParams)&&ST[t.queryParams](n.queryParams,e.queryParams)&&!(t.fragment==="exact"&&n.fragment!==e.fragment)}function ZL(n,e){return ir(n,e)}function AT(n,e,t){if(!Oo(n.segments,e.segments)||!hf(n.segments,e.segments,t)||n.numberOfChildren!==e.numberOfChildren)return!1;for(let r in e.children)if(!n.children[r]||!AT(n.children[r],e.children[r],t))return!1;return!0}function JL(n,e){return Object.keys(e).length<=Object.keys(n).length&&Object.keys(e).every(t=>CT(n[t],e[t]))}function RT(n,e,t){return xT(n,e,e.segments,t)}function xT(n,e,t,r){if(n.segments.length>t.length){let i=n.segments.slice(0,t.length);return!(!Oo(i,t)||e.hasChildren()||!hf(i,t,r))}else if(n.segments.length===t.length){if(!Oo(n.segments,t)||!hf(n.segments,t,r))return!1;for(let i in e.children)if(!n.children[i]||!RT(n.children[i],e.children[i],r))return!1;return!0}else{let i=t.slice(0,n.segments.length),o=t.slice(n.segments.length);return!Oo(n.segments,i)||!hf(n.segments,i,r)||!n.children[ae]?!1:xT(n.children[ae],e,o,r)}}function hf(n,e,t){return e.every((r,i)=>ST[t](n[i].parameters,r.parameters))}var Or=class{constructor(e=new xe([],{}),t={},r=null){this.root=e,this.queryParams=t,this.fragment=r}get queryParamMap(){return this._queryParamMap??=ha(this.queryParams),this._queryParamMap}toString(){return tV.serialize(this)}},xe=class{constructor(e,t){this.segments=e,this.children=t,this.parent=null,Object.values(t).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return ff(this)}},ko=class{constructor(e,t){this.path=e,this.parameters=t}get parameterMap(){return this._parameterMap??=ha(this.parameters),this._parameterMap}toString(){return NT(this)}};function XL(n,e){return Oo(n,e)&&n.every((t,r)=>ir(t.parameters,e[r].parameters))}function Oo(n,e){return n.length!==e.length?!1:n.every((t,r)=>t.path===e[r].path)}function eV(n,e){let t=[];return Object.entries(n.children).forEach(([r,i])=>{r===ae&&(t=t.concat(e(i,r)))}),Object.entries(n.children).forEach(([r,i])=>{r!==ae&&(t=t.concat(e(i,r)))}),t}var du=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=W({token:n,factory:()=>new fa,providedIn:"root"})}}return n})(),fa=class{parse(e){let t=new gv(e);return new Or(t.parseRootSegment(),t.parseQueryParams(),t.parseFragment())}serialize(e){let t=`/${Yc(e.root,!0)}`,r=iV(e.queryParams),i=typeof e.fragment=="string"?`#${nV(e.fragment)}`:"";return`${t}${r}${i}`}},tV=new fa;function ff(n){return n.segments.map(e=>NT(e)).join("/")}function Yc(n,e){if(!n.hasChildren())return ff(n);if(e){let t=n.children[ae]?Yc(n.children[ae],!1):"",r=[];return Object.entries(n.children).forEach(([i,o])=>{i!==ae&&r.push(`${i}:${Yc(o,!1)}`)}),r.length>0?`${t}(${r.join("//")})`:t}else{let t=eV(n,(r,i)=>i===ae?[Yc(n.children[ae],!1)]:[`${i}:${Yc(r,!1)}`]);return Object.keys(n.children).length===1&&n.children[ae]!=null?`${ff(n)}/${t[0]}`:`${ff(n)}/(${t.join("//")})`}}function MT(n){return encodeURIComponent(n).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function lf(n){return MT(n).replace(/%3B/gi,";")}function nV(n){return encodeURI(n)}function pv(n){return MT(n).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function pf(n){return decodeURIComponent(n)}function mT(n){return pf(n.replace(/\+/g,"%20"))}function NT(n){return`${pv(n.path)}${rV(n.parameters)}`}function rV(n){return Object.entries(n).map(([e,t])=>`;${pv(e)}=${pv(t)}`).join("")}function iV(n){let e=Object.entries(n).map(([t,r])=>Array.isArray(r)?r.map(i=>`${lf(t)}=${lf(i)}`).join("&"):`${lf(t)}=${lf(r)}`).filter(t=>t);return e.length?`?${e.join("&")}`:""}var oV=/^[^\/()?;#]+/;function cv(n){let e=n.match(oV);return e?e[0]:""}var sV=/^[^\/()?;=#]+/;function aV(n){let e=n.match(sV);return e?e[0]:""}var cV=/^[^=?&#]+/;function uV(n){let e=n.match(cV);return e?e[0]:""}var lV=/^[^&#]+/;function dV(n){let e=n.match(lV);return e?e[0]:""}var gv=class{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new xe([],{}):new xe([],this.parseChildren())}parseQueryParams(){let e={};if(this.consumeOptional("?"))do this.parseQueryParam(e);while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let t={};this.peekStartsWith("/(")&&(this.capture("/"),t=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(t).length>0)&&(r[ae]=new xe(e,t)),r}parseSegment(){let e=cv(this.remaining);if(e===""&&this.peekStartsWith(";"))throw new G(4009,!1);return this.capture(e),new ko(pf(e),this.parseMatrixParams())}parseMatrixParams(){let e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){let t=aV(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){let i=cv(this.remaining);i&&(r=i,this.capture(r))}e[pf(t)]=pf(r)}parseQueryParam(e){let t=uV(this.remaining);if(!t)return;this.capture(t);let r="";if(this.consumeOptional("=")){let s=dV(this.remaining);s&&(r=s,this.capture(r))}let i=mT(t),o=mT(r);if(e.hasOwnProperty(i)){let s=e[i];Array.isArray(s)||(s=[s],e[i]=s),s.push(o)}else e[i]=o}parseParens(e){let t={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let r=cv(this.remaining),i=this.remaining[r.length];if(i!=="/"&&i!==")"&&i!==";")throw new G(4010,!1);let o;r.indexOf(":")>-1?(o=r.slice(0,r.indexOf(":")),this.capture(o),this.capture(":")):e&&(o=ae);let s=this.parseChildren();t[o]=Object.keys(s).length===1?s[ae]:new xe([],s),this.consumeOptional("//")}return t}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return this.peekStartsWith(e)?(this.remaining=this.remaining.substring(e.length),!0):!1}capture(e){if(!this.consumeOptional(e))throw new G(4011,!1)}};function PT(n){return n.segments.length>0?new xe([],{[ae]:n}):n}function kT(n){let e={};for(let[r,i]of Object.entries(n.children)){let o=kT(i);if(r===ae&&o.segments.length===0&&o.hasChildren())for(let[s,a]of Object.entries(o.children))e[s]=a;else(o.segments.length>0||o.hasChildren())&&(e[r]=o)}let t=new xe(n.segments,e);return hV(t)}function hV(n){if(n.numberOfChildren===1&&n.children[ae]){let e=n.children[ae];return new xe(n.segments.concat(e.segments),e.children)}return n}function Fo(n){return n instanceof Or}function fV(n,e,t=null,r=null){let i=OT(n);return FT(i,e,t,r)}function OT(n){let e;function t(o){let s={};for(let u of o.children){let d=t(u);s[u.outlet]=d}let a=new xe(o.url,s);return o===n&&(e=a),a}let r=t(n.root),i=PT(r);return e??i}function FT(n,e,t,r){let i=n;for(;i.parent;)i=i.parent;if(e.length===0)return uv(i,i,i,t,r);let o=pV(e);if(o.toRoot())return uv(i,i,new xe([],{}),t,r);let s=gV(o,i,n),a=s.processChildren?Xc(s.segmentGroup,s.index,o.commands):VT(s.segmentGroup,s.index,o.commands);return uv(i,s.segmentGroup,a,t,r)}function gf(n){return typeof n=="object"&&n!=null&&!n.outlets&&!n.segmentPath}function nu(n){return typeof n=="object"&&n!=null&&n.outlets}function uv(n,e,t,r,i){let o={};r&&Object.entries(r).forEach(([u,d])=>{o[u]=Array.isArray(d)?d.map(p=>`${p}`):`${d}`});let s;n===e?s=t:s=LT(n,e,t);let a=PT(kT(s));return new Or(a,o,i)}function LT(n,e,t){let r={};return Object.entries(n.children).forEach(([i,o])=>{o===e?r[i]=t:r[i]=LT(o,e,t)}),new xe(n.segments,r)}var mf=class{constructor(e,t,r){if(this.isAbsolute=e,this.numberOfDoubleDots=t,this.commands=r,e&&r.length>0&&gf(r[0]))throw new G(4003,!1);let i=r.find(nu);if(i&&i!==TT(r))throw new G(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function pV(n){if(typeof n[0]=="string"&&n.length===1&&n[0]==="/")return new mf(!0,0,n);let e=0,t=!1,r=n.reduce((i,o,s)=>{if(typeof o=="object"&&o!=null){if(o.outlets){let a={};return Object.entries(o.outlets).forEach(([u,d])=>{a[u]=typeof d=="string"?d.split("/"):d}),[...i,{outlets:a}]}if(o.segmentPath)return[...i,o.segmentPath]}return typeof o!="string"?[...i,o]:s===0?(o.split("/").forEach((a,u)=>{u==0&&a==="."||(u==0&&a===""?t=!0:a===".."?e++:a!=""&&i.push(a))}),i):[...i,o]},[]);return new mf(t,e,r)}var ua=class{constructor(e,t,r){this.segmentGroup=e,this.processChildren=t,this.index=r}};function gV(n,e,t){if(n.isAbsolute)return new ua(e,!0,0);if(!t)return new ua(e,!1,NaN);if(t.parent===null)return new ua(t,!0,0);let r=gf(n.commands[0])?0:1,i=t.segments.length-1+r;return mV(t,i,n.numberOfDoubleDots)}function mV(n,e,t){let r=n,i=e,o=t;for(;o>i;){if(o-=i,r=r.parent,!r)throw new G(4005,!1);i=r.segments.length}return new ua(r,!1,i-o)}function yV(n){return nu(n[0])?n[0].outlets:{[ae]:n}}function VT(n,e,t){if(n??=new xe([],{}),n.segments.length===0&&n.hasChildren())return Xc(n,e,t);let r=vV(n,e,t),i=t.slice(r.commandIndex);if(r.match&&r.pathIndex<n.segments.length){let o=new xe(n.segments.slice(0,r.pathIndex),{});return o.children[ae]=new xe(n.segments.slice(r.pathIndex),n.children),Xc(o,0,i)}else return r.match&&i.length===0?new xe(n.segments,{}):r.match&&!n.hasChildren()?mv(n,e,t):r.match?Xc(n,0,i):mv(n,e,t)}function Xc(n,e,t){if(t.length===0)return new xe(n.segments,{});{let r=yV(t),i={};if(Object.keys(r).some(o=>o!==ae)&&n.children[ae]&&n.numberOfChildren===1&&n.children[ae].segments.length===0){let o=Xc(n.children[ae],e,t);return new xe(n.segments,o.children)}return Object.entries(r).forEach(([o,s])=>{typeof s=="string"&&(s=[s]),s!==null&&(i[o]=VT(n.children[o],e,s))}),Object.entries(n.children).forEach(([o,s])=>{r[o]===void 0&&(i[o]=s)}),new xe(n.segments,i)}}function vV(n,e,t){let r=0,i=e,o={match:!1,pathIndex:0,commandIndex:0};for(;i<n.segments.length;){if(r>=t.length)return o;let s=n.segments[i],a=t[r];if(nu(a))break;let u=`${a}`,d=r<t.length-1?t[r+1]:null;if(i>0&&u===void 0)break;if(u&&d&&typeof d=="object"&&d.outlets===void 0){if(!vT(u,d,s))return o;r+=2}else{if(!vT(u,{},s))return o;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}function mv(n,e,t){let r=n.segments.slice(0,e),i=0;for(;i<t.length;){let o=t[i];if(nu(o)){let u=wV(o.outlets);return new xe(r,u)}if(i===0&&gf(t[0])){let u=n.segments[e];r.push(new ko(u.path,yT(t[0]))),i++;continue}let s=nu(o)?o.outlets[ae]:`${o}`,a=i<t.length-1?t[i+1]:null;s&&a&&gf(a)?(r.push(new ko(s,yT(a))),i+=2):(r.push(new ko(s,{})),i++)}return new xe(r,{})}function wV(n){let e={};return Object.entries(n).forEach(([t,r])=>{typeof r=="string"&&(r=[r]),r!==null&&(e[t]=mv(new xe([],{}),0,r))}),e}function yT(n){let e={};return Object.entries(n).forEach(([t,r])=>e[t]=`${r}`),e}function vT(n,e,t){return n==t.path&&ir(e,t.parameters)}var eu="imperative",ft=function(n){return n[n.NavigationStart=0]="NavigationStart",n[n.NavigationEnd=1]="NavigationEnd",n[n.NavigationCancel=2]="NavigationCancel",n[n.NavigationError=3]="NavigationError",n[n.RoutesRecognized=4]="RoutesRecognized",n[n.ResolveStart=5]="ResolveStart",n[n.ResolveEnd=6]="ResolveEnd",n[n.GuardsCheckStart=7]="GuardsCheckStart",n[n.GuardsCheckEnd=8]="GuardsCheckEnd",n[n.RouteConfigLoadStart=9]="RouteConfigLoadStart",n[n.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",n[n.ChildActivationStart=11]="ChildActivationStart",n[n.ChildActivationEnd=12]="ChildActivationEnd",n[n.ActivationStart=13]="ActivationStart",n[n.ActivationEnd=14]="ActivationEnd",n[n.Scroll=15]="Scroll",n[n.NavigationSkipped=16]="NavigationSkipped",n}(ft||{}),gn=class{constructor(e,t){this.id=e,this.url=t}},pa=class extends gn{constructor(e,t,r="imperative",i=null){super(e,t),this.type=ft.NavigationStart,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},or=class extends gn{constructor(e,t,r){super(e,t),this.urlAfterRedirects=r,this.type=ft.NavigationEnd}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},en=function(n){return n[n.Redirect=0]="Redirect",n[n.SupersededByNewNavigation=1]="SupersededByNewNavigation",n[n.NoDataFromResolver=2]="NoDataFromResolver",n[n.GuardRejected=3]="GuardRejected",n}(en||{}),yf=function(n){return n[n.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",n[n.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",n}(yf||{}),kr=class extends gn{constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i,this.type=ft.NavigationCancel}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},ki=class extends gn{constructor(e,t,r,i){super(e,t),this.reason=r,this.code=i,this.type=ft.NavigationSkipped}},ru=class extends gn{constructor(e,t,r,i){super(e,t),this.error=r,this.target=i,this.type=ft.NavigationError}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},vf=class extends gn{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=ft.RoutesRecognized}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},yv=class extends gn{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=ft.GuardsCheckStart}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},vv=class extends gn{constructor(e,t,r,i,o){super(e,t),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=o,this.type=ft.GuardsCheckEnd}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},wv=class extends gn{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=ft.ResolveStart}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},_v=class extends gn{constructor(e,t,r,i){super(e,t),this.urlAfterRedirects=r,this.state=i,this.type=ft.ResolveEnd}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Iv=class{constructor(e){this.route=e,this.type=ft.RouteConfigLoadStart}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},Ev=class{constructor(e){this.route=e,this.type=ft.RouteConfigLoadEnd}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},bv=class{constructor(e){this.snapshot=e,this.type=ft.ChildActivationStart}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Dv=class{constructor(e){this.snapshot=e,this.type=ft.ChildActivationEnd}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Cv=class{constructor(e){this.snapshot=e,this.type=ft.ActivationStart}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Tv=class{constructor(e){this.snapshot=e,this.type=ft.ActivationEnd}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},wf=class{constructor(e,t,r){this.routerEvent=e,this.position=t,this.anchor=r,this.type=ft.Scroll}toString(){let e=this.position?`${this.position[0]}, ${this.position[1]}`:null;return`Scroll(anchor: '${this.anchor}', position: '${e}')`}},iu=class{},ga=class{constructor(e,t){this.url=e,this.navigationBehaviorOptions=t}};function _V(n,e){return n.providers&&!n._injector&&(n._injector=Oh(n.providers,e,`Route: ${n.path}`)),n._injector??e}function xn(n){return n.outlet||ae}function IV(n,e){let t=n.filter(r=>xn(r)===e);return t.push(...n.filter(r=>xn(r)!==e)),t}function hu(n){if(!n)return null;if(n.routeConfig?._injector)return n.routeConfig._injector;for(let e=n.parent;e;e=e.parent){let t=e.routeConfig;if(t?._loadedInjector)return t._loadedInjector;if(t?._injector)return t._injector}return null}var Sv=class{get injector(){return hu(this.route?.snapshot)??this.rootInjector}set injector(e){}constructor(e){this.rootInjector=e,this.outlet=null,this.route=null,this.children=new fu(this.rootInjector),this.attachRef=null}},fu=(()=>{class n{constructor(t){this.rootInjector=t,this.contexts=new Map}onChildOutletCreated(t,r){let i=this.getOrCreateContext(t);i.outlet=r,this.contexts.set(t,i)}onChildOutletDestroyed(t){let r=this.getContext(t);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){let t=this.contexts;return this.contexts=new Map,t}onOutletReAttached(t){this.contexts=t}getOrCreateContext(t){let r=this.getContext(t);return r||(r=new Sv(this.rootInjector),this.contexts.set(t,r)),r}getContext(t){return this.contexts.get(t)||null}static{this.\u0275fac=function(r){return new(r||n)(re(Zt))}}static{this.\u0275prov=W({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),_f=class{constructor(e){this._root=e}get root(){return this._root.value}parent(e){let t=this.pathFromRoot(e);return t.length>1?t[t.length-2]:null}children(e){let t=Av(e,this._root);return t?t.children.map(r=>r.value):[]}firstChild(e){let t=Av(e,this._root);return t&&t.children.length>0?t.children[0].value:null}siblings(e){let t=Rv(e,this._root);return t.length<2?[]:t[t.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return Rv(e,this._root).map(t=>t.value)}};function Av(n,e){if(n===e.value)return e;for(let t of e.children){let r=Av(n,t);if(r)return r}return null}function Rv(n,e){if(n===e.value)return[e];for(let t of e.children){let r=Rv(n,t);if(r.length)return r.unshift(e),r}return[]}var Xt=class{constructor(e,t){this.value=e,this.children=t}toString(){return`TreeNode(${this.value})`}};function ca(n){let e={};return n&&n.children.forEach(t=>e[t.value.outlet]=t),e}var If=class extends _f{constructor(e,t){super(e),this.snapshot=t,Vv(this,e)}toString(){return this.snapshot.toString()}};function jT(n){let e=EV(n),t=new wt([new ko("",{})]),r=new wt({}),i=new wt({}),o=new wt({}),s=new wt(""),a=new Oi(t,r,o,s,i,ae,n,e.root);return a.snapshot=e.root,new If(new Xt(a,[]),e)}function EV(n){let e={},t={},r={},i="",o=new la([],e,r,i,t,ae,n,null,{});return new bf("",new Xt(o,[]))}var Oi=class{constructor(e,t,r,i,o,s,a,u){this.urlSubject=e,this.paramsSubject=t,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=o,this.outlet=s,this.component=a,this._futureSnapshot=u,this.title=this.dataSubject?.pipe(le(d=>d[lu]))??te(void 0),this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=o}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(le(e=>ha(e))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(le(e=>ha(e))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function Ef(n,e,t="emptyOnly"){let r,{routeConfig:i}=n;return e!==null&&(t==="always"||i?.path===""||!e.component&&!e.routeConfig?.loadComponent)?r={params:B(B({},e.params),n.params),data:B(B({},e.data),n.data),resolve:B(B(B(B({},n.data),e.data),i?.data),n._resolvedData)}:r={params:B({},n.params),data:B({},n.data),resolve:B(B({},n.data),n._resolvedData??{})},i&&BT(i)&&(r.resolve[lu]=i.title),r}var la=class{get title(){return this.data?.[lu]}constructor(e,t,r,i,o,s,a,u,d){this.url=e,this.params=t,this.queryParams=r,this.fragment=i,this.data=o,this.outlet=s,this.component=a,this.routeConfig=u,this._resolve=d}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=ha(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=ha(this.queryParams),this._queryParamMap}toString(){let e=this.url.map(r=>r.toString()).join("/"),t=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${e}', path:'${t}')`}},bf=class extends _f{constructor(e,t){super(t),this.url=e,Vv(this,t)}toString(){return UT(this._root)}};function Vv(n,e){e.value._routerState=n,e.children.forEach(t=>Vv(n,t))}function UT(n){let e=n.children.length>0?` { ${n.children.map(UT).join(", ")} } `:"";return`${n.value}${e}`}function lv(n){if(n.snapshot){let e=n.snapshot,t=n._futureSnapshot;n.snapshot=t,ir(e.queryParams,t.queryParams)||n.queryParamsSubject.next(t.queryParams),e.fragment!==t.fragment&&n.fragmentSubject.next(t.fragment),ir(e.params,t.params)||n.paramsSubject.next(t.params),QL(e.url,t.url)||n.urlSubject.next(t.url),ir(e.data,t.data)||n.dataSubject.next(t.data)}else n.snapshot=n._futureSnapshot,n.dataSubject.next(n._futureSnapshot.data)}function xv(n,e){let t=ir(n.params,e.params)&&XL(n.url,e.url),r=!n.parent!=!e.parent;return t&&!r&&(!n.parent||xv(n.parent,e.parent))}function BT(n){return typeof n.title=="string"||n.title===null}var bV=(()=>{class n{constructor(){this.activated=null,this._activatedRoute=null,this.name=ae,this.activateEvents=new ze,this.deactivateEvents=new ze,this.attachEvents=new ze,this.detachEvents=new ze,this.parentContexts=j(fu),this.location=j(ea),this.changeDetector=j(Mo),this.inputBinder=j(Sf,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(t){if(t.name){let{firstChange:r,previousValue:i}=t.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(t){return this.parentContexts.getContext(t)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let t=this.parentContexts.getContext(this.name);t?.route&&(t.attachRef?this.attach(t.attachRef,t.route):this.activateWith(t.route,t.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new G(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new G(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new G(4012,!1);this.location.detach();let t=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(t.instance),t}attach(t,r){this.activated=t,this._activatedRoute=r,this.location.insert(t.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(t.instance)}deactivate(){if(this.activated){let t=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(t)}}activateWith(t,r){if(this.isActivated)throw new G(4013,!1);this._activatedRoute=t;let i=this.location,s=t.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,u=new Mv(t,a,i.injector);this.activated=i.createComponent(s,{index:i.length,injector:u,environmentInjector:r}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275dir=Ne({type:n,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[Xn]})}}return n})(),Mv=class n{__ngOutletInjector(e){return new n(this.route,this.childContexts,e)}constructor(e,t,r){this.route=e,this.childContexts=t,this.parent=r}get(e,t){return e===Oi?this.route:e===fu?this.childContexts:this.parent.get(e,t)}},Sf=new q(""),wT=(()=>{class n{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(t){this.unsubscribeFromRouteData(t),this.subscribeToRouteData(t)}unsubscribeFromRouteData(t){this.outletDataSubscriptions.get(t)?.unsubscribe(),this.outletDataSubscriptions.delete(t)}subscribeToRouteData(t){let{activatedRoute:r}=t,i=Dc([r.queryParams,r.params,r.data]).pipe(cn(([o,s,a],u)=>(a=B(B(B({},o),s),a),u===0?te(a):Promise.resolve(a)))).subscribe(o=>{if(!t.isActivated||!t.activatedComponentRef||t.activatedRoute!==r||r.component===null){this.unsubscribeFromRouteData(t);return}let s=o0(r.component);if(!s){this.unsubscribeFromRouteData(t);return}for(let{templateName:a}of s.inputs)t.activatedComponentRef.setInput(a,o[a])});this.outletDataSubscriptions.set(t,i)}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=W({token:n,factory:n.\u0275fac})}}return n})();function DV(n,e,t){let r=ou(n,e._root,t?t._root:void 0);return new If(r,e)}function ou(n,e,t){if(t&&n.shouldReuseRoute(e.value,t.value.snapshot)){let r=t.value;r._futureSnapshot=e.value;let i=CV(n,e,t);return new Xt(r,i)}else{if(n.shouldAttach(e.value)){let o=n.retrieve(e.value);if(o!==null){let s=o.route;return s.value._futureSnapshot=e.value,s.children=e.children.map(a=>ou(n,a)),s}}let r=TV(e.value),i=e.children.map(o=>ou(n,o));return new Xt(r,i)}}function CV(n,e,t){return e.children.map(r=>{for(let i of t.children)if(n.shouldReuseRoute(r.value,i.value.snapshot))return ou(n,r,i);return ou(n,r)})}function TV(n){return new Oi(new wt(n.url),new wt(n.params),new wt(n.queryParams),new wt(n.fragment),new wt(n.data),n.outlet,n.component,n)}var su=class{constructor(e,t){this.redirectTo=e,this.navigationBehaviorOptions=t}},$T="ngNavigationCancelingError";function Df(n,e){let{redirectTo:t,navigationBehaviorOptions:r}=Fo(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=HT(!1,en.Redirect);return i.url=t,i.navigationBehaviorOptions=r,i}function HT(n,e){let t=new Error(`NavigationCancelingError: ${n||""}`);return t[$T]=!0,t.cancellationCode=e,t}function SV(n){return zT(n)&&Fo(n.url)}function zT(n){return!!n&&n[$T]}var AV=(n,e,t,r)=>le(i=>(new Nv(e,i.targetRouterState,i.currentRouterState,t,r).activate(n),i)),Nv=class{constructor(e,t,r,i,o){this.routeReuseStrategy=e,this.futureState=t,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=o}activate(e){let t=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(t,r,e),lv(this.futureState.root),this.activateChildRoutes(t,r,e)}deactivateChildRoutes(e,t,r){let i=ca(t);e.children.forEach(o=>{let s=o.value.outlet;this.deactivateRoutes(o,i[s],r),delete i[s]}),Object.values(i).forEach(o=>{this.deactivateRouteAndItsChildren(o,r)})}deactivateRoutes(e,t,r){let i=e.value,o=t?t.value:null;if(i===o)if(i.component){let s=r.getContext(i.outlet);s&&this.deactivateChildRoutes(e,t,s.children)}else this.deactivateChildRoutes(e,t,r);else o&&this.deactivateRouteAndItsChildren(t,r)}deactivateRouteAndItsChildren(e,t){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,t):this.deactivateRouteAndOutlet(e,t)}detachAndStoreRouteSubtree(e,t){let r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,o=ca(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);if(r&&r.outlet){let s=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:s,route:e,contexts:a})}}deactivateRouteAndOutlet(e,t){let r=t.getContext(e.value.outlet),i=r&&e.value.component?r.children:t,o=ca(e);for(let s of Object.values(o))this.deactivateRouteAndItsChildren(s,i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,t,r){let i=ca(t);e.children.forEach(o=>{this.activateRoutes(o,i[o.value.outlet],r),this.forwardEvent(new Tv(o.value.snapshot))}),e.children.length&&this.forwardEvent(new Dv(e.value.snapshot))}activateRoutes(e,t,r){let i=e.value,o=t?t.value:null;if(lv(i),i===o)if(i.component){let s=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,t,s.children)}else this.activateChildRoutes(e,t,r);else if(i.component){let s=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){let a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),s.children.onOutletReAttached(a.contexts),s.attachRef=a.componentRef,s.route=a.route.value,s.outlet&&s.outlet.attach(a.componentRef,a.route.value),lv(a.route.value),this.activateChildRoutes(e,null,s.children)}else s.attachRef=null,s.route=i,s.outlet&&s.outlet.activateWith(i,s.injector),this.activateChildRoutes(e,null,s.children)}else this.activateChildRoutes(e,null,r)}},Cf=class{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}},da=class{constructor(e,t){this.component=e,this.route=t}};function RV(n,e,t){let r=n._root,i=e?e._root:null;return Zc(r,i,t,[r.value])}function xV(n){let e=n.routeConfig?n.routeConfig.canActivateChild:null;return!e||e.length===0?null:{node:n,guards:e}}function ya(n,e){let t=Symbol(),r=e.get(n,t);return r===t?typeof n=="function"&&!Gb(n)?n:e.get(n):r}function Zc(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=ca(e);return n.children.forEach(s=>{MV(s,o[s.value.outlet],t,r.concat([s.value]),i),delete o[s.value.outlet]}),Object.entries(o).forEach(([s,a])=>tu(a,t.getContext(s),i)),i}function MV(n,e,t,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let o=n.value,s=e?e.value:null,a=t?t.getContext(n.value.outlet):null;if(s&&o.routeConfig===s.routeConfig){let u=NV(s,o,o.routeConfig.runGuardsAndResolvers);u?i.canActivateChecks.push(new Cf(r)):(o.data=s.data,o._resolvedData=s._resolvedData),o.component?Zc(n,e,a?a.children:null,r,i):Zc(n,e,t,r,i),u&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new da(a.outlet.component,s))}else s&&tu(e,a,i),i.canActivateChecks.push(new Cf(r)),o.component?Zc(n,null,a?a.children:null,r,i):Zc(n,null,t,r,i);return i}function NV(n,e,t){if(typeof t=="function")return t(n,e);switch(t){case"pathParamsChange":return!Oo(n.url,e.url);case"pathParamsOrQueryParamsChange":return!Oo(n.url,e.url)||!ir(n.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!xv(n,e)||!ir(n.queryParams,e.queryParams);case"paramsChange":default:return!xv(n,e)}}function tu(n,e,t){let r=ca(n),i=n.value;Object.entries(r).forEach(([o,s])=>{i.component?e?tu(s,e.children.getContext(o),t):tu(s,null,t):tu(s,e,t)}),i.component?e&&e.outlet&&e.outlet.isActivated?t.canDeactivateChecks.push(new da(e.outlet.component,i)):t.canDeactivateChecks.push(new da(null,i)):t.canDeactivateChecks.push(new da(null,i))}function pu(n){return typeof n=="function"}function PV(n){return typeof n=="boolean"}function kV(n){return n&&pu(n.canLoad)}function OV(n){return n&&pu(n.canActivate)}function FV(n){return n&&pu(n.canActivateChild)}function LV(n){return n&&pu(n.canDeactivate)}function VV(n){return n&&pu(n.canMatch)}function qT(n){return n instanceof _r||n?.name==="EmptyError"}var df=Symbol("INITIAL_VALUE");function ma(){return cn(n=>Dc(n.map(e=>e.pipe(Ir(1),Md(df)))).pipe(le(e=>{for(let t of e)if(t!==!0){if(t===df)return df;if(t===!1||jV(t))return t}return!0}),Qt(e=>e!==df),Ir(1)))}function jV(n){return Fo(n)||n instanceof su}function UV(n,e){return Je(t=>{let{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:o,canDeactivateChecks:s}}=t;return s.length===0&&o.length===0?te(ge(B({},t),{guardsResult:!0})):BV(s,r,i,n).pipe(Je(a=>a&&PV(a)?$V(r,o,n,e):te(a)),le(a=>ge(B({},t),{guardsResult:a})))})}function BV(n,e,t,r){return Ve(n).pipe(Je(i=>WV(i.component,i.route,t,e,r)),zn(i=>i!==!0,!0))}function $V(n,e,t,r){return Ve(e).pipe(yo(i=>xs(zV(i.route.parent,r),HV(i.route,r),GV(n,i.path,t),qV(n,i.route,t))),zn(i=>i!==!0,!0))}function HV(n,e){return n!==null&&e&&e(new Cv(n)),te(!0)}function zV(n,e){return n!==null&&e&&e(new bv(n)),te(!0)}function qV(n,e,t){let r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||r.length===0)return te(!0);let i=r.map(o=>Ad(()=>{let s=hu(e)??t,a=ya(o,s),u=OV(a)?a.canActivate(e,n):Jn(s,()=>a(e,n));return Fi(u).pipe(zn())}));return te(i).pipe(ma())}function GV(n,e,t){let r=e[e.length-1],o=e.slice(0,e.length-1).reverse().map(s=>xV(s)).filter(s=>s!==null).map(s=>Ad(()=>{let a=s.guards.map(u=>{let d=hu(s.node)??t,p=ya(u,d),g=FV(p)?p.canActivateChild(r,n):Jn(d,()=>p(r,n));return Fi(g).pipe(zn())});return te(a).pipe(ma())}));return te(o).pipe(ma())}function WV(n,e,t,r,i){let o=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!o||o.length===0)return te(!0);let s=o.map(a=>{let u=hu(e)??i,d=ya(a,u),p=LV(d)?d.canDeactivate(n,e,t,r):Jn(u,()=>d(n,e,t,r));return Fi(p).pipe(zn())});return te(s).pipe(ma())}function KV(n,e,t,r){let i=e.canLoad;if(i===void 0||i.length===0)return te(!0);let o=i.map(s=>{let a=ya(s,n),u=kV(a)?a.canLoad(e,t):Jn(n,()=>a(e,t));return Fi(u)});return te(o).pipe(ma(),GT(r))}function GT(n){return ud(at(e=>{if(typeof e!="boolean")throw Df(n,e)}),le(e=>e===!0))}function QV(n,e,t,r){let i=e.canMatch;if(!i||i.length===0)return te(!0);let o=i.map(s=>{let a=ya(s,n),u=VV(a)?a.canMatch(e,t):Jn(n,()=>a(e,t));return Fi(u)});return te(o).pipe(ma(),GT(r))}var au=class{constructor(e){this.segmentGroup=e||null}},cu=class extends Error{constructor(e){super(),this.urlTree=e}};function aa(n){return As(new au(n))}function YV(n){return As(new G(4e3,!1))}function ZV(n){return As(HT(!1,en.GuardRejected))}var Pv=class{constructor(e,t){this.urlSerializer=e,this.urlTree=t}lineralizeSegments(e,t){let r=[],i=t.root;for(;;){if(r=r.concat(i.segments),i.numberOfChildren===0)return te(r);if(i.numberOfChildren>1||!i.children[ae])return YV(`${e.redirectTo}`);i=i.children[ae]}}applyRedirectCommands(e,t,r,i,o){if(typeof t!="string"){let a=t,{queryParams:u,fragment:d,routeConfig:p,url:g,outlet:_,params:b,data:M,title:F}=i,k=Jn(o,()=>a({params:b,data:M,queryParams:u,fragment:d,routeConfig:p,url:g,outlet:_,title:F}));if(k instanceof Or)throw new cu(k);t=k}let s=this.applyRedirectCreateUrlTree(t,this.urlSerializer.parse(t),e,r);if(t[0]==="/")throw new cu(s);return s}applyRedirectCreateUrlTree(e,t,r,i){let o=this.createSegmentGroup(e,t.root,r,i);return new Or(o,this.createQueryParams(t.queryParams,this.urlTree.queryParams),t.fragment)}createQueryParams(e,t){let r={};return Object.entries(e).forEach(([i,o])=>{if(typeof o=="string"&&o[0]===":"){let a=o.substring(1);r[i]=t[a]}else r[i]=o}),r}createSegmentGroup(e,t,r,i){let o=this.createSegments(e,t.segments,r,i),s={};return Object.entries(t.children).forEach(([a,u])=>{s[a]=this.createSegmentGroup(e,u,r,i)}),new xe(o,s)}createSegments(e,t,r,i){return t.map(o=>o.path[0]===":"?this.findPosParam(e,o,i):this.findOrReturn(o,r))}findPosParam(e,t,r){let i=r[t.path.substring(1)];if(!i)throw new G(4001,!1);return i}findOrReturn(e,t){let r=0;for(let i of t){if(i.path===e.path)return t.splice(r),i;r++}return e}},kv={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function JV(n,e,t,r,i){let o=WT(n,e,t);return o.matched?(r=_V(e,r),QV(r,e,t,i).pipe(le(s=>s===!0?o:B({},kv)))):te(o)}function WT(n,e,t){if(e.path==="**")return XV(t);if(e.path==="")return e.pathMatch==="full"&&(n.hasChildren()||t.length>0)?B({},kv):{matched:!0,consumedSegments:[],remainingSegments:t,parameters:{},positionalParamSegments:{}};let i=(e.matcher||KL)(t,n,e);if(!i)return B({},kv);let o={};Object.entries(i.posParams??{}).forEach(([a,u])=>{o[a]=u.path});let s=i.consumed.length>0?B(B({},o),i.consumed[i.consumed.length-1].parameters):o;return{matched:!0,consumedSegments:i.consumed,remainingSegments:t.slice(i.consumed.length),parameters:s,positionalParamSegments:i.posParams??{}}}function XV(n){return{matched:!0,parameters:n.length>0?TT(n).parameters:{},consumedSegments:n,remainingSegments:[],positionalParamSegments:{}}}function _T(n,e,t,r){return t.length>0&&n2(n,t,r)?{segmentGroup:new xe(e,t2(r,new xe(t,n.children))),slicedSegments:[]}:t.length===0&&r2(n,t,r)?{segmentGroup:new xe(n.segments,e2(n,t,r,n.children)),slicedSegments:t}:{segmentGroup:new xe(n.segments,n.children),slicedSegments:t}}function e2(n,e,t,r){let i={};for(let o of t)if(Af(n,e,o)&&!r[xn(o)]){let s=new xe([],{});i[xn(o)]=s}return B(B({},r),i)}function t2(n,e){let t={};t[ae]=e;for(let r of n)if(r.path===""&&xn(r)!==ae){let i=new xe([],{});t[xn(r)]=i}return t}function n2(n,e,t){return t.some(r=>Af(n,e,r)&&xn(r)!==ae)}function r2(n,e,t){return t.some(r=>Af(n,e,r))}function Af(n,e,t){return(n.hasChildren()||e.length>0)&&t.pathMatch==="full"?!1:t.path===""}function i2(n,e,t){return e.length===0&&!n.children[t]}var Ov=class{};function o2(n,e,t,r,i,o,s="emptyOnly"){return new Fv(n,e,t,r,i,s,o).recognize()}var s2=31,Fv=class{constructor(e,t,r,i,o,s,a){this.injector=e,this.configLoader=t,this.rootComponentType=r,this.config=i,this.urlTree=o,this.paramsInheritanceStrategy=s,this.urlSerializer=a,this.applyRedirects=new Pv(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(e){return new G(4002,`'${e.segmentGroup}'`)}recognize(){let e=_T(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(e).pipe(le(({children:t,rootSnapshot:r})=>{let i=new Xt(r,t),o=new bf("",i),s=fV(r,[],this.urlTree.queryParams,this.urlTree.fragment);return s.queryParams=this.urlTree.queryParams,o.url=this.urlSerializer.serialize(s),{state:o,tree:s}}))}match(e){let t=new la([],Object.freeze({}),Object.freeze(B({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),ae,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,e,ae,t).pipe(le(r=>({children:r,rootSnapshot:t})),vi(r=>{if(r instanceof cu)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof au?this.noMatchError(r):r}))}processSegmentGroup(e,t,r,i,o){return r.segments.length===0&&r.hasChildren()?this.processChildren(e,t,r,o):this.processSegment(e,t,r,r.segments,i,!0,o).pipe(le(s=>s instanceof Xt?[s]:[]))}processChildren(e,t,r,i){let o=[];for(let s of Object.keys(r.children))s==="primary"?o.unshift(s):o.push(s);return Ve(o).pipe(yo(s=>{let a=r.children[s],u=IV(t,s);return this.processSegmentGroup(e,u,a,s,i)}),xd((s,a)=>(s.push(...a),s)),wi(null),Bg(),Je(s=>{if(s===null)return aa(r);let a=KT(s);return a2(a),te(a)}))}processSegment(e,t,r,i,o,s,a){return Ve(t).pipe(yo(u=>this.processSegmentAgainstRoute(u._injector??e,t,u,r,i,o,s,a).pipe(vi(d=>{if(d instanceof au)return te(null);throw d}))),zn(u=>!!u),vi(u=>{if(qT(u))return i2(r,i,o)?te(new Ov):aa(r);throw u}))}processSegmentAgainstRoute(e,t,r,i,o,s,a,u){return xn(r)!==s&&(s===ae||!Af(i,o,r))?aa(i):r.redirectTo===void 0?this.matchSegmentAgainstRoute(e,i,r,o,s,u):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(e,i,t,r,o,s,u):aa(i)}expandSegmentAgainstRouteUsingRedirect(e,t,r,i,o,s,a){let{matched:u,parameters:d,consumedSegments:p,positionalParamSegments:g,remainingSegments:_}=WT(t,i,o);if(!u)return aa(t);typeof i.redirectTo=="string"&&i.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>s2&&(this.allowRedirects=!1));let b=new la(o,d,Object.freeze(B({},this.urlTree.queryParams)),this.urlTree.fragment,IT(i),xn(i),i.component??i._loadedComponent??null,i,ET(i)),M=Ef(b,a,this.paramsInheritanceStrategy);b.params=Object.freeze(M.params),b.data=Object.freeze(M.data);let F=this.applyRedirects.applyRedirectCommands(p,i.redirectTo,g,b,e);return this.applyRedirects.lineralizeSegments(i,F).pipe(Je(k=>this.processSegment(e,r,t,k.concat(_),s,!1,a)))}matchSegmentAgainstRoute(e,t,r,i,o,s){let a=JV(t,r,i,e,this.urlSerializer);return r.path==="**"&&(t.children={}),a.pipe(cn(u=>u.matched?(e=r._injector??e,this.getChildConfig(e,r,i).pipe(cn(({routes:d})=>{let p=r._loadedInjector??e,{parameters:g,consumedSegments:_,remainingSegments:b}=u,M=new la(_,g,Object.freeze(B({},this.urlTree.queryParams)),this.urlTree.fragment,IT(r),xn(r),r.component??r._loadedComponent??null,r,ET(r)),F=Ef(M,s,this.paramsInheritanceStrategy);M.params=Object.freeze(F.params),M.data=Object.freeze(F.data);let{segmentGroup:k,slicedSegments:U}=_T(t,_,b,d);if(U.length===0&&k.hasChildren())return this.processChildren(p,d,k,M).pipe(le(Y=>new Xt(M,Y)));if(d.length===0&&U.length===0)return te(new Xt(M,[]));let K=xn(r)===o;return this.processSegment(p,d,k,U,K?ae:o,!0,M).pipe(le(Y=>new Xt(M,Y instanceof Xt?[Y]:[])))}))):aa(t)))}getChildConfig(e,t,r){return t.children?te({routes:t.children,injector:e}):t.loadChildren?t._loadedRoutes!==void 0?te({routes:t._loadedRoutes,injector:t._loadedInjector}):KV(e,t,r,this.urlSerializer).pipe(Je(i=>i?this.configLoader.loadChildren(e,t).pipe(at(o=>{t._loadedRoutes=o.routes,t._loadedInjector=o.injector})):ZV(t))):te({routes:[],injector:e})}};function a2(n){n.sort((e,t)=>e.value.outlet===ae?-1:t.value.outlet===ae?1:e.value.outlet.localeCompare(t.value.outlet))}function c2(n){let e=n.value.routeConfig;return e&&e.path===""}function KT(n){let e=[],t=new Set;for(let r of n){if(!c2(r)){e.push(r);continue}let i=e.find(o=>r.value.routeConfig===o.value.routeConfig);i!==void 0?(i.children.push(...r.children),t.add(i)):e.push(r)}for(let r of t){let i=KT(r.children);e.push(new Xt(r.value,i))}return e.filter(r=>!t.has(r))}function IT(n){return n.data||{}}function ET(n){return n.resolve||{}}function u2(n,e,t,r,i,o){return Je(s=>o2(n,e,t,r,s.extractedUrl,i,o).pipe(le(({state:a,tree:u})=>ge(B({},s),{targetSnapshot:a,urlAfterRedirects:u}))))}function l2(n,e){return Je(t=>{let{targetSnapshot:r,guards:{canActivateChecks:i}}=t;if(!i.length)return te(t);let o=new Set(i.map(u=>u.route)),s=new Set;for(let u of o)if(!s.has(u))for(let d of QT(u))s.add(d);let a=0;return Ve(s).pipe(yo(u=>o.has(u)?d2(u,r,n,e):(u.data=Ef(u,u.parent,n).resolve,te(void 0))),at(()=>a++),Ms(1),Je(u=>a===s.size?te(t):Kt))})}function QT(n){let e=n.children.map(t=>QT(t)).flat();return[n,...e]}function d2(n,e,t,r){let i=n.routeConfig,o=n._resolve;return i?.title!==void 0&&!BT(i)&&(o[lu]=i.title),h2(o,n,e,r).pipe(le(s=>(n._resolvedData=s,n.data=Ef(n,n.parent,t).resolve,null)))}function h2(n,e,t,r){let i=fv(n);if(i.length===0)return te({});let o={};return Ve(i).pipe(Je(s=>f2(n[s],e,t,r).pipe(zn(),at(a=>{if(a instanceof su)throw Df(new fa,a);o[s]=a}))),Ms(1),Ug(o),vi(s=>qT(s)?Kt:As(s)))}function f2(n,e,t,r){let i=hu(e)??r,o=ya(n,i),s=o.resolve?o.resolve(e,t):Jn(i,()=>o(e,t));return Fi(s)}function dv(n){return cn(e=>{let t=n(e);return t?Ve(t).pipe(le(()=>e)):te(e)})}var YT=(()=>{class n{buildTitle(t){let r,i=t.root;for(;i!==void 0;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(o=>o.outlet===ae);return r}getResolvedTitleForRoute(t){return t.data[lu]}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=W({token:n,factory:()=>j(p2),providedIn:"root"})}}return n})(),p2=(()=>{class n extends YT{constructor(t){super(),this.title=t}updateTitle(t){let r=this.buildTitle(t);r!==void 0&&this.title.setTitle(r)}static{this.\u0275fac=function(r){return new(r||n)(re(S0))}}static{this.\u0275prov=W({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),gu=new q("",{providedIn:"root",factory:()=>({})}),g2=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275cmp=mh({type:n,selectors:[["ng-component"]],standalone:!0,features:[Vh],decls:1,vars:0,template:function(r,i){r&1&&Uc(0,"router-outlet")},dependencies:[bV],encapsulation:2})}}return n})();function jv(n){let e=n.children&&n.children.map(jv),t=e?ge(B({},n),{children:e}):B({},n);return!t.component&&!t.loadComponent&&(e||t.loadChildren)&&t.outlet&&t.outlet!==ae&&(t.component=g2),t}var uu=new q(""),Uv=(()=>{class n{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=j($h)}loadComponent(t){if(this.componentLoaders.get(t))return this.componentLoaders.get(t);if(t._loadedComponent)return te(t._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(t);let r=Fi(t.loadComponent()).pipe(le(ZT),at(o=>{this.onLoadEndListener&&this.onLoadEndListener(t),t._loadedComponent=o}),Cc(()=>{this.componentLoaders.delete(t)})),i=new Ds(r,()=>new ht).pipe(bs());return this.componentLoaders.set(t,i),i}loadChildren(t,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return te({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);let o=m2(r,this.compiler,t,this.onLoadEndListener).pipe(Cc(()=>{this.childrenLoaders.delete(r)})),s=new Ds(o,()=>new ht).pipe(bs());return this.childrenLoaders.set(r,s),s}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=W({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function m2(n,e,t,r){return Fi(n.loadChildren()).pipe(le(ZT),Je(i=>i instanceof Nc||Array.isArray(i)?te(i):Ve(e.compileModuleAsync(i))),le(i=>{r&&r(n);let o,s,a=!1;return Array.isArray(i)?(s=i,a=!0):(o=i.create(t).injector,s=o.get(uu,[],{optional:!0,self:!0}).flat()),{routes:s.map(jv),injector:o}}))}function y2(n){return n&&typeof n=="object"&&"default"in n}function ZT(n){return y2(n)?n.default:n}var Bv=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=W({token:n,factory:()=>j(v2),providedIn:"root"})}}return n})(),v2=(()=>{class n{shouldProcessUrl(t){return!0}extract(t){return t}merge(t,r){return t}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=W({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),JT=new q(""),XT=new q("");function w2(n,e,t){let r=n.get(XT),i=n.get(Bt);return n.get(Re).runOutsideAngular(()=>{if(!i.startViewTransition||r.skipNextTransition)return r.skipNextTransition=!1,new Promise(d=>setTimeout(d));let o,s=new Promise(d=>{o=d}),a=i.startViewTransition(()=>(o(),_2(n))),{onViewTransitionCreated:u}=r;return u&&Jn(n,()=>u({transition:a,from:e,to:t})),s})}function _2(n){return new Promise(e=>{ky({read:()=>setTimeout(e)},{injector:n})})}var I2=new q(""),$v=(()=>{class n{get hasRequestedNavigation(){return this.navigationId!==0}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new ht,this.transitionAbortSubject=new ht,this.configLoader=j(Uv),this.environmentInjector=j(Zt),this.urlSerializer=j(du),this.rootContexts=j(fu),this.location=j(ra),this.inputBindingEnabled=j(Sf,{optional:!0})!==null,this.titleStrategy=j(YT),this.options=j(gu,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=j(Bv),this.createViewTransition=j(JT,{optional:!0}),this.navigationErrorHandler=j(I2,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>te(void 0),this.rootComponentType=null;let t=i=>this.events.next(new Iv(i)),r=i=>this.events.next(new Ev(i));this.configLoader.onLoadEndListener=r,this.configLoader.onLoadStartListener=t}complete(){this.transitions?.complete()}handleNavigationRequest(t){let r=++this.navigationId;this.transitions?.next(ge(B(B({},this.transitions.value),t),{id:r}))}setupNavigations(t,r,i){return this.transitions=new wt({id:0,currentUrlTree:r,currentRawUrl:r,extractedUrl:this.urlHandlingStrategy.extract(r),urlAfterRedirects:this.urlHandlingStrategy.extract(r),rawUrl:r,extras:{},resolve:()=>{},reject:()=>{},promise:Promise.resolve(!0),source:eu,restoredState:null,currentSnapshot:i.snapshot,targetSnapshot:null,currentRouterState:i,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(Qt(o=>o.id!==0),le(o=>ge(B({},o),{extractedUrl:this.urlHandlingStrategy.extract(o.rawUrl)})),cn(o=>{let s=!1,a=!1;return te(o).pipe(cn(u=>{if(this.navigationId>o.id)return this.cancelNavigationTransition(o,"",en.SupersededByNewNavigation),Kt;this.currentTransition=o,this.currentNavigation={id:u.id,initialUrl:u.rawUrl,extractedUrl:u.extractedUrl,targetBrowserUrl:typeof u.extras.browserUrl=="string"?this.urlSerializer.parse(u.extras.browserUrl):u.extras.browserUrl,trigger:u.source,extras:u.extras,previousNavigation:this.lastSuccessfulNavigation?ge(B({},this.lastSuccessfulNavigation),{previousNavigation:null}):null};let d=!t.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),p=u.extras.onSameUrlNavigation??t.onSameUrlNavigation;if(!d&&p!=="reload"){let g="";return this.events.next(new ki(u.id,this.urlSerializer.serialize(u.rawUrl),g,yf.IgnoredSameUrlNavigation)),u.resolve(!1),Kt}if(this.urlHandlingStrategy.shouldProcessUrl(u.rawUrl))return te(u).pipe(cn(g=>{let _=this.transitions?.getValue();return this.events.next(new pa(g.id,this.urlSerializer.serialize(g.extractedUrl),g.source,g.restoredState)),_!==this.transitions?.getValue()?Kt:Promise.resolve(g)}),u2(this.environmentInjector,this.configLoader,this.rootComponentType,t.config,this.urlSerializer,this.paramsInheritanceStrategy),at(g=>{o.targetSnapshot=g.targetSnapshot,o.urlAfterRedirects=g.urlAfterRedirects,this.currentNavigation=ge(B({},this.currentNavigation),{finalUrl:g.urlAfterRedirects});let _=new vf(g.id,this.urlSerializer.serialize(g.extractedUrl),this.urlSerializer.serialize(g.urlAfterRedirects),g.targetSnapshot);this.events.next(_)}));if(d&&this.urlHandlingStrategy.shouldProcessUrl(u.currentRawUrl)){let{id:g,extractedUrl:_,source:b,restoredState:M,extras:F}=u,k=new pa(g,this.urlSerializer.serialize(_),b,M);this.events.next(k);let U=jT(this.rootComponentType).snapshot;return this.currentTransition=o=ge(B({},u),{targetSnapshot:U,urlAfterRedirects:_,extras:ge(B({},F),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=_,te(o)}else{let g="";return this.events.next(new ki(u.id,this.urlSerializer.serialize(u.extractedUrl),g,yf.IgnoredByUrlHandlingStrategy)),u.resolve(!1),Kt}}),at(u=>{let d=new yv(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(d)}),le(u=>(this.currentTransition=o=ge(B({},u),{guards:RV(u.targetSnapshot,u.currentSnapshot,this.rootContexts)}),o)),UV(this.environmentInjector,u=>this.events.next(u)),at(u=>{if(o.guardsResult=u.guardsResult,u.guardsResult&&typeof u.guardsResult!="boolean")throw Df(this.urlSerializer,u.guardsResult);let d=new vv(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot,!!u.guardsResult);this.events.next(d)}),Qt(u=>u.guardsResult?!0:(this.cancelNavigationTransition(u,"",en.GuardRejected),!1)),dv(u=>{if(u.guards.canActivateChecks.length)return te(u).pipe(at(d=>{let p=new wv(d.id,this.urlSerializer.serialize(d.extractedUrl),this.urlSerializer.serialize(d.urlAfterRedirects),d.targetSnapshot);this.events.next(p)}),cn(d=>{let p=!1;return te(d).pipe(l2(this.paramsInheritanceStrategy,this.environmentInjector),at({next:()=>p=!0,complete:()=>{p||this.cancelNavigationTransition(d,"",en.NoDataFromResolver)}}))}),at(d=>{let p=new _v(d.id,this.urlSerializer.serialize(d.extractedUrl),this.urlSerializer.serialize(d.urlAfterRedirects),d.targetSnapshot);this.events.next(p)}))}),dv(u=>{let d=p=>{let g=[];p.routeConfig?.loadComponent&&!p.routeConfig._loadedComponent&&g.push(this.configLoader.loadComponent(p.routeConfig).pipe(at(_=>{p.component=_}),le(()=>{})));for(let _ of p.children)g.push(...d(_));return g};return Dc(d(u.targetSnapshot.root)).pipe(wi(null),Ir(1))}),dv(()=>this.afterPreactivation()),cn(()=>{let{currentSnapshot:u,targetSnapshot:d}=o,p=this.createViewTransition?.(this.environmentInjector,u.root,d.root);return p?Ve(p).pipe(le(()=>o)):te(o)}),le(u=>{let d=DV(t.routeReuseStrategy,u.targetSnapshot,u.currentRouterState);return this.currentTransition=o=ge(B({},u),{targetRouterState:d}),this.currentNavigation.targetRouterState=d,o}),at(()=>{this.events.next(new iu)}),AV(this.rootContexts,t.routeReuseStrategy,u=>this.events.next(u),this.inputBindingEnabled),Ir(1),at({next:u=>{s=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new or(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects))),this.titleStrategy?.updateTitle(u.targetRouterState.snapshot),u.resolve(!0)},complete:()=>{s=!0}}),$g(this.transitionAbortSubject.pipe(at(u=>{throw u}))),Cc(()=>{!s&&!a&&this.cancelNavigationTransition(o,"",en.SupersededByNewNavigation),this.currentTransition?.id===o.id&&(this.currentNavigation=null,this.currentTransition=null)}),vi(u=>{if(a=!0,zT(u))this.events.next(new kr(o.id,this.urlSerializer.serialize(o.extractedUrl),u.message,u.cancellationCode)),SV(u)?this.events.next(new ga(u.url,u.navigationBehaviorOptions)):o.resolve(!1);else{let d=new ru(o.id,this.urlSerializer.serialize(o.extractedUrl),u,o.targetSnapshot??void 0);try{let p=Jn(this.environmentInjector,()=>this.navigationErrorHandler?.(d));if(p instanceof su){let{message:g,cancellationCode:_}=Df(this.urlSerializer,p);this.events.next(new kr(o.id,this.urlSerializer.serialize(o.extractedUrl),g,_)),this.events.next(new ga(p.redirectTo,p.navigationBehaviorOptions))}else{this.events.next(d);let g=t.errorHandler(u);o.resolve(!!g)}}catch(p){this.options.resolveNavigationPromiseOnError?o.resolve(!1):o.reject(p)}}return Kt}))}))}cancelNavigationTransition(t,r,i){let o=new kr(t.id,this.urlSerializer.serialize(t.extractedUrl),r,i);this.events.next(o),t.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){let t=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),r=this.currentNavigation?.targetBrowserUrl??this.currentNavigation?.extractedUrl;return t.toString()!==r?.toString()&&!this.currentNavigation?.extras.skipLocationChange}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=W({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function E2(n){return n!==eu}var b2=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=W({token:n,factory:()=>j(D2),providedIn:"root"})}}return n})(),Lv=class{shouldDetach(e){return!1}store(e,t){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,t){return e.routeConfig===t.routeConfig}},D2=(()=>{class n extends Lv{static{this.\u0275fac=(()=>{let t;return function(i){return(t||(t=fn(n)))(i||n)}})()}static{this.\u0275prov=W({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),eS=(()=>{class n{static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=W({token:n,factory:()=>j(C2),providedIn:"root"})}}return n})(),C2=(()=>{class n extends eS{constructor(){super(...arguments),this.location=j(ra),this.urlSerializer=j(du),this.options=j(gu,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=j(Bv),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new Or,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=jT(null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(t){return this.location.subscribe(r=>{r.type==="popstate"&&t(r.url,r.state)})}handleRouterEvent(t,r){if(t instanceof pa)this.stateMemento=this.createStateMemento();else if(t instanceof ki)this.rawUrlTree=r.initialUrl;else if(t instanceof vf){if(this.urlUpdateStrategy==="eager"&&!r.extras.skipLocationChange){let i=this.urlHandlingStrategy.merge(r.finalUrl,r.initialUrl);this.setBrowserUrl(r.targetBrowserUrl??i,r)}}else t instanceof iu?(this.currentUrlTree=r.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(r.finalUrl,r.initialUrl),this.routerState=r.targetRouterState,this.urlUpdateStrategy==="deferred"&&!r.extras.skipLocationChange&&this.setBrowserUrl(r.targetBrowserUrl??this.rawUrlTree,r)):t instanceof kr&&(t.code===en.GuardRejected||t.code===en.NoDataFromResolver)?this.restoreHistory(r):t instanceof ru?this.restoreHistory(r,!0):t instanceof or&&(this.lastSuccessfulId=t.id,this.currentPageId=this.browserPageId)}setBrowserUrl(t,r){let i=t instanceof Or?this.urlSerializer.serialize(t):t;if(this.location.isCurrentPathEqualTo(i)||r.extras.replaceUrl){let o=this.browserPageId,s=B(B({},r.extras.state),this.generateNgRouterState(r.id,o));this.location.replaceState(i,"",s)}else{let o=B(B({},r.extras.state),this.generateNgRouterState(r.id,this.browserPageId+1));this.location.go(i,"",o)}}restoreHistory(t,r=!1){if(this.canceledNavigationResolution==="computed"){let i=this.browserPageId,o=this.currentPageId-i;o!==0?this.location.historyGo(o):this.currentUrlTree===t.finalUrl&&o===0&&(this.resetState(t),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(r&&this.resetState(t),this.resetUrlToCurrentUrlTree())}resetState(t){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,t.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(t,r){return this.canceledNavigationResolution==="computed"?{navigationId:t,\u0275routerPageId:r}:{navigationId:t}}static{this.\u0275fac=(()=>{let t;return function(i){return(t||(t=fn(n)))(i||n)}})()}static{this.\u0275prov=W({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),Jc=function(n){return n[n.COMPLETE=0]="COMPLETE",n[n.FAILED=1]="FAILED",n[n.REDIRECTING=2]="REDIRECTING",n}(Jc||{});function tS(n,e){n.events.pipe(Qt(t=>t instanceof or||t instanceof kr||t instanceof ru||t instanceof ki),le(t=>t instanceof or||t instanceof ki?Jc.COMPLETE:(t instanceof kr?t.code===en.Redirect||t.code===en.SupersededByNewNavigation:!1)?Jc.REDIRECTING:Jc.FAILED),Qt(t=>t!==Jc.REDIRECTING),Ir(1)).subscribe(()=>{e()})}function T2(n){throw n}var S2={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},A2={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},Fr=(()=>{class n{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.console=j(jh),this.stateManager=j(eS),this.options=j(gu,{optional:!0})||{},this.pendingTasks=j(Xs),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=j($v),this.urlSerializer=j(du),this.location=j(ra),this.urlHandlingStrategy=j(Bv),this._events=new ht,this.errorHandler=this.options.errorHandler||T2,this.navigated=!1,this.routeReuseStrategy=j(b2),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=j(uu,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!j(Sf,{optional:!0}),this.eventsSubscription=new He,this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:t=>{this.console.warn(t)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){let t=this.navigationTransitions.events.subscribe(r=>{try{let i=this.navigationTransitions.currentTransition,o=this.navigationTransitions.currentNavigation;if(i!==null&&o!==null){if(this.stateManager.handleRouterEvent(r,o),r instanceof kr&&r.code!==en.Redirect&&r.code!==en.SupersededByNewNavigation)this.navigated=!0;else if(r instanceof or)this.navigated=!0;else if(r instanceof ga){let s=r.navigationBehaviorOptions,a=this.urlHandlingStrategy.merge(r.url,i.currentRawUrl),u=B({browserUrl:i.extras.browserUrl,info:i.extras.info,skipLocationChange:i.extras.skipLocationChange,replaceUrl:i.extras.replaceUrl||this.urlUpdateStrategy==="eager"||E2(i.source)},s);this.scheduleNavigation(a,eu,null,u,{resolve:i.resolve,reject:i.reject,promise:i.promise})}}x2(r)&&this._events.next(r)}catch(i){this.navigationTransitions.transitionAbortSubject.next(i)}});this.eventsSubscription.add(t)}resetRootComponentType(t){this.routerState.root.component=t,this.navigationTransitions.rootComponentType=t}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),eu,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((t,r)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(t,"popstate",r)},0)})}navigateToSyncWithBrowser(t,r,i){let o={replaceUrl:!0},s=i?.navigationId?i:null;if(i){let u=B({},i);delete u.navigationId,delete u.\u0275routerPageId,Object.keys(u).length!==0&&(o.state=u)}let a=this.parseUrl(t);this.scheduleNavigation(a,r,s,o)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(t){this.config=t.map(jv),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(t,r={}){let{relativeTo:i,queryParams:o,fragment:s,queryParamsHandling:a,preserveFragment:u}=r,d=u?this.currentUrlTree.fragment:s,p=null;switch(a??this.options.defaultQueryParamsHandling){case"merge":p=B(B({},this.currentUrlTree.queryParams),o);break;case"preserve":p=this.currentUrlTree.queryParams;break;default:p=o||null}p!==null&&(p=this.removeEmptyProps(p));let g;try{let _=i?i.snapshot:this.routerState.snapshot.root;g=OT(_)}catch{(typeof t[0]!="string"||t[0][0]!=="/")&&(t=[]),g=this.currentUrlTree.root}return FT(g,t,p,d??null)}navigateByUrl(t,r={skipLocationChange:!1}){let i=Fo(t)?t:this.parseUrl(t),o=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(o,eu,null,r)}navigate(t,r={skipLocationChange:!1}){return R2(t),this.navigateByUrl(this.createUrlTree(t,r),r)}serializeUrl(t){return this.urlSerializer.serialize(t)}parseUrl(t){try{return this.urlSerializer.parse(t)}catch{return this.urlSerializer.parse("/")}}isActive(t,r){let i;if(r===!0?i=B({},S2):r===!1?i=B({},A2):i=r,Fo(t))return gT(this.currentUrlTree,t,i);let o=this.parseUrl(t);return gT(this.currentUrlTree,o,i)}removeEmptyProps(t){return Object.entries(t).reduce((r,[i,o])=>(o!=null&&(r[i]=o),r),{})}scheduleNavigation(t,r,i,o,s){if(this.disposed)return Promise.resolve(!1);let a,u,d;s?(a=s.resolve,u=s.reject,d=s.promise):d=new Promise((g,_)=>{a=g,u=_});let p=this.pendingTasks.add();return tS(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(p))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:t,extras:o,resolve:a,reject:u,promise:d,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),d.catch(g=>Promise.reject(g))}static{this.\u0275fac=function(r){return new(r||n)}}static{this.\u0275prov=W({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})();function R2(n){for(let e=0;e<n.length;e++)if(n[e]==null)throw new G(4008,!1)}function x2(n){return!(n instanceof iu)&&!(n instanceof ga)}var b8=(()=>{class n{constructor(t,r,i,o,s,a){this.router=t,this.route=r,this.tabIndexAttribute=i,this.renderer=o,this.el=s,this.locationStrategy=a,this.href=null,this.onChanges=new ht,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1,this.routerLinkInput=null;let u=s.nativeElement.tagName?.toLowerCase();this.isAnchorElement=u==="a"||u==="area",this.isAnchorElement?this.subscription=t.events.subscribe(d=>{d instanceof or&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(t){this.tabIndexAttribute!=null||this.isAnchorElement||this.applyAttributeValue("tabindex",t)}ngOnChanges(t){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(t){t==null?(this.routerLinkInput=null,this.setTabIndexIfNotOnNativeEl(null)):(Fo(t)?this.routerLinkInput=t:this.routerLinkInput=Array.isArray(t)?t:[t],this.setTabIndexIfNotOnNativeEl("0"))}onClick(t,r,i,o,s){let a=this.urlTree;if(a===null||this.isAnchorElement&&(t!==0||r||i||o||s||typeof this.target=="string"&&this.target!="_self"))return!0;let u={skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info};return this.router.navigateByUrl(a,u),!this.isAnchorElement}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){let t=this.urlTree;this.href=t!==null&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(t)):null;let r=this.href===null?null:cC(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",r)}applyAttributeValue(t,r){let i=this.renderer,o=this.el.nativeElement;r!==null?i.setAttribute(o,t,r):i.removeAttribute(o,t)}get urlTree(){return this.routerLinkInput===null?null:Fo(this.routerLinkInput)?this.routerLinkInput:this.router.createUrlTree(this.routerLinkInput,{relativeTo:this.relativeTo!==void 0?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static{this.\u0275fac=function(r){return new(r||n)(J(Fr),J(Oi),cy("tabindex"),J(tr),J(Rn),J(Nr))}}static{this.\u0275dir=Ne({type:n,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(r,i){r&1&&nr("click",function(s){return i.onClick(s.button,s.ctrlKey,s.shiftKey,s.altKey,s.metaKey)}),r&2&&Ri("target",i.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[2,"preserveFragment","preserveFragment",xi],skipLocationChange:[2,"skipLocationChange","skipLocationChange",xi],replaceUrl:[2,"replaceUrl","replaceUrl",xi],routerLink:"routerLink"},standalone:!0,features:[xy,Xn]})}}return n})();var Tf=class{};var M2=(()=>{class n{constructor(t,r,i,o,s){this.router=t,this.injector=i,this.preloadingStrategy=o,this.loader=s}setUpPreloading(){this.subscription=this.router.events.pipe(Qt(t=>t instanceof or),yo(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(t,r){let i=[];for(let o of r){o.providers&&!o._injector&&(o._injector=Oh(o.providers,t,`Route: ${o.path}`));let s=o._injector??t,a=o._loadedInjector??s;(o.loadChildren&&!o._loadedRoutes&&o.canLoad===void 0||o.loadComponent&&!o._loadedComponent)&&i.push(this.preloadConfig(s,o)),(o.children||o._loadedRoutes)&&i.push(this.processRoutes(a,o.children??o._loadedRoutes))}return Ve(i).pipe(Rs())}preloadConfig(t,r){return this.preloadingStrategy.preload(r,()=>{let i;r.loadChildren&&r.canLoad===void 0?i=this.loader.loadChildren(t,r):i=te(null);let o=i.pipe(Je(s=>s===null?te(void 0):(r._loadedRoutes=s.routes,r._loadedInjector=s.injector,this.processRoutes(s.injector??t,s.routes))));if(r.loadComponent&&!r._loadedComponent){let s=this.loader.loadComponent(r);return Ve([o,s]).pipe(Rs())}else return o})}static{this.\u0275fac=function(r){return new(r||n)(re(Fr),re($h),re(Zt),re(Tf),re(Uv))}}static{this.\u0275prov=W({token:n,factory:n.\u0275fac,providedIn:"root"})}}return n})(),nS=new q(""),N2=(()=>{class n{constructor(t,r,i,o,s={}){this.urlSerializer=t,this.transitions=r,this.viewportScroller=i,this.zone=o,this.options=s,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},s.scrollPositionRestoration||="disabled",s.anchorScrolling||="disabled"}init(){this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof pa?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=t.navigationTrigger,this.restoredId=t.restoredState?t.restoredState.navigationId:0):t instanceof or?(this.lastId=t.id,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.urlAfterRedirects).fragment)):t instanceof ki&&t.code===yf.IgnoredSameUrlNavigation&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(t,this.urlSerializer.parse(t.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(t=>{t instanceof wf&&(t.position?this.options.scrollPositionRestoration==="top"?this.viewportScroller.scrollToPosition([0,0]):this.options.scrollPositionRestoration==="enabled"&&this.viewportScroller.scrollToPosition(t.position):t.anchor&&this.options.anchorScrolling==="enabled"?this.viewportScroller.scrollToAnchor(t.anchor):this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(t,r){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new wf(t,this.lastSource==="popstate"?this.store[this.restoredId]:null,r))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static{this.\u0275fac=function(r){_C()}}static{this.\u0275prov=W({token:n,factory:n.\u0275fac})}}return n})();function D8(n,...e){return Zn([{provide:uu,multi:!0,useValue:n},[],{provide:Oi,useFactory:rS,deps:[Fr]},{provide:Bh,multi:!0,useFactory:iS},e.map(t=>t.\u0275providers)])}function rS(n){return n.routerState.root}function mu(n,e){return{\u0275kind:n,\u0275providers:e}}function iS(){let n=j(_t);return e=>{let t=n.get(xo);if(e!==t.components[0])return;let r=n.get(Fr),i=n.get(oS);n.get(Hv)===1&&r.initialNavigation(),n.get(sS,null,de.Optional)?.setUpPreloading(),n.get(nS,null,de.Optional)?.init(),r.resetRootComponentType(t.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}var oS=new q("",{factory:()=>new ht}),Hv=new q("",{providedIn:"root",factory:()=>1});function P2(){return mu(2,[{provide:Hv,useValue:0},{provide:Uh,multi:!0,deps:[_t],useFactory:e=>{let t=e.get(f0,Promise.resolve());return()=>t.then(()=>new Promise(r=>{let i=e.get(Fr),o=e.get(oS);tS(i,()=>{r(!0)}),e.get($v).afterPreactivation=()=>(r(!0),o.closed?te(void 0):o),i.initialNavigation()}))}}])}function k2(){return mu(3,[{provide:Uh,multi:!0,useFactory:()=>{let e=j(Fr);return()=>{e.setUpLocationChangeListener()}}},{provide:Hv,useValue:2}])}var sS=new q("");function O2(n){return mu(0,[{provide:sS,useExisting:M2},{provide:Tf,useExisting:n}])}function F2(){return mu(8,[wT,{provide:Sf,useExisting:wT}])}function L2(n){let e=[{provide:JT,useValue:w2},{provide:XT,useValue:B({skipNextTransition:!!n?.skipInitialTransition},n)}];return mu(9,e)}var bT=new q("ROUTER_FORROOT_GUARD"),V2=[ra,{provide:du,useClass:fa},Fr,fu,{provide:Oi,useFactory:rS,deps:[Fr]},Uv,[]],C8=(()=>{class n{constructor(t){}static forRoot(t,r){return{ngModule:n,providers:[V2,[],{provide:uu,multi:!0,useValue:t},{provide:bT,useFactory:$2,deps:[[Fr,new Tt,new Qm]]},{provide:gu,useValue:r||{}},r?.useHash?U2():B2(),j2(),r?.preloadingStrategy?O2(r.preloadingStrategy).\u0275providers:[],r?.initialNavigation?H2(r):[],r?.bindToComponentInputs?F2().\u0275providers:[],r?.enableViewTransitions?L2().\u0275providers:[],z2()]}}static forChild(t){return{ngModule:n,providers:[{provide:uu,multi:!0,useValue:t}]}}static{this.\u0275fac=function(r){return new(r||n)(re(bT,8))}}static{this.\u0275mod=Sr({type:n})}static{this.\u0275inj=Tr({})}}return n})();function j2(){return{provide:nS,useFactory:()=>{let n=j(v0),e=j(Re),t=j(gu),r=j($v),i=j(du);return t.scrollOffset&&n.setOffset(t.scrollOffset),new N2(i,r,n,e,t)}}}function U2(){return{provide:Nr,useClass:g0}}function B2(){return{provide:Nr,useClass:qy}}function $2(n){return"guarded"}function H2(n){return[n.initialNavigation==="disabled"?k2().\u0275providers:[],n.initialNavigation==="enabledBlocking"?P2().\u0275providers:[]]}var DT=new q("");function z2(){return[{provide:DT,useFactory:iS},{provide:Bh,multi:!0,useExisting:DT}]}var cS=function(n){let e=[],t=0;for(let r=0;r<n.length;r++){let i=n.charCodeAt(r);i<128?e[t++]=i:i<2048?(e[t++]=i>>6|192,e[t++]=i&63|128):(i&64512)===55296&&r+1<n.length&&(n.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(n.charCodeAt(++r)&1023),e[t++]=i>>18|240,e[t++]=i>>12&63|128,e[t++]=i>>6&63|128,e[t++]=i&63|128):(e[t++]=i>>12|224,e[t++]=i>>6&63|128,e[t++]=i&63|128)}return e},q2=function(n){let e=[],t=0,r=0;for(;t<n.length;){let i=n[t++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){let o=n[t++];e[r++]=String.fromCharCode((i&31)<<6|o&63)}else if(i>239&&i<365){let o=n[t++],s=n[t++],a=n[t++],u=((i&7)<<18|(o&63)<<12|(s&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(u>>10)),e[r++]=String.fromCharCode(56320+(u&1023))}else{let o=n[t++],s=n[t++];e[r++]=String.fromCharCode((i&15)<<12|(o&63)<<6|s&63)}}return e.join("")},uS={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(n,e){if(!Array.isArray(n))throw Error("encodeByteArray takes an array as a parameter");this.init_();let t=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<n.length;i+=3){let o=n[i],s=i+1<n.length,a=s?n[i+1]:0,u=i+2<n.length,d=u?n[i+2]:0,p=o>>2,g=(o&3)<<4|a>>4,_=(a&15)<<2|d>>6,b=d&63;u||(b=64,s||(_=64)),r.push(t[p],t[g],t[_],t[b])}return r.join("")},encodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(n):this.encodeByteArray(cS(n),e)},decodeString(n,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(n):q2(this.decodeStringToByteArray(n,e))},decodeStringToByteArray(n,e){this.init_();let t=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<n.length;){let o=t[n.charAt(i++)],a=i<n.length?t[n.charAt(i)]:0;++i;let d=i<n.length?t[n.charAt(i)]:64;++i;let g=i<n.length?t[n.charAt(i)]:64;if(++i,o==null||a==null||d==null||g==null)throw new qv;let _=o<<2|a>>4;if(r.push(_),d!==64){let b=a<<4&240|d>>2;if(r.push(b),g!==64){let M=d<<6&192|g;r.push(M)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let n=0;n<this.ENCODED_VALS.length;n++)this.byteToCharMap_[n]=this.ENCODED_VALS.charAt(n),this.charToByteMap_[this.byteToCharMap_[n]]=n,this.byteToCharMapWebSafe_[n]=this.ENCODED_VALS_WEBSAFE.charAt(n),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[n]]=n,n>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(n)]=n,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(n)]=n)}}},qv=class extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}},G2=function(n){let e=cS(n);return uS.encodeByteArray(e,!0)},yu=function(n){return G2(n).replace(/\./g,"")},Wv=function(n){try{return uS.decodeString(n,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function W2(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}var K2=()=>W2().__FIREBASE_DEFAULTS__,Q2=()=>{if(typeof process>"u"||typeof process.env>"u")return;let n=process.env.__FIREBASE_DEFAULTS__;if(n)return JSON.parse(n)},Y2=()=>{if(typeof document>"u")return;let n;try{n=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}let e=n&&Wv(n[1]);return e&&JSON.parse(e)},xf=()=>{try{return K2()||Q2()||Y2()}catch(n){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${n}`);return}},Kv=n=>{var e,t;return(t=(e=xf())===null||e===void 0?void 0:e.emulatorHosts)===null||t===void 0?void 0:t[n]},lS=n=>{let e=Kv(n);if(!e)return;let t=e.lastIndexOf(":");if(t<=0||t+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);let r=parseInt(e.substring(t+1),10);return e[0]==="["?[e.substring(1,t-1),r]:[e.substring(0,t),r]},Qv=()=>{var n;return(n=xf())===null||n===void 0?void 0:n.config},Yv=n=>{var e;return(e=xf())===null||e===void 0?void 0:e[`_${n}`]};var Rf=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}wrapCallback(e){return(t,r)=>{t?this.reject(t):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(t):e(t,r))}}};function dS(n,e){if(n.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');let t={alg:"none",type:"JWT"},r=e||"demo-project",i=n.iat||0,o=n.sub||n.user_id;if(!o)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");let s=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:o,user_id:o,firebase:{sign_in_provider:"custom",identities:{}}},n);return[yu(JSON.stringify(t)),yu(JSON.stringify(s)),""].join(".")}function pt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function hS(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(pt())}function Z2(){var n;let e=(n=xf())===null||n===void 0?void 0:n.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function fS(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function pS(){let n=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof n=="object"&&n.id!==void 0}function gS(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function mS(){let n=pt();return n.indexOf("MSIE ")>=0||n.indexOf("Trident/")>=0}function yS(){return!Z2()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Zv(){try{return typeof indexedDB=="object"}catch{return!1}}function vS(){return new Promise((n,e)=>{try{let t=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),t||self.indexedDB.deleteDatabase(r),n(!0)},i.onupgradeneeded=()=>{t=!1},i.onerror=()=>{var o;e(((o=i.error)===null||o===void 0?void 0:o.message)||"")}}catch(t){e(t)}})}var J2="FirebaseError",tn=class n extends Error{constructor(e,t,r){super(t),this.code=e,this.customData=r,this.name=J2,Object.setPrototypeOf(this,n.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Lr.prototype.create)}},Lr=class{constructor(e,t,r){this.service=e,this.serviceName=t,this.errors=r}create(e,...t){let r=t[0]||{},i=`${this.service}/${e}`,o=this.errors[e],s=o?X2(o,r):"Error",a=`${this.serviceName}: ${s} (${i}).`;return new tn(i,a,r)}};function X2(n,e){return n.replace(ej,(t,r)=>{let i=e[r];return i!=null?String(i):`<${r}?>`})}var ej=/\{\$([^}]+)}/g;function wS(n){for(let e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}function Lo(n,e){if(n===e)return!0;let t=Object.keys(n),r=Object.keys(e);for(let i of t){if(!r.includes(i))return!1;let o=n[i],s=e[i];if(aS(o)&&aS(s)){if(!Lo(o,s))return!1}else if(o!==s)return!1}for(let i of r)if(!t.includes(i))return!1;return!0}function aS(n){return n!==null&&typeof n=="object"}function vu(n){let e=[];for(let[t,r]of Object.entries(n))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(t)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(t)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function va(n){let e={};return n.replace(/^\?/,"").split("&").forEach(r=>{if(r){let[i,o]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(o)}}),e}function wa(n){let e=n.indexOf("?");if(!e)return"";let t=n.indexOf("#",e);return n.substring(e,t>0?t:void 0)}function _S(n,e){let t=new Gv(n,e);return t.subscribe.bind(t)}var Gv=class{constructor(e,t){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=t,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(t=>{t.next(e)})}error(e){this.forEachObserver(t=>{t.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,t,r){let i;if(e===void 0&&t===void 0&&r===void 0)throw new Error("Missing Observer.");tj(e,["next","error","complete"])?i=e:i={next:e,error:t,complete:r},i.next===void 0&&(i.next=zv),i.error===void 0&&(i.error=zv),i.complete===void 0&&(i.complete=zv);let o=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),o}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let t=0;t<this.observers.length;t++)this.sendOne(t,e)}sendOne(e,t){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{t(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}};function tj(n,e){if(typeof n!="object"||n===null)return!1;for(let t of e)if(t in n&&typeof n[t]=="function")return!0;return!1}function zv(){}var A8=4*60*60*1e3;function Xe(n){return n&&n._delegate?n._delegate:n}var mn=class{constructor(e,t,r){this.name=e,this.instanceFactory=t,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}};var Vo="[DEFAULT]";var Jv=class{constructor(e,t){this.name=e,this.container=t,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){let t=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(t)){let r=new Rf;if(this.instancesDeferred.set(t,r),this.isInitialized(t)||this.shouldAutoInitialize())try{let i=this.getOrInitializeService({instanceIdentifier:t});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(t).promise}getImmediate(e){var t;let r=this.normalizeInstanceIdentifier(e?.identifier),i=(t=e?.optional)!==null&&t!==void 0?t:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(o){if(i)return null;throw o}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(rj(e))try{this.getOrInitializeService({instanceIdentifier:Vo})}catch{}for(let[t,r]of this.instancesDeferred.entries()){let i=this.normalizeInstanceIdentifier(t);try{let o=this.getOrInitializeService({instanceIdentifier:i});r.resolve(o)}catch{}}}}clearInstance(e=Vo){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){return C(this,null,function*(){let e=Array.from(this.instances.values());yield Promise.all([...e.filter(t=>"INTERNAL"in t).map(t=>t.INTERNAL.delete()),...e.filter(t=>"_delete"in t).map(t=>t._delete())])})}isComponentSet(){return this.component!=null}isInitialized(e=Vo){return this.instances.has(e)}getOptions(e=Vo){return this.instancesOptions.get(e)||{}}initialize(e={}){let{options:t={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);let i=this.getOrInitializeService({instanceIdentifier:r,options:t});for(let[o,s]of this.instancesDeferred.entries()){let a=this.normalizeInstanceIdentifier(o);r===a&&s.resolve(i)}return i}onInit(e,t){var r;let i=this.normalizeInstanceIdentifier(t),o=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;o.add(e),this.onInitCallbacks.set(i,o);let s=this.instances.get(i);return s&&e(s,i),()=>{o.delete(e)}}invokeOnInitCallbacks(e,t){let r=this.onInitCallbacks.get(t);if(r)for(let i of r)try{i(e,t)}catch{}}getOrInitializeService({instanceIdentifier:e,options:t={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:nj(e),options:t}),this.instances.set(e,r),this.instancesOptions.set(e,t),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Vo){return this.component?this.component.multipleInstances?e:Vo:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function nj(n){return n===Vo?void 0:n}function rj(n){return n.instantiationMode==="EAGER"}var Mf=class{constructor(e){this.name=e,this.providers=new Map}addComponent(e){let t=this.getProvider(e.name);if(t.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);t.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);let t=new Jv(e,this);return this.providers.set(e,t),t}getProviders(){return Array.from(this.providers.values())}};var ij=[],ve=function(n){return n[n.DEBUG=0]="DEBUG",n[n.VERBOSE=1]="VERBOSE",n[n.INFO=2]="INFO",n[n.WARN=3]="WARN",n[n.ERROR=4]="ERROR",n[n.SILENT=5]="SILENT",n}(ve||{}),oj={debug:ve.DEBUG,verbose:ve.VERBOSE,info:ve.INFO,warn:ve.WARN,error:ve.ERROR,silent:ve.SILENT},sj=ve.INFO,aj={[ve.DEBUG]:"log",[ve.VERBOSE]:"log",[ve.INFO]:"info",[ve.WARN]:"warn",[ve.ERROR]:"error"},cj=(n,e,...t)=>{if(e<n.logLevel)return;let r=new Date().toISOString(),i=aj[e];if(i)console[i](`[${r}]  ${n.name}:`,...t);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)},Li=class{constructor(e){this.name=e,this._logLevel=sj,this._logHandler=cj,this._userLogHandler=null,ij.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ve))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?oj[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ve.DEBUG,...e),this._logHandler(this,ve.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ve.VERBOSE,...e),this._logHandler(this,ve.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ve.INFO,...e),this._logHandler(this,ve.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ve.WARN,...e),this._logHandler(this,ve.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ve.ERROR,...e),this._logHandler(this,ve.ERROR,...e)}};var uj=(n,e)=>e.some(t=>n instanceof t),IS,ES;function lj(){return IS||(IS=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function dj(){return ES||(ES=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}var bS=new WeakMap,ew=new WeakMap,DS=new WeakMap,Xv=new WeakMap,nw=new WeakMap;function hj(n){let e=new Promise((t,r)=>{let i=()=>{n.removeEventListener("success",o),n.removeEventListener("error",s)},o=()=>{t(sr(n.result)),i()},s=()=>{r(n.error),i()};n.addEventListener("success",o),n.addEventListener("error",s)});return e.then(t=>{t instanceof IDBCursor&&bS.set(t,n)}).catch(()=>{}),nw.set(e,n),e}function fj(n){if(ew.has(n))return;let e=new Promise((t,r)=>{let i=()=>{n.removeEventListener("complete",o),n.removeEventListener("error",s),n.removeEventListener("abort",s)},o=()=>{t(),i()},s=()=>{r(n.error||new DOMException("AbortError","AbortError")),i()};n.addEventListener("complete",o),n.addEventListener("error",s),n.addEventListener("abort",s)});ew.set(n,e)}var tw={get(n,e,t){if(n instanceof IDBTransaction){if(e==="done")return ew.get(n);if(e==="objectStoreNames")return n.objectStoreNames||DS.get(n);if(e==="store")return t.objectStoreNames[1]?void 0:t.objectStore(t.objectStoreNames[0])}return sr(n[e])},set(n,e,t){return n[e]=t,!0},has(n,e){return n instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in n}};function CS(n){tw=n(tw)}function pj(n){return n===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...t){let r=n.call(Nf(this),e,...t);return DS.set(r,e.sort?e.sort():[e]),sr(r)}:dj().includes(n)?function(...e){return n.apply(Nf(this),e),sr(bS.get(this))}:function(...e){return sr(n.apply(Nf(this),e))}}function gj(n){return typeof n=="function"?pj(n):(n instanceof IDBTransaction&&fj(n),uj(n,lj())?new Proxy(n,tw):n)}function sr(n){if(n instanceof IDBRequest)return hj(n);if(Xv.has(n))return Xv.get(n);let e=gj(n);return e!==n&&(Xv.set(n,e),nw.set(e,n)),e}var Nf=n=>nw.get(n);function SS(n,e,{blocked:t,upgrade:r,blocking:i,terminated:o}={}){let s=indexedDB.open(n,e),a=sr(s);return r&&s.addEventListener("upgradeneeded",u=>{r(sr(s.result),u.oldVersion,u.newVersion,sr(s.transaction),u)}),t&&s.addEventListener("blocked",u=>t(u.oldVersion,u.newVersion,u)),a.then(u=>{o&&u.addEventListener("close",()=>o()),i&&u.addEventListener("versionchange",d=>i(d.oldVersion,d.newVersion,d))}).catch(()=>{}),a}var mj=["get","getKey","getAll","getAllKeys","count"],yj=["put","add","delete","clear"],rw=new Map;function TS(n,e){if(!(n instanceof IDBDatabase&&!(e in n)&&typeof e=="string"))return;if(rw.get(e))return rw.get(e);let t=e.replace(/FromIndex$/,""),r=e!==t,i=yj.includes(t);if(!(t in(r?IDBIndex:IDBObjectStore).prototype)||!(i||mj.includes(t)))return;let o=function(s,...a){return C(this,null,function*(){let u=this.transaction(s,i?"readwrite":"readonly"),d=u.store;return r&&(d=d.index(a.shift())),(yield Promise.all([d[t](...a),i&&u.done]))[0]})};return rw.set(e,o),o}CS(n=>ge(B({},n),{get:(e,t,r)=>TS(e,t)||n.get(e,t,r),has:(e,t)=>!!TS(e,t)||n.has(e,t)}));var ow=class{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(t=>{if(vj(t)){let r=t.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(t=>t).join(" ")}};function vj(n){let e=n.getComponent();return e?.type==="VERSION"}var sw="@firebase/app",AS="0.10.13";var Vr=new Li("@firebase/app"),wj="@firebase/app-compat",_j="@firebase/analytics-compat",Ij="@firebase/analytics",Ej="@firebase/app-check-compat",bj="@firebase/app-check",Dj="@firebase/auth",Cj="@firebase/auth-compat",Tj="@firebase/database",Sj="@firebase/data-connect",Aj="@firebase/database-compat",Rj="@firebase/functions",xj="@firebase/functions-compat",Mj="@firebase/installations",Nj="@firebase/installations-compat",Pj="@firebase/messaging",kj="@firebase/messaging-compat",Oj="@firebase/performance",Fj="@firebase/performance-compat",Lj="@firebase/remote-config",Vj="@firebase/remote-config-compat",jj="@firebase/storage",Uj="@firebase/storage-compat",Bj="@firebase/firestore",$j="@firebase/vertexai-preview",Hj="@firebase/firestore-compat",zj="firebase",qj="10.14.1";var aw="[DEFAULT]",Gj={[sw]:"fire-core",[wj]:"fire-core-compat",[Ij]:"fire-analytics",[_j]:"fire-analytics-compat",[bj]:"fire-app-check",[Ej]:"fire-app-check-compat",[Dj]:"fire-auth",[Cj]:"fire-auth-compat",[Tj]:"fire-rtdb",[Sj]:"fire-data-connect",[Aj]:"fire-rtdb-compat",[Rj]:"fire-fn",[xj]:"fire-fn-compat",[Mj]:"fire-iid",[Nj]:"fire-iid-compat",[Pj]:"fire-fcm",[kj]:"fire-fcm-compat",[Oj]:"fire-perf",[Fj]:"fire-perf-compat",[Lj]:"fire-rc",[Vj]:"fire-rc-compat",[jj]:"fire-gcs",[Uj]:"fire-gcs-compat",[Bj]:"fire-fst",[Hj]:"fire-fst-compat",[$j]:"fire-vertex","fire-js":"fire-js",[zj]:"fire-js-all"};var wu=new Map,Wj=new Map,cw=new Map;function RS(n,e){try{n.container.addComponent(e)}catch(t){Vr.debug(`Component ${e.name} failed to register with FirebaseApp ${n.name}`,t)}}function ji(n){let e=n.name;if(cw.has(e))return Vr.debug(`There were multiple attempts to register component ${e}.`),!1;cw.set(e,n);for(let t of wu.values())RS(t,n);for(let t of Wj.values())RS(t,n);return!0}function Iu(n,e){let t=n.container.getProvider("heartbeat").getImmediate({optional:!0});return t&&t.triggerHeartbeat(),n.container.getProvider(e)}function Mn(n){return n.settings!==void 0}var Kj={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Vi=new Lr("app","Firebase",Kj);var uw=class{constructor(e,t,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},t),this._name=t.name,this._automaticDataCollectionEnabled=t.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new mn("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Vi.create("app-deleted",{appName:this._name})}};var Ui=qj;function hw(n,e={}){let t=n;typeof e!="object"&&(e={name:e});let r=Object.assign({name:aw,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw Vi.create("bad-app-name",{appName:String(i)});if(t||(t=Qv()),!t)throw Vi.create("no-options");let o=wu.get(i);if(o){if(Lo(t,o.options)&&Lo(r,o.config))return o;throw Vi.create("duplicate-app",{appName:i})}let s=new Mf(i);for(let u of cw.values())s.addComponent(u);let a=new uw(t,r,s);return wu.set(i,a),a}function _a(n=aw){let e=wu.get(n);if(!e&&n===aw&&Qv())return hw();if(!e)throw Vi.create("no-app",{appName:n});return e}function Pf(){return Array.from(wu.values())}function ct(n,e,t){var r;let i=(r=Gj[n])!==null&&r!==void 0?r:n;t&&(i+=`-${t}`);let o=i.match(/\s|\//),s=e.match(/\s|\//);if(o||s){let a=[`Unable to register library "${i}" with version "${e}":`];o&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),o&&s&&a.push("and"),s&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),Vr.warn(a.join(" "));return}ji(new mn(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}var Qj="firebase-heartbeat-database",Yj=1,_u="firebase-heartbeat-store",iw=null;function PS(){return iw||(iw=SS(Qj,Yj,{upgrade:(n,e)=>{switch(e){case 0:try{n.createObjectStore(_u)}catch(t){console.warn(t)}}}}).catch(n=>{throw Vi.create("idb-open",{originalErrorMessage:n.message})})),iw}function Zj(n){return C(this,null,function*(){try{let t=(yield PS()).transaction(_u),r=yield t.objectStore(_u).get(kS(n));return yield t.done,r}catch(e){if(e instanceof tn)Vr.warn(e.message);else{let t=Vi.create("idb-get",{originalErrorMessage:e?.message});Vr.warn(t.message)}}})}function xS(n,e){return C(this,null,function*(){try{let r=(yield PS()).transaction(_u,"readwrite");yield r.objectStore(_u).put(e,kS(n)),yield r.done}catch(t){if(t instanceof tn)Vr.warn(t.message);else{let r=Vi.create("idb-set",{originalErrorMessage:t?.message});Vr.warn(r.message)}}})}function kS(n){return`${n.name}!${n.options.appId}`}var Jj=1024,Xj=30*24*60*60*1e3,lw=class{constructor(e){this.container=e,this._heartbeatsCache=null;let t=this.container.getProvider("app").getImmediate();this._storage=new dw(t),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){return C(this,null,function*(){var e,t;try{let i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),o=MS();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=yield this._heartbeatsCachePromise,((t=this._heartbeatsCache)===null||t===void 0?void 0:t.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===o||this._heartbeatsCache.heartbeats.some(s=>s.date===o)?void 0:(this._heartbeatsCache.heartbeats.push({date:o,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(s=>{let a=new Date(s.date).valueOf();return Date.now()-a<=Xj}),this._storage.overwrite(this._heartbeatsCache))}catch(r){Vr.warn(r)}})}getHeartbeatsHeader(){return C(this,null,function*(){var e;try{if(this._heartbeatsCache===null&&(yield this._heartbeatsCachePromise),((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";let t=MS(),{heartbeatsToSend:r,unsentEntries:i}=eU(this._heartbeatsCache.heartbeats),o=yu(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=t,i.length>0?(this._heartbeatsCache.heartbeats=i,yield this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),o}catch(t){return Vr.warn(t),""}})}};function MS(){return new Date().toISOString().substring(0,10)}function eU(n,e=Jj){let t=[],r=n.slice();for(let i of n){let o=t.find(s=>s.agent===i.agent);if(o){if(o.dates.push(i.date),NS(t)>e){o.dates.pop();break}}else if(t.push({agent:i.agent,dates:[i.date]}),NS(t)>e){t.pop();break}r=r.slice(1)}return{heartbeatsToSend:t,unsentEntries:r}}var dw=class{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return C(this,null,function*(){return Zv()?vS().then(()=>!0).catch(()=>!1):!1})}read(){return C(this,null,function*(){if(yield this._canUseIndexedDBPromise){let t=yield Zj(this.app);return t?.heartbeats?t:{heartbeats:[]}}else return{heartbeats:[]}})}overwrite(e){return C(this,null,function*(){var t;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return xS(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return})}add(e){return C(this,null,function*(){var t;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return xS(this.app,{lastSentHeartbeatDate:(t=e.lastSentHeartbeatDate)!==null&&t!==void 0?t:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return})}};function NS(n){return yu(JSON.stringify({version:2,heartbeats:n})).length}function tU(n){ji(new mn("platform-logger",e=>new ow(e),"PRIVATE")),ji(new mn("heartbeat",e=>new lw(e),"PRIVATE")),ct(sw,AS,n),ct(sw,AS,"esm2017"),ct("fire-js","")}tU("");var nU="firebase",rU="10.14.1";ct(nU,rU,"app");var Uo=new Cr("ANGULARFIRE2_VERSION");function Of(n,e,t){if(e){if(e.length===1)return e[0];let o=e.filter(s=>s.app===t);if(o.length===1)return o[0]}return t.container.getProvider(n).getImmediate({optional:!0})}var Eu=(n,e)=>{let t=e?[e]:Pf(),r=[];return t.forEach(i=>{i.container.getProvider(n).instances.forEach(s=>{r.includes(s)||r.push(s)})}),r},Ea=class{constructor(){return Eu(iU)}},iU="app-check";function Ia(){}var kf=class{zone;delegate;constructor(e,t=Fg){this.zone=e,this.delegate=t}now(){return this.delegate.now()}schedule(e,t,r){let i=this.zone,o=function(s){i.runGuarded(()=>{e.apply(this,[s])})};return this.delegate.schedule(o,t,r)}},fw=class{zone;task=null;constructor(e){this.zone=e}call(e,t){let r=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Ia,{},Ia,Ia)),t.pipe(at({next:r,complete:r,error:r})).subscribe(e).add(r)}unscheduleTask(){setTimeout(()=>{this.task!=null&&this.task.state==="scheduled"&&(this.task.invoke(),this.task=null)},10)}},ba=(()=>{class n{ngZone;outsideAngular;insideAngular;constructor(t){this.ngZone=t,this.outsideAngular=t.runOutsideAngular(()=>new kf(Zone.current)),this.insideAngular=t.run(()=>new kf(Zone.current,Og)),globalThis.\u0275AngularFireScheduler||=this}static \u0275fac=function(r){return new(r||n)(re(Re))};static \u0275prov=W({token:n,factory:n.\u0275fac,providedIn:"root"})}return n})();function Ff(){let n=globalThis.\u0275AngularFireScheduler;if(!n)throw new Error(`Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using
provideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).`);return n}function oU(n){return Ff().ngZone.runOutsideAngular(()=>n())}function jo(n){return Ff().ngZone.run(()=>n())}function sU(n){return aU(Ff())(n)}function aU(n){return function(t){return t=t.lift(new fw(n.ngZone)),t.pipe(yi(n.outsideAngular),mi(n.insideAngular))}}var cU=(n,e)=>function(){let r=arguments;return e&&setTimeout(()=>{e.state==="scheduled"&&e.invoke()},10),jo(()=>n.apply(void 0,r))},gt=(n,e)=>function(){let t,r=arguments;for(let o=0;o<arguments.length;o++)typeof r[o]=="function"&&(e&&(t||=jo(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Ia,{},Ia,Ia))),r[o]=cU(r[o],t));let i=oU(()=>n.apply(this,r));if(!e)if(i instanceof me){let o=Ff();return i.pipe(yi(o.outsideAngular),mi(o.insideAngular))}else return jo(()=>i);return i instanceof me?i.pipe(sU):i instanceof Promise?jo(()=>new Promise((o,s)=>i.then(a=>jo(()=>o(a)),a=>jo(()=>s(a))))):typeof i=="function"&&t?function(){return setTimeout(()=>{t&&t.state==="scheduled"&&t.invoke()},10),i.apply(this,arguments)}:jo(()=>i)};var jr=class{constructor(e){return e}},Bo=class{constructor(){return Pf()}};function uU(n){return n&&n.length===1?n[0]:new jr(_a())}var pw=new q("angularfire2._apps"),lU={provide:jr,useFactory:uU,deps:[[new Tt,pw]]},dU={provide:Bo,deps:[[new Tt,pw]]};function hU(n){return(e,t)=>{let r=t.get(er);ct("angularfire",Uo.full,"core"),ct("angularfire",Uo.full,"app"),ct("angular",JC.full,r.toString());let i=e.runOutsideAngular(()=>n(t));return new jr(i)}}function p7(n,...e){return Zn([lU,dU,{provide:pw,useFactory:hU(n),multi:!0,deps:[Re,_t,ba,...e]}])}var g7=gt(hw,!0);function ZS(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}var JS=ZS,XS=new Lr("auth","Firebase",ZS());var $f=new Li("@firebase/auth");function fU(n,...e){$f.logLevel<=ve.WARN&&$f.warn(`Auth (${Ui}): ${n}`,...e)}function Vf(n,...e){$f.logLevel<=ve.ERROR&&$f.error(`Auth (${Ui}): ${n}`,...e)}function cr(n,...e){throw Lw(n,...e)}function $o(n,...e){return Lw(n,...e)}function eA(n,e,t){let r=Object.assign(Object.assign({},JS()),{[e]:t});return new Lr("auth","Firebase",r).create(e,{appName:n.name})}function $r(n){return eA(n,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Lw(n,...e){if(typeof n!="string"){let t=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=n.name),n._errorFactory.create(t,...r)}return XS.create(n,...e)}function Z(n,e,...t){if(!n)throw Lw(e,...t)}function Ur(n){let e="INTERNAL ASSERTION FAILED: "+n;throw Vf(e),new Error(e)}function $i(n,e){n||Ur(e)}function vw(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.href)||""}function pU(){return OS()==="http:"||OS()==="https:"}function OS(){var n;return typeof self<"u"&&((n=self.location)===null||n===void 0?void 0:n.protocol)||null}function gU(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(pU()||pS()||"connection"in navigator)?navigator.onLine:!0}function mU(){if(typeof navigator>"u")return null;let n=navigator;return n.languages&&n.languages[0]||n.language||null}var Ho=class{constructor(e,t){this.shortDelay=e,this.longDelay=t,$i(t>e,"Short delay should be less than long delay!"),this.isMobile=hS()||gS()}get(){return gU()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}};function Vw(n,e){$i(n.emulator,"Emulator should always be set here");let{url:t}=n.emulator;return e?`${t}${e.startsWith("/")?e.slice(1):e}`:t}var Hf=class{static initialize(e,t,r){this.fetchImpl=e,t&&(this.headersImpl=t),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;Ur("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;Ur("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;Ur("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}};var yU={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};var vU=new Ho(3e4,6e4);function Hr(n,e){return n.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:n.tenantId}):e}function zr(o,s,a,u){return C(this,arguments,function*(n,e,t,r,i={}){return tA(n,i,()=>C(this,null,function*(){let d={},p={};r&&(e==="GET"?p=r:d={body:JSON.stringify(r)});let g=vu(Object.assign({key:n.config.apiKey},p)).slice(1),_=yield n._getAdditionalHeaders();_["Content-Type"]="application/json",n.languageCode&&(_["X-Firebase-Locale"]=n.languageCode);let b=Object.assign({method:e,headers:_},d);return fS()||(b.referrerPolicy="no-referrer"),Hf.fetch()(nA(n,n.config.apiHost,t,g),b)}))})}function tA(n,e,t){return C(this,null,function*(){n._canInitEmulator=!1;let r=Object.assign(Object.assign({},yU),e);try{let i=new ww(n),o=yield Promise.race([t(),i.promise]);i.clearNetworkTimeout();let s=yield o.json();if("needConfirmation"in s)throw Lf(n,"account-exists-with-different-credential",s);if(o.ok&&!("errorMessage"in s))return s;{let a=o.ok?s.errorMessage:s.error.message,[u,d]=a.split(" : ");if(u==="FEDERATED_USER_ID_ALREADY_LINKED")throw Lf(n,"credential-already-in-use",s);if(u==="EMAIL_EXISTS")throw Lf(n,"email-already-in-use",s);if(u==="USER_DISABLED")throw Lf(n,"user-disabled",s);let p=r[u]||u.toLowerCase().replace(/[_\s]+/g,"-");if(d)throw eA(n,p,d);cr(n,p)}}catch(i){if(i instanceof tn)throw i;cr(n,"network-request-failed",{message:String(i)})}})}function xu(o,s,a,u){return C(this,arguments,function*(n,e,t,r,i={}){let d=yield zr(n,e,t,r,i);return"mfaPendingCredential"in d&&cr(n,"multi-factor-auth-required",{_serverResponse:d}),d})}function nA(n,e,t,r){let i=`${e}${t}?${r}`;return n.config.emulator?Vw(n.config,i):`${n.config.apiScheme}://${i}`}function wU(n){switch(n){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}var ww=class{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((t,r)=>{this.timer=setTimeout(()=>r($o(this.auth,"network-request-failed")),vU.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}};function Lf(n,e,t){let r={appName:n.name};t.email&&(r.email=t.email),t.phoneNumber&&(r.phoneNumber=t.phoneNumber);let i=$o(n,e,r);return i.customData._tokenResponse=t,i}function FS(n){return n!==void 0&&n.enterprise!==void 0}var _w=class{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(let t of this.recaptchaEnforcementState)if(t.provider&&t.provider===e)return wU(t.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}};function _U(n,e){return C(this,null,function*(){return zr(n,"GET","/v2/recaptchaConfig",Hr(n,e))})}function IU(n,e){return C(this,null,function*(){return zr(n,"POST","/v1/accounts:delete",e)})}function rA(n,e){return C(this,null,function*(){return zr(n,"POST","/v1/accounts:lookup",e)})}function bu(n){if(n)try{let e=new Date(Number(n));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function jw(n,e=!1){return C(this,null,function*(){let t=Xe(n),r=yield t.getIdToken(e),i=Uw(r);Z(i&&i.exp&&i.auth_time&&i.iat,t.auth,"internal-error");let o=typeof i.firebase=="object"?i.firebase:void 0,s=o?.sign_in_provider;return{claims:i,token:r,authTime:bu(gw(i.auth_time)),issuedAtTime:bu(gw(i.iat)),expirationTime:bu(gw(i.exp)),signInProvider:s||null,signInSecondFactor:o?.sign_in_second_factor||null}})}function gw(n){return Number(n)*1e3}function Uw(n){let[e,t,r]=n.split(".");if(e===void 0||t===void 0||r===void 0)return Vf("JWT malformed, contained fewer than 3 sections"),null;try{let i=Wv(t);return i?JSON.parse(i):(Vf("Failed to decode base64 JWT payload"),null)}catch(i){return Vf("Caught error parsing JWT payload as JSON",i?.toString()),null}}function LS(n){let e=Uw(n);return Z(e,"internal-error"),Z(typeof e.exp<"u","internal-error"),Z(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}function Cu(n,e,t=!1){return C(this,null,function*(){if(t)return e;try{return yield e}catch(r){throw r instanceof tn&&EU(r)&&n.auth.currentUser===n&&(yield n.auth.signOut()),r}})}function EU({code:n}){return n==="auth/user-disabled"||n==="auth/user-token-expired"}var Iw=class{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var t;if(e){let r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;let i=((t=this.user.stsTokenManager.expirationTime)!==null&&t!==void 0?t:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;let t=this.getInterval(e);this.timerId=setTimeout(()=>C(this,null,function*(){yield this.iteration()}),t)}iteration(){return C(this,null,function*(){try{yield this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()})}};var Tu=class{constructor(e,t){this.createdAt=e,this.lastLoginAt=t,this._initializeTime()}_initializeTime(){this.lastSignInTime=bu(this.lastLoginAt),this.creationTime=bu(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}};function zf(n){return C(this,null,function*(){var e;let t=n.auth,r=yield n.getIdToken(),i=yield Cu(n,rA(t,{idToken:r}));Z(i?.users.length,t,"internal-error");let o=i.users[0];n._notifyReloadListener(o);let s=!((e=o.providerUserInfo)===null||e===void 0)&&e.length?iA(o.providerUserInfo):[],a=bU(n.providerData,s),u=n.isAnonymous,d=!(n.email&&o.passwordHash)&&!a?.length,p=u?d:!1,g={uid:o.localId,displayName:o.displayName||null,photoURL:o.photoUrl||null,email:o.email||null,emailVerified:o.emailVerified||!1,phoneNumber:o.phoneNumber||null,tenantId:o.tenantId||null,providerData:a,metadata:new Tu(o.createdAt,o.lastLoginAt),isAnonymous:p};Object.assign(n,g)})}function Bw(n){return C(this,null,function*(){let e=Xe(n);yield zf(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})}function bU(n,e){return[...n.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function iA(n){return n.map(e=>{var{providerId:t}=e,r=Lg(e,["providerId"]);return{providerId:t,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}function DU(n,e){return C(this,null,function*(){let t=yield tA(n,{},()=>C(this,null,function*(){let r=vu({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:o}=n.config,s=nA(n,i,"/v1/token",`key=${o}`),a=yield n._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",Hf.fetch()(s,{method:"POST",headers:a,body:r})}));return{accessToken:t.access_token,expiresIn:t.expires_in,refreshToken:t.refresh_token}})}function CU(n,e){return C(this,null,function*(){return zr(n,"POST","/v2/accounts:revokeToken",Hr(n,e))})}var Du=class n{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){Z(e.idToken,"internal-error"),Z(typeof e.idToken<"u","internal-error"),Z(typeof e.refreshToken<"u","internal-error");let t="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):LS(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,t)}updateFromIdToken(e){Z(e.length!==0,"internal-error");let t=LS(e);this.updateTokensAndExpiration(e,null,t)}getToken(e,t=!1){return C(this,null,function*(){return!t&&this.accessToken&&!this.isExpired?this.accessToken:(Z(this.refreshToken,e,"user-token-expired"),this.refreshToken?(yield this.refresh(e,this.refreshToken),this.accessToken):null)})}clearRefreshToken(){this.refreshToken=null}refresh(e,t){return C(this,null,function*(){let{accessToken:r,refreshToken:i,expiresIn:o}=yield DU(e,t);this.updateTokensAndExpiration(r,i,Number(o))})}updateTokensAndExpiration(e,t,r){this.refreshToken=t||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,t){let{refreshToken:r,accessToken:i,expirationTime:o}=t,s=new n;return r&&(Z(typeof r=="string","internal-error",{appName:e}),s.refreshToken=r),i&&(Z(typeof i=="string","internal-error",{appName:e}),s.accessToken=i),o&&(Z(typeof o=="number","internal-error",{appName:e}),s.expirationTime=o),s}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new n,this.toJSON())}_performRefresh(){return Ur("not implemented")}};function Bi(n,e){Z(typeof n=="string"||typeof n>"u","internal-error",{appName:e})}var Da=class n{constructor(e){var{uid:t,auth:r,stsTokenManager:i}=e,o=Lg(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Iw(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=t,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=o.displayName||null,this.email=o.email||null,this.emailVerified=o.emailVerified||!1,this.phoneNumber=o.phoneNumber||null,this.photoURL=o.photoURL||null,this.isAnonymous=o.isAnonymous||!1,this.tenantId=o.tenantId||null,this.providerData=o.providerData?[...o.providerData]:[],this.metadata=new Tu(o.createdAt||void 0,o.lastLoginAt||void 0)}getIdToken(e){return C(this,null,function*(){let t=yield Cu(this,this.stsTokenManager.getToken(this.auth,e));return Z(t,this.auth,"internal-error"),this.accessToken!==t&&(this.accessToken=t,yield this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),t})}getIdTokenResult(e){return jw(this,e)}reload(){return Bw(this)}_assign(e){this!==e&&(Z(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(t=>Object.assign({},t)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){let t=new n(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return t.metadata._copy(this.metadata),t}_onReload(e){Z(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,t=!1){return C(this,null,function*(){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),t&&(yield zf(this)),yield this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)})}delete(){return C(this,null,function*(){if(Mn(this.auth.app))return Promise.reject($r(this.auth));let e=yield this.getIdToken();return yield Cu(this,IU(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()})}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,t){var r,i,o,s,a,u,d,p;let g=(r=t.displayName)!==null&&r!==void 0?r:void 0,_=(i=t.email)!==null&&i!==void 0?i:void 0,b=(o=t.phoneNumber)!==null&&o!==void 0?o:void 0,M=(s=t.photoURL)!==null&&s!==void 0?s:void 0,F=(a=t.tenantId)!==null&&a!==void 0?a:void 0,k=(u=t._redirectEventId)!==null&&u!==void 0?u:void 0,U=(d=t.createdAt)!==null&&d!==void 0?d:void 0,K=(p=t.lastLoginAt)!==null&&p!==void 0?p:void 0,{uid:Y,emailVerified:ce,isAnonymous:Pe,providerData:X,stsTokenManager:S}=t;Z(Y&&S,e,"internal-error");let I=Du.fromJSON(this.name,S);Z(typeof Y=="string",e,"internal-error"),Bi(g,e.name),Bi(_,e.name),Z(typeof ce=="boolean",e,"internal-error"),Z(typeof Pe=="boolean",e,"internal-error"),Bi(b,e.name),Bi(M,e.name),Bi(F,e.name),Bi(k,e.name),Bi(U,e.name),Bi(K,e.name);let E=new n({uid:Y,auth:e,email:_,emailVerified:ce,displayName:g,isAnonymous:Pe,photoURL:M,phoneNumber:b,tenantId:F,stsTokenManager:I,createdAt:U,lastLoginAt:K});return X&&Array.isArray(X)&&(E.providerData=X.map(T=>Object.assign({},T))),k&&(E._redirectEventId=k),E}static _fromIdTokenResponse(e,t,r=!1){return C(this,null,function*(){let i=new Du;i.updateFromServerResponse(t);let o=new n({uid:t.localId,auth:e,stsTokenManager:i,isAnonymous:r});return yield zf(o),o})}static _fromGetAccountInfoResponse(e,t,r){return C(this,null,function*(){let i=t.users[0];Z(i.localId!==void 0,"internal-error");let o=i.providerUserInfo!==void 0?iA(i.providerUserInfo):[],s=!(i.email&&i.passwordHash)&&!o?.length,a=new Du;a.updateFromIdToken(r);let u=new n({uid:i.localId,auth:e,stsTokenManager:a,isAnonymous:s}),d={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:o,metadata:new Tu(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!o?.length};return Object.assign(u,d),u})}};var VS=new Map;function Br(n){$i(n instanceof Function,"Expected a class definition");let e=VS.get(n);return e?($i(e instanceof n,"Instance stored in cache mismatched with class"),e):(e=new n,VS.set(n,e),e)}var TU=(()=>{class n{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return C(this,null,function*(){return!0})}_set(t,r){return C(this,null,function*(){this.storage[t]=r})}_get(t){return C(this,null,function*(){let r=this.storage[t];return r===void 0?null:r})}_remove(t){return C(this,null,function*(){delete this.storage[t]})}_addListener(t,r){}_removeListener(t,r){}}return n.type="NONE",n})(),Ew=TU;function jf(n,e,t){return`firebase:${n}:${e}:${t}`}var qf=class n{constructor(e,t,r){this.persistence=e,this.auth=t,this.userKey=r;let{config:i,name:o}=this.auth;this.fullUserKey=jf(this.userKey,i.apiKey,o),this.fullPersistenceKey=jf("persistence",i.apiKey,o),this.boundEventHandler=t._onStorageEvent.bind(t),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){return C(this,null,function*(){let e=yield this.persistence._get(this.fullUserKey);return e?Da._fromJSON(this.auth,e):null})}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){return C(this,null,function*(){if(this.persistence===e)return;let t=yield this.getCurrentUser();if(yield this.removeCurrentUser(),this.persistence=e,t)return this.setCurrentUser(t)})}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,t,r="authUser"){return C(this,null,function*(){if(!t.length)return new n(Br(Ew),e,r);let i=(yield Promise.all(t.map(d=>C(this,null,function*(){if(yield d._isAvailable())return d})))).filter(d=>d),o=i[0]||Br(Ew),s=jf(r,e.config.apiKey,e.name),a=null;for(let d of t)try{let p=yield d._get(s);if(p){let g=Da._fromJSON(e,p);d!==o&&(a=g),o=d;break}}catch{}let u=i.filter(d=>d._shouldAllowMigration);return!o._shouldAllowMigration||!u.length?new n(o,e,r):(o=u[0],a&&(yield o._set(s,a.toJSON())),yield Promise.all(t.map(d=>C(this,null,function*(){if(d!==o)try{yield d._remove(s)}catch{}}))),new n(o,e,r))})}};function jS(n){let e=n.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(cA(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(oA(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(lA(e))return"Blackberry";if(dA(e))return"Webos";if(sA(e))return"Safari";if((e.includes("chrome/")||aA(e))&&!e.includes("edge/"))return"Chrome";if(uA(e))return"Android";{let t=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=n.match(t);if(r?.length===2)return r[1]}return"Other"}function oA(n=pt()){return/firefox\//i.test(n)}function sA(n=pt()){let e=n.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function aA(n=pt()){return/crios\//i.test(n)}function cA(n=pt()){return/iemobile/i.test(n)}function uA(n=pt()){return/android/i.test(n)}function lA(n=pt()){return/blackberry/i.test(n)}function dA(n=pt()){return/webos/i.test(n)}function $w(n=pt()){return/iphone|ipad|ipod/i.test(n)||/macintosh/i.test(n)&&/mobile/i.test(n)}function SU(n=pt()){var e;return $w(n)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function AU(){return mS()&&document.documentMode===10}function hA(n=pt()){return $w(n)||uA(n)||dA(n)||lA(n)||/windows phone/i.test(n)||cA(n)}function fA(n,e=[]){let t;switch(n){case"Browser":t=jS(pt());break;case"Worker":t=`${jS(pt())}-${n}`;break;default:t=n}let r=e.length?e.join(","):"FirebaseCore-web";return`${t}/JsCore/${Ui}/${r}`}var bw=class{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,t){let r=o=>new Promise((s,a)=>{try{let u=e(o);s(u)}catch(u){a(u)}});r.onAbort=t,this.queue.push(r);let i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}runMiddleware(e){return C(this,null,function*(){if(this.auth.currentUser===e)return;let t=[];try{for(let r of this.queue)yield r(e),r.onAbort&&t.push(r.onAbort)}catch(r){t.reverse();for(let i of t)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}})}};function RU(t){return C(this,arguments,function*(n,e={}){return zr(n,"GET","/v2/passwordPolicy",Hr(n,e))})}var xU=6,Dw=class{constructor(e){var t,r,i,o;let s=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(t=s.minPasswordLength)!==null&&t!==void 0?t:xU,s.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=s.maxPasswordLength),s.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=s.containsLowercaseCharacter),s.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=s.containsUppercaseCharacter),s.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=s.containsNumericCharacter),s.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=s.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(o=e.forceUpgradeOnSignin)!==null&&o!==void 0?o:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var t,r,i,o,s,a;let u={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,u),this.validatePasswordCharacterOptions(e,u),u.isValid&&(u.isValid=(t=u.meetsMinPasswordLength)!==null&&t!==void 0?t:!0),u.isValid&&(u.isValid=(r=u.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),u.isValid&&(u.isValid=(i=u.containsLowercaseLetter)!==null&&i!==void 0?i:!0),u.isValid&&(u.isValid=(o=u.containsUppercaseLetter)!==null&&o!==void 0?o:!0),u.isValid&&(u.isValid=(s=u.containsNumericCharacter)!==null&&s!==void 0?s:!0),u.isValid&&(u.isValid=(a=u.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),u}validatePasswordLengthOptions(e,t){let r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(t.meetsMinPasswordLength=e.length>=r),i&&(t.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,t){this.updatePasswordCharacterOptionsStatuses(t,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(t,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,t,r,i,o){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=t)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=o))}};var Cw=class{constructor(e,t,r,i){this.app=e,this.heartbeatServiceProvider=t,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Gf(this),this.idTokenSubscription=new Gf(this),this.beforeStateQueue=new bw(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=XS,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,t){return t&&(this._popupRedirectResolver=Br(t)),this._initializationPromise=this.queue(()=>C(this,null,function*(){var r,i;if(!this._deleted&&(this.persistenceManager=yield qf.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{yield this._popupRedirectResolver._initialize(this)}catch{}yield this.initializeCurrentUser(t),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){return C(this,null,function*(){if(this._deleted)return;let e=yield this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),yield this.currentUser.getIdToken();return}yield this._updateCurrentUser(e,!0)}})}initializeCurrentUserFromIdToken(e){return C(this,null,function*(){try{let t=yield rA(this,{idToken:e}),r=yield Da._fromGetAccountInfoResponse(this,t,e);yield this.directlySetCurrentUser(r)}catch(t){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",t),yield this.directlySetCurrentUser(null)}})}initializeCurrentUser(e){return C(this,null,function*(){var t;if(Mn(this.app)){let s=this.app.settings.authIdToken;return s?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(s).then(a,a))}):this.directlySetCurrentUser(null)}let r=yield this.assertedPersistence.getCurrentUser(),i=r,o=!1;if(e&&this.config.authDomain){yield this.getOrInitRedirectPersistenceManager();let s=(t=this.redirectUser)===null||t===void 0?void 0:t._redirectEventId,a=i?._redirectEventId,u=yield this.tryRedirectSignIn(e);(!s||s===a)&&u?.user&&(i=u.user,o=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(o)try{yield this.beforeStateQueue.runMiddleware(i)}catch(s){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(s))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return Z(this._popupRedirectResolver,this,"argument-error"),yield this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)})}tryRedirectSignIn(e){return C(this,null,function*(){let t=null;try{t=yield this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{yield this._setRedirectUser(null)}return t})}reloadAndSetCurrentUserOrClear(e){return C(this,null,function*(){try{yield zf(e)}catch(t){if(t?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)})}useDeviceLanguage(){this.languageCode=mU()}_delete(){return C(this,null,function*(){this._deleted=!0})}updateCurrentUser(e){return C(this,null,function*(){if(Mn(this.app))return Promise.reject($r(this));let t=e?Xe(e):null;return t&&Z(t.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(t&&t._clone(this))})}_updateCurrentUser(e,t=!1){return C(this,null,function*(){if(!this._deleted)return e&&Z(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),t||(yield this.beforeStateQueue.runMiddleware(e)),this.queue(()=>C(this,null,function*(){yield this.directlySetCurrentUser(e),this.notifyAuthListeners()}))})}signOut(){return C(this,null,function*(){return Mn(this.app)?Promise.reject($r(this)):(yield this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&(yield this._setRedirectUser(null)),this._updateCurrentUser(null,!0))})}setPersistence(e){return Mn(this.app)?Promise.reject($r(this)):this.queue(()=>C(this,null,function*(){yield this.assertedPersistence.setPersistence(Br(e))}))}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(e){return C(this,null,function*(){this._getPasswordPolicyInternal()||(yield this._updatePasswordPolicy());let t=this._getPasswordPolicyInternal();return t.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):t.validatePassword(e)})}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){return C(this,null,function*(){let e=yield RU(this),t=new Dw(e);this.tenantId===null?this._projectPasswordPolicy=t:this._tenantPasswordPolicies[this.tenantId]=t})}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Lr("auth","Firebase",e())}onAuthStateChanged(e,t,r){return this.registerStateListener(this.authStateSubscription,e,t,r)}beforeAuthStateChanged(e,t){return this.beforeStateQueue.pushCallback(e,t)}onIdTokenChanged(e,t,r){return this.registerStateListener(this.idTokenSubscription,e,t,r)}authStateReady(){return new Promise((e,t)=>{if(this.currentUser)e();else{let r=this.onAuthStateChanged(()=>{r(),e()},t)}})}revokeAccessToken(e){return C(this,null,function*(){if(this.currentUser){let t=yield this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:t};this.tenantId!=null&&(r.tenantId=this.tenantId),yield CU(this,r)}})}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}_setRedirectUser(e,t){return C(this,null,function*(){let r=yield this.getOrInitRedirectPersistenceManager(t);return e===null?r.removeCurrentUser():r.setCurrentUser(e)})}getOrInitRedirectPersistenceManager(e){return C(this,null,function*(){if(!this.redirectPersistenceManager){let t=e&&Br(e)||this._popupRedirectResolver;Z(t,this,"argument-error"),this.redirectPersistenceManager=yield qf.create(this,[Br(t._redirectPersistence)],"redirectUser"),this.redirectUser=yield this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager})}_redirectUserForId(e){return C(this,null,function*(){var t,r;return this._isInitialized&&(yield this.queue(()=>C(this,null,function*(){}))),((t=this._currentUser)===null||t===void 0?void 0:t._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null})}_persistUserIfCurrent(e){return C(this,null,function*(){if(e===this.currentUser)return this.queue(()=>C(this,null,function*(){return this.directlySetCurrentUser(e)}))})}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,t;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);let r=(t=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&t!==void 0?t:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,t,r,i){if(this._deleted)return()=>{};let o=typeof t=="function"?t:t.next.bind(t),s=!1,a=this._isInitialized?Promise.resolve():this._initializationPromise;if(Z(a,this,"internal-error"),a.then(()=>{s||o(this.currentUser)}),typeof t=="function"){let u=e.addObserver(t,r,i);return()=>{s=!0,u()}}else{let u=e.addObserver(t);return()=>{s=!0,u()}}}directlySetCurrentUser(e){return C(this,null,function*(){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?yield this.assertedPersistence.setCurrentUser(e):yield this.assertedPersistence.removeCurrentUser()})}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return Z(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=fA(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){return C(this,null,function*(){var e;let t={"X-Client-Version":this.clientVersion};this.app.options.appId&&(t["X-Firebase-gmpid"]=this.app.options.appId);let r=yield(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader();r&&(t["X-Firebase-Client"]=r);let i=yield this._getAppCheckToken();return i&&(t["X-Firebase-AppCheck"]=i),t})}_getAppCheckToken(){return C(this,null,function*(){var e;let t=yield(e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken();return t?.error&&fU(`Error while retrieving App Check token: ${t.error}`),t?.token})}};function qo(n){return Xe(n)}var Gf=class{constructor(e){this.auth=e,this.observer=null,this.addObserver=_S(t=>this.observer=t)}get next(){return Z(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}};var Xf={loadJS(){return C(this,null,function*(){throw new Error("Unable to load external scripts")})},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function MU(n){Xf=n}function pA(n){return Xf.loadJS(n)}function NU(){return Xf.recaptchaEnterpriseScript}function PU(){return Xf.gapiScript}function gA(n){return`__${n}${Math.floor(Math.random()*1e6)}`}var kU="recaptcha-enterprise",OU="NO_RECAPTCHA",Tw=class{constructor(e){this.type=kU,this.auth=qo(e)}verify(e="verify",t=!1){return C(this,null,function*(){function r(o){return C(this,null,function*(){if(!t){if(o.tenantId==null&&o._agentRecaptchaConfig!=null)return o._agentRecaptchaConfig.siteKey;if(o.tenantId!=null&&o._tenantRecaptchaConfigs[o.tenantId]!==void 0)return o._tenantRecaptchaConfigs[o.tenantId].siteKey}return new Promise((s,a)=>C(this,null,function*(){_U(o,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(u=>{if(u.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{let d=new _w(u);return o.tenantId==null?o._agentRecaptchaConfig=d:o._tenantRecaptchaConfigs[o.tenantId]=d,s(d.siteKey)}}).catch(u=>{a(u)})}))})}function i(o,s,a){let u=window.grecaptcha;FS(u)?u.enterprise.ready(()=>{u.enterprise.execute(o,{action:e}).then(d=>{s(d)}).catch(()=>{s(OU)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((o,s)=>{r(this.auth).then(a=>{if(!t&&FS(window.grecaptcha))i(a,o,s);else{if(typeof window>"u"){s(new Error("RecaptchaVerifier is only supported in browser"));return}let u=NU();u.length!==0&&(u+=a),pA(u).then(()=>{i(a,o,s)}).catch(d=>{s(d)})}}).catch(a=>{s(a)})})})}};function US(n,e,t,r=!1){return C(this,null,function*(){let i=new Tw(n),o;try{o=yield i.verify(t)}catch{o=yield i.verify(t,!0)}let s=Object.assign({},e);return r?Object.assign(s,{captchaResp:o}):Object.assign(s,{captchaResponse:o}),Object.assign(s,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(s,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),s})}function Sw(n,e,t,r){return C(this,null,function*(){var i;if(!((i=n._getRecaptchaConfig())===null||i===void 0)&&i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){let o=yield US(n,e,t,t==="getOobCode");return r(n,o)}else return r(n,e).catch(o=>C(this,null,function*(){if(o.code==="auth/missing-recaptcha-token"){console.log(`${t} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);let s=yield US(n,e,t,t==="getOobCode");return r(n,s)}else return Promise.reject(o)}))})}function Hw(n,e){let t=Iu(n,"auth");if(t.isInitialized()){let i=t.getImmediate(),o=t.getOptions();if(Lo(o,e??{}))return i;cr(i,"already-initialized")}return t.initialize({options:e})}function FU(n,e){let t=e?.persistence||[],r=(Array.isArray(t)?t:[t]).map(Br);e?.errorMap&&n._updateErrorMap(e.errorMap),n._initializeWithPersistence(r,e?.popupRedirectResolver)}function zw(n,e,t){let r=qo(n);Z(r._canInitEmulator,r,"emulator-config-failed"),Z(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");let i=!!t?.disableWarnings,o=mA(e),{host:s,port:a}=LU(e),u=a===null?"":`:${a}`;r.config.emulator={url:`${o}//${s}${u}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:s,port:a,protocol:o.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||VU()}function mA(n){let e=n.indexOf(":");return e<0?"":n.substr(0,e+1)}function LU(n){let e=mA(n),t=/(\/\/)?([^?#/]+)/.exec(n.substr(e.length));if(!t)return{host:"",port:null};let r=t[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){let o=i[1];return{host:o,port:BS(r.substr(o.length+1))}}else{let[o,s]=r.split(":");return{host:o,port:BS(s)}}}function BS(n){if(!n)return null;let e=Number(n);return isNaN(e)?null:e}function VU(){function n(){let e=document.createElement("p"),t=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",t.position="fixed",t.width="100%",t.backgroundColor="#ffffff",t.border=".1em solid #000000",t.color="#b50000",t.bottom="0px",t.left="0px",t.margin="0px",t.zIndex="10000",t.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",n):n())}var Su=class{constructor(e,t){this.providerId=e,this.signInMethod=t}toJSON(){return Ur("not implemented")}_getIdTokenResponse(e){return Ur("not implemented")}_linkToIdToken(e,t){return Ur("not implemented")}_getReauthenticationResolver(e){return Ur("not implemented")}};function jU(n,e){return C(this,null,function*(){return zr(n,"POST","/v1/accounts:signUp",e)})}function UU(n,e){return C(this,null,function*(){return xu(n,"POST","/v1/accounts:signInWithPassword",Hr(n,e))})}function BU(n,e){return C(this,null,function*(){return zr(n,"POST","/v1/accounts:sendOobCode",Hr(n,e))})}function $U(n,e){return C(this,null,function*(){return BU(n,e)})}function HU(n,e){return C(this,null,function*(){return xu(n,"POST","/v1/accounts:signInWithEmailLink",Hr(n,e))})}function zU(n,e){return C(this,null,function*(){return xu(n,"POST","/v1/accounts:signInWithEmailLink",Hr(n,e))})}var Au=class n extends Su{constructor(e,t,r,i=null){super("password",r),this._email=e,this._password=t,this._tenantId=i}static _fromEmailAndPassword(e,t){return new n(e,t,"password")}static _fromEmailAndCode(e,t,r=null){return new n(e,t,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){let t=typeof e=="string"?JSON.parse(e):e;if(t?.email&&t?.password){if(t.signInMethod==="password")return this._fromEmailAndPassword(t.email,t.password);if(t.signInMethod==="emailLink")return this._fromEmailAndCode(t.email,t.password,t.tenantId)}return null}_getIdTokenResponse(e){return C(this,null,function*(){switch(this.signInMethod){case"password":let t={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Sw(e,t,"signInWithPassword",UU);case"emailLink":return HU(e,{email:this._email,oobCode:this._password});default:cr(e,"internal-error")}})}_linkToIdToken(e,t){return C(this,null,function*(){switch(this.signInMethod){case"password":let r={idToken:t,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Sw(e,r,"signUpPassword",jU);case"emailLink":return zU(e,{idToken:t,email:this._email,oobCode:this._password});default:cr(e,"internal-error")}})}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}};function mw(n,e){return C(this,null,function*(){return xu(n,"POST","/v1/accounts:signInWithIdp",Hr(n,e))})}function qU(n){switch(n){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function GU(n){let e=va(wa(n)).link,t=e?va(wa(e)).deep_link_id:null,r=va(wa(n)).deep_link_id;return(r?va(wa(r)).link:null)||r||t||e||n}var Wf=class n{constructor(e){var t,r,i,o,s,a;let u=va(wa(e)),d=(t=u.apiKey)!==null&&t!==void 0?t:null,p=(r=u.oobCode)!==null&&r!==void 0?r:null,g=qU((i=u.mode)!==null&&i!==void 0?i:null);Z(d&&p&&g,"argument-error"),this.apiKey=d,this.operation=g,this.code=p,this.continueUrl=(o=u.continueUrl)!==null&&o!==void 0?o:null,this.languageCode=(s=u.languageCode)!==null&&s!==void 0?s:null,this.tenantId=(a=u.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){let t=GU(e);try{return new n(t)}catch{return null}}};var yA=(()=>{class n{constructor(){this.providerId=n.PROVIDER_ID}static credential(t,r){return Au._fromEmailAndPassword(t,r)}static credentialWithLink(t,r){let i=Wf.parseLink(r);return Z(i,"argument-error"),Au._fromEmailAndCode(t,i.code,i.tenantId)}}n.PROVIDER_ID="password",n.EMAIL_PASSWORD_SIGN_IN_METHOD="password",n.EMAIL_LINK_SIGN_IN_METHOD="emailLink";return n})(),Kf=class{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}};var Aw=class extends Kf{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}};function WU(n,e){return C(this,null,function*(){return xu(n,"POST","/v1/accounts:signUp",Hr(n,e))})}var Ca=class n{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static _fromIdTokenResponse(e,t,r,i=!1){return C(this,null,function*(){let o=yield Da._fromIdTokenResponse(e,r,i),s=$S(r);return new n({user:o,providerId:s,_tokenResponse:r,operationType:t})})}static _forOperation(e,t,r){return C(this,null,function*(){yield e._updateTokensIfNecessary(r,!0);let i=$S(r);return new n({user:e,providerId:i,_tokenResponse:r,operationType:t})})}};function $S(n){return n.providerId?n.providerId:"phoneNumber"in n?"phone":null}var Rw=class n extends tn{constructor(e,t,r,i){var o;super(t.code,t.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,n.prototype),this.customData={appName:e.name,tenantId:(o=e.tenantId)!==null&&o!==void 0?o:void 0,_serverResponse:t.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,t,r,i){return new n(e,t,r,i)}};function vA(n,e,t,r){return(e==="reauthenticate"?t._getReauthenticationResolver(n):t._getIdTokenResponse(n)).catch(o=>{throw o.code==="auth/multi-factor-auth-required"?Rw._fromErrorAndOperation(n,o,e,r):o})}function KU(n,e,t=!1){return C(this,null,function*(){let r=yield Cu(n,e._linkToIdToken(n.auth,yield n.getIdToken()),t);return Ca._forOperation(n,"link",r)})}function QU(n,e,t=!1){return C(this,null,function*(){let{auth:r}=n;if(Mn(r.app))return Promise.reject($r(r));let i="reauthenticate";try{let o=yield Cu(n,vA(r,i,e,n),t);Z(o.idToken,r,"internal-error");let s=Uw(o.idToken);Z(s,r,"internal-error");let{sub:a}=s;return Z(n.uid===a,r,"user-mismatch"),Ca._forOperation(n,i,o)}catch(o){throw o?.code==="auth/user-not-found"&&cr(r,"user-mismatch"),o}})}function wA(n,e,t=!1){return C(this,null,function*(){if(Mn(n.app))return Promise.reject($r(n));let r="signIn",i=yield vA(n,r,e),o=yield Ca._fromIdTokenResponse(n,r,i);return t||(yield n._updateCurrentUser(o.user)),o})}function qw(n,e){return C(this,null,function*(){return wA(qo(n),e)})}function YU(n,e,t){var r;Z(((r=t.url)===null||r===void 0?void 0:r.length)>0,n,"invalid-continue-uri"),Z(typeof t.dynamicLinkDomain>"u"||t.dynamicLinkDomain.length>0,n,"invalid-dynamic-link-domain"),e.continueUrl=t.url,e.dynamicLinkDomain=t.dynamicLinkDomain,e.canHandleCodeInApp=t.handleCodeInApp,t.iOS&&(Z(t.iOS.bundleId.length>0,n,"missing-ios-bundle-id"),e.iOSBundleId=t.iOS.bundleId),t.android&&(Z(t.android.packageName.length>0,n,"missing-android-pkg-name"),e.androidInstallApp=t.android.installApp,e.androidMinimumVersionCode=t.android.minimumVersion,e.androidPackageName=t.android.packageName)}function _A(n){return C(this,null,function*(){let e=qo(n);e._getPasswordPolicyInternal()&&(yield e._updatePasswordPolicy())})}function IA(n,e,t){return C(this,null,function*(){if(Mn(n.app))return Promise.reject($r(n));let r=qo(n),s=yield Sw(r,{returnSecureToken:!0,email:e,password:t,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",WU).catch(u=>{throw u.code==="auth/password-does-not-meet-requirements"&&_A(n),u}),a=yield Ca._fromIdTokenResponse(r,"signIn",s);return yield r._updateCurrentUser(a.user),a})}function Gw(n,e,t){return Mn(n.app)?Promise.reject($r(n)):qw(Xe(n),yA.credential(e,t)).catch(r=>C(this,null,function*(){throw r.code==="auth/password-does-not-meet-requirements"&&_A(n),r}))}function EA(n,e){return C(this,null,function*(){let t=Xe(n),i={requestType:"VERIFY_EMAIL",idToken:yield n.getIdToken()};e&&YU(t.auth,i,e);let{email:o}=yield $U(t.auth,i);o!==n.email&&(yield n.reload())})}function Ww(n,e,t,r){return Xe(n).onIdTokenChanged(e,t,r)}function Kw(n,e,t){return Xe(n).beforeAuthStateChanged(e,t)}var Qf="__sak";var Yf=class{constructor(e,t){this.storageRetriever=e,this.type=t}_isAvailable(){try{return this.storage?(this.storage.setItem(Qf,"1"),this.storage.removeItem(Qf),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,t){return this.storage.setItem(e,JSON.stringify(t)),Promise.resolve()}_get(e){let t=this.storage.getItem(e);return Promise.resolve(t?JSON.parse(t):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}};var ZU=1e3,JU=10,XU=(()=>{class n extends Yf{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(t,r)=>this.onStorageEvent(t,r),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=hA(),this._shouldAllowMigration=!0}forAllChangedKeys(t){for(let r of Object.keys(this.listeners)){let i=this.storage.getItem(r),o=this.localCache[r];i!==o&&t(r,o,i)}}onStorageEvent(t,r=!1){if(!t.key){this.forAllChangedKeys((a,u,d)=>{this.notifyListeners(a,d)});return}let i=t.key;r?this.detachListener():this.stopPolling();let o=()=>{let a=this.storage.getItem(i);!r&&this.localCache[i]===a||this.notifyListeners(i,a)},s=this.storage.getItem(i);AU()&&s!==t.newValue&&t.newValue!==t.oldValue?setTimeout(o,JU):o()}notifyListeners(t,r){this.localCache[t]=r;let i=this.listeners[t];if(i)for(let o of Array.from(i))o(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((t,r,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:t,oldValue:r,newValue:i}),!0)})},ZU)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(t,r){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[t]||(this.listeners[t]=new Set,this.localCache[t]=this.storage.getItem(t)),this.listeners[t].add(r)}_removeListener(t,r){this.listeners[t]&&(this.listeners[t].delete(r),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}_set(t,r){return C(this,null,function*(){yield pi(n.prototype,this,"_set").call(this,t,r),this.localCache[t]=JSON.stringify(r)})}_get(t){return C(this,null,function*(){let r=yield pi(n.prototype,this,"_get").call(this,t);return this.localCache[t]=JSON.stringify(r),r})}_remove(t){return C(this,null,function*(){yield pi(n.prototype,this,"_remove").call(this,t),delete this.localCache[t]})}}return n.type="LOCAL",n})(),bA=XU;var eB=(()=>{class n extends Yf{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(t,r){}_removeListener(t,r){}}return n.type="SESSION",n})(),Qw=eB;function tB(n){return Promise.all(n.map(e=>C(this,null,function*(){try{return{fulfilled:!0,value:yield e}}catch(t){return{fulfilled:!1,reason:t}}})))}var nB=(()=>{class n{constructor(t){this.eventTarget=t,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(t){let r=this.receivers.find(o=>o.isListeningto(t));if(r)return r;let i=new n(t);return this.receivers.push(i),i}isListeningto(t){return this.eventTarget===t}handleEvent(t){return C(this,null,function*(){let r=t,{eventId:i,eventType:o,data:s}=r.data,a=this.handlersMap[o];if(!a?.size)return;r.ports[0].postMessage({status:"ack",eventId:i,eventType:o});let u=Array.from(a).map(p=>C(this,null,function*(){return p(r.origin,s)})),d=yield tB(u);r.ports[0].postMessage({status:"done",eventId:i,eventType:o,response:d})})}_subscribe(t,r){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[t]||(this.handlersMap[t]=new Set),this.handlersMap[t].add(r)}_unsubscribe(t,r){this.handlersMap[t]&&r&&this.handlersMap[t].delete(r),(!r||this.handlersMap[t].size===0)&&delete this.handlersMap[t],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}n.receivers=[];return n})();function DA(n="",e=10){let t="";for(let r=0;r<e;r++)t+=Math.floor(Math.random()*10);return n+t}var xw=class{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}_send(e,t,r=50){return C(this,null,function*(){let i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let o,s;return new Promise((a,u)=>{let d=DA("",20);i.port1.start();let p=setTimeout(()=>{u(new Error("unsupported_event"))},r);s={messageChannel:i,onMessage(g){let _=g;if(_.data.eventId===d)switch(_.data.status){case"ack":clearTimeout(p),o=setTimeout(()=>{u(new Error("timeout"))},3e3);break;case"done":clearTimeout(o),a(_.data.response);break;default:clearTimeout(p),clearTimeout(o),u(new Error("invalid_response"));break}}},this.handlers.add(s),i.port1.addEventListener("message",s.onMessage),this.target.postMessage({eventType:e,eventId:d,data:t},[i.port2])}).finally(()=>{s&&this.removeMessageHandler(s)})})}};function ar(){return window}function rB(n){ar().location.href=n}function CA(){return typeof ar().WorkerGlobalScope<"u"&&typeof ar().importScripts=="function"}function iB(){return C(this,null,function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})}function oB(){var n;return((n=navigator?.serviceWorker)===null||n===void 0?void 0:n.controller)||null}function sB(){return CA()?self:null}var TA="firebaseLocalStorageDb",aB=1,Zf="firebaseLocalStorage",SA="fbase_key",zo=class{constructor(e){this.request=e}toPromise(){return new Promise((e,t)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{t(this.request.error)})})}};function ep(n,e){return n.transaction([Zf],e?"readwrite":"readonly").objectStore(Zf)}function cB(){let n=indexedDB.deleteDatabase(TA);return new zo(n).toPromise()}function Mw(){let n=indexedDB.open(TA,aB);return new Promise((e,t)=>{n.addEventListener("error",()=>{t(n.error)}),n.addEventListener("upgradeneeded",()=>{let r=n.result;try{r.createObjectStore(Zf,{keyPath:SA})}catch(i){t(i)}}),n.addEventListener("success",()=>C(this,null,function*(){let r=n.result;r.objectStoreNames.contains(Zf)?e(r):(r.close(),yield cB(),e(yield Mw()))}))})}function HS(n,e,t){return C(this,null,function*(){let r=ep(n,!0).put({[SA]:e,value:t});return new zo(r).toPromise()})}function uB(n,e){return C(this,null,function*(){let t=ep(n,!1).get(e),r=yield new zo(t).toPromise();return r===void 0?null:r.value})}function zS(n,e){let t=ep(n,!0).delete(e);return new zo(t).toPromise()}var lB=800,dB=3,hB=(()=>{class n{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){return C(this,null,function*(){return this.db?this.db:(this.db=yield Mw(),this.db)})}_withRetries(t){return C(this,null,function*(){let r=0;for(;;)try{let i=yield this._openDb();return yield t(i)}catch(i){if(r++>dB)throw i;this.db&&(this.db.close(),this.db=void 0)}})}initializeServiceWorkerMessaging(){return C(this,null,function*(){return CA()?this.initializeReceiver():this.initializeSender()})}initializeReceiver(){return C(this,null,function*(){this.receiver=nB._getInstance(sB()),this.receiver._subscribe("keyChanged",(t,r)=>C(this,null,function*(){return{keyProcessed:(yield this._poll()).includes(r.key)}})),this.receiver._subscribe("ping",(t,r)=>C(this,null,function*(){return["keyChanged"]}))})}initializeSender(){return C(this,null,function*(){var t,r;if(this.activeServiceWorker=yield iB(),!this.activeServiceWorker)return;this.sender=new xw(this.activeServiceWorker);let i=yield this.sender._send("ping",{},800);i&&!((t=i[0])===null||t===void 0)&&t.fulfilled&&!((r=i[0])===null||r===void 0)&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)})}notifyServiceWorker(t){return C(this,null,function*(){if(!(!this.sender||!this.activeServiceWorker||oB()!==this.activeServiceWorker))try{yield this.sender._send("keyChanged",{key:t},this.serviceWorkerReceiverAvailable?800:50)}catch{}})}_isAvailable(){return C(this,null,function*(){try{if(!indexedDB)return!1;let t=yield Mw();return yield HS(t,Qf,"1"),yield zS(t,Qf),!0}catch{}return!1})}_withPendingWrite(t){return C(this,null,function*(){this.pendingWrites++;try{yield t()}finally{this.pendingWrites--}})}_set(t,r){return C(this,null,function*(){return this._withPendingWrite(()=>C(this,null,function*(){return yield this._withRetries(i=>HS(i,t,r)),this.localCache[t]=r,this.notifyServiceWorker(t)}))})}_get(t){return C(this,null,function*(){let r=yield this._withRetries(i=>uB(i,t));return this.localCache[t]=r,r})}_remove(t){return C(this,null,function*(){return this._withPendingWrite(()=>C(this,null,function*(){return yield this._withRetries(r=>zS(r,t)),delete this.localCache[t],this.notifyServiceWorker(t)}))})}_poll(){return C(this,null,function*(){let t=yield this._withRetries(o=>{let s=ep(o,!1).getAll();return new zo(s).toPromise()});if(!t)return[];if(this.pendingWrites!==0)return[];let r=[],i=new Set;if(t.length!==0)for(let{fbase_key:o,value:s}of t)i.add(o),JSON.stringify(this.localCache[o])!==JSON.stringify(s)&&(this.notifyListeners(o,s),r.push(o));for(let o of Object.keys(this.localCache))this.localCache[o]&&!i.has(o)&&(this.notifyListeners(o,null),r.push(o));return r})}notifyListeners(t,r){this.localCache[t]=r;let i=this.listeners[t];if(i)for(let o of Array.from(i))o(r)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>C(this,null,function*(){return this._poll()}),lB)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(t,r){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[t]||(this.listeners[t]=new Set,this._get(t)),this.listeners[t].add(r)}_removeListener(t,r){this.listeners[t]&&(this.listeners[t].delete(r),this.listeners[t].size===0&&delete this.listeners[t]),Object.keys(this.listeners).length===0&&this.stopPolling()}}return n.type="LOCAL",n})(),AA=hB;var b7=gA("rcb"),D7=new Ho(3e4,6e4);function fB(n,e){return e?Br(e):(Z(n._popupRedirectResolver,n,"argument-error"),n._popupRedirectResolver)}var Ru=class extends Su{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return mw(e,this._buildIdpRequest())}_linkToIdToken(e,t){return mw(e,this._buildIdpRequest(t))}_getReauthenticationResolver(e){return mw(e,this._buildIdpRequest())}_buildIdpRequest(e){let t={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(t.idToken=e),t}};function pB(n){return wA(n.auth,new Ru(n),n.bypassAuthState)}function gB(n){let{auth:e,user:t}=n;return Z(t,e,"internal-error"),QU(t,new Ru(n),n.bypassAuthState)}function mB(n){return C(this,null,function*(){let{auth:e,user:t}=n;return Z(t,e,"internal-error"),KU(t,new Ru(n),n.bypassAuthState)})}var Nw=class{constructor(e,t,r,i,o=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=o,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(t)?t:[t]}execute(){return new Promise((e,t)=>C(this,null,function*(){this.pendingPromise={resolve:e,reject:t};try{this.eventManager=yield this.resolver._initialize(this.auth),yield this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}}))}onAuthEvent(e){return C(this,null,function*(){let{urlResponse:t,sessionId:r,postBody:i,tenantId:o,error:s,type:a}=e;if(s){this.reject(s);return}let u={auth:this.auth,requestUri:t,sessionId:r,tenantId:o||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(yield this.getIdpTask(a)(u))}catch(d){this.reject(d)}})}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return pB;case"linkViaPopup":case"linkViaRedirect":return mB;case"reauthViaPopup":case"reauthViaRedirect":return gB;default:cr(this.auth,"internal-error")}}resolve(e){$i(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){$i(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}};var C7=new Ho(2e3,1e4);var yB="pendingRedirect",Uf=new Map,Pw=class n extends Nw{constructor(e,t,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],t,void 0,r),this.eventId=null}execute(){return C(this,null,function*(){let e=Uf.get(this.auth._key());if(!e){try{let r=(yield vB(this.resolver,this.auth))?yield pi(n.prototype,this,"execute").call(this):null;e=()=>Promise.resolve(r)}catch(t){e=()=>Promise.reject(t)}Uf.set(this.auth._key(),e)}return this.bypassAuthState||Uf.set(this.auth._key(),()=>Promise.resolve(null)),e()})}onAuthEvent(e){return C(this,null,function*(){if(e.type==="signInViaRedirect")return pi(n.prototype,this,"onAuthEvent").call(this,e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){let t=yield this.auth._redirectUserForId(e.eventId);if(t)return this.user=t,pi(n.prototype,this,"onAuthEvent").call(this,e);this.resolve(null)}})}onExecution(){return C(this,null,function*(){})}cleanUp(){}};function vB(n,e){return C(this,null,function*(){let t=IB(e),r=_B(n);if(!(yield r._isAvailable()))return!1;let i=(yield r._get(t))==="true";return yield r._remove(t),i})}function wB(n,e){Uf.set(n._key(),e)}function _B(n){return Br(n._redirectPersistence)}function IB(n){return jf(yB,n.config.apiKey,n.name)}function EB(n,e,t=!1){return C(this,null,function*(){if(Mn(n.app))return Promise.reject($r(n));let r=qo(n),i=fB(r,e),s=yield new Pw(r,i,t).execute();return s&&!t&&(delete s.user._redirectEventId,yield r._persistUserIfCurrent(s.user),yield r._setRedirectUser(null,e)),s})}var bB=10*60*1e3,kw=class{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let t=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(t=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!DB(e)||(this.hasHandledPotentialRedirect=!0,t||(this.queuedRedirectEvent=e,t=!0)),t}sendToConsumer(e,t){var r;if(e.error&&!RA(e)){let i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";t.onError($o(this.auth,i))}else t.onAuthEvent(e)}isEventForConsumer(e,t){let r=t.eventId===null||!!e.eventId&&e.eventId===t.eventId;return t.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=bB&&this.cachedEventUids.clear(),this.cachedEventUids.has(qS(e))}saveEventToCache(e){this.cachedEventUids.add(qS(e)),this.lastProcessedEventTime=Date.now()}};function qS(n){return[n.type,n.eventId,n.sessionId,n.tenantId].filter(e=>e).join("-")}function RA({type:n,error:e}){return n==="unknown"&&e?.code==="auth/no-auth-event"}function DB(n){switch(n.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return RA(n);default:return!1}}function CB(t){return C(this,arguments,function*(n,e={}){return zr(n,"GET","/v1/projects",e)})}var TB=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,SB=/^https?/;function AB(n){return C(this,null,function*(){if(n.config.emulator)return;let{authorizedDomains:e}=yield CB(n);for(let t of e)try{if(RB(t))return}catch{}cr(n,"unauthorized-domain")})}function RB(n){let e=vw(),{protocol:t,hostname:r}=new URL(e);if(n.startsWith("chrome-extension://")){let s=new URL(n);return s.hostname===""&&r===""?t==="chrome-extension:"&&n.replace("chrome-extension://","")===e.replace("chrome-extension://",""):t==="chrome-extension:"&&s.hostname===r}if(!SB.test(t))return!1;if(TB.test(n))return r===n;let i=n.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}var xB=new Ho(3e4,6e4);function GS(){let n=ar().___jsl;if(n?.H){for(let e of Object.keys(n.H))if(n.H[e].r=n.H[e].r||[],n.H[e].L=n.H[e].L||[],n.H[e].r=[...n.H[e].L],n.CP)for(let t=0;t<n.CP.length;t++)n.CP[t]=null}}function MB(n){return new Promise((e,t)=>{var r,i,o;function s(){GS(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{GS(),t($o(n,"network-request-failed"))},timeout:xB.get()})}if(!((i=(r=ar().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((o=ar().gapi)===null||o===void 0)&&o.load)s();else{let a=gA("iframefcb");return ar()[a]=()=>{gapi.load?s():t($o(n,"network-request-failed"))},pA(`${PU()}?onload=${a}`).catch(u=>t(u))}}).catch(e=>{throw Bf=null,e})}var Bf=null;function NB(n){return Bf=Bf||MB(n),Bf}var PB=new Ho(5e3,15e3),kB="__/auth/iframe",OB="emulator/auth/iframe",FB={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},LB=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function VB(n){let e=n.config;Z(e.authDomain,n,"auth-domain-config-required");let t=e.emulator?Vw(e,OB):`https://${n.config.authDomain}/${kB}`,r={apiKey:e.apiKey,appName:n.name,v:Ui},i=LB.get(n.config.apiHost);i&&(r.eid=i);let o=n._getFrameworks();return o.length&&(r.fw=o.join(",")),`${t}?${vu(r).slice(1)}`}function jB(n){return C(this,null,function*(){let e=yield NB(n),t=ar().gapi;return Z(t,n,"internal-error"),e.open({where:document.body,url:VB(n),messageHandlersFilter:t.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:FB,dontclear:!0},r=>new Promise((i,o)=>C(this,null,function*(){yield r.restyle({setHideOnLeave:!1});let s=$o(n,"network-request-failed"),a=ar().setTimeout(()=>{o(s)},PB.get());function u(){ar().clearTimeout(a),i(r)}r.ping(u).then(u,()=>{o(s)})})))})}var UB={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},BB=500,$B=600,HB="_blank",zB="http://localhost",Jf=class{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}};function qB(n,e,t,r=BB,i=$B){let o=Math.max((window.screen.availHeight-i)/2,0).toString(),s=Math.max((window.screen.availWidth-r)/2,0).toString(),a="",u=Object.assign(Object.assign({},UB),{width:r.toString(),height:i.toString(),top:o,left:s}),d=pt().toLowerCase();t&&(a=aA(d)?HB:t),oA(d)&&(e=e||zB,u.scrollbars="yes");let p=Object.entries(u).reduce((_,[b,M])=>`${_}${b}=${M},`,"");if(SU(d)&&a!=="_self")return GB(e||"",a),new Jf(null);let g=window.open(e||"",a,p);Z(g,n,"popup-blocked");try{g.focus()}catch{}return new Jf(g)}function GB(n,e){let t=document.createElement("a");t.href=n,t.target=e;let r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),t.dispatchEvent(r)}var WB="__/auth/handler",KB="emulator/auth/handler",QB=encodeURIComponent("fac");function WS(n,e,t,r,i,o){return C(this,null,function*(){Z(n.config.authDomain,n,"auth-domain-config-required"),Z(n.config.apiKey,n,"invalid-api-key");let s={apiKey:n.config.apiKey,appName:n.name,authType:t,redirectUrl:r,v:Ui,eventId:i};if(e instanceof Kf){e.setDefaultLanguage(n.languageCode),s.providerId=e.providerId||"",wS(e.getCustomParameters())||(s.customParameters=JSON.stringify(e.getCustomParameters()));for(let[p,g]of Object.entries(o||{}))s[p]=g}if(e instanceof Aw){let p=e.getScopes().filter(g=>g!=="");p.length>0&&(s.scopes=p.join(","))}n.tenantId&&(s.tid=n.tenantId);let a=s;for(let p of Object.keys(a))a[p]===void 0&&delete a[p];let u=yield n._getAppCheckToken(),d=u?`#${QB}=${encodeURIComponent(u)}`:"";return`${YB(n)}?${vu(a).slice(1)}${d}`})}function YB({config:n}){return n.emulator?Vw(n,KB):`https://${n.authDomain}/${WB}`}var yw="webStorageSupport",Ow=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Qw,this._completeRedirectFn=EB,this._overrideRedirectResult=wB}_openPopup(e,t,r,i){return C(this,null,function*(){var o;$i((o=this.eventManagers[e._key()])===null||o===void 0?void 0:o.manager,"_initialize() not called before _openPopup()");let s=yield WS(e,t,r,vw(),i);return qB(e,s,DA())})}_openRedirect(e,t,r,i){return C(this,null,function*(){yield this._originValidation(e);let o=yield WS(e,t,r,vw(),i);return rB(o),new Promise(()=>{})})}_initialize(e){let t=e._key();if(this.eventManagers[t]){let{manager:i,promise:o}=this.eventManagers[t];return i?Promise.resolve(i):($i(o,"If manager is not set, promise should be"),o)}let r=this.initAndGetManager(e);return this.eventManagers[t]={promise:r},r.catch(()=>{delete this.eventManagers[t]}),r}initAndGetManager(e){return C(this,null,function*(){let t=yield jB(e),r=new kw(e);return t.register("authEvent",i=>(Z(i?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=t,r})}_isIframeWebStorageSupported(e,t){this.iframes[e._key()].send(yw,{type:yw},i=>{var o;let s=(o=i?.[0])===null||o===void 0?void 0:o[yw];s!==void 0&&t(!!s),cr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){let t=e._key();return this.originValidationPromises[t]||(this.originValidationPromises[t]=AB(e)),this.originValidationPromises[t]}get _shouldInitProactively(){return hA()||sA()||$w()}},xA=Ow;var KS="@firebase/auth",QS="1.7.9";var Fw=class{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}getToken(e){return C(this,null,function*(){return this.assertAuthConfigured(),yield this.auth._initializationPromise,this.auth.currentUser?{accessToken:yield this.auth.currentUser.getIdToken(e)}:null})}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;let t=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,t),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();let t=this.internalListeners.get(e);t&&(this.internalListeners.delete(e),t(),this.updateProactiveRefresh())}assertAuthConfigured(){Z(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}};function ZB(n){switch(n){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function JB(n){ji(new mn("auth",(e,{options:t})=>{let r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),o=e.getProvider("app-check-internal"),{apiKey:s,authDomain:a}=r.options;Z(s&&!s.includes(":"),"invalid-api-key",{appName:r.name});let u={apiKey:s,authDomain:a,clientPlatform:n,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:fA(n)},d=new Cw(r,i,o,u);return FU(d,t),d},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,t,r)=>{e.getProvider("auth-internal").initialize()})),ji(new mn("auth-internal",e=>{let t=qo(e.getProvider("auth").getImmediate());return(r=>new Fw(r))(t)},"PRIVATE").setInstantiationMode("EXPLICIT")),ct(KS,QS,ZB(n)),ct(KS,QS,"esm2017")}var XB=5*60,e$=Yv("authIdTokenMaxAge")||XB,YS=null,t$=n=>e=>C(void 0,null,function*(){let t=e&&(yield e.getIdTokenResult()),r=t&&(new Date().getTime()-Date.parse(t.issuedAtTime))/1e3;if(r&&r>e$)return;let i=t?.token;YS!==i&&(YS=i,yield fetch(n,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))});function Yw(n=_a()){let e=Iu(n,"auth");if(e.isInitialized())return e.getImmediate();let t=Hw(n,{popupRedirectResolver:xA,persistence:[AA,bA,Qw]}),r=Yv("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){let o=new URL(r,location.origin);if(location.origin===o.origin){let s=t$(o.toString());Kw(t,s,()=>s(t.currentUser)),Ww(t,a=>s(a))}}let i=Kv("auth");return i&&zw(t,`http://${i}`),t}function n$(){var n,e;return(e=(n=document.getElementsByTagName("head"))===null||n===void 0?void 0:n[0])!==null&&e!==void 0?e:document}MU({loadJS(n){return new Promise((e,t)=>{let r=document.createElement("script");r.setAttribute("src",n),r.onload=e,r.onerror=i=>{let o=$o("internal-error");o.customData=i,t(o)},r.type="text/javascript",r.charset="UTF-8",n$().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});JB("Browser");var MA="auth",Mu=class{constructor(e){return e}},Nu=class{constructor(){return Eu(MA)}};var Zw=new q("angularfire2.auth-instances");function G$(n,e){let t=Of(MA,n,e);return t&&new Mu(t)}function W$(n){return(e,t)=>{let r=e.runOutsideAngular(()=>n(t));return new Mu(r)}}var K$={provide:Nu,deps:[[new Tt,Zw]]},Q$={provide:Mu,useFactory:G$,deps:[[new Tt,Zw],jr]};function cK(n,...e){return ct("angularfire",Uo.full,"auth"),Zn([Q$,K$,{provide:Zw,useFactory:W$(n),multi:!0,deps:[Re,_t,ba,Bo,[new Tt,Ea],...e]}])}var uK=gt(Yw,!0);var lK=gt(Gw,!0);var NA=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},PA={};var Hi,Jw;(function(){var n;function e(S,I){function E(){}E.prototype=I.prototype,S.D=I.prototype,S.prototype=new E,S.prototype.constructor=S,S.C=function(T,A,R){for(var D=Array(arguments.length-2),vn=2;vn<arguments.length;vn++)D[vn-2]=arguments[vn];return I.prototype[A].apply(T,D)}}function t(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,t),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(S,I,E){E||(E=0);var T=Array(16);if(typeof I=="string")for(var A=0;16>A;++A)T[A]=I.charCodeAt(E++)|I.charCodeAt(E++)<<8|I.charCodeAt(E++)<<16|I.charCodeAt(E++)<<24;else for(A=0;16>A;++A)T[A]=I[E++]|I[E++]<<8|I[E++]<<16|I[E++]<<24;I=S.g[0],E=S.g[1],A=S.g[2];var R=S.g[3],D=I+(R^E&(A^R))+T[0]+3614090360&4294967295;I=E+(D<<7&4294967295|D>>>25),D=R+(A^I&(E^A))+T[1]+3905402710&4294967295,R=I+(D<<12&4294967295|D>>>20),D=A+(E^R&(I^E))+T[2]+606105819&4294967295,A=R+(D<<17&4294967295|D>>>15),D=E+(I^A&(R^I))+T[3]+3250441966&4294967295,E=A+(D<<22&4294967295|D>>>10),D=I+(R^E&(A^R))+T[4]+4118548399&4294967295,I=E+(D<<7&4294967295|D>>>25),D=R+(A^I&(E^A))+T[5]+1200080426&4294967295,R=I+(D<<12&4294967295|D>>>20),D=A+(E^R&(I^E))+T[6]+2821735955&4294967295,A=R+(D<<17&4294967295|D>>>15),D=E+(I^A&(R^I))+T[7]+4249261313&4294967295,E=A+(D<<22&4294967295|D>>>10),D=I+(R^E&(A^R))+T[8]+1770035416&4294967295,I=E+(D<<7&4294967295|D>>>25),D=R+(A^I&(E^A))+T[9]+2336552879&4294967295,R=I+(D<<12&4294967295|D>>>20),D=A+(E^R&(I^E))+T[10]+4294925233&4294967295,A=R+(D<<17&4294967295|D>>>15),D=E+(I^A&(R^I))+T[11]+2304563134&4294967295,E=A+(D<<22&4294967295|D>>>10),D=I+(R^E&(A^R))+T[12]+1804603682&4294967295,I=E+(D<<7&4294967295|D>>>25),D=R+(A^I&(E^A))+T[13]+4254626195&4294967295,R=I+(D<<12&4294967295|D>>>20),D=A+(E^R&(I^E))+T[14]+2792965006&4294967295,A=R+(D<<17&4294967295|D>>>15),D=E+(I^A&(R^I))+T[15]+1236535329&4294967295,E=A+(D<<22&4294967295|D>>>10),D=I+(A^R&(E^A))+T[1]+4129170786&4294967295,I=E+(D<<5&4294967295|D>>>27),D=R+(E^A&(I^E))+T[6]+3225465664&4294967295,R=I+(D<<9&4294967295|D>>>23),D=A+(I^E&(R^I))+T[11]+643717713&4294967295,A=R+(D<<14&4294967295|D>>>18),D=E+(R^I&(A^R))+T[0]+3921069994&4294967295,E=A+(D<<20&4294967295|D>>>12),D=I+(A^R&(E^A))+T[5]+3593408605&4294967295,I=E+(D<<5&4294967295|D>>>27),D=R+(E^A&(I^E))+T[10]+38016083&4294967295,R=I+(D<<9&4294967295|D>>>23),D=A+(I^E&(R^I))+T[15]+3634488961&4294967295,A=R+(D<<14&4294967295|D>>>18),D=E+(R^I&(A^R))+T[4]+3889429448&4294967295,E=A+(D<<20&4294967295|D>>>12),D=I+(A^R&(E^A))+T[9]+568446438&4294967295,I=E+(D<<5&4294967295|D>>>27),D=R+(E^A&(I^E))+T[14]+3275163606&4294967295,R=I+(D<<9&4294967295|D>>>23),D=A+(I^E&(R^I))+T[3]+4107603335&4294967295,A=R+(D<<14&4294967295|D>>>18),D=E+(R^I&(A^R))+T[8]+1163531501&4294967295,E=A+(D<<20&4294967295|D>>>12),D=I+(A^R&(E^A))+T[13]+2850285829&4294967295,I=E+(D<<5&4294967295|D>>>27),D=R+(E^A&(I^E))+T[2]+4243563512&4294967295,R=I+(D<<9&4294967295|D>>>23),D=A+(I^E&(R^I))+T[7]+1735328473&4294967295,A=R+(D<<14&4294967295|D>>>18),D=E+(R^I&(A^R))+T[12]+2368359562&4294967295,E=A+(D<<20&4294967295|D>>>12),D=I+(E^A^R)+T[5]+4294588738&4294967295,I=E+(D<<4&4294967295|D>>>28),D=R+(I^E^A)+T[8]+2272392833&4294967295,R=I+(D<<11&4294967295|D>>>21),D=A+(R^I^E)+T[11]+1839030562&4294967295,A=R+(D<<16&4294967295|D>>>16),D=E+(A^R^I)+T[14]+4259657740&4294967295,E=A+(D<<23&4294967295|D>>>9),D=I+(E^A^R)+T[1]+2763975236&4294967295,I=E+(D<<4&4294967295|D>>>28),D=R+(I^E^A)+T[4]+1272893353&4294967295,R=I+(D<<11&4294967295|D>>>21),D=A+(R^I^E)+T[7]+4139469664&4294967295,A=R+(D<<16&4294967295|D>>>16),D=E+(A^R^I)+T[10]+3200236656&4294967295,E=A+(D<<23&4294967295|D>>>9),D=I+(E^A^R)+T[13]+681279174&4294967295,I=E+(D<<4&4294967295|D>>>28),D=R+(I^E^A)+T[0]+3936430074&4294967295,R=I+(D<<11&4294967295|D>>>21),D=A+(R^I^E)+T[3]+3572445317&4294967295,A=R+(D<<16&4294967295|D>>>16),D=E+(A^R^I)+T[6]+76029189&4294967295,E=A+(D<<23&4294967295|D>>>9),D=I+(E^A^R)+T[9]+3654602809&4294967295,I=E+(D<<4&4294967295|D>>>28),D=R+(I^E^A)+T[12]+3873151461&4294967295,R=I+(D<<11&4294967295|D>>>21),D=A+(R^I^E)+T[15]+530742520&4294967295,A=R+(D<<16&4294967295|D>>>16),D=E+(A^R^I)+T[2]+3299628645&4294967295,E=A+(D<<23&4294967295|D>>>9),D=I+(A^(E|~R))+T[0]+4096336452&4294967295,I=E+(D<<6&4294967295|D>>>26),D=R+(E^(I|~A))+T[7]+1126891415&4294967295,R=I+(D<<10&4294967295|D>>>22),D=A+(I^(R|~E))+T[14]+2878612391&4294967295,A=R+(D<<15&4294967295|D>>>17),D=E+(R^(A|~I))+T[5]+4237533241&4294967295,E=A+(D<<21&4294967295|D>>>11),D=I+(A^(E|~R))+T[12]+1700485571&4294967295,I=E+(D<<6&4294967295|D>>>26),D=R+(E^(I|~A))+T[3]+2399980690&4294967295,R=I+(D<<10&4294967295|D>>>22),D=A+(I^(R|~E))+T[10]+4293915773&4294967295,A=R+(D<<15&4294967295|D>>>17),D=E+(R^(A|~I))+T[1]+2240044497&4294967295,E=A+(D<<21&4294967295|D>>>11),D=I+(A^(E|~R))+T[8]+1873313359&4294967295,I=E+(D<<6&4294967295|D>>>26),D=R+(E^(I|~A))+T[15]+4264355552&4294967295,R=I+(D<<10&4294967295|D>>>22),D=A+(I^(R|~E))+T[6]+2734768916&4294967295,A=R+(D<<15&4294967295|D>>>17),D=E+(R^(A|~I))+T[13]+1309151649&4294967295,E=A+(D<<21&4294967295|D>>>11),D=I+(A^(E|~R))+T[4]+4149444226&4294967295,I=E+(D<<6&4294967295|D>>>26),D=R+(E^(I|~A))+T[11]+3174756917&4294967295,R=I+(D<<10&4294967295|D>>>22),D=A+(I^(R|~E))+T[2]+718787259&4294967295,A=R+(D<<15&4294967295|D>>>17),D=E+(R^(A|~I))+T[9]+3951481745&4294967295,S.g[0]=S.g[0]+I&4294967295,S.g[1]=S.g[1]+(A+(D<<21&4294967295|D>>>11))&4294967295,S.g[2]=S.g[2]+A&4294967295,S.g[3]=S.g[3]+R&4294967295}r.prototype.u=function(S,I){I===void 0&&(I=S.length);for(var E=I-this.blockSize,T=this.B,A=this.h,R=0;R<I;){if(A==0)for(;R<=E;)i(this,S,R),R+=this.blockSize;if(typeof S=="string"){for(;R<I;)if(T[A++]=S.charCodeAt(R++),A==this.blockSize){i(this,T),A=0;break}}else for(;R<I;)if(T[A++]=S[R++],A==this.blockSize){i(this,T),A=0;break}}this.h=A,this.o+=I},r.prototype.v=function(){var S=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);S[0]=128;for(var I=1;I<S.length-8;++I)S[I]=0;var E=8*this.o;for(I=S.length-8;I<S.length;++I)S[I]=E&255,E/=256;for(this.u(S),S=Array(16),I=E=0;4>I;++I)for(var T=0;32>T;T+=8)S[E++]=this.g[I]>>>T&255;return S};function o(S,I){var E=a;return Object.prototype.hasOwnProperty.call(E,S)?E[S]:E[S]=I(S)}function s(S,I){this.h=I;for(var E=[],T=!0,A=S.length-1;0<=A;A--){var R=S[A]|0;T&&R==I||(E[A]=R,T=!1)}this.g=E}var a={};function u(S){return-128<=S&&128>S?o(S,function(I){return new s([I|0],0>I?-1:0)}):new s([S|0],0>S?-1:0)}function d(S){if(isNaN(S)||!isFinite(S))return g;if(0>S)return k(d(-S));for(var I=[],E=1,T=0;S>=E;T++)I[T]=S/E|0,E*=4294967296;return new s(I,0)}function p(S,I){if(S.length==0)throw Error("number format error: empty string");if(I=I||10,2>I||36<I)throw Error("radix out of range: "+I);if(S.charAt(0)=="-")return k(p(S.substring(1),I));if(0<=S.indexOf("-"))throw Error('number format error: interior "-" character');for(var E=d(Math.pow(I,8)),T=g,A=0;A<S.length;A+=8){var R=Math.min(8,S.length-A),D=parseInt(S.substring(A,A+R),I);8>R?(R=d(Math.pow(I,R)),T=T.j(R).add(d(D))):(T=T.j(E),T=T.add(d(D)))}return T}var g=u(0),_=u(1),b=u(16777216);n=s.prototype,n.m=function(){if(F(this))return-k(this).m();for(var S=0,I=1,E=0;E<this.g.length;E++){var T=this.i(E);S+=(0<=T?T:4294967296+T)*I,I*=4294967296}return S},n.toString=function(S){if(S=S||10,2>S||36<S)throw Error("radix out of range: "+S);if(M(this))return"0";if(F(this))return"-"+k(this).toString(S);for(var I=d(Math.pow(S,6)),E=this,T="";;){var A=ce(E,I).g;E=U(E,A.j(I));var R=((0<E.g.length?E.g[0]:E.h)>>>0).toString(S);if(E=A,M(E))return R+T;for(;6>R.length;)R="0"+R;T=R+T}},n.i=function(S){return 0>S?0:S<this.g.length?this.g[S]:this.h};function M(S){if(S.h!=0)return!1;for(var I=0;I<S.g.length;I++)if(S.g[I]!=0)return!1;return!0}function F(S){return S.h==-1}n.l=function(S){return S=U(this,S),F(S)?-1:M(S)?0:1};function k(S){for(var I=S.g.length,E=[],T=0;T<I;T++)E[T]=~S.g[T];return new s(E,~S.h).add(_)}n.abs=function(){return F(this)?k(this):this},n.add=function(S){for(var I=Math.max(this.g.length,S.g.length),E=[],T=0,A=0;A<=I;A++){var R=T+(this.i(A)&65535)+(S.i(A)&65535),D=(R>>>16)+(this.i(A)>>>16)+(S.i(A)>>>16);T=D>>>16,R&=65535,D&=65535,E[A]=D<<16|R}return new s(E,E[E.length-1]&-2147483648?-1:0)};function U(S,I){return S.add(k(I))}n.j=function(S){if(M(this)||M(S))return g;if(F(this))return F(S)?k(this).j(k(S)):k(k(this).j(S));if(F(S))return k(this.j(k(S)));if(0>this.l(b)&&0>S.l(b))return d(this.m()*S.m());for(var I=this.g.length+S.g.length,E=[],T=0;T<2*I;T++)E[T]=0;for(T=0;T<this.g.length;T++)for(var A=0;A<S.g.length;A++){var R=this.i(T)>>>16,D=this.i(T)&65535,vn=S.i(A)>>>16,Yr=S.i(A)&65535;E[2*T+2*A]+=D*Yr,K(E,2*T+2*A),E[2*T+2*A+1]+=R*Yr,K(E,2*T+2*A+1),E[2*T+2*A+1]+=D*vn,K(E,2*T+2*A+1),E[2*T+2*A+2]+=R*vn,K(E,2*T+2*A+2)}for(T=0;T<I;T++)E[T]=E[2*T+1]<<16|E[2*T];for(T=I;T<2*I;T++)E[T]=0;return new s(E,0)};function K(S,I){for(;(S[I]&65535)!=S[I];)S[I+1]+=S[I]>>>16,S[I]&=65535,I++}function Y(S,I){this.g=S,this.h=I}function ce(S,I){if(M(I))throw Error("division by zero");if(M(S))return new Y(g,g);if(F(S))return I=ce(k(S),I),new Y(k(I.g),k(I.h));if(F(I))return I=ce(S,k(I)),new Y(k(I.g),I.h);if(30<S.g.length){if(F(S)||F(I))throw Error("slowDivide_ only works with positive integers.");for(var E=_,T=I;0>=T.l(S);)E=Pe(E),T=Pe(T);var A=X(E,1),R=X(T,1);for(T=X(T,2),E=X(E,2);!M(T);){var D=R.add(T);0>=D.l(S)&&(A=A.add(E),R=D),T=X(T,1),E=X(E,1)}return I=U(S,A.j(I)),new Y(A,I)}for(A=g;0<=S.l(I);){for(E=Math.max(1,Math.floor(S.m()/I.m())),T=Math.ceil(Math.log(E)/Math.LN2),T=48>=T?1:Math.pow(2,T-48),R=d(E),D=R.j(I);F(D)||0<D.l(S);)E-=T,R=d(E),D=R.j(I);M(R)&&(R=_),A=A.add(R),S=U(S,D)}return new Y(A,S)}n.A=function(S){return ce(this,S).h},n.and=function(S){for(var I=Math.max(this.g.length,S.g.length),E=[],T=0;T<I;T++)E[T]=this.i(T)&S.i(T);return new s(E,this.h&S.h)},n.or=function(S){for(var I=Math.max(this.g.length,S.g.length),E=[],T=0;T<I;T++)E[T]=this.i(T)|S.i(T);return new s(E,this.h|S.h)},n.xor=function(S){for(var I=Math.max(this.g.length,S.g.length),E=[],T=0;T<I;T++)E[T]=this.i(T)^S.i(T);return new s(E,this.h^S.h)};function Pe(S){for(var I=S.g.length+1,E=[],T=0;T<I;T++)E[T]=S.i(T)<<1|S.i(T-1)>>>31;return new s(E,S.h)}function X(S,I){var E=I>>5;I%=32;for(var T=S.g.length-E,A=[],R=0;R<T;R++)A[R]=0<I?S.i(R+E)>>>I|S.i(R+E+1)<<32-I:S.i(R+E);return new s(A,S.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,Jw=PA.Md5=r,s.prototype.add=s.prototype.add,s.prototype.multiply=s.prototype.j,s.prototype.modulo=s.prototype.A,s.prototype.compare=s.prototype.l,s.prototype.toNumber=s.prototype.m,s.prototype.toString=s.prototype.toString,s.prototype.getBits=s.prototype.i,s.fromNumber=d,s.fromString=p,Hi=PA.Integer=s}).apply(typeof NA<"u"?NA:typeof self<"u"?self:typeof window<"u"?window:{});var tp=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},qr={};var Xw,Y$,Ta,e_,Pu,np,t_,n_,r_;(function(){var n,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,f,m){return c==Array.prototype||c==Object.prototype||(c[f]=m.value),c};function t(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof tp=="object"&&tp];for(var f=0;f<c.length;++f){var m=c[f];if(m&&m.Math==Math)return m}throw Error("Cannot find global object")}var r=t(this);function i(c,f){if(f)e:{var m=r;c=c.split(".");for(var v=0;v<c.length-1;v++){var x=c[v];if(!(x in m))break e;m=m[x]}c=c[c.length-1],v=m[c],f=f(v),f!=v&&f!=null&&e(m,c,{configurable:!0,writable:!0,value:f})}}function o(c,f){c instanceof String&&(c+="");var m=0,v=!1,x={next:function(){if(!v&&m<c.length){var P=m++;return{value:f(P,c[P]),done:!1}}return v=!0,{done:!0,value:void 0}}};return x[Symbol.iterator]=function(){return x},x}i("Array.prototype.values",function(c){return c||function(){return o(this,function(f,m){return m})}});var s=s||{},a=this||self;function u(c){var f=typeof c;return f=f!="object"?f:c?Array.isArray(c)?"array":f:"null",f=="array"||f=="object"&&typeof c.length=="number"}function d(c){var f=typeof c;return f=="object"&&c!=null||f=="function"}function p(c,f,m){return c.call.apply(c.bind,arguments)}function g(c,f,m){if(!c)throw Error();if(2<arguments.length){var v=Array.prototype.slice.call(arguments,2);return function(){var x=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(x,v),c.apply(f,x)}}return function(){return c.apply(f,arguments)}}function _(c,f,m){return _=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?p:g,_.apply(null,arguments)}function b(c,f){var m=Array.prototype.slice.call(arguments,1);return function(){var v=m.slice();return v.push.apply(v,arguments),c.apply(this,v)}}function M(c,f){function m(){}m.prototype=f.prototype,c.aa=f.prototype,c.prototype=new m,c.prototype.constructor=c,c.Qb=function(v,x,P){for(var V=Array(arguments.length-2),Se=2;Se<arguments.length;Se++)V[Se-2]=arguments[Se];return f.prototype[x].apply(v,V)}}function F(c){let f=c.length;if(0<f){let m=Array(f);for(let v=0;v<f;v++)m[v]=c[v];return m}return[]}function k(c,f){for(let m=1;m<arguments.length;m++){let v=arguments[m];if(u(v)){let x=c.length||0,P=v.length||0;c.length=x+P;for(let V=0;V<P;V++)c[x+V]=v[V]}else c.push(v)}}class U{constructor(f,m){this.i=f,this.j=m,this.h=0,this.g=null}get(){let f;return 0<this.h?(this.h--,f=this.g,this.g=f.next,f.next=null):f=this.i(),f}}function K(c){return/^[\s\xa0]*$/.test(c)}function Y(){var c=a.navigator;return c&&(c=c.userAgent)?c:""}function ce(c){return ce[" "](c),c}ce[" "]=function(){};var Pe=Y().indexOf("Gecko")!=-1&&!(Y().toLowerCase().indexOf("webkit")!=-1&&Y().indexOf("Edge")==-1)&&!(Y().indexOf("Trident")!=-1||Y().indexOf("MSIE")!=-1)&&Y().indexOf("Edge")==-1;function X(c,f,m){for(let v in c)f.call(m,c[v],v,c)}function S(c,f){for(let m in c)f.call(void 0,c[m],m,c)}function I(c){let f={};for(let m in c)f[m]=c[m];return f}let E="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function T(c,f){let m,v;for(let x=1;x<arguments.length;x++){v=arguments[x];for(m in v)c[m]=v[m];for(let P=0;P<E.length;P++)m=E[P],Object.prototype.hasOwnProperty.call(v,m)&&(c[m]=v[m])}}function A(c){var f=1;c=c.split(":");let m=[];for(;0<f&&c.length;)m.push(c.shift()),f--;return c.length&&m.push(c.join(":")),m}function R(c){a.setTimeout(()=>{throw c},0)}function D(){var c=Jr;let f=null;return c.g&&(f=c.g,c.g=c.g.next,c.g||(c.h=null),f.next=null),f}class vn{constructor(){this.h=this.g=null}add(f,m){let v=Yr.get();v.set(f,m),this.h?this.h.next=v:this.g=v,this.h=v}}var Yr=new U(()=>new Wa,c=>c.reset());class Wa{constructor(){this.next=this.g=this.h=null}set(f,m){this.h=f,this.g=m,this.next=null}reset(){this.next=this.g=this.h=null}}let Zr,yr=!1,Jr=new vn,Ht=()=>{let c=a.Promise.resolve(void 0);Zr=()=>{c.then(Xr)}};var Xr=()=>{for(var c;c=D();){try{c.h.call(c.g)}catch(m){R(m)}var f=Yr;f.j(c),100>f.h&&(f.h++,c.next=f.g,f.g=c)}yr=!1};function Dt(){this.s=this.s,this.C=this.C}Dt.prototype.s=!1,Dt.prototype.ma=function(){this.s||(this.s=!0,this.N())},Dt.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function ut(c,f){this.type=c,this.g=this.target=f,this.defaultPrevented=!1}ut.prototype.h=function(){this.defaultPrevented=!0};var ei=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var c=!1,f=Object.defineProperty({},"passive",{get:function(){c=!0}});try{let m=()=>{};a.addEventListener("test",m,f),a.removeEventListener("test",m,f)}catch{}return c}();function wn(c,f){if(ut.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var m=this.type=c.type,v=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=f,f=c.relatedTarget){if(Pe){e:{try{ce(f.nodeName);var x=!0;break e}catch{}x=!1}x||(f=null)}}else m=="mouseover"?f=c.fromElement:m=="mouseout"&&(f=c.toElement);this.relatedTarget=f,v?(this.clientX=v.clientX!==void 0?v.clientX:v.pageX,this.clientY=v.clientY!==void 0?v.clientY:v.pageY,this.screenX=v.screenX||0,this.screenY=v.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:al[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&wn.aa.h.call(this)}}M(wn,ut);var al={2:"touch",3:"pen",4:"mouse"};wn.prototype.h=function(){wn.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var On="closure_listenable_"+(1e6*Math.random()|0),Ka=0;function Xp(c,f,m,v,x){this.listener=c,this.proxy=null,this.src=f,this.type=m,this.capture=!!v,this.ha=x,this.key=++Ka,this.da=this.fa=!1}function ti(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function ni(c){this.src=c,this.g={},this.h=0}ni.prototype.add=function(c,f,m,v,x){var P=c.toString();c=this.g[P],c||(c=this.g[P]=[],this.h++);var V=Qa(c,f,v,x);return-1<V?(f=c[V],m||(f.fa=!1)):(f=new Xp(f,this.src,P,!!v,x),f.fa=m,c.push(f)),f};function ri(c,f){var m=f.type;if(m in c.g){var v=c.g[m],x=Array.prototype.indexOf.call(v,f,void 0),P;(P=0<=x)&&Array.prototype.splice.call(v,x,1),P&&(ti(f),c.g[m].length==0&&(delete c.g[m],c.h--))}}function Qa(c,f,m,v){for(var x=0;x<c.length;++x){var P=c[x];if(!P.da&&P.listener==f&&P.capture==!!m&&P.ha==v)return x}return-1}var yt="closure_lm_"+(1e6*Math.random()|0),zt={};function cl(c,f,m,v,x){if(v&&v.once)return Ya(c,f,m,v,x);if(Array.isArray(f)){for(var P=0;P<f.length;P++)cl(c,f[P],m,v,x);return null}return m=Ke(m),c&&c[On]?c.K(f,m,d(v)?!!v.capture:!!v,x):Ct(c,f,m,!1,v,x)}function Ct(c,f,m,v,x,P){if(!f)throw Error("Invalid event type");var V=d(x)?!!x.capture:!!x,Se=_n(c);if(Se||(c[yt]=Se=new ni(c)),m=Se.add(f,m,v,V,P),m.proxy)return m;if(v=is(),m.proxy=v,v.src=c,v.listener=m,c.addEventListener)ei||(x=V),x===void 0&&(x=!1),c.addEventListener(f.toString(),v,x);else if(c.attachEvent)c.attachEvent(qt(f.toString()),v);else if(c.addListener&&c.removeListener)c.addListener(v);else throw Error("addEventListener and attachEvent are unavailable.");return m}function is(){function c(m){return f.call(c.src,c.listener,m)}let f=Fn;return c}function Ya(c,f,m,v,x){if(Array.isArray(f)){for(var P=0;P<f.length;P++)Ya(c,f[P],m,v,x);return null}return m=Ke(m),c&&c[On]?c.L(f,m,d(v)?!!v.capture:!!v,x):Ct(c,f,m,!0,v,x)}function Za(c,f,m,v,x){if(Array.isArray(f))for(var P=0;P<f.length;P++)Za(c,f[P],m,v,x);else v=d(v)?!!v.capture:!!v,m=Ke(m),c&&c[On]?(c=c.i,f=String(f).toString(),f in c.g&&(P=c.g[f],m=Qa(P,m,v,x),-1<m&&(ti(P[m]),Array.prototype.splice.call(P,m,1),P.length==0&&(delete c.g[f],c.h--)))):c&&(c=_n(c))&&(f=c.g[f.toString()],c=-1,f&&(c=Qa(f,m,v,x)),(m=-1<c?f[c]:null)&&pe(m))}function pe(c){if(typeof c!="number"&&c&&!c.da){var f=c.src;if(f&&f[On])ri(f.i,c);else{var m=c.type,v=c.proxy;f.removeEventListener?f.removeEventListener(m,v,c.capture):f.detachEvent?f.detachEvent(qt(m),v):f.addListener&&f.removeListener&&f.removeListener(v),(m=_n(f))?(ri(m,c),m.h==0&&(m.src=null,f[yt]=null)):ti(c)}}}function qt(c){return c in zt?zt[c]:zt[c]="on"+c}function Fn(c,f){if(c.da)c=!0;else{f=new wn(f,this);var m=c.listener,v=c.ha||c.src;c.fa&&pe(c),c=m.call(v,f)}return c}function _n(c){return c=c[yt],c instanceof ni?c:null}var $e="__closure_events_fn_"+(1e9*Math.random()>>>0);function Ke(c){return typeof c=="function"?c:(c[$e]||(c[$e]=function(f){return c.handleEvent(f)}),c[$e])}function Qe(){Dt.call(this),this.i=new ni(this),this.M=this,this.F=null}M(Qe,Dt),Qe.prototype[On]=!0,Qe.prototype.removeEventListener=function(c,f,m,v){Za(this,c,f,m,v)};function lt(c,f){var m,v=c.F;if(v)for(m=[];v;v=v.F)m.push(v);if(c=c.M,v=f.type||f,typeof f=="string")f=new ut(f,c);else if(f instanceof ut)f.target=f.target||c;else{var x=f;f=new ut(v,c),T(f,x)}if(x=!0,m)for(var P=m.length-1;0<=P;P--){var V=f.g=m[P];x=Ln(V,v,!0,f)&&x}if(V=f.g=c,x=Ln(V,v,!0,f)&&x,x=Ln(V,v,!1,f)&&x,m)for(P=0;P<m.length;P++)V=f.g=m[P],x=Ln(V,v,!1,f)&&x}Qe.prototype.N=function(){if(Qe.aa.N.call(this),this.i){var c=this.i,f;for(f in c.g){for(var m=c.g[f],v=0;v<m.length;v++)ti(m[v]);delete c.g[f],c.h--}}this.F=null},Qe.prototype.K=function(c,f,m,v){return this.i.add(String(c),f,!1,m,v)},Qe.prototype.L=function(c,f,m,v){return this.i.add(String(c),f,!0,m,v)};function Ln(c,f,m,v){if(f=c.i.g[String(f)],!f)return!0;f=f.concat();for(var x=!0,P=0;P<f.length;++P){var V=f[P];if(V&&!V.da&&V.capture==m){var Se=V.listener,it=V.ha||V.src;V.fa&&ri(c.i,V),x=Se.call(it,v)!==!1&&x}}return x&&!v.defaultPrevented}function vt(c,f,m){if(typeof c=="function")m&&(c=_(c,m));else if(c&&typeof c.handleEvent=="function")c=_(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(f)?-1:a.setTimeout(c,f||0)}function ul(c){c.g=vt(()=>{c.g=null,c.i&&(c.i=!1,ul(c))},c.l);let f=c.h;c.h=null,c.m.apply(null,f)}class ll extends Dt{constructor(f,m){super(),this.m=f,this.l=m,this.h=null,this.i=!1,this.g=null}j(f){this.h=arguments,this.g?this.i=!0:ul(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function ii(c){Dt.call(this),this.h=c,this.g={}}M(ii,Dt);var os=[];function dl(c){X(c.g,function(f,m){this.g.hasOwnProperty(m)&&pe(f)},c),c.g={}}ii.prototype.N=function(){ii.aa.N.call(this),dl(this)},ii.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var Ja=a.JSON.stringify,eg=a.JSON.parse,tg=class{stringify(c){return a.JSON.stringify(c,void 0)}parse(c){return a.JSON.parse(c,void 0)}};function In(){}In.prototype.h=null;function hl(c){return c.h||(c.h=c.i())}function fl(){}var Yi={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function Xa(){ut.call(this,"d")}M(Xa,ut);function ec(){ut.call(this,"c")}M(ec,ut);var En={},pl=null;function ss(){return pl=pl||new Qe}En.La="serverreachability";function gl(c){ut.call(this,En.La,c)}M(gl,ut);function Zi(c){let f=ss();lt(f,new gl(f))}En.STAT_EVENT="statevent";function ml(c,f){ut.call(this,En.STAT_EVENT,c),this.stat=f}M(ml,ut);function rt(c){let f=ss();lt(f,new ml(f,c))}En.Ma="timingevent";function yl(c,f){ut.call(this,En.Ma,c),this.size=f}M(yl,ut);function Ji(c,f){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){c()},f)}function Xi(){this.g=!0}Xi.prototype.xa=function(){this.g=!1};function ng(c,f,m,v,x,P){c.info(function(){if(c.g)if(P)for(var V="",Se=P.split("&"),it=0;it<Se.length;it++){var _e=Se[it].split("=");if(1<_e.length){var dt=_e[0];_e=_e[1];var ot=dt.split("_");V=2<=ot.length&&ot[1]=="type"?V+(dt+"="+_e+"&"):V+(dt+"=redacted&")}}else V=null;else V=P;return"XMLHTTP REQ ("+v+") [attempt "+x+"]: "+f+`
`+m+`
`+V})}function rg(c,f,m,v,x,P,V){c.info(function(){return"XMLHTTP RESP ("+v+") [ attempt "+x+"]: "+f+`
`+m+`
`+P+" "+V})}function De(c,f,m,v){c.info(function(){return"XMLHTTP TEXT ("+f+"): "+og(c,m)+(v?" "+v:"")})}function ig(c,f){c.info(function(){return"TIMEOUT: "+f})}Xi.prototype.info=function(){};function og(c,f){if(!c.g)return f;if(!f)return null;try{var m=JSON.parse(f);if(m){for(c=0;c<m.length;c++)if(Array.isArray(m[c])){var v=m[c];if(!(2>v.length)){var x=v[1];if(Array.isArray(x)&&!(1>x.length)){var P=x[0];if(P!="noop"&&P!="stop"&&P!="close")for(var V=1;V<x.length;V++)x[V]=""}}}}return Ja(m)}catch{return f}}var as={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},vl={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},tc;function cs(){}M(cs,In),cs.prototype.g=function(){return new XMLHttpRequest},cs.prototype.i=function(){return{}},tc=new cs;function sn(c,f,m,v){this.j=c,this.i=f,this.l=m,this.R=v||1,this.U=new ii(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new oi}function oi(){this.i=null,this.g="",this.h=!1}var nc={},si={};function Fe(c,f,m){c.L=1,c.v=ls(an(f)),c.m=m,c.P=!0,wl(c,null)}function wl(c,f){c.F=Date.now(),eo(c),c.A=an(c.v);var m=c.A,v=c.R;Array.isArray(v)||(v=[String(v)]),Ol(m.i,"t",v),c.C=0,m=c.j.J,c.h=new oi,c.g=yc(c.j,m?f:null,!c.m),0<c.O&&(c.M=new ll(_(c.Y,c,c.g),c.O)),f=c.U,m=c.g,v=c.ca;var x="readystatechange";Array.isArray(x)||(x&&(os[0]=x.toString()),x=os);for(var P=0;P<x.length;P++){var V=cl(m,x[P],v||f.handleEvent,!1,f.h||f);if(!V)break;f.g[V.key]=V}f=c.H?I(c.H):{},c.m?(c.u||(c.u="POST"),f["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,f)):(c.u="GET",c.g.ea(c.A,c.u,null,f)),Zi(),ng(c.i,c.u,c.A,c.l,c.R,c.m)}sn.prototype.ca=function(c){c=c.target;let f=this.M;f&&Dn(c)==3?f.j():this.Y(c)},sn.prototype.Y=function(c){try{if(c==this.g)e:{let ot=Dn(this.g);var f=this.g.Ba();let $n=this.g.Z();if(!(3>ot)&&(ot!=3||this.g&&(this.h.h||this.g.oa()||$l(this.g)))){this.J||ot!=4||f==7||(f==8||0>=$n?Zi(3):Zi(2)),rc(this);var m=this.g.Z();this.X=m;t:if(_l(this)){var v=$l(this.g);c="";var x=v.length,P=Dn(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Vn(this),to(this);var V="";break t}this.h.i=new a.TextDecoder}for(f=0;f<x;f++)this.h.h=!0,c+=this.h.i.decode(v[f],{stream:!(P&&f==x-1)});v.length=0,this.h.g+=c,this.C=0,V=this.h.g}else V=this.g.oa();if(this.o=m==200,rg(this.i,this.u,this.A,this.l,this.R,ot,m),this.o){if(this.T&&!this.K){t:{if(this.g){var Se,it=this.g;if((Se=it.g?it.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!K(Se)){var _e=Se;break t}}_e=null}if(m=_e)De(this.i,this.l,m,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,ic(this,m);else{this.o=!1,this.s=3,rt(12),Vn(this),to(this);break e}}if(this.P){m=!0;let Gt;for(;!this.J&&this.C<V.length;)if(Gt=sg(this,V),Gt==si){ot==4&&(this.s=4,rt(14),m=!1),De(this.i,this.l,null,"[Incomplete Response]");break}else if(Gt==nc){this.s=4,rt(15),De(this.i,this.l,V,"[Invalid Chunk]"),m=!1;break}else De(this.i,this.l,Gt,null),ic(this,Gt);if(_l(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),ot!=4||V.length!=0||this.h.h||(this.s=1,rt(16),m=!1),this.o=this.o&&m,!m)De(this.i,this.l,V,"[Invalid Chunked Response]"),Vn(this),to(this);else if(0<V.length&&!this.W){this.W=!0;var dt=this.j;dt.g==this&&dt.ba&&!dt.M&&(dt.j.info("Great, no buffering proxy detected. Bytes received: "+V.length),hi(dt),dt.M=!0,rt(11))}}else De(this.i,this.l,V,null),ic(this,V);ot==4&&Vn(this),this.o&&!this.J&&(ot==4?fc(this.j,this):(this.o=!1,eo(this)))}else gg(this.g),m==400&&0<V.indexOf("Unknown SID")?(this.s=3,rt(12)):(this.s=0,rt(13)),Vn(this),to(this)}}}catch{}finally{}};function _l(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function sg(c,f){var m=c.C,v=f.indexOf(`
`,m);return v==-1?si:(m=Number(f.substring(m,v)),isNaN(m)?nc:(v+=1,v+m>f.length?si:(f=f.slice(v,v+m),c.C=v+m,f)))}sn.prototype.cancel=function(){this.J=!0,Vn(this)};function eo(c){c.S=Date.now()+c.I,Il(c,c.I)}function Il(c,f){if(c.B!=null)throw Error("WatchDog timer not null");c.B=Ji(_(c.ba,c),f)}function rc(c){c.B&&(a.clearTimeout(c.B),c.B=null)}sn.prototype.ba=function(){this.B=null;let c=Date.now();0<=c-this.S?(ig(this.i,this.A),this.L!=2&&(Zi(),rt(17)),Vn(this),this.s=2,to(this)):Il(this,this.S-c)};function to(c){c.j.G==0||c.J||fc(c.j,c)}function Vn(c){rc(c);var f=c.M;f&&typeof f.ma=="function"&&f.ma(),c.M=null,dl(c.U),c.g&&(f=c.g,c.g=null,f.abort(),f.ma())}function ic(c,f){try{var m=c.j;if(m.G!=0&&(m.g==c||oc(m.h,c))){if(!c.K&&oc(m.h,c)&&m.G==3){try{var v=m.Da.g.parse(f)}catch{v=null}if(Array.isArray(v)&&v.length==3){var x=v;if(x[0]==0){e:if(!m.u){if(m.g)if(m.g.F+3e3<c.F)uo(m),ps(m);else break e;co(m),rt(18)}}else m.za=x[1],0<m.za-m.T&&37500>x[2]&&m.F&&m.v==0&&!m.C&&(m.C=Ji(_(m.Za,m),6e3));if(1>=Cl(m.h)&&m.ca){try{m.ca()}catch{}m.ca=void 0}}else Bn(m,11)}else if((c.K||m.g==c)&&uo(m),!K(f))for(x=m.Da.g.parse(f),f=0;f<x.length;f++){let _e=x[f];if(m.T=_e[0],_e=_e[1],m.G==2)if(_e[0]=="c"){m.K=_e[1],m.ia=_e[2];let dt=_e[3];dt!=null&&(m.la=dt,m.j.info("VER="+m.la));let ot=_e[4];ot!=null&&(m.Aa=ot,m.j.info("SVER="+m.Aa));let $n=_e[5];$n!=null&&typeof $n=="number"&&0<$n&&(v=1.5*$n,m.L=v,m.j.info("backChannelRequestTimeoutMs_="+v)),v=m;let Gt=c.g;if(Gt){let ms=Gt.g?Gt.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(ms){var P=v.h;P.g||ms.indexOf("spdy")==-1&&ms.indexOf("quic")==-1&&ms.indexOf("h2")==-1||(P.j=P.l,P.g=new Set,P.h&&(sc(P,P.h),P.h=null))}if(v.D){let wc=Gt.g?Gt.g.getResponseHeader("X-HTTP-Session-Id"):null;wc&&(v.ya=wc,ke(v.I,v.D,wc))}}m.G=3,m.l&&m.l.ua(),m.ba&&(m.R=Date.now()-c.F,m.j.info("Handshake RTT: "+m.R+"ms")),v=m;var V=c;if(v.qa=mc(v,v.J?v.ia:null,v.W),V.K){Tl(v.h,V);var Se=V,it=v.L;it&&(Se.I=it),Se.B&&(rc(Se),eo(Se)),v.g=V}else hc(v);0<m.i.length&&gs(m)}else _e[0]!="stop"&&_e[0]!="close"||Bn(m,7);else m.G==3&&(_e[0]=="stop"||_e[0]=="close"?_e[0]=="stop"?Bn(m,7):fs(m):_e[0]!="noop"&&m.l&&m.l.ta(_e),m.v=0)}}Zi(4)}catch{}}var El=class{constructor(c,f){this.g=c,this.map=f}};function bl(c){this.l=c||10,a.PerformanceNavigationTiming?(c=a.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Dl(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function Cl(c){return c.h?1:c.g?c.g.size:0}function oc(c,f){return c.h?c.h==f:c.g?c.g.has(f):!1}function sc(c,f){c.g?c.g.add(f):c.h=f}function Tl(c,f){c.h&&c.h==f?c.h=null:c.g&&c.g.has(f)&&c.g.delete(f)}bl.prototype.cancel=function(){if(this.i=Sl(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(let c of this.g.values())c.cancel();this.g.clear()}};function Sl(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let f=c.i;for(let m of c.g.values())f=f.concat(m.D);return f}return F(c.i)}function Al(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(u(c)){for(var f=[],m=c.length,v=0;v<m;v++)f.push(c[v]);return f}f=[],m=0;for(v in c)f[m++]=c[v];return f}function ag(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(u(c)||typeof c=="string"){var f=[];c=c.length;for(var m=0;m<c;m++)f.push(m);return f}f=[],m=0;for(let v in c)f[m++]=v;return f}}}function ac(c,f){if(c.forEach&&typeof c.forEach=="function")c.forEach(f,void 0);else if(u(c)||typeof c=="string")Array.prototype.forEach.call(c,f,void 0);else for(var m=ag(c),v=Al(c),x=v.length,P=0;P<x;P++)f.call(void 0,v[P],m&&m[P],c)}var Rl=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function cg(c,f){if(c){c=c.split("&");for(var m=0;m<c.length;m++){var v=c[m].indexOf("="),x=null;if(0<=v){var P=c[m].substring(0,v);x=c[m].substring(v+1)}else P=c[m];f(P,x?decodeURIComponent(x.replace(/\+/g," ")):"")}}}function Ft(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof Ft){this.h=c.h,us(this,c.j),this.o=c.o,this.g=c.g,ai(this,c.s),this.l=c.l;var f=c.i,m=new io;m.i=f.i,f.g&&(m.g=new Map(f.g),m.h=f.h),cc(this,m),this.m=c.m}else c&&(f=String(c).match(Rl))?(this.h=!1,us(this,f[1]||"",!0),this.o=no(f[2]||""),this.g=no(f[3]||"",!0),ai(this,f[4]),this.l=no(f[5]||"",!0),cc(this,f[6]||"",!0),this.m=no(f[7]||"")):(this.h=!1,this.i=new io(null,this.h))}Ft.prototype.toString=function(){var c=[],f=this.j;f&&c.push(ro(f,xl,!0),":");var m=this.g;return(m||f=="file")&&(c.push("//"),(f=this.o)&&c.push(ro(f,xl,!0),"@"),c.push(encodeURIComponent(String(m)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),m=this.s,m!=null&&c.push(":",String(m))),(m=this.l)&&(this.g&&m.charAt(0)!="/"&&c.push("/"),c.push(ro(m,m.charAt(0)=="/"?lg:ci,!0))),(m=this.i.toString())&&c.push("?",m),(m=this.m)&&c.push("#",ro(m,Nl)),c.join("")};function an(c){return new Ft(c)}function us(c,f,m){c.j=m?no(f,!0):f,c.j&&(c.j=c.j.replace(/:$/,""))}function ai(c,f){if(f){if(f=Number(f),isNaN(f)||0>f)throw Error("Bad port number "+f);c.s=f}else c.s=null}function cc(c,f,m){f instanceof io?(c.i=f,dg(c.i,c.h)):(m||(f=ro(f,Ml)),c.i=new io(f,c.h))}function ke(c,f,m){c.i.set(f,m)}function ls(c){return ke(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function no(c,f){return c?f?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function ro(c,f,m){return typeof c=="string"?(c=encodeURI(c).replace(f,ug),m&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function ug(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var xl=/[#\/\?@]/g,ci=/[#\?:]/g,lg=/[#\?]/g,Ml=/[#\?@]/g,Nl=/#/g;function io(c,f){this.h=this.g=null,this.i=c||null,this.j=!!f}function jn(c){c.g||(c.g=new Map,c.h=0,c.i&&cg(c.i,function(f,m){c.add(decodeURIComponent(f.replace(/\+/g," ")),m)}))}n=io.prototype,n.add=function(c,f){jn(this),this.i=null,c=ui(this,c);var m=this.g.get(c);return m||this.g.set(c,m=[]),m.push(f),this.h+=1,this};function Pl(c,f){jn(c),f=ui(c,f),c.g.has(f)&&(c.i=null,c.h-=c.g.get(f).length,c.g.delete(f))}function kl(c,f){return jn(c),f=ui(c,f),c.g.has(f)}n.forEach=function(c,f){jn(this),this.g.forEach(function(m,v){m.forEach(function(x){c.call(f,x,v,this)},this)},this)},n.na=function(){jn(this);let c=Array.from(this.g.values()),f=Array.from(this.g.keys()),m=[];for(let v=0;v<f.length;v++){let x=c[v];for(let P=0;P<x.length;P++)m.push(f[v])}return m},n.V=function(c){jn(this);let f=[];if(typeof c=="string")kl(this,c)&&(f=f.concat(this.g.get(ui(this,c))));else{c=Array.from(this.g.values());for(let m=0;m<c.length;m++)f=f.concat(c[m])}return f},n.set=function(c,f){return jn(this),this.i=null,c=ui(this,c),kl(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[f]),this.h+=1,this},n.get=function(c,f){return c?(c=this.V(c),0<c.length?String(c[0]):f):f};function Ol(c,f,m){Pl(c,f),0<m.length&&(c.i=null,c.g.set(ui(c,f),F(m)),c.h+=m.length)}n.toString=function(){if(this.i)return this.i;if(!this.g)return"";let c=[],f=Array.from(this.g.keys());for(var m=0;m<f.length;m++){var v=f[m];let P=encodeURIComponent(String(v)),V=this.V(v);for(v=0;v<V.length;v++){var x=P;V[v]!==""&&(x+="="+encodeURIComponent(String(V[v]))),c.push(x)}}return this.i=c.join("&")};function ui(c,f){return f=String(f),c.j&&(f=f.toLowerCase()),f}function dg(c,f){f&&!c.j&&(jn(c),c.i=null,c.g.forEach(function(m,v){var x=v.toLowerCase();v!=x&&(Pl(this,v),Ol(this,x,m))},c)),c.j=f}function li(c,f){let m=new Xi;if(a.Image){let v=new Image;v.onload=b(Un,m,"TestLoadImage: loaded",!0,f,v),v.onerror=b(Un,m,"TestLoadImage: error",!1,f,v),v.onabort=b(Un,m,"TestLoadImage: abort",!1,f,v),v.ontimeout=b(Un,m,"TestLoadImage: timeout",!1,f,v),a.setTimeout(function(){v.ontimeout&&v.ontimeout()},1e4),v.src=c}else f(!1)}function hg(c,f){let m=new Xi,v=new AbortController,x=setTimeout(()=>{v.abort(),Un(m,"TestPingServer: timeout",!1,f)},1e4);fetch(c,{signal:v.signal}).then(P=>{clearTimeout(x),P.ok?Un(m,"TestPingServer: ok",!0,f):Un(m,"TestPingServer: server error",!1,f)}).catch(()=>{clearTimeout(x),Un(m,"TestPingServer: error",!1,f)})}function Un(c,f,m,v,x){try{x&&(x.onload=null,x.onerror=null,x.onabort=null,x.ontimeout=null),v(m)}catch{}}function Fl(){this.g=new tg}function fg(c,f,m){let v=m||"";try{ac(c,function(x,P){let V=x;d(x)&&(V=Ja(x)),f.push(v+P+"="+encodeURIComponent(V))})}catch(x){throw f.push(v+"type="+encodeURIComponent("_badmap")),x}}function Lt(c){this.l=c.Ub||null,this.j=c.eb||!1}M(Lt,In),Lt.prototype.g=function(){return new ds(this.l,this.j)},Lt.prototype.i=function(c){return function(){return c}}({});function ds(c,f){Qe.call(this),this.D=c,this.o=f,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}M(ds,Qe),n=ds.prototype,n.open=function(c,f){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=f,this.readyState=1,oo(this)},n.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;let f={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(f.body=c),(this.D||a).fetch(new Request(this.A,f)).then(this.Sa.bind(this),this.ga.bind(this))},n.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,bn(this)),this.readyState=0},n.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,oo(this)),this.g&&(this.readyState=3,oo(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;uc(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function uc(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}n.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var f=c.value?c.value:new Uint8Array(0);(f=this.v.decode(f,{stream:!c.done}))&&(this.response=this.responseText+=f)}c.done?bn(this):oo(this),this.readyState==3&&uc(this)}},n.Ra=function(c){this.g&&(this.response=this.responseText=c,bn(this))},n.Qa=function(c){this.g&&(this.response=c,bn(this))},n.ga=function(){this.g&&bn(this)};function bn(c){c.readyState=4,c.l=null,c.j=null,c.v=null,oo(c)}n.setRequestHeader=function(c,f){this.u.append(c,f)},n.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},n.getAllResponseHeaders=function(){if(!this.h)return"";let c=[],f=this.h.entries();for(var m=f.next();!m.done;)m=m.value,c.push(m[0]+": "+m[1]),m=f.next();return c.join(`\r
`)};function oo(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(ds.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function Ll(c){let f="";return X(c,function(m,v){f+=v,f+=":",f+=m,f+=`\r
`}),f}function lc(c,f,m){e:{for(v in m){var v=!1;break e}v=!0}v||(m=Ll(m),typeof c=="string"?m!=null&&encodeURIComponent(String(m)):ke(c,f,m))}function Le(c){Qe.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}M(Le,Qe);var di=/^https?$/i,pg=["POST","PUT"];n=Le.prototype,n.Ha=function(c){this.J=c},n.ea=function(c,f,m,v){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);f=f?f.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():tc.g(),this.v=this.o?hl(this.o):hl(tc),this.g.onreadystatechange=_(this.Ea,this);try{this.B=!0,this.g.open(f,String(c),!0),this.B=!1}catch(P){Vl(this,P);return}if(c=m||"",m=new Map(this.headers),v)if(Object.getPrototypeOf(v)===Object.prototype)for(var x in v)m.set(x,v[x]);else if(typeof v.keys=="function"&&typeof v.get=="function")for(let P of v.keys())m.set(P,v.get(P));else throw Error("Unknown input type for opt_headers: "+String(v));v=Array.from(m.keys()).find(P=>P.toLowerCase()=="content-type"),x=a.FormData&&c instanceof a.FormData,!(0<=Array.prototype.indexOf.call(pg,f,void 0))||v||x||m.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(let[P,V]of m)this.g.setRequestHeader(P,V);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Bl(this),this.u=!0,this.g.send(c),this.u=!1}catch(P){Vl(this,P)}};function Vl(c,f){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=f,c.m=5,jl(c),hs(c)}function jl(c){c.A||(c.A=!0,lt(c,"complete"),lt(c,"error"))}n.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,lt(this,"complete"),lt(this,"abort"),hs(this))},n.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),hs(this,!0)),Le.aa.N.call(this)},n.Ea=function(){this.s||(this.B||this.u||this.j?Ul(this):this.bb())},n.bb=function(){Ul(this)};function Ul(c){if(c.h&&typeof s<"u"&&(!c.v[1]||Dn(c)!=4||c.Z()!=2)){if(c.u&&Dn(c)==4)vt(c.Ea,0,c);else if(lt(c,"readystatechange"),Dn(c)==4){c.h=!1;try{let V=c.Z();e:switch(V){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var f=!0;break e;default:f=!1}var m;if(!(m=f)){var v;if(v=V===0){var x=String(c.D).match(Rl)[1]||null;!x&&a.self&&a.self.location&&(x=a.self.location.protocol.slice(0,-1)),v=!di.test(x?x.toLowerCase():"")}m=v}if(m)lt(c,"complete"),lt(c,"success");else{c.m=6;try{var P=2<Dn(c)?c.g.statusText:""}catch{P=""}c.l=P+" ["+c.Z()+"]",jl(c)}}finally{hs(c)}}}}function hs(c,f){if(c.g){Bl(c);let m=c.g,v=c.v[0]?()=>{}:null;c.g=null,c.v=null,f||lt(c,"ready");try{m.onreadystatechange=v}catch{}}}function Bl(c){c.I&&(a.clearTimeout(c.I),c.I=null)}n.isActive=function(){return!!this.g};function Dn(c){return c.g?c.g.readyState:0}n.Z=function(){try{return 2<Dn(this)?this.g.status:-1}catch{return-1}},n.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},n.Oa=function(c){if(this.g){var f=this.g.responseText;return c&&f.indexOf(c)==0&&(f=f.substring(c.length)),eg(f)}};function $l(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function gg(c){let f={};c=(c.g&&2<=Dn(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let v=0;v<c.length;v++){if(K(c[v]))continue;var m=A(c[v]);let x=m[0];if(m=m[1],typeof m!="string")continue;m=m.trim();let P=f[x]||[];f[x]=P,P.push(m)}S(f,function(v){return v.join(", ")})}n.Ba=function(){return this.m},n.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function so(c,f,m){return m&&m.internalChannelParams&&m.internalChannelParams[c]||f}function ao(c){this.Aa=0,this.i=[],this.j=new Xi,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=so("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=so("baseRetryDelayMs",5e3,c),this.cb=so("retryDelaySeedMs",1e4,c),this.Wa=so("forwardChannelMaxRetries",2,c),this.wa=so("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new bl(c&&c.concurrentRequestLimit),this.Da=new Fl,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}n=ao.prototype,n.la=8,n.G=1,n.connect=function(c,f,m,v){rt(0),this.W=c,this.H=f||{},m&&v!==void 0&&(this.H.OSID=m,this.H.OAID=v),this.F=this.X,this.I=mc(this,null,this.W),gs(this)};function fs(c){if(Hl(c),c.G==3){var f=c.U++,m=an(c.I);if(ke(m,"SID",c.K),ke(m,"RID",f),ke(m,"TYPE","terminate"),vr(c,m),f=new sn(c,c.j,f),f.L=2,f.v=ls(an(m)),m=!1,a.navigator&&a.navigator.sendBeacon)try{m=a.navigator.sendBeacon(f.v.toString(),"")}catch{}!m&&a.Image&&(new Image().src=f.v,m=!0),m||(f.g=yc(f.j,null),f.g.ea(f.v)),f.F=Date.now(),eo(f)}gc(c)}function ps(c){c.g&&(hi(c),c.g.cancel(),c.g=null)}function Hl(c){ps(c),c.u&&(a.clearTimeout(c.u),c.u=null),uo(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&a.clearTimeout(c.s),c.s=null)}function gs(c){if(!Dl(c.h)&&!c.s){c.s=!0;var f=c.Ga;Zr||Ht(),yr||(Zr(),yr=!0),Jr.add(f,c),c.B=0}}function zl(c,f){return Cl(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=f.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=Ji(_(c.Ga,c,f),pc(c,c.B)),c.B++,!0)}n.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;let x=new sn(this,this.j,c),P=this.o;if(this.S&&(P?(P=I(P),T(P,this.S)):P=this.S),this.m!==null||this.O||(x.H=P,P=null),this.P)e:{for(var f=0,m=0;m<this.i.length;m++){t:{var v=this.i[m];if("__data__"in v.map&&(v=v.map.__data__,typeof v=="string")){v=v.length;break t}v=void 0}if(v===void 0)break;if(f+=v,4096<f){f=m;break e}if(f===4096||m===this.i.length-1){f=m+1;break e}}f=1e3}else f=1e3;f=dc(this,x,f),m=an(this.I),ke(m,"RID",c),ke(m,"CVER",22),this.D&&ke(m,"X-HTTP-Session-Id",this.D),vr(this,m),P&&(this.O?f="headers="+encodeURIComponent(String(Ll(P)))+"&"+f:this.m&&lc(m,this.m,P)),sc(this.h,x),this.Ua&&ke(m,"TYPE","init"),this.P?(ke(m,"$req",f),ke(m,"SID","null"),x.T=!0,Fe(x,m,null)):Fe(x,m,f),this.G=2}}else this.G==3&&(c?ql(this,c):this.i.length==0||Dl(this.h)||ql(this))};function ql(c,f){var m;f?m=f.l:m=c.U++;let v=an(c.I);ke(v,"SID",c.K),ke(v,"RID",m),ke(v,"AID",c.T),vr(c,v),c.m&&c.o&&lc(v,c.m,c.o),m=new sn(c,c.j,m,c.B+1),c.m===null&&(m.H=c.o),f&&(c.i=f.D.concat(c.i)),f=dc(c,m,1e3),m.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),sc(c.h,m),Fe(m,v,f)}function vr(c,f){c.H&&X(c.H,function(m,v){ke(f,v,m)}),c.l&&ac({},function(m,v){ke(f,v,m)})}function dc(c,f,m){m=Math.min(c.i.length,m);var v=c.l?_(c.l.Na,c.l,c):null;e:{var x=c.i;let P=-1;for(;;){let V=["count="+m];P==-1?0<m?(P=x[0].g,V.push("ofs="+P)):P=0:V.push("ofs="+P);let Se=!0;for(let it=0;it<m;it++){let _e=x[it].g,dt=x[it].map;if(_e-=P,0>_e)P=Math.max(0,x[it].g-100),Se=!1;else try{fg(dt,V,"req"+_e+"_")}catch{v&&v(dt)}}if(Se){v=V.join("&");break e}}}return c=c.i.splice(0,m),f.D=c,v}function hc(c){if(!c.g&&!c.u){c.Y=1;var f=c.Fa;Zr||Ht(),yr||(Zr(),yr=!0),Jr.add(f,c),c.v=0}}function co(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=Ji(_(c.Fa,c),pc(c,c.v)),c.v++,!0)}n.Fa=function(){if(this.u=null,Gl(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=Ji(_(this.ab,this),c)}},n.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,rt(10),ps(this),Gl(this))};function hi(c){c.A!=null&&(a.clearTimeout(c.A),c.A=null)}function Gl(c){c.g=new sn(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var f=an(c.qa);ke(f,"RID","rpc"),ke(f,"SID",c.K),ke(f,"AID",c.T),ke(f,"CI",c.F?"0":"1"),!c.F&&c.ja&&ke(f,"TO",c.ja),ke(f,"TYPE","xmlhttp"),vr(c,f),c.m&&c.o&&lc(f,c.m,c.o),c.L&&(c.g.I=c.L);var m=c.g;c=c.ia,m.L=1,m.v=ls(an(f)),m.m=null,m.P=!0,wl(m,c)}n.Za=function(){this.C!=null&&(this.C=null,ps(this),co(this),rt(19))};function uo(c){c.C!=null&&(a.clearTimeout(c.C),c.C=null)}function fc(c,f){var m=null;if(c.g==f){uo(c),hi(c),c.g=null;var v=2}else if(oc(c.h,f))m=f.D,Tl(c.h,f),v=1;else return;if(c.G!=0){if(f.o)if(v==1){m=f.m?f.m.length:0,f=Date.now()-f.F;var x=c.B;v=ss(),lt(v,new yl(v,m)),gs(c)}else hc(c);else if(x=f.s,x==3||x==0&&0<f.X||!(v==1&&zl(c,f)||v==2&&co(c)))switch(m&&0<m.length&&(f=c.h,f.i=f.i.concat(m)),x){case 1:Bn(c,5);break;case 4:Bn(c,10);break;case 3:Bn(c,6);break;default:Bn(c,2)}}}function pc(c,f){let m=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(m*=2),m*f}function Bn(c,f){if(c.j.info("Error code "+f),f==2){var m=_(c.fb,c),v=c.Xa;let x=!v;v=new Ft(v||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||us(v,"https"),ls(v),x?li(v.toString(),m):hg(v.toString(),m)}else rt(2);c.G=0,c.l&&c.l.sa(f),gc(c),Hl(c)}n.fb=function(c){c?(this.j.info("Successfully pinged google.com"),rt(2)):(this.j.info("Failed to ping google.com"),rt(1))};function gc(c){if(c.G=0,c.ka=[],c.l){let f=Sl(c.h);(f.length!=0||c.i.length!=0)&&(k(c.ka,f),k(c.ka,c.i),c.h.i.length=0,F(c.i),c.i.length=0),c.l.ra()}}function mc(c,f,m){var v=m instanceof Ft?an(m):new Ft(m);if(v.g!="")f&&(v.g=f+"."+v.g),ai(v,v.s);else{var x=a.location;v=x.protocol,f=f?f+"."+x.hostname:x.hostname,x=+x.port;var P=new Ft(null);v&&us(P,v),f&&(P.g=f),x&&ai(P,x),m&&(P.l=m),v=P}return m=c.D,f=c.ya,m&&f&&ke(v,m,f),ke(v,"VER",c.la),vr(c,v),v}function yc(c,f,m){if(f&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return f=c.Ca&&!c.pa?new Le(new Lt({eb:m})):new Le(c.pa),f.Ha(c.J),f}n.isActive=function(){return!!this.l&&this.l.isActive(this)};function vc(){}n=vc.prototype,n.ua=function(){},n.ta=function(){},n.sa=function(){},n.ra=function(){},n.isActive=function(){return!0},n.Na=function(){};function lo(){}lo.prototype.g=function(c,f){return new Ye(c,f)};function Ye(c,f){Qe.call(this),this.g=new ao(f),this.l=c,this.h=f&&f.messageUrlParams||null,c=f&&f.messageHeaders||null,f&&f.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=f&&f.initMessageHeaders||null,f&&f.messageContentType&&(c?c["X-WebChannel-Content-Type"]=f.messageContentType:c={"X-WebChannel-Content-Type":f.messageContentType}),f&&f.va&&(c?c["X-WebChannel-Client-Profile"]=f.va:c={"X-WebChannel-Client-Profile":f.va}),this.g.S=c,(c=f&&f.Sb)&&!K(c)&&(this.g.m=c),this.v=f&&f.supportsCrossDomainXhr||!1,this.u=f&&f.sendRawJson||!1,(f=f&&f.httpSessionIdParam)&&!K(f)&&(this.g.D=f,c=this.h,c!==null&&f in c&&(c=this.h,f in c&&delete c[f])),this.j=new fi(this)}M(Ye,Qe),Ye.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},Ye.prototype.close=function(){fs(this.g)},Ye.prototype.o=function(c){var f=this.g;if(typeof c=="string"){var m={};m.__data__=c,c=m}else this.u&&(m={},m.__data__=Ja(c),c=m);f.i.push(new El(f.Ya++,c)),f.G==3&&gs(f)},Ye.prototype.N=function(){this.g.l=null,delete this.j,fs(this.g),delete this.g,Ye.aa.N.call(this)};function Wl(c){Xa.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var f=c.__sm__;if(f){e:{for(let m in f){c=m;break e}c=void 0}(this.i=c)&&(c=this.i,f=f!==null&&c in f?f[c]:void 0),this.data=f}else this.data=c}M(Wl,Xa);function Kl(){ec.call(this),this.status=1}M(Kl,ec);function fi(c){this.g=c}M(fi,vc),fi.prototype.ua=function(){lt(this.g,"a")},fi.prototype.ta=function(c){lt(this.g,new Wl(c))},fi.prototype.sa=function(c){lt(this.g,new Kl)},fi.prototype.ra=function(){lt(this.g,"b")},lo.prototype.createWebChannel=lo.prototype.g,Ye.prototype.send=Ye.prototype.o,Ye.prototype.open=Ye.prototype.m,Ye.prototype.close=Ye.prototype.close,r_=qr.createWebChannelTransport=function(){return new lo},n_=qr.getStatEventTarget=function(){return ss()},t_=qr.Event=En,np=qr.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},as.NO_ERROR=0,as.TIMEOUT=8,as.HTTP_ERROR=6,Pu=qr.ErrorCode=as,vl.COMPLETE="complete",e_=qr.EventType=vl,fl.EventType=Yi,Yi.OPEN="a",Yi.CLOSE="b",Yi.ERROR="c",Yi.MESSAGE="d",Qe.prototype.listen=Qe.prototype.K,Ta=qr.WebChannel=fl,Y$=qr.FetchXmlHttpFactory=Lt,Le.prototype.listenOnce=Le.prototype.L,Le.prototype.getLastError=Le.prototype.Ka,Le.prototype.getLastErrorCode=Le.prototype.Ba,Le.prototype.getStatus=Le.prototype.Z,Le.prototype.getResponseJson=Le.prototype.Oa,Le.prototype.getResponseText=Le.prototype.oa,Le.prototype.send=Le.prototype.ea,Le.prototype.setWithCredentials=Le.prototype.Ha,Xw=qr.XhrIo=Le}).apply(typeof tp<"u"?tp:typeof self<"u"?self:typeof window<"u"?window:{});var kA="@firebase/firestore";var mt=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};mt.UNAUTHENTICATED=new mt(null),mt.GOOGLE_CREDENTIALS=new mt("google-credentials-uid"),mt.FIRST_PARTY=new mt("first-party-uid"),mt.MOCK_USER=new mt("mock-user");var qa="10.14.0";var Qo=new Li("@firebase/firestore");function ku(){return Qo.logLevel}function z(n,...e){if(Qo.logLevel<=ve.DEBUG){let t=e.map(jI);Qo.debug(`Firestore (${qa}): ${n}`,...t)}}function Wr(n,...e){if(Qo.logLevel<=ve.ERROR){let t=e.map(jI);Qo.error(`Firestore (${qa}): ${n}`,...t)}}function Pa(n,...e){if(Qo.logLevel<=ve.WARN){let t=e.map(jI);Qo.warn(`Firestore (${qa}): ${n}`,...t)}}function jI(n){if(typeof n=="string")return n;try{return function(t){return JSON.stringify(t)}(n)}catch{return n}}function ee(n="Unexpected state"){let e=`FIRESTORE (${qa}) INTERNAL ASSERTION FAILED: `+n;throw Wr(e),new Error(e)}function Me(n,e){n||ee()}function ie(n,e){return n}var O={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},H=class extends tn{constructor(e,t){super(e,t),this.code=e,this.message=t,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}};var Nn=class{constructor(){this.promise=new Promise((e,t)=>{this.resolve=e,this.reject=t})}};var ap=class{constructor(e,t){this.user=t,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}},c_=class{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,t){e.enqueueRetryable(()=>t(mt.UNAUTHENTICATED))}shutdown(){}},u_=class{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,t){this.changeListener=t,e.enqueueRetryable(()=>t(this.token.user))}shutdown(){this.changeListener=null}},l_=class{constructor(e){this.t=e,this.currentUser=mt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,t){Me(this.o===void 0);let r=this.i,i=u=>this.i!==r?(r=this.i,t(u)):Promise.resolve(),o=new Nn;this.o=()=>{this.i++,this.currentUser=this.u(),o.resolve(),o=new Nn,e.enqueueRetryable(()=>i(this.currentUser))};let s=()=>{let u=o;e.enqueueRetryable(()=>C(this,null,function*(){yield u.promise,yield i(this.currentUser)}))},a=u=>{z("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=u,this.o&&(this.auth.addAuthTokenListener(this.o),s())};this.t.onInit(u=>a(u)),setTimeout(()=>{if(!this.auth){let u=this.t.getImmediate({optional:!0});u?a(u):(z("FirebaseAuthCredentialsProvider","Auth not yet detected"),o.resolve(),o=new Nn)}},0),s()}getToken(){let e=this.i,t=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(t).then(r=>this.i!==e?(z("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Me(typeof r.accessToken=="string"),new ap(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){let e=this.auth&&this.auth.getUid();return Me(e===null||typeof e=="string"),new mt(e)}},d_=class{constructor(e,t,r){this.l=e,this.h=t,this.P=r,this.type="FirstParty",this.user=mt.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);let e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}},h_=class{constructor(e,t,r){this.l=e,this.h=t,this.P=r}getToken(){return Promise.resolve(new d_(this.l,this.h,this.P))}start(e,t){e.enqueueRetryable(()=>t(mt.FIRST_PARTY))}shutdown(){}invalidateToken(){}},f_=class{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}},p_=class{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,t){Me(this.o===void 0);let r=o=>{o.error!=null&&z("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${o.error.message}`);let s=o.token!==this.R;return this.R=o.token,z("FirebaseAppCheckTokenProvider",`Received ${s?"new":"existing"} token.`),s?t(o.token):Promise.resolve()};this.o=o=>{e.enqueueRetryable(()=>r(o))};let i=o=>{z("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=o,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(o=>i(o)),setTimeout(()=>{if(!this.appCheck){let o=this.A.getImmediate({optional:!0});o?i(o):z("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){let e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(t=>t?(Me(typeof t.token=="string"),this.R=t.token,new f_(t.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}};function Z$(n){let e=typeof self<"u"&&(self.crypto||self.msCrypto),t=new Uint8Array(n);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(t);else for(let r=0;r<n;r++)t[r]=Math.floor(256*Math.random());return t}var cp=class{static newId(){let e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",t=Math.floor(256/e.length)*e.length,r="";for(;r.length<20;){let i=Z$(40);for(let o=0;o<i.length;++o)r.length<20&&i[o]<t&&(r+=e.charAt(i[o]%e.length))}return r}};function Te(n,e){return n<e?-1:n>e?1:0}function ka(n,e,t){return n.length===e.length&&n.every((r,i)=>t(r,e[i]))}var bt=class n{constructor(e,t){if(this.seconds=e,this.nanoseconds=t,t<0)throw new H(O.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(t>=1e9)throw new H(O.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+t);if(e<-62135596800)throw new H(O.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new H(O.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return n.fromMillis(Date.now())}static fromDate(e){return n.fromMillis(e.getTime())}static fromMillis(e){let t=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*t));return new n(t,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Te(this.nanoseconds,e.nanoseconds):Te(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){let e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}};var se=class n{constructor(e){this.timestamp=e}static fromTimestamp(e){return new n(e)}static min(){return new n(new bt(0,0))}static max(){return new n(new bt(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}};var up=class n{constructor(e,t,r){t===void 0?t=0:t>e.length&&ee(),r===void 0?r=e.length-t:r>e.length-t&&ee(),this.segments=e,this.offset=t,this.len=r}get length(){return this.len}isEqual(e){return n.comparator(this,e)===0}child(e){let t=this.segments.slice(this.offset,this.limit());return e instanceof n?e.forEach(r=>{t.push(r)}):t.push(e),this.construct(t)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let t=0;t<this.length;t++)if(this.get(t)!==e.get(t))return!1;return!0}forEach(e){for(let t=this.offset,r=this.limit();t<r;t++)e(this.segments[t])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,t){let r=Math.min(e.length,t.length);for(let i=0;i<r;i++){let o=e.get(i),s=t.get(i);if(o<s)return-1;if(o>s)return 1}return e.length<t.length?-1:e.length>t.length?1:0}},Be=class n extends up{construct(e,t,r){return new n(e,t,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){let t=[];for(let r of e){if(r.indexOf("//")>=0)throw new H(O.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);t.push(...r.split("/").filter(i=>i.length>0))}return new n(t)}static emptyPath(){return new n([])}},J$=/^[_a-zA-Z][_a-zA-Z0-9]*$/,rn=class n extends up{construct(e,t,r){return new n(e,t,r)}static isValidIdentifier(e){return J$.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),n.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new n(["__name__"])}static fromServerFormat(e){let t=[],r="",i=0,o=()=>{if(r.length===0)throw new H(O.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);t.push(r),r=""},s=!1;for(;i<e.length;){let a=e[i];if(a==="\\"){if(i+1===e.length)throw new H(O.INVALID_ARGUMENT,"Path has trailing escape character: "+e);let u=e[i+1];if(u!=="\\"&&u!=="."&&u!=="`")throw new H(O.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else a==="`"?(s=!s,i++):a!=="."||s?(r+=a,i++):(o(),i++)}if(o(),s)throw new H(O.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new n(t)}static emptyPath(){return new n([])}};var Q=class n{constructor(e){this.path=e}static fromPath(e){return new n(Be.fromString(e))}static fromName(e){return new n(Be.fromString(e).popFirst(5))}static empty(){return new n(Be.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&Be.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,t){return Be.comparator(e.path,t.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new n(new Be(e.slice()))}};var g_=class{constructor(e,t,r,i){this.indexId=e,this.collectionGroup=t,this.fields=r,this.indexState=i}};g_.UNKNOWN_ID=-1;function X$(n,e){let t=n.toTimestamp().seconds,r=n.toTimestamp().nanoseconds+1,i=se.fromTimestamp(r===1e9?new bt(t+1,0):new bt(t,r));return new Yo(i,Q.empty(),e)}function eH(n){return new Yo(n.readTime,n.key,-1)}var Yo=class n{constructor(e,t,r){this.readTime=e,this.documentKey=t,this.largestBatchId=r}static min(){return new n(se.min(),Q.empty(),-1)}static max(){return new n(se.max(),Q.empty(),-1)}};function tH(n,e){let t=n.readTime.compareTo(e.readTime);return t!==0?t:(t=Q.comparator(n.documentKey,e.documentKey),t!==0?t:Te(n.largestBatchId,e.largestBatchId))}var nH="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",m_=class{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}};function tl(n){return C(this,null,function*(){if(n.code!==O.FAILED_PRECONDITION||n.message!==nH)throw n;z("LocalStore","Unexpectedly lost primary lease")})}var L=class n{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(t=>{this.isDone=!0,this.result=t,this.nextCallback&&this.nextCallback(t)},t=>{this.isDone=!0,this.error=t,this.catchCallback&&this.catchCallback(t)})}catch(e){return this.next(void 0,e)}next(e,t){return this.callbackAttached&&ee(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(t,this.error):this.wrapSuccess(e,this.result):new n((r,i)=>{this.nextCallback=o=>{this.wrapSuccess(e,o).next(r,i)},this.catchCallback=o=>{this.wrapFailure(t,o).next(r,i)}})}toPromise(){return new Promise((e,t)=>{this.next(e,t)})}wrapUserFunction(e){try{let t=e();return t instanceof n?t:n.resolve(t)}catch(t){return n.reject(t)}}wrapSuccess(e,t){return e?this.wrapUserFunction(()=>e(t)):n.resolve(t)}wrapFailure(e,t){return e?this.wrapUserFunction(()=>e(t)):n.reject(t)}static resolve(e){return new n((t,r)=>{t(e)})}static reject(e){return new n((t,r)=>{r(e)})}static waitFor(e){return new n((t,r)=>{let i=0,o=0,s=!1;e.forEach(a=>{++i,a.next(()=>{++o,s&&o===i&&t()},u=>r(u))}),s=!0,o===i&&t()})}static or(e){let t=n.resolve(!1);for(let r of e)t=t.next(i=>i?n.resolve(i):r());return t}static forEach(e,t){let r=[];return e.forEach((i,o)=>{r.push(t.call(this,i,o))}),this.waitFor(r)}static mapArray(e,t){return new n((r,i)=>{let o=e.length,s=new Array(o),a=0;for(let u=0;u<o;u++){let d=u;t(e[d]).next(p=>{s[d]=p,++a,a===o&&r(s)},p=>i(p))}})}static doWhile(e,t){return new n((r,i)=>{let o=()=>{e()===!0?t().next(()=>{o()},i):r()};o()})}};function rH(n){let e=n.match(/Android ([\d.]+)/i),t=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(t)}function nl(n){return n.name==="IndexedDbTransactionError"}var gR=(()=>{class n{constructor(t,r){this.previousValue=t,r&&(r.sequenceNumberHandler=i=>this.ie(i),this.se=i=>r.writeSequenceNumber(i))}ie(t){return this.previousValue=Math.max(t,this.previousValue),this.previousValue}next(){let t=++this.previousValue;return this.se&&this.se(t),t}}return n.oe=-1,n})();function Bp(n){return n==null}function Uu(n){return n===0&&1/n==-1/0}function iH(n){return typeof n=="number"&&Number.isInteger(n)&&!Uu(n)&&n<=Number.MAX_SAFE_INTEGER&&n>=Number.MIN_SAFE_INTEGER}var oH=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],DK=[...oH,"documentOverlays"],sH=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],aH=sH,cH=[...aH,"indexConfiguration","indexState","indexEntries"];var CK=[...cH,"globals"];function OA(n){let e=0;for(let t in n)Object.prototype.hasOwnProperty.call(n,t)&&e++;return e}function ns(n,e){for(let t in n)Object.prototype.hasOwnProperty.call(n,t)&&e(t,n[t])}function mR(n){for(let e in n)if(Object.prototype.hasOwnProperty.call(n,e))return!1;return!0}var qe=class n{constructor(e,t){this.comparator=e,this.root=t||lr.EMPTY}insert(e,t){return new n(this.comparator,this.root.insert(e,t,this.comparator).copy(null,null,lr.BLACK,null,null))}remove(e){return new n(this.comparator,this.root.remove(e,this.comparator).copy(null,null,lr.BLACK,null,null))}get(e){let t=this.root;for(;!t.isEmpty();){let r=this.comparator(e,t.key);if(r===0)return t.value;r<0?t=t.left:r>0&&(t=t.right)}return null}indexOf(e){let t=0,r=this.root;for(;!r.isEmpty();){let i=this.comparator(e,r.key);if(i===0)return t+r.left.size;i<0?r=r.left:(t+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((t,r)=>(e(t,r),!1))}toString(){let e=[];return this.inorderTraversal((t,r)=>(e.push(`${t}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new xa(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new xa(this.root,e,this.comparator,!1)}getReverseIterator(){return new xa(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new xa(this.root,e,this.comparator,!0)}},xa=class{constructor(e,t,r,i){this.isReverse=i,this.nodeStack=[];let o=1;for(;!e.isEmpty();)if(o=t?r(e.key,t):1,t&&i&&(o*=-1),o<0)e=this.isReverse?e.left:e.right;else{if(o===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop(),t={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return t}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;let e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}},lr=class n{constructor(e,t,r,i,o){this.key=e,this.value=t,this.color=r??n.RED,this.left=i??n.EMPTY,this.right=o??n.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,t,r,i,o){return new n(e??this.key,t??this.value,r??this.color,i??this.left,o??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,t,r){let i=this,o=r(e,i.key);return i=o<0?i.copy(null,null,null,i.left.insert(e,t,r),null):o===0?i.copy(null,t,null,null,null):i.copy(null,null,null,null,i.right.insert(e,t,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return n.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,t){let r,i=this;if(t(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,t),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),t(e,i.key)===0){if(i.right.isEmpty())return n.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,t))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){let e=this.copy(null,null,n.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){let e=this.copy(null,null,n.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){let e=this.left.copy(null,null,!this.left.color,null,null),t=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,t)}checkMaxDepth(){let e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw ee();let e=this.left.check();if(e!==this.right.check())throw ee();return e+(this.isRed()?0:1)}};lr.EMPTY=null,lr.RED=!0,lr.BLACK=!1;lr.EMPTY=new class{constructor(){this.size=0}get key(){throw ee()}get value(){throw ee()}get color(){throw ee()}get left(){throw ee()}get right(){throw ee()}copy(e,t,r,i,o){return this}insert(e,t,r){return new lr(e,t)}remove(e,t){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};var Rt=class n{constructor(e){this.comparator=e,this.data=new qe(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((t,r)=>(e(t),!1))}forEachInRange(e,t){let r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){let i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;t(i.key)}}forEachWhile(e,t){let r;for(r=t!==void 0?this.data.getIteratorFrom(t):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){let t=this.data.getIteratorFrom(e);return t.hasNext()?t.getNext().key:null}getIterator(){return new lp(this.data.getIterator())}getIteratorFrom(e){return new lp(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let t=this;return t.size<e.size&&(t=e,e=this),e.forEach(r=>{t=t.add(r)}),t}isEqual(e){if(!(e instanceof n)||this.size!==e.size)return!1;let t=this.data.getIterator(),r=e.data.getIterator();for(;t.hasNext();){let i=t.getNext().key,o=r.getNext().key;if(this.comparator(i,o)!==0)return!1}return!0}toArray(){let e=[];return this.forEach(t=>{e.push(t)}),e}toString(){let e=[];return this.forEach(t=>e.push(t)),"SortedSet("+e.toString()+")"}copy(e){let t=new n(this.comparator);return t.data=e,t}},lp=class{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}};var yn=class n{constructor(e){this.fields=e,e.sort(rn.comparator)}static empty(){return new n([])}unionWith(e){let t=new Rt(rn.comparator);for(let r of this.fields)t=t.add(r);for(let r of e)t=t.add(r);return new n(t.toArray())}covers(e){for(let t of this.fields)if(t.isPrefixOf(e))return!0;return!1}isEqual(e){return ka(this.fields,e.fields,(t,r)=>t.isEqual(r))}};var dp=class extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}};var Mt=class n{constructor(e){this.binaryString=e}static fromBase64String(e){let t=function(i){try{return atob(i)}catch(o){throw typeof DOMException<"u"&&o instanceof DOMException?new dp("Invalid base64 string: "+o):o}}(e);return new n(t)}static fromUint8Array(e){let t=function(i){let o="";for(let s=0;s<i.length;++s)o+=String.fromCharCode(i[s]);return o}(e);return new n(t)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(t){return btoa(t)}(this.binaryString)}toUint8Array(){return function(t){let r=new Uint8Array(t.length);for(let i=0;i<t.length;i++)r[i]=t.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Te(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}};Mt.EMPTY_BYTE_STRING=new Mt("");var uH=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Kr(n){if(Me(!!n),typeof n=="string"){let e=0,t=uH.exec(n);if(Me(!!t),t[1]){let i=t[1];i=(i+"000000000").substr(0,9),e=Number(i)}let r=new Date(n);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:je(n.seconds),nanos:je(n.nanos)}}function je(n){return typeof n=="number"?n:typeof n=="string"?Number(n):0}function qi(n){return typeof n=="string"?Mt.fromBase64String(n):Mt.fromUint8Array(n)}function UI(n){var e,t;return((t=(((e=n?.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||t===void 0?void 0:t.stringValue)==="server_timestamp"}function BI(n){let e=n.mapValue.fields.__previous_value__;return UI(e)?BI(e):e}function Bu(n){let e=Kr(n.mapValue.fields.__local_write_time__.timestampValue);return new bt(e.seconds,e.nanos)}var y_=class{constructor(e,t,r,i,o,s,a,u,d){this.databaseId=e,this.appId=t,this.persistenceKey=r,this.host=i,this.ssl=o,this.forceLongPolling=s,this.autoDetectLongPolling=a,this.longPollingOptions=u,this.useFetchStreams=d}},hp=class n{constructor(e,t){this.projectId=e,this.database=t||"(default)"}static empty(){return new n("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof n&&e.projectId===this.projectId&&e.database===this.database}};var rp={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Zo(n){return"nullValue"in n?0:"booleanValue"in n?1:"integerValue"in n||"doubleValue"in n?2:"timestampValue"in n?3:"stringValue"in n?5:"bytesValue"in n?6:"referenceValue"in n?7:"geoPointValue"in n?8:"arrayValue"in n?9:"mapValue"in n?UI(n)?4:vR(n)?9007199254740991:yR(n)?10:11:ee()}function fr(n,e){if(n===e)return!0;let t=Zo(n);if(t!==Zo(e))return!1;switch(t){case 0:case 9007199254740991:return!0;case 1:return n.booleanValue===e.booleanValue;case 4:return Bu(n).isEqual(Bu(e));case 3:return function(i,o){if(typeof i.timestampValue=="string"&&typeof o.timestampValue=="string"&&i.timestampValue.length===o.timestampValue.length)return i.timestampValue===o.timestampValue;let s=Kr(i.timestampValue),a=Kr(o.timestampValue);return s.seconds===a.seconds&&s.nanos===a.nanos}(n,e);case 5:return n.stringValue===e.stringValue;case 6:return function(i,o){return qi(i.bytesValue).isEqual(qi(o.bytesValue))}(n,e);case 7:return n.referenceValue===e.referenceValue;case 8:return function(i,o){return je(i.geoPointValue.latitude)===je(o.geoPointValue.latitude)&&je(i.geoPointValue.longitude)===je(o.geoPointValue.longitude)}(n,e);case 2:return function(i,o){if("integerValue"in i&&"integerValue"in o)return je(i.integerValue)===je(o.integerValue);if("doubleValue"in i&&"doubleValue"in o){let s=je(i.doubleValue),a=je(o.doubleValue);return s===a?Uu(s)===Uu(a):isNaN(s)&&isNaN(a)}return!1}(n,e);case 9:return ka(n.arrayValue.values||[],e.arrayValue.values||[],fr);case 10:case 11:return function(i,o){let s=i.mapValue.fields||{},a=o.mapValue.fields||{};if(OA(s)!==OA(a))return!1;for(let u in s)if(s.hasOwnProperty(u)&&(a[u]===void 0||!fr(s[u],a[u])))return!1;return!0}(n,e);default:return ee()}}function $u(n,e){return(n.values||[]).find(t=>fr(t,e))!==void 0}function Oa(n,e){if(n===e)return 0;let t=Zo(n),r=Zo(e);if(t!==r)return Te(t,r);switch(t){case 0:case 9007199254740991:return 0;case 1:return Te(n.booleanValue,e.booleanValue);case 2:return function(o,s){let a=je(o.integerValue||o.doubleValue),u=je(s.integerValue||s.doubleValue);return a<u?-1:a>u?1:a===u?0:isNaN(a)?isNaN(u)?0:-1:1}(n,e);case 3:return FA(n.timestampValue,e.timestampValue);case 4:return FA(Bu(n),Bu(e));case 5:return Te(n.stringValue,e.stringValue);case 6:return function(o,s){let a=qi(o),u=qi(s);return a.compareTo(u)}(n.bytesValue,e.bytesValue);case 7:return function(o,s){let a=o.split("/"),u=s.split("/");for(let d=0;d<a.length&&d<u.length;d++){let p=Te(a[d],u[d]);if(p!==0)return p}return Te(a.length,u.length)}(n.referenceValue,e.referenceValue);case 8:return function(o,s){let a=Te(je(o.latitude),je(s.latitude));return a!==0?a:Te(je(o.longitude),je(s.longitude))}(n.geoPointValue,e.geoPointValue);case 9:return LA(n.arrayValue,e.arrayValue);case 10:return function(o,s){var a,u,d,p;let g=o.fields||{},_=s.fields||{},b=(a=g.value)===null||a===void 0?void 0:a.arrayValue,M=(u=_.value)===null||u===void 0?void 0:u.arrayValue,F=Te(((d=b?.values)===null||d===void 0?void 0:d.length)||0,((p=M?.values)===null||p===void 0?void 0:p.length)||0);return F!==0?F:LA(b,M)}(n.mapValue,e.mapValue);case 11:return function(o,s){if(o===rp.mapValue&&s===rp.mapValue)return 0;if(o===rp.mapValue)return 1;if(s===rp.mapValue)return-1;let a=o.fields||{},u=Object.keys(a),d=s.fields||{},p=Object.keys(d);u.sort(),p.sort();for(let g=0;g<u.length&&g<p.length;++g){let _=Te(u[g],p[g]);if(_!==0)return _;let b=Oa(a[u[g]],d[p[g]]);if(b!==0)return b}return Te(u.length,p.length)}(n.mapValue,e.mapValue);default:throw ee()}}function FA(n,e){if(typeof n=="string"&&typeof e=="string"&&n.length===e.length)return Te(n,e);let t=Kr(n),r=Kr(e),i=Te(t.seconds,r.seconds);return i!==0?i:Te(t.nanos,r.nanos)}function LA(n,e){let t=n.values||[],r=e.values||[];for(let i=0;i<t.length&&i<r.length;++i){let o=Oa(t[i],r[i]);if(o)return o}return Te(t.length,r.length)}function Fa(n){return v_(n)}function v_(n){return"nullValue"in n?"null":"booleanValue"in n?""+n.booleanValue:"integerValue"in n?""+n.integerValue:"doubleValue"in n?""+n.doubleValue:"timestampValue"in n?function(t){let r=Kr(t);return`time(${r.seconds},${r.nanos})`}(n.timestampValue):"stringValue"in n?n.stringValue:"bytesValue"in n?function(t){return qi(t).toBase64()}(n.bytesValue):"referenceValue"in n?function(t){return Q.fromName(t).toString()}(n.referenceValue):"geoPointValue"in n?function(t){return`geo(${t.latitude},${t.longitude})`}(n.geoPointValue):"arrayValue"in n?function(t){let r="[",i=!0;for(let o of t.values||[])i?i=!1:r+=",",r+=v_(o);return r+"]"}(n.arrayValue):"mapValue"in n?function(t){let r=Object.keys(t.fields||{}).sort(),i="{",o=!0;for(let s of r)o?o=!1:i+=",",i+=`${s}:${v_(t.fields[s])}`;return i+"}"}(n.mapValue):ee()}function VA(n,e){return{referenceValue:`projects/${n.projectId}/databases/${n.database}/documents/${e.path.canonicalString()}`}}function w_(n){return!!n&&"integerValue"in n}function $I(n){return!!n&&"arrayValue"in n}function jA(n){return!!n&&"nullValue"in n}function UA(n){return!!n&&"doubleValue"in n&&isNaN(Number(n.doubleValue))}function op(n){return!!n&&"mapValue"in n}function yR(n){var e,t;return((t=(((e=n?.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||t===void 0?void 0:t.stringValue)==="__vector__"}function Fu(n){if(n.geoPointValue)return{geoPointValue:Object.assign({},n.geoPointValue)};if(n.timestampValue&&typeof n.timestampValue=="object")return{timestampValue:Object.assign({},n.timestampValue)};if(n.mapValue){let e={mapValue:{fields:{}}};return ns(n.mapValue.fields,(t,r)=>e.mapValue.fields[t]=Fu(r)),e}if(n.arrayValue){let e={arrayValue:{values:[]}};for(let t=0;t<(n.arrayValue.values||[]).length;++t)e.arrayValue.values[t]=Fu(n.arrayValue.values[t]);return e}return Object.assign({},n)}function vR(n){return(((n.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}var nn=class n{constructor(e){this.value=e}static empty(){return new n({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let t=this.value;for(let r=0;r<e.length-1;++r)if(t=(t.mapValue.fields||{})[e.get(r)],!op(t))return null;return t=(t.mapValue.fields||{})[e.lastSegment()],t||null}}set(e,t){this.getFieldsMap(e.popLast())[e.lastSegment()]=Fu(t)}setAll(e){let t=rn.emptyPath(),r={},i=[];e.forEach((s,a)=>{if(!t.isImmediateParentOf(a)){let u=this.getFieldsMap(t);this.applyChanges(u,r,i),r={},i=[],t=a.popLast()}s?r[a.lastSegment()]=Fu(s):i.push(a.lastSegment())});let o=this.getFieldsMap(t);this.applyChanges(o,r,i)}delete(e){let t=this.field(e.popLast());op(t)&&t.mapValue.fields&&delete t.mapValue.fields[e.lastSegment()]}isEqual(e){return fr(this.value,e.value)}getFieldsMap(e){let t=this.value;t.mapValue.fields||(t.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=t.mapValue.fields[e.get(r)];op(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},t.mapValue.fields[e.get(r)]=i),t=i}return t.mapValue.fields}applyChanges(e,t,r){ns(t,(i,o)=>e[i]=o);for(let i of r)delete e[i]}clone(){return new n(Fu(this.value))}};function wR(n){let e=[];return ns(n.fields,(t,r)=>{let i=new rn([t]);if(op(r)){let o=wR(r.mapValue).fields;if(o.length===0)e.push(i);else for(let s of o)e.push(i.child(s))}else e.push(i)}),new yn(e)}var Pn=class n{constructor(e,t,r,i,o,s,a){this.key=e,this.documentType=t,this.version=r,this.readTime=i,this.createTime=o,this.data=s,this.documentState=a}static newInvalidDocument(e){return new n(e,0,se.min(),se.min(),se.min(),nn.empty(),0)}static newFoundDocument(e,t,r,i){return new n(e,1,t,se.min(),r,i,0)}static newNoDocument(e,t){return new n(e,2,t,se.min(),se.min(),nn.empty(),0)}static newUnknownDocument(e,t){return new n(e,3,t,se.min(),se.min(),nn.empty(),2)}convertToFoundDocument(e,t){return!this.createTime.isEqual(se.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=t,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=nn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=nn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=se.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof n&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new n(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}};var La=class{constructor(e,t){this.position=e,this.inclusive=t}};function BA(n,e,t){let r=0;for(let i=0;i<n.position.length;i++){let o=e[i],s=n.position[i];if(o.field.isKeyField()?r=Q.comparator(Q.fromName(s.referenceValue),t.key):r=Oa(s,t.data.field(o.field)),o.dir==="desc"&&(r*=-1),r!==0)break}return r}function $A(n,e){if(n===null)return e===null;if(e===null||n.inclusive!==e.inclusive||n.position.length!==e.position.length)return!1;for(let t=0;t<n.position.length;t++)if(!fr(n.position[t],e.position[t]))return!1;return!0}var Jo=class{constructor(e,t="asc"){this.field=e,this.dir=t}};function lH(n,e){return n.dir===e.dir&&n.field.isEqual(e.field)}var fp=class{},nt=class n extends fp{constructor(e,t,r){super(),this.field=e,this.op=t,this.value=r}static create(e,t,r){return e.isKeyField()?t==="in"||t==="not-in"?this.createKeyFieldInFilter(e,t,r):new I_(e,t,r):t==="array-contains"?new D_(e,r):t==="in"?new C_(e,r):t==="not-in"?new T_(e,r):t==="array-contains-any"?new S_(e,r):new n(e,t,r)}static createKeyFieldInFilter(e,t,r){return t==="in"?new E_(e,r):new b_(e,r)}matches(e){let t=e.data.field(this.field);return this.op==="!="?t!==null&&this.matchesComparison(Oa(t,this.value)):t!==null&&Zo(this.value)===Zo(t)&&this.matchesComparison(Oa(t,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return ee()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}},kn=class n extends fp{constructor(e,t){super(),this.filters=e,this.op=t,this.ae=null}static create(e,t){return new n(e,t)}matches(e){return _R(this)?this.filters.find(t=>!t.matches(e))===void 0:this.filters.find(t=>t.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,t)=>e.concat(t.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}};function _R(n){return n.op==="and"}function IR(n){return dH(n)&&_R(n)}function dH(n){for(let e of n.filters)if(e instanceof kn)return!1;return!0}function __(n){if(n instanceof nt)return n.field.canonicalString()+n.op.toString()+Fa(n.value);if(IR(n))return n.filters.map(e=>__(e)).join(",");{let e=n.filters.map(t=>__(t)).join(",");return`${n.op}(${e})`}}function ER(n,e){return n instanceof nt?function(r,i){return i instanceof nt&&r.op===i.op&&r.field.isEqual(i.field)&&fr(r.value,i.value)}(n,e):n instanceof kn?function(r,i){return i instanceof kn&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((o,s,a)=>o&&ER(s,i.filters[a]),!0):!1}(n,e):void ee()}function bR(n){return n instanceof nt?function(t){return`${t.field.canonicalString()} ${t.op} ${Fa(t.value)}`}(n):n instanceof kn?function(t){return t.op.toString()+" {"+t.getFilters().map(bR).join(" ,")+"}"}(n):"Filter"}var I_=class extends nt{constructor(e,t,r){super(e,t,r),this.key=Q.fromName(r.referenceValue)}matches(e){let t=Q.comparator(e.key,this.key);return this.matchesComparison(t)}},E_=class extends nt{constructor(e,t){super(e,"in",t),this.keys=DR("in",t)}matches(e){return this.keys.some(t=>t.isEqual(e.key))}},b_=class extends nt{constructor(e,t){super(e,"not-in",t),this.keys=DR("not-in",t)}matches(e){return!this.keys.some(t=>t.isEqual(e.key))}};function DR(n,e){var t;return(((t=e.arrayValue)===null||t===void 0?void 0:t.values)||[]).map(r=>Q.fromName(r.referenceValue))}var D_=class extends nt{constructor(e,t){super(e,"array-contains",t)}matches(e){let t=e.data.field(this.field);return $I(t)&&$u(t.arrayValue,this.value)}},C_=class extends nt{constructor(e,t){super(e,"in",t)}matches(e){let t=e.data.field(this.field);return t!==null&&$u(this.value.arrayValue,t)}},T_=class extends nt{constructor(e,t){super(e,"not-in",t)}matches(e){if($u(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;let t=e.data.field(this.field);return t!==null&&!$u(this.value.arrayValue,t)}},S_=class extends nt{constructor(e,t){super(e,"array-contains-any",t)}matches(e){let t=e.data.field(this.field);return!(!$I(t)||!t.arrayValue.values)&&t.arrayValue.values.some(r=>$u(this.value.arrayValue,r))}};var A_=class{constructor(e,t=null,r=[],i=[],o=null,s=null,a=null){this.path=e,this.collectionGroup=t,this.orderBy=r,this.filters=i,this.limit=o,this.startAt=s,this.endAt=a,this.ue=null}};function HA(n,e=null,t=[],r=[],i=null,o=null,s=null){return new A_(n,e,t,r,i,o,s)}function HI(n){let e=ie(n);if(e.ue===null){let t=e.path.canonicalString();e.collectionGroup!==null&&(t+="|cg:"+e.collectionGroup),t+="|f:",t+=e.filters.map(r=>__(r)).join(","),t+="|ob:",t+=e.orderBy.map(r=>function(o){return o.field.canonicalString()+o.dir}(r)).join(","),Bp(e.limit)||(t+="|l:",t+=e.limit),e.startAt&&(t+="|lb:",t+=e.startAt.inclusive?"b:":"a:",t+=e.startAt.position.map(r=>Fa(r)).join(",")),e.endAt&&(t+="|ub:",t+=e.endAt.inclusive?"a:":"b:",t+=e.endAt.position.map(r=>Fa(r)).join(",")),e.ue=t}return e.ue}function zI(n,e){if(n.limit!==e.limit||n.orderBy.length!==e.orderBy.length)return!1;for(let t=0;t<n.orderBy.length;t++)if(!lH(n.orderBy[t],e.orderBy[t]))return!1;if(n.filters.length!==e.filters.length)return!1;for(let t=0;t<n.filters.length;t++)if(!ER(n.filters[t],e.filters[t]))return!1;return n.collectionGroup===e.collectionGroup&&!!n.path.isEqual(e.path)&&!!$A(n.startAt,e.startAt)&&$A(n.endAt,e.endAt)}function R_(n){return Q.isDocumentKey(n.path)&&n.collectionGroup===null&&n.filters.length===0}var Gi=class{constructor(e,t=null,r=[],i=[],o=null,s="F",a=null,u=null){this.path=e,this.collectionGroup=t,this.explicitOrderBy=r,this.filters=i,this.limit=o,this.limitType=s,this.startAt=a,this.endAt=u,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}};function hH(n,e,t,r,i,o,s,a){return new Gi(n,e,t,r,i,o,s,a)}function $p(n){return new Gi(n)}function zA(n){return n.filters.length===0&&n.limit===null&&n.startAt==null&&n.endAt==null&&(n.explicitOrderBy.length===0||n.explicitOrderBy.length===1&&n.explicitOrderBy[0].field.isKeyField())}function CR(n){return n.collectionGroup!==null}function Lu(n){let e=ie(n);if(e.ce===null){e.ce=[];let t=new Set;for(let o of e.explicitOrderBy)e.ce.push(o),t.add(o.field.canonicalString());let r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(s){let a=new Rt(rn.comparator);return s.filters.forEach(u=>{u.getFlattenedFilters().forEach(d=>{d.isInequality()&&(a=a.add(d.field))})}),a})(e).forEach(o=>{t.has(o.canonicalString())||o.isKeyField()||e.ce.push(new Jo(o,r))}),t.has(rn.keyField().canonicalString())||e.ce.push(new Jo(rn.keyField(),r))}return e.ce}function dr(n){let e=ie(n);return e.le||(e.le=fH(e,Lu(n))),e.le}function fH(n,e){if(n.limitType==="F")return HA(n.path,n.collectionGroup,e,n.filters,n.limit,n.startAt,n.endAt);{e=e.map(i=>{let o=i.dir==="desc"?"asc":"desc";return new Jo(i.field,o)});let t=n.endAt?new La(n.endAt.position,n.endAt.inclusive):null,r=n.startAt?new La(n.startAt.position,n.startAt.inclusive):null;return HA(n.path,n.collectionGroup,e,n.filters,n.limit,t,r)}}function x_(n,e){let t=n.filters.concat([e]);return new Gi(n.path,n.collectionGroup,n.explicitOrderBy.slice(),t,n.limit,n.limitType,n.startAt,n.endAt)}function M_(n,e,t){return new Gi(n.path,n.collectionGroup,n.explicitOrderBy.slice(),n.filters.slice(),e,t,n.startAt,n.endAt)}function Hp(n,e){return zI(dr(n),dr(e))&&n.limitType===e.limitType}function TR(n){return`${HI(dr(n))}|lt:${n.limitType}`}function Sa(n){return`Query(target=${function(t){let r=t.path.canonicalString();return t.collectionGroup!==null&&(r+=" collectionGroup="+t.collectionGroup),t.filters.length>0&&(r+=`, filters: [${t.filters.map(i=>bR(i)).join(", ")}]`),Bp(t.limit)||(r+=", limit: "+t.limit),t.orderBy.length>0&&(r+=`, orderBy: [${t.orderBy.map(i=>function(s){return`${s.field.canonicalString()} (${s.dir})`}(i)).join(", ")}]`),t.startAt&&(r+=", startAt: ",r+=t.startAt.inclusive?"b:":"a:",r+=t.startAt.position.map(i=>Fa(i)).join(",")),t.endAt&&(r+=", endAt: ",r+=t.endAt.inclusive?"a:":"b:",r+=t.endAt.position.map(i=>Fa(i)).join(",")),`Target(${r})`}(dr(n))}; limitType=${n.limitType})`}function zp(n,e){return e.isFoundDocument()&&function(r,i){let o=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(o):Q.isDocumentKey(r.path)?r.path.isEqual(o):r.path.isImmediateParentOf(o)}(n,e)&&function(r,i){for(let o of Lu(r))if(!o.field.isKeyField()&&i.data.field(o.field)===null)return!1;return!0}(n,e)&&function(r,i){for(let o of r.filters)if(!o.matches(i))return!1;return!0}(n,e)&&function(r,i){return!(r.startAt&&!function(s,a,u){let d=BA(s,a,u);return s.inclusive?d<=0:d<0}(r.startAt,Lu(r),i)||r.endAt&&!function(s,a,u){let d=BA(s,a,u);return s.inclusive?d>=0:d>0}(r.endAt,Lu(r),i))}(n,e)}function pH(n){return n.collectionGroup||(n.path.length%2==1?n.path.lastSegment():n.path.get(n.path.length-2))}function SR(n){return(e,t)=>{let r=!1;for(let i of Lu(n)){let o=gH(i,e,t);if(o!==0)return o;r=r||i.field.isKeyField()}return 0}}function gH(n,e,t){let r=n.field.isKeyField()?Q.comparator(e.key,t.key):function(o,s,a){let u=s.data.field(o),d=a.data.field(o);return u!==null&&d!==null?Oa(u,d):ee()}(n.field,e,t);switch(n.dir){case"asc":return r;case"desc":return-1*r;default:return ee()}}var Wi=class{constructor(e,t){this.mapKeyFn=e,this.equalsFn=t,this.inner={},this.innerSize=0}get(e){let t=this.mapKeyFn(e),r=this.inner[t];if(r!==void 0){for(let[i,o]of r)if(this.equalsFn(i,e))return o}}has(e){return this.get(e)!==void 0}set(e,t){let r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,t]],void this.innerSize++;for(let o=0;o<i.length;o++)if(this.equalsFn(i[o][0],e))return void(i[o]=[e,t]);i.push([e,t]),this.innerSize++}delete(e){let t=this.mapKeyFn(e),r=this.inner[t];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[t]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){ns(this.inner,(t,r)=>{for(let[i,o]of r)e(i,o)})}isEmpty(){return mR(this.inner)}size(){return this.innerSize}};var mH=new qe(Q.comparator);function Qr(){return mH}var AR=new qe(Q.comparator);function Ou(...n){let e=AR;for(let t of n)e=e.insert(t.key,t);return e}function RR(n){let e=AR;return n.forEach((t,r)=>e=e.insert(t,r.overlayedDocument)),e}function Go(){return Vu()}function xR(){return Vu()}function Vu(){return new Wi(n=>n.toString(),(n,e)=>n.isEqual(e))}var yH=new qe(Q.comparator),vH=new Rt(Q.comparator);function we(...n){let e=vH;for(let t of n)e=e.add(t);return e}var wH=new Rt(Te);function _H(){return wH}function qI(n,e){if(n.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:Uu(e)?"-0":e}}function MR(n){return{integerValue:""+n}}function IH(n,e){return iH(e)?MR(e):qI(n,e)}var Va=class{constructor(){this._=void 0}};function EH(n,e,t){return n instanceof ja?function(i,o){let s={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return o&&UI(o)&&(o=BI(o)),o&&(s.fields.__previous_value__=o),{mapValue:s}}(t,e):n instanceof Xo?PR(n,e):n instanceof es?kR(n,e):function(i,o){let s=NR(i,o),a=qA(s)+qA(i.Pe);return w_(s)&&w_(i.Pe)?MR(a):qI(i.serializer,a)}(n,e)}function bH(n,e,t){return n instanceof Xo?PR(n,e):n instanceof es?kR(n,e):t}function NR(n,e){return n instanceof Ua?function(r){return w_(r)||function(o){return!!o&&"doubleValue"in o}(r)}(e)?e:{integerValue:0}:null}var ja=class extends Va{},Xo=class extends Va{constructor(e){super(),this.elements=e}};function PR(n,e){let t=OR(e);for(let r of n.elements)t.some(i=>fr(i,r))||t.push(r);return{arrayValue:{values:t}}}var es=class extends Va{constructor(e){super(),this.elements=e}};function kR(n,e){let t=OR(e);for(let r of n.elements)t=t.filter(i=>!fr(i,r));return{arrayValue:{values:t}}}var Ua=class extends Va{constructor(e,t){super(),this.serializer=e,this.Pe=t}};function qA(n){return je(n.integerValue||n.doubleValue)}function OR(n){return $I(n)&&n.arrayValue.values?n.arrayValue.values.slice():[]}function DH(n,e){return n.field.isEqual(e.field)&&function(r,i){return r instanceof Xo&&i instanceof Xo||r instanceof es&&i instanceof es?ka(r.elements,i.elements,fr):r instanceof Ua&&i instanceof Ua?fr(r.Pe,i.Pe):r instanceof ja&&i instanceof ja}(n.transform,e.transform)}var N_=class{constructor(e,t){this.version=e,this.transformResults=t}},Gr=class n{constructor(e,t){this.updateTime=e,this.exists=t}static none(){return new n}static exists(e){return new n(void 0,e)}static updateTime(e){return new n(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}};function sp(n,e){return n.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(n.updateTime):n.exists===void 0||n.exists===e.isFoundDocument()}var Ba=class{};function FR(n,e){if(!n.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return n.isNoDocument()?new pp(n.key,Gr.none()):new ts(n.key,n.data,Gr.none());{let t=n.data,r=nn.empty(),i=new Rt(rn.comparator);for(let o of e.fields)if(!i.has(o)){let s=t.field(o);s===null&&o.length>1&&(o=o.popLast(),s=t.field(o)),s===null?r.delete(o):r.set(o,s),i=i.add(o)}return new pr(n.key,r,new yn(i.toArray()),Gr.none())}}function CH(n,e,t){n instanceof ts?function(i,o,s){let a=i.value.clone(),u=WA(i.fieldTransforms,o,s.transformResults);a.setAll(u),o.convertToFoundDocument(s.version,a).setHasCommittedMutations()}(n,e,t):n instanceof pr?function(i,o,s){if(!sp(i.precondition,o))return void o.convertToUnknownDocument(s.version);let a=WA(i.fieldTransforms,o,s.transformResults),u=o.data;u.setAll(LR(i)),u.setAll(a),o.convertToFoundDocument(s.version,u).setHasCommittedMutations()}(n,e,t):function(i,o,s){o.convertToNoDocument(s.version).setHasCommittedMutations()}(0,e,t)}function ju(n,e,t,r){return n instanceof ts?function(o,s,a,u){if(!sp(o.precondition,s))return a;let d=o.value.clone(),p=KA(o.fieldTransforms,u,s);return d.setAll(p),s.convertToFoundDocument(s.version,d).setHasLocalMutations(),null}(n,e,t,r):n instanceof pr?function(o,s,a,u){if(!sp(o.precondition,s))return a;let d=KA(o.fieldTransforms,u,s),p=s.data;return p.setAll(LR(o)),p.setAll(d),s.convertToFoundDocument(s.version,p).setHasLocalMutations(),a===null?null:a.unionWith(o.fieldMask.fields).unionWith(o.fieldTransforms.map(g=>g.field))}(n,e,t,r):function(o,s,a){return sp(o.precondition,s)?(s.convertToNoDocument(s.version).setHasLocalMutations(),null):a}(n,e,t)}function TH(n,e){let t=null;for(let r of n.fieldTransforms){let i=e.data.field(r.field),o=NR(r.transform,i||null);o!=null&&(t===null&&(t=nn.empty()),t.set(r.field,o))}return t||null}function GA(n,e){return n.type===e.type&&!!n.key.isEqual(e.key)&&!!n.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&ka(r,i,(o,s)=>DH(o,s))}(n.fieldTransforms,e.fieldTransforms)&&(n.type===0?n.value.isEqual(e.value):n.type!==1||n.data.isEqual(e.data)&&n.fieldMask.isEqual(e.fieldMask))}var ts=class extends Ba{constructor(e,t,r,i=[]){super(),this.key=e,this.value=t,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}},pr=class extends Ba{constructor(e,t,r,i,o=[]){super(),this.key=e,this.data=t,this.fieldMask=r,this.precondition=i,this.fieldTransforms=o,this.type=1}getFieldMask(){return this.fieldMask}};function LR(n){let e=new Map;return n.fieldMask.fields.forEach(t=>{if(!t.isEmpty()){let r=n.data.field(t);e.set(t,r)}}),e}function WA(n,e,t){let r=new Map;Me(n.length===t.length);for(let i=0;i<t.length;i++){let o=n[i],s=o.transform,a=e.data.field(o.field);r.set(o.field,bH(s,a,t[i]))}return r}function KA(n,e,t){let r=new Map;for(let i of n){let o=i.transform,s=t.data.field(i.field);r.set(i.field,EH(o,s,e))}return r}var pp=class extends Ba{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}},P_=class extends Ba{constructor(e,t){super(),this.key=e,this.precondition=t,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}};var k_=class{constructor(e,t,r,i){this.batchId=e,this.localWriteTime=t,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,t){let r=t.mutationResults;for(let i=0;i<this.mutations.length;i++){let o=this.mutations[i];o.key.isEqual(e.key)&&CH(o,e,r[i])}}applyToLocalView(e,t){for(let r of this.baseMutations)r.key.isEqual(e.key)&&(t=ju(r,e,t,this.localWriteTime));for(let r of this.mutations)r.key.isEqual(e.key)&&(t=ju(r,e,t,this.localWriteTime));return t}applyToLocalDocumentSet(e,t){let r=xR();return this.mutations.forEach(i=>{let o=e.get(i.key),s=o.overlayedDocument,a=this.applyToLocalView(s,o.mutatedFields);a=t.has(i.key)?null:a;let u=FR(s,a);u!==null&&r.set(i.key,u),s.isValidDocument()||s.convertToNoDocument(se.min())}),r}keys(){return this.mutations.reduce((e,t)=>e.add(t.key),we())}isEqual(e){return this.batchId===e.batchId&&ka(this.mutations,e.mutations,(t,r)=>GA(t,r))&&ka(this.baseMutations,e.baseMutations,(t,r)=>GA(t,r))}},O_=class n{constructor(e,t,r,i){this.batch=e,this.commitVersion=t,this.mutationResults=r,this.docVersions=i}static from(e,t,r){Me(e.mutations.length===r.length);let i=function(){return yH}(),o=e.mutations;for(let s=0;s<o.length;s++)i=i.insert(o[s].key,r[s].version);return new n(e,t,r,i)}};var F_=class{constructor(e,t){this.largestBatchId=e,this.mutation=t}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};var L_=class{constructor(e,t){this.count=e,this.unchangedNames=t}};var et,be;function SH(n){switch(n){default:return ee();case O.CANCELLED:case O.UNKNOWN:case O.DEADLINE_EXCEEDED:case O.RESOURCE_EXHAUSTED:case O.INTERNAL:case O.UNAVAILABLE:case O.UNAUTHENTICATED:return!1;case O.INVALID_ARGUMENT:case O.NOT_FOUND:case O.ALREADY_EXISTS:case O.PERMISSION_DENIED:case O.FAILED_PRECONDITION:case O.ABORTED:case O.OUT_OF_RANGE:case O.UNIMPLEMENTED:case O.DATA_LOSS:return!0}}function VR(n){if(n===void 0)return Wr("GRPC error has no .code"),O.UNKNOWN;switch(n){case et.OK:return O.OK;case et.CANCELLED:return O.CANCELLED;case et.UNKNOWN:return O.UNKNOWN;case et.DEADLINE_EXCEEDED:return O.DEADLINE_EXCEEDED;case et.RESOURCE_EXHAUSTED:return O.RESOURCE_EXHAUSTED;case et.INTERNAL:return O.INTERNAL;case et.UNAVAILABLE:return O.UNAVAILABLE;case et.UNAUTHENTICATED:return O.UNAUTHENTICATED;case et.INVALID_ARGUMENT:return O.INVALID_ARGUMENT;case et.NOT_FOUND:return O.NOT_FOUND;case et.ALREADY_EXISTS:return O.ALREADY_EXISTS;case et.PERMISSION_DENIED:return O.PERMISSION_DENIED;case et.FAILED_PRECONDITION:return O.FAILED_PRECONDITION;case et.ABORTED:return O.ABORTED;case et.OUT_OF_RANGE:return O.OUT_OF_RANGE;case et.UNIMPLEMENTED:return O.UNIMPLEMENTED;case et.DATA_LOSS:return O.DATA_LOSS;default:return ee()}}(be=et||(et={}))[be.OK=0]="OK",be[be.CANCELLED=1]="CANCELLED",be[be.UNKNOWN=2]="UNKNOWN",be[be.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",be[be.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",be[be.NOT_FOUND=5]="NOT_FOUND",be[be.ALREADY_EXISTS=6]="ALREADY_EXISTS",be[be.PERMISSION_DENIED=7]="PERMISSION_DENIED",be[be.UNAUTHENTICATED=16]="UNAUTHENTICATED",be[be.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",be[be.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",be[be.ABORTED=10]="ABORTED",be[be.OUT_OF_RANGE=11]="OUT_OF_RANGE",be[be.UNIMPLEMENTED=12]="UNIMPLEMENTED",be[be.INTERNAL=13]="INTERNAL",be[be.UNAVAILABLE=14]="UNAVAILABLE",be[be.DATA_LOSS=15]="DATA_LOSS";var QA=null;function AH(){return new TextEncoder}var RH=new Hi([4294967295,4294967295],0);function YA(n){let e=AH().encode(n),t=new Jw;return t.update(e),new Uint8Array(t.digest())}function ZA(n){let e=new DataView(n.buffer),t=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),o=e.getUint32(12,!0);return[new Hi([t,r],0),new Hi([i,o],0)]}var V_=class n{constructor(e,t,r){if(this.bitmap=e,this.padding=t,this.hashCount=r,t<0||t>=8)throw new Wo(`Invalid padding: ${t}`);if(r<0)throw new Wo(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Wo(`Invalid hash count: ${r}`);if(e.length===0&&t!==0)throw new Wo(`Invalid padding when bitmap length is 0: ${t}`);this.Ie=8*e.length-t,this.Te=Hi.fromNumber(this.Ie)}Ee(e,t,r){let i=e.add(t.multiply(Hi.fromNumber(r)));return i.compare(RH)===1&&(i=new Hi([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;let t=YA(e),[r,i]=ZA(t);for(let o=0;o<this.hashCount;o++){let s=this.Ee(r,i,o);if(!this.de(s))return!1}return!0}static create(e,t,r){let i=e%8==0?0:8-e%8,o=new Uint8Array(Math.ceil(e/8)),s=new n(o,i,t);return r.forEach(a=>s.insert(a)),s}insert(e){if(this.Ie===0)return;let t=YA(e),[r,i]=ZA(t);for(let o=0;o<this.hashCount;o++){let s=this.Ee(r,i,o);this.Ae(s)}}Ae(e){let t=Math.floor(e/8),r=e%8;this.bitmap[t]|=1<<r}},Wo=class extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}};var gp=class n{constructor(e,t,r,i,o){this.snapshotVersion=e,this.targetChanges=t,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=o}static createSynthesizedRemoteEventForCurrentChange(e,t,r){let i=new Map;return i.set(e,Hu.createSynthesizedTargetChangeForCurrentChange(e,t,r)),new n(se.min(),i,new qe(Te),Qr(),we())}},Hu=class n{constructor(e,t,r,i,o){this.resumeToken=e,this.current=t,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=o}static createSynthesizedTargetChangeForCurrentChange(e,t,r){return new n(r,t,we(),we(),we())}};var Ma=class{constructor(e,t,r,i){this.Re=e,this.removedTargetIds=t,this.key=r,this.Ve=i}},mp=class{constructor(e,t){this.targetId=e,this.me=t}},yp=class{constructor(e,t,r=Mt.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=t,this.resumeToken=r,this.cause=i}},vp=class{constructor(){this.fe=0,this.ge=XA(),this.pe=Mt.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=we(),t=we(),r=we();return this.ge.forEach((i,o)=>{switch(o){case 0:e=e.add(i);break;case 2:t=t.add(i);break;case 1:r=r.add(i);break;default:ee()}}),new Hu(this.pe,this.ye,e,t,r)}Ce(){this.we=!1,this.ge=XA()}Fe(e,t){this.we=!0,this.ge=this.ge.insert(e,t)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,Me(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}},j_=class{constructor(e){this.Le=e,this.Be=new Map,this.ke=Qr(),this.qe=JA(),this.Qe=new qe(Te)}Ke(e){for(let t of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(t,e.Ve):this.Ue(t,e.key,e.Ve);for(let t of e.removedTargetIds)this.Ue(t,e.key,e.Ve)}We(e){this.forEachTarget(e,t=>{let r=this.Ge(t);switch(e.state){case 0:this.ze(t)&&r.De(e.resumeToken);break;case 1:r.Oe(),r.Se||r.Ce(),r.De(e.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(t);break;case 3:this.ze(t)&&(r.Ne(),r.De(e.resumeToken));break;case 4:this.ze(t)&&(this.je(t),r.De(e.resumeToken));break;default:ee()}})}forEachTarget(e,t){e.targetIds.length>0?e.targetIds.forEach(t):this.Be.forEach((r,i)=>{this.ze(i)&&t(i)})}He(e){let t=e.targetId,r=e.me.count,i=this.Je(t);if(i){let o=i.target;if(R_(o))if(r===0){let s=new Q(o.path);this.Ue(t,s,Pn.newNoDocument(s,se.min()))}else Me(r===1);else{let s=this.Ye(t);if(s!==r){let a=this.Ze(e),u=a?this.Xe(a,e,s):1;if(u!==0){this.je(t);let d=u===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(t,d)}QA?.et(function(p,g,_,b,M){var F,k,U,K,Y,ce;let Pe={localCacheCount:p,existenceFilterCount:g.count,databaseId:_.database,projectId:_.projectId},X=g.unchangedNames;return X&&(Pe.bloomFilter={applied:M===0,hashCount:(F=X?.hashCount)!==null&&F!==void 0?F:0,bitmapLength:(K=(U=(k=X?.bits)===null||k===void 0?void 0:k.bitmap)===null||U===void 0?void 0:U.length)!==null&&K!==void 0?K:0,padding:(ce=(Y=X?.bits)===null||Y===void 0?void 0:Y.padding)!==null&&ce!==void 0?ce:0,mightContain:S=>{var I;return(I=b?.mightContain(S))!==null&&I!==void 0&&I}}),Pe}(s,e.me,this.Le.tt(),a,u))}}}}Ze(e){let t=e.me.unchangedNames;if(!t||!t.bits)return null;let{bits:{bitmap:r="",padding:i=0},hashCount:o=0}=t,s,a;try{s=qi(r).toUint8Array()}catch(u){if(u instanceof dp)return Pa("Decoding the base64 bloom filter in existence filter failed ("+u.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw u}try{a=new V_(s,i,o)}catch(u){return Pa(u instanceof Wo?"BloomFilter error: ":"Applying bloom filter failed: ",u),null}return a.Ie===0?null:a}Xe(e,t,r){return t.me.count===r-this.nt(e,t.targetId)?0:2}nt(e,t){let r=this.Le.getRemoteKeysForTarget(t),i=0;return r.forEach(o=>{let s=this.Le.tt(),a=`projects/${s.projectId}/databases/${s.database}/documents/${o.path.canonicalString()}`;e.mightContain(a)||(this.Ue(t,o,null),i++)}),i}rt(e){let t=new Map;this.Be.forEach((o,s)=>{let a=this.Je(s);if(a){if(o.current&&R_(a.target)){let u=new Q(a.target.path);this.ke.get(u)!==null||this.it(s,u)||this.Ue(s,u,Pn.newNoDocument(u,e))}o.be&&(t.set(s,o.ve()),o.Ce())}});let r=we();this.qe.forEach((o,s)=>{let a=!0;s.forEachWhile(u=>{let d=this.Je(u);return!d||d.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(o))}),this.ke.forEach((o,s)=>s.setReadTime(e));let i=new gp(e,t,this.Qe,this.ke,r);return this.ke=Qr(),this.qe=JA(),this.Qe=new qe(Te),i}$e(e,t){if(!this.ze(e))return;let r=this.it(e,t.key)?2:0;this.Ge(e).Fe(t.key,r),this.ke=this.ke.insert(t.key,t),this.qe=this.qe.insert(t.key,this.st(t.key).add(e))}Ue(e,t,r){if(!this.ze(e))return;let i=this.Ge(e);this.it(e,t)?i.Fe(t,1):i.Me(t),this.qe=this.qe.insert(t,this.st(t).delete(e)),r&&(this.ke=this.ke.insert(t,r))}removeTarget(e){this.Be.delete(e)}Ye(e){let t=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+t.addedDocuments.size-t.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let t=this.Be.get(e);return t||(t=new vp,this.Be.set(e,t)),t}st(e){let t=this.qe.get(e);return t||(t=new Rt(Te),this.qe=this.qe.insert(e,t)),t}ze(e){let t=this.Je(e)!==null;return t||z("WatchChangeAggregator","Detected inactive target",e),t}Je(e){let t=this.Be.get(e);return t&&t.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new vp),this.Le.getRemoteKeysForTarget(e).forEach(t=>{this.Ue(e,t,null)})}it(e,t){return this.Le.getRemoteKeysForTarget(e).has(t)}};function JA(){return new qe(Q.comparator)}function XA(){return new qe(Q.comparator)}var xH={asc:"ASCENDING",desc:"DESCENDING"},MH={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},NH={and:"AND",or:"OR"},U_=class{constructor(e,t){this.databaseId=e,this.useProto3Json=t}};function B_(n,e){return n.useProto3Json||Bp(e)?e:{value:e}}function wp(n,e){return n.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function jR(n,e){return n.useProto3Json?e.toBase64():e.toUint8Array()}function PH(n,e){return wp(n,e.toTimestamp())}function hr(n){return Me(!!n),se.fromTimestamp(function(t){let r=Kr(t);return new bt(r.seconds,r.nanos)}(n))}function GI(n,e){return $_(n,e).canonicalString()}function $_(n,e){let t=function(i){return new Be(["projects",i.projectId,"databases",i.database])}(n).child("documents");return e===void 0?t:t.child(e)}function UR(n){let e=Be.fromString(n);return Me(qR(e)),e}function H_(n,e){return GI(n.databaseId,e.path)}function i_(n,e){let t=UR(e);if(t.get(1)!==n.databaseId.projectId)throw new H(O.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+t.get(1)+" vs "+n.databaseId.projectId);if(t.get(3)!==n.databaseId.database)throw new H(O.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+t.get(3)+" vs "+n.databaseId.database);return new Q($R(t))}function BR(n,e){return GI(n.databaseId,e)}function kH(n){let e=UR(n);return e.length===4?Be.emptyPath():$R(e)}function z_(n){return new Be(["projects",n.databaseId.projectId,"databases",n.databaseId.database]).canonicalString()}function $R(n){return Me(n.length>4&&n.get(4)==="documents"),n.popFirst(5)}function eR(n,e,t){return{name:H_(n,e),fields:t.value.mapValue.fields}}function OH(n,e){let t;if("targetChange"in e){e.targetChange;let r=function(d){return d==="NO_CHANGE"?0:d==="ADD"?1:d==="REMOVE"?2:d==="CURRENT"?3:d==="RESET"?4:ee()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],o=function(d,p){return d.useProto3Json?(Me(p===void 0||typeof p=="string"),Mt.fromBase64String(p||"")):(Me(p===void 0||p instanceof Buffer||p instanceof Uint8Array),Mt.fromUint8Array(p||new Uint8Array))}(n,e.targetChange.resumeToken),s=e.targetChange.cause,a=s&&function(d){let p=d.code===void 0?O.UNKNOWN:VR(d.code);return new H(p,d.message||"")}(s);t=new yp(r,i,o,a||null)}else if("documentChange"in e){e.documentChange;let r=e.documentChange;r.document,r.document.name,r.document.updateTime;let i=i_(n,r.document.name),o=hr(r.document.updateTime),s=r.document.createTime?hr(r.document.createTime):se.min(),a=new nn({mapValue:{fields:r.document.fields}}),u=Pn.newFoundDocument(i,o,s,a),d=r.targetIds||[],p=r.removedTargetIds||[];t=new Ma(d,p,u.key,u)}else if("documentDelete"in e){e.documentDelete;let r=e.documentDelete;r.document;let i=i_(n,r.document),o=r.readTime?hr(r.readTime):se.min(),s=Pn.newNoDocument(i,o),a=r.removedTargetIds||[];t=new Ma([],a,s.key,s)}else if("documentRemove"in e){e.documentRemove;let r=e.documentRemove;r.document;let i=i_(n,r.document),o=r.removedTargetIds||[];t=new Ma([],o,i,null)}else{if(!("filter"in e))return ee();{e.filter;let r=e.filter;r.targetId;let{count:i=0,unchangedNames:o}=r,s=new L_(i,o),a=r.targetId;t=new mp(a,s)}}return t}function FH(n,e){let t;if(e instanceof ts)t={update:eR(n,e.key,e.value)};else if(e instanceof pp)t={delete:H_(n,e.key)};else if(e instanceof pr)t={update:eR(n,e.key,e.data),updateMask:qH(e.fieldMask)};else{if(!(e instanceof P_))return ee();t={verify:H_(n,e.key)}}return e.fieldTransforms.length>0&&(t.updateTransforms=e.fieldTransforms.map(r=>function(o,s){let a=s.transform;if(a instanceof ja)return{fieldPath:s.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof Xo)return{fieldPath:s.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof es)return{fieldPath:s.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof Ua)return{fieldPath:s.field.canonicalString(),increment:a.Pe};throw ee()}(0,r))),e.precondition.isNone||(t.currentDocument=function(i,o){return o.updateTime!==void 0?{updateTime:PH(i,o.updateTime)}:o.exists!==void 0?{exists:o.exists}:ee()}(n,e.precondition)),t}function LH(n,e){return n&&n.length>0?(Me(e!==void 0),n.map(t=>function(i,o){let s=i.updateTime?hr(i.updateTime):hr(o);return s.isEqual(se.min())&&(s=hr(o)),new N_(s,i.transformResults||[])}(t,e))):[]}function VH(n,e){return{documents:[BR(n,e.path)]}}function jH(n,e){let t={structuredQuery:{}},r=e.path,i;e.collectionGroup!==null?(i=r,t.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),t.structuredQuery.from=[{collectionId:r.lastSegment()}]),t.parent=BR(n,i);let o=function(d){if(d.length!==0)return zR(kn.create(d,"and"))}(e.filters);o&&(t.structuredQuery.where=o);let s=function(d){if(d.length!==0)return d.map(p=>function(_){return{field:Aa(_.field),direction:$H(_.dir)}}(p))}(e.orderBy);s&&(t.structuredQuery.orderBy=s);let a=B_(n,e.limit);return a!==null&&(t.structuredQuery.limit=a),e.startAt&&(t.structuredQuery.startAt=function(d){return{before:d.inclusive,values:d.position}}(e.startAt)),e.endAt&&(t.structuredQuery.endAt=function(d){return{before:!d.inclusive,values:d.position}}(e.endAt)),{_t:t,parent:i}}function UH(n){let e=kH(n.parent),t=n.structuredQuery,r=t.from?t.from.length:0,i=null;if(r>0){Me(r===1);let p=t.from[0];p.allDescendants?i=p.collectionId:e=e.child(p.collectionId)}let o=[];t.where&&(o=function(g){let _=HR(g);return _ instanceof kn&&IR(_)?_.getFilters():[_]}(t.where));let s=[];t.orderBy&&(s=function(g){return g.map(_=>function(M){return new Jo(Ra(M.field),function(k){switch(k){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(M.direction))}(_))}(t.orderBy));let a=null;t.limit&&(a=function(g){let _;return _=typeof g=="object"?g.value:g,Bp(_)?null:_}(t.limit));let u=null;t.startAt&&(u=function(g){let _=!!g.before,b=g.values||[];return new La(b,_)}(t.startAt));let d=null;return t.endAt&&(d=function(g){let _=!g.before,b=g.values||[];return new La(b,_)}(t.endAt)),hH(e,i,s,o,a,"F",u,d)}function BH(n,e){let t=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return ee()}}(e.purpose);return t==null?null:{"goog-listen-tags":t}}function HR(n){return n.unaryFilter!==void 0?function(t){switch(t.unaryFilter.op){case"IS_NAN":let r=Ra(t.unaryFilter.field);return nt.create(r,"==",{doubleValue:NaN});case"IS_NULL":let i=Ra(t.unaryFilter.field);return nt.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":let o=Ra(t.unaryFilter.field);return nt.create(o,"!=",{doubleValue:NaN});case"IS_NOT_NULL":let s=Ra(t.unaryFilter.field);return nt.create(s,"!=",{nullValue:"NULL_VALUE"});default:return ee()}}(n):n.fieldFilter!==void 0?function(t){return nt.create(Ra(t.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return ee()}}(t.fieldFilter.op),t.fieldFilter.value)}(n):n.compositeFilter!==void 0?function(t){return kn.create(t.compositeFilter.filters.map(r=>HR(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return ee()}}(t.compositeFilter.op))}(n):ee()}function $H(n){return xH[n]}function HH(n){return MH[n]}function zH(n){return NH[n]}function Aa(n){return{fieldPath:n.canonicalString()}}function Ra(n){return rn.fromServerFormat(n.fieldPath)}function zR(n){return n instanceof nt?function(t){if(t.op==="=="){if(UA(t.value))return{unaryFilter:{field:Aa(t.field),op:"IS_NAN"}};if(jA(t.value))return{unaryFilter:{field:Aa(t.field),op:"IS_NULL"}}}else if(t.op==="!="){if(UA(t.value))return{unaryFilter:{field:Aa(t.field),op:"IS_NOT_NAN"}};if(jA(t.value))return{unaryFilter:{field:Aa(t.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Aa(t.field),op:HH(t.op),value:t.value}}}(n):n instanceof kn?function(t){let r=t.getFilters().map(i=>zR(i));return r.length===1?r[0]:{compositeFilter:{op:zH(t.op),filters:r}}}(n):ee()}function qH(n){let e=[];return n.fields.forEach(t=>e.push(t.canonicalString())),{fieldPaths:e}}function qR(n){return n.length>=4&&n.get(0)==="projects"&&n.get(2)==="databases"}var zu=class n{constructor(e,t,r,i,o=se.min(),s=se.min(),a=Mt.EMPTY_BYTE_STRING,u=null){this.target=e,this.targetId=t,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=o,this.lastLimboFreeSnapshotVersion=s,this.resumeToken=a,this.expectedCount=u}withSequenceNumber(e){return new n(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,t){return new n(this.target,this.targetId,this.purpose,this.sequenceNumber,t,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new n(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new n(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}};var q_=class{constructor(e){this.ct=e}};function GH(n){let e=UH({parent:n.parent,structuredQuery:n.structuredQuery});return n.limitType==="LAST"?M_(e,e.limit,"L"):e}var _p=class{constructor(){}It(e,t){this.Tt(e,t),t.Et()}Tt(e,t){if("nullValue"in e)this.dt(t,5);else if("booleanValue"in e)this.dt(t,10),t.At(e.booleanValue?1:0);else if("integerValue"in e)this.dt(t,15),t.At(je(e.integerValue));else if("doubleValue"in e){let r=je(e.doubleValue);isNaN(r)?this.dt(t,13):(this.dt(t,15),Uu(r)?t.At(0):t.At(r))}else if("timestampValue"in e){let r=e.timestampValue;this.dt(t,20),typeof r=="string"&&(r=Kr(r)),t.Rt(`${r.seconds||""}`),t.At(r.nanos||0)}else if("stringValue"in e)this.Vt(e.stringValue,t),this.ft(t);else if("bytesValue"in e)this.dt(t,30),t.gt(qi(e.bytesValue)),this.ft(t);else if("referenceValue"in e)this.yt(e.referenceValue,t);else if("geoPointValue"in e){let r=e.geoPointValue;this.dt(t,45),t.At(r.latitude||0),t.At(r.longitude||0)}else"mapValue"in e?vR(e)?this.dt(t,Number.MAX_SAFE_INTEGER):yR(e)?this.wt(e.mapValue,t):(this.St(e.mapValue,t),this.ft(t)):"arrayValue"in e?(this.bt(e.arrayValue,t),this.ft(t)):ee()}Vt(e,t){this.dt(t,25),this.Dt(e,t)}Dt(e,t){t.Rt(e)}St(e,t){let r=e.fields||{};this.dt(t,55);for(let i of Object.keys(r))this.Vt(i,t),this.Tt(r[i],t)}wt(e,t){var r,i;let o=e.fields||{};this.dt(t,53);let s="value",a=((i=(r=o[s].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.length)||0;this.dt(t,15),t.At(je(a)),this.Vt(s,t),this.Tt(o[s],t)}bt(e,t){let r=e.values||[];this.dt(t,50);for(let i of r)this.Tt(i,t)}yt(e,t){this.dt(t,37),Q.fromName(e).path.forEach(r=>{this.dt(t,60),this.Dt(r,t)})}dt(e,t){e.At(t)}ft(e){e.At(2)}};_p.vt=new _p;var G_=class{constructor(){this.un=new W_}addToCollectionParentIndex(e,t){return this.un.add(t),L.resolve()}getCollectionParents(e,t){return L.resolve(this.un.getEntries(t))}addFieldIndex(e,t){return L.resolve()}deleteFieldIndex(e,t){return L.resolve()}deleteAllFieldIndexes(e){return L.resolve()}createTargetIndexes(e,t){return L.resolve()}getDocumentsMatchingTarget(e,t){return L.resolve(null)}getIndexType(e,t){return L.resolve(0)}getFieldIndexes(e,t){return L.resolve([])}getNextCollectionGroupToUpdate(e){return L.resolve(null)}getMinOffset(e,t){return L.resolve(Yo.min())}getMinOffsetFromCollectionGroup(e,t){return L.resolve(Yo.min())}updateCollectionGroup(e,t,r){return L.resolve()}updateIndexEntries(e,t){return L.resolve()}},W_=class{constructor(){this.index={}}add(e){let t=e.lastSegment(),r=e.popLast(),i=this.index[t]||new Rt(Be.comparator),o=!i.has(r);return this.index[t]=i.add(r),o}has(e){let t=e.lastSegment(),r=e.popLast(),i=this.index[t];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Rt(Be.comparator)).toArray()}};var SK=new Uint8Array(0);var ur=class n{constructor(e,t,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=t,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new n(e,n.DEFAULT_COLLECTION_PERCENTILE,n.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}};ur.DEFAULT_COLLECTION_PERCENTILE=10,ur.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,ur.DEFAULT=new ur(41943040,ur.DEFAULT_COLLECTION_PERCENTILE,ur.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),ur.DISABLED=new ur(-1,0,0);var qu=class n{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new n(0)}static kn(){return new n(-1)}};var K_=class{constructor(){this.changes=new Wi(e=>e.toString(),(e,t)=>e.isEqual(t)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,t){this.assertNotApplied(),this.changes.set(e,Pn.newInvalidDocument(e).setReadTime(t))}getEntry(e,t){this.assertNotApplied();let r=this.changes.get(t);return r!==void 0?L.resolve(r):this.getFromCache(e,t)}getEntries(e,t){return this.getAllFromCache(e,t)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}};var Q_=class{constructor(e,t){this.overlayedDocument=e,this.mutatedFields=t}};var Y_=class{constructor(e,t,r,i){this.remoteDocumentCache=e,this.mutationQueue=t,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,t){let r=null;return this.documentOverlayCache.getOverlay(e,t).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,t))).next(i=>(r!==null&&ju(r.mutation,i,yn.empty(),bt.now()),i))}getDocuments(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.getLocalViewOfDocuments(e,r,we()).next(()=>r))}getLocalViewOfDocuments(e,t,r=we()){let i=Go();return this.populateOverlays(e,i,t).next(()=>this.computeViews(e,t,i,r).next(o=>{let s=Ou();return o.forEach((a,u)=>{s=s.insert(a,u.overlayedDocument)}),s}))}getOverlayedDocuments(e,t){let r=Go();return this.populateOverlays(e,r,t).next(()=>this.computeViews(e,t,r,we()))}populateOverlays(e,t,r){let i=[];return r.forEach(o=>{t.has(o)||i.push(o)}),this.documentOverlayCache.getOverlays(e,i).next(o=>{o.forEach((s,a)=>{t.set(s,a)})})}computeViews(e,t,r,i){let o=Qr(),s=Vu(),a=function(){return Vu()}();return t.forEach((u,d)=>{let p=r.get(d.key);i.has(d.key)&&(p===void 0||p.mutation instanceof pr)?o=o.insert(d.key,d):p!==void 0?(s.set(d.key,p.mutation.getFieldMask()),ju(p.mutation,d,p.mutation.getFieldMask(),bt.now())):s.set(d.key,yn.empty())}),this.recalculateAndSaveOverlays(e,o).next(u=>(u.forEach((d,p)=>s.set(d,p)),t.forEach((d,p)=>{var g;return a.set(d,new Q_(p,(g=s.get(d))!==null&&g!==void 0?g:null))}),a))}recalculateAndSaveOverlays(e,t){let r=Vu(),i=new qe((s,a)=>s-a),o=we();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,t).next(s=>{for(let a of s)a.keys().forEach(u=>{let d=t.get(u);if(d===null)return;let p=r.get(u)||yn.empty();p=a.applyToLocalView(d,p),r.set(u,p);let g=(i.get(a.batchId)||we()).add(u);i=i.insert(a.batchId,g)})}).next(()=>{let s=[],a=i.getReverseIterator();for(;a.hasNext();){let u=a.getNext(),d=u.key,p=u.value,g=xR();p.forEach(_=>{if(!o.has(_)){let b=FR(t.get(_),r.get(_));b!==null&&g.set(_,b),o=o.add(_)}}),s.push(this.documentOverlayCache.saveOverlays(e,d,g))}return L.waitFor(s)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,t){return this.remoteDocumentCache.getEntries(e,t).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,t,r,i){return function(s){return Q.isDocumentKey(s.path)&&s.collectionGroup===null&&s.filters.length===0}(t)?this.getDocumentsMatchingDocumentQuery(e,t.path):CR(t)?this.getDocumentsMatchingCollectionGroupQuery(e,t,r,i):this.getDocumentsMatchingCollectionQuery(e,t,r,i)}getNextDocuments(e,t,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,t,r,i).next(o=>{let s=i-o.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,t,r.largestBatchId,i-o.size):L.resolve(Go()),a=-1,u=o;return s.next(d=>L.forEach(d,(p,g)=>(a<g.largestBatchId&&(a=g.largestBatchId),o.get(p)?L.resolve():this.remoteDocumentCache.getEntry(e,p).next(_=>{u=u.insert(p,_)}))).next(()=>this.populateOverlays(e,d,o)).next(()=>this.computeViews(e,u,d,we())).next(p=>({batchId:a,changes:RR(p)})))})}getDocumentsMatchingDocumentQuery(e,t){return this.getDocument(e,new Q(t)).next(r=>{let i=Ou();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,t,r,i){let o=t.collectionGroup,s=Ou();return this.indexManager.getCollectionParents(e,o).next(a=>L.forEach(a,u=>{let d=function(g,_){return new Gi(_,null,g.explicitOrderBy.slice(),g.filters.slice(),g.limit,g.limitType,g.startAt,g.endAt)}(t,u.child(o));return this.getDocumentsMatchingCollectionQuery(e,d,r,i).next(p=>{p.forEach((g,_)=>{s=s.insert(g,_)})})}).next(()=>s))}getDocumentsMatchingCollectionQuery(e,t,r,i){let o;return this.documentOverlayCache.getOverlaysForCollection(e,t.path,r.largestBatchId).next(s=>(o=s,this.remoteDocumentCache.getDocumentsMatchingQuery(e,t,r,o,i))).next(s=>{o.forEach((u,d)=>{let p=d.getKey();s.get(p)===null&&(s=s.insert(p,Pn.newInvalidDocument(p)))});let a=Ou();return s.forEach((u,d)=>{let p=o.get(u);p!==void 0&&ju(p.mutation,d,yn.empty(),bt.now()),zp(t,d)&&(a=a.insert(u,d))}),a})}};var Z_=class{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,t){return L.resolve(this.hr.get(t))}saveBundleMetadata(e,t){return this.hr.set(t.id,function(i){return{id:i.id,version:i.version,createTime:hr(i.createTime)}}(t)),L.resolve()}getNamedQuery(e,t){return L.resolve(this.Pr.get(t))}saveNamedQuery(e,t){return this.Pr.set(t.name,function(i){return{name:i.name,query:GH(i.bundledQuery),readTime:hr(i.readTime)}}(t)),L.resolve()}};var J_=class{constructor(){this.overlays=new qe(Q.comparator),this.Ir=new Map}getOverlay(e,t){return L.resolve(this.overlays.get(t))}getOverlays(e,t){let r=Go();return L.forEach(t,i=>this.getOverlay(e,i).next(o=>{o!==null&&r.set(i,o)})).next(()=>r)}saveOverlays(e,t,r){return r.forEach((i,o)=>{this.ht(e,t,o)}),L.resolve()}removeOverlaysForBatchId(e,t,r){let i=this.Ir.get(r);return i!==void 0&&(i.forEach(o=>this.overlays=this.overlays.remove(o)),this.Ir.delete(r)),L.resolve()}getOverlaysForCollection(e,t,r){let i=Go(),o=t.length+1,s=new Q(t.child("")),a=this.overlays.getIteratorFrom(s);for(;a.hasNext();){let u=a.getNext().value,d=u.getKey();if(!t.isPrefixOf(d.path))break;d.path.length===o&&u.largestBatchId>r&&i.set(u.getKey(),u)}return L.resolve(i)}getOverlaysForCollectionGroup(e,t,r,i){let o=new qe((d,p)=>d-p),s=this.overlays.getIterator();for(;s.hasNext();){let d=s.getNext().value;if(d.getKey().getCollectionGroup()===t&&d.largestBatchId>r){let p=o.get(d.largestBatchId);p===null&&(p=Go(),o=o.insert(d.largestBatchId,p)),p.set(d.getKey(),d)}}let a=Go(),u=o.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach((d,p)=>a.set(d,p)),!(a.size()>=i)););return L.resolve(a)}ht(e,t,r){let i=this.overlays.get(r.key);if(i!==null){let s=this.Ir.get(i.largestBatchId).delete(r.key);this.Ir.set(i.largestBatchId,s)}this.overlays=this.overlays.insert(r.key,new F_(t,r));let o=this.Ir.get(t);o===void 0&&(o=we(),this.Ir.set(t,o)),this.Ir.set(t,o.add(r.key))}};var X_=class{constructor(){this.sessionToken=Mt.EMPTY_BYTE_STRING}getSessionToken(e){return L.resolve(this.sessionToken)}setSessionToken(e,t){return this.sessionToken=t,L.resolve()}};var Gu=class{constructor(){this.Tr=new Rt(tt.Er),this.dr=new Rt(tt.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,t){let r=new tt(e,t);this.Tr=this.Tr.add(r),this.dr=this.dr.add(r)}Rr(e,t){e.forEach(r=>this.addReference(r,t))}removeReference(e,t){this.Vr(new tt(e,t))}mr(e,t){e.forEach(r=>this.removeReference(r,t))}gr(e){let t=new Q(new Be([])),r=new tt(t,e),i=new tt(t,e+1),o=[];return this.dr.forEachInRange([r,i],s=>{this.Vr(s),o.push(s.key)}),o}pr(){this.Tr.forEach(e=>this.Vr(e))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){let t=new Q(new Be([])),r=new tt(t,e),i=new tt(t,e+1),o=we();return this.dr.forEachInRange([r,i],s=>{o=o.add(s.key)}),o}containsKey(e){let t=new tt(e,0),r=this.Tr.firstAfterOrEqual(t);return r!==null&&e.isEqual(r.key)}},tt=class{constructor(e,t){this.key=e,this.wr=t}static Er(e,t){return Q.comparator(e.key,t.key)||Te(e.wr,t.wr)}static Ar(e,t){return Te(e.wr,t.wr)||Q.comparator(e.key,t.key)}};var eI=class{constructor(e,t){this.indexManager=e,this.referenceDelegate=t,this.mutationQueue=[],this.Sr=1,this.br=new Rt(tt.Er)}checkEmpty(e){return L.resolve(this.mutationQueue.length===0)}addMutationBatch(e,t,r,i){let o=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];let s=new k_(o,t,r,i);this.mutationQueue.push(s);for(let a of i)this.br=this.br.add(new tt(a.key,o)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return L.resolve(s)}lookupMutationBatch(e,t){return L.resolve(this.Dr(t))}getNextMutationBatchAfterBatchId(e,t){let r=t+1,i=this.vr(r),o=i<0?0:i;return L.resolve(this.mutationQueue.length>o?this.mutationQueue[o]:null)}getHighestUnacknowledgedBatchId(){return L.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(e){return L.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,t){let r=new tt(t,0),i=new tt(t,Number.POSITIVE_INFINITY),o=[];return this.br.forEachInRange([r,i],s=>{let a=this.Dr(s.wr);o.push(a)}),L.resolve(o)}getAllMutationBatchesAffectingDocumentKeys(e,t){let r=new Rt(Te);return t.forEach(i=>{let o=new tt(i,0),s=new tt(i,Number.POSITIVE_INFINITY);this.br.forEachInRange([o,s],a=>{r=r.add(a.wr)})}),L.resolve(this.Cr(r))}getAllMutationBatchesAffectingQuery(e,t){let r=t.path,i=r.length+1,o=r;Q.isDocumentKey(o)||(o=o.child(""));let s=new tt(new Q(o),0),a=new Rt(Te);return this.br.forEachWhile(u=>{let d=u.key.path;return!!r.isPrefixOf(d)&&(d.length===i&&(a=a.add(u.wr)),!0)},s),L.resolve(this.Cr(a))}Cr(e){let t=[];return e.forEach(r=>{let i=this.Dr(r);i!==null&&t.push(i)}),t}removeMutationBatch(e,t){Me(this.Fr(t.batchId,"removed")===0),this.mutationQueue.shift();let r=this.br;return L.forEach(t.mutations,i=>{let o=new tt(i.key,t.batchId);return r=r.delete(o),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.br=r})}On(e){}containsKey(e,t){let r=new tt(t,0),i=this.br.firstAfterOrEqual(r);return L.resolve(t.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,L.resolve()}Fr(e,t){return this.vr(e)}vr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Dr(e){let t=this.vr(e);return t<0||t>=this.mutationQueue.length?null:this.mutationQueue[t]}};var tI=class{constructor(e){this.Mr=e,this.docs=function(){return new qe(Q.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,t){let r=t.key,i=this.docs.get(r),o=i?i.size:0,s=this.Mr(t);return this.docs=this.docs.insert(r,{document:t.mutableCopy(),size:s}),this.size+=s-o,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){let t=this.docs.get(e);t&&(this.docs=this.docs.remove(e),this.size-=t.size)}getEntry(e,t){let r=this.docs.get(t);return L.resolve(r?r.document.mutableCopy():Pn.newInvalidDocument(t))}getEntries(e,t){let r=Qr();return t.forEach(i=>{let o=this.docs.get(i);r=r.insert(i,o?o.document.mutableCopy():Pn.newInvalidDocument(i))}),L.resolve(r)}getDocumentsMatchingQuery(e,t,r,i){let o=Qr(),s=t.path,a=new Q(s.child("")),u=this.docs.getIteratorFrom(a);for(;u.hasNext();){let{key:d,value:{document:p}}=u.getNext();if(!s.isPrefixOf(d.path))break;d.path.length>s.length+1||tH(eH(p),r)<=0||(i.has(p.key)||zp(t,p))&&(o=o.insert(p.key,p.mutableCopy()))}return L.resolve(o)}getAllFromCollectionGroup(e,t,r,i){ee()}Or(e,t){return L.forEach(this.docs,r=>t(r))}newChangeBuffer(e){return new nI(this)}getSize(e){return L.resolve(this.size)}},nI=class extends K_{constructor(e){super(),this.cr=e}applyChanges(e){let t=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?t.push(this.cr.addEntry(e,i)):this.cr.removeEntry(r)}),L.waitFor(t)}getFromCache(e,t){return this.cr.getEntry(e,t)}getAllFromCache(e,t){return this.cr.getEntries(e,t)}};var rI=class{constructor(e){this.persistence=e,this.Nr=new Wi(t=>HI(t),zI),this.lastRemoteSnapshotVersion=se.min(),this.highestTargetId=0,this.Lr=0,this.Br=new Gu,this.targetCount=0,this.kr=qu.Bn()}forEachTarget(e,t){return this.Nr.forEach((r,i)=>t(i)),L.resolve()}getLastRemoteSnapshotVersion(e){return L.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return L.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),L.resolve(this.highestTargetId)}setTargetsMetadata(e,t,r){return r&&(this.lastRemoteSnapshotVersion=r),t>this.Lr&&(this.Lr=t),L.resolve()}Kn(e){this.Nr.set(e.target,e);let t=e.targetId;t>this.highestTargetId&&(this.kr=new qu(t),this.highestTargetId=t),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,t){return this.Kn(t),this.targetCount+=1,L.resolve()}updateTargetData(e,t){return this.Kn(t),L.resolve()}removeTargetData(e,t){return this.Nr.delete(t.target),this.Br.gr(t.targetId),this.targetCount-=1,L.resolve()}removeTargets(e,t,r){let i=0,o=[];return this.Nr.forEach((s,a)=>{a.sequenceNumber<=t&&r.get(a.targetId)===null&&(this.Nr.delete(s),o.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),L.waitFor(o).next(()=>i)}getTargetCount(e){return L.resolve(this.targetCount)}getTargetData(e,t){let r=this.Nr.get(t)||null;return L.resolve(r)}addMatchingKeys(e,t,r){return this.Br.Rr(t,r),L.resolve()}removeMatchingKeys(e,t,r){this.Br.mr(t,r);let i=this.persistence.referenceDelegate,o=[];return i&&t.forEach(s=>{o.push(i.markPotentiallyOrphaned(e,s))}),L.waitFor(o)}removeMatchingKeysForTargetId(e,t){return this.Br.gr(t),L.resolve()}getMatchingKeysForTargetId(e,t){let r=this.Br.yr(t);return L.resolve(r)}containsKey(e,t){return L.resolve(this.Br.containsKey(t))}};var iI=class{constructor(e,t){this.qr={},this.overlays={},this.Qr=new gR(0),this.Kr=!1,this.Kr=!0,this.$r=new X_,this.referenceDelegate=e(this),this.Ur=new rI(this),this.indexManager=new G_,this.remoteDocumentCache=function(i){return new tI(i)}(r=>this.referenceDelegate.Wr(r)),this.serializer=new q_(t),this.Gr=new Z_(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let t=this.overlays[e.toKey()];return t||(t=new J_,this.overlays[e.toKey()]=t),t}getMutationQueue(e,t){let r=this.qr[e.toKey()];return r||(r=new eI(t,this.referenceDelegate),this.qr[e.toKey()]=r),r}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,t,r){z("MemoryPersistence","Starting transaction:",e);let i=new oI(this.Qr.next());return this.referenceDelegate.zr(),r(i).next(o=>this.referenceDelegate.jr(i).next(()=>o)).toPromise().then(o=>(i.raiseOnCommittedEvent(),o))}Hr(e,t){return L.or(Object.values(this.qr).map(r=>()=>r.containsKey(e,t)))}},oI=class extends m_{constructor(e){super(),this.currentSequenceNumber=e}},sI=class n{constructor(e){this.persistence=e,this.Jr=new Gu,this.Yr=null}static Zr(e){return new n(e)}get Xr(){if(this.Yr)return this.Yr;throw ee()}addReference(e,t,r){return this.Jr.addReference(r,t),this.Xr.delete(r.toString()),L.resolve()}removeReference(e,t,r){return this.Jr.removeReference(r,t),this.Xr.add(r.toString()),L.resolve()}markPotentiallyOrphaned(e,t){return this.Xr.add(t.toString()),L.resolve()}removeTarget(e,t){this.Jr.gr(t.targetId).forEach(i=>this.Xr.add(i.toString()));let r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,t.targetId).next(i=>{i.forEach(o=>this.Xr.add(o.toString()))}).next(()=>r.removeTargetData(e,t))}zr(){this.Yr=new Set}jr(e){let t=this.persistence.getRemoteDocumentCache().newChangeBuffer();return L.forEach(this.Xr,r=>{let i=Q.fromPath(r);return this.ei(e,i).next(o=>{o||t.removeEntry(i,se.min())})}).next(()=>(this.Yr=null,t.apply(e)))}updateLimboDocument(e,t){return this.ei(e,t).next(r=>{r?this.Xr.delete(t.toString()):this.Xr.add(t.toString())})}Wr(e){return 0}ei(e,t){return L.or([()=>L.resolve(this.Jr.containsKey(t)),()=>this.persistence.getTargetCache().containsKey(e,t),()=>this.persistence.Hr(e,t)])}};var aI=class n{constructor(e,t,r,i){this.targetId=e,this.fromCache=t,this.$i=r,this.Ui=i}static Wi(e,t){let r=we(),i=we();for(let o of t.docChanges)switch(o.type){case 0:r=r.add(o.doc.key);break;case 1:i=i.add(o.doc.key)}return new n(e,t.fromCache,r,i)}};var cI=class{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}};var uI=class{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=function(){return yS()?8:rH(pt())>0?6:4}()}initialize(e,t){this.Ji=e,this.indexManager=t,this.Gi=!0}getDocumentsMatchingQuery(e,t,r,i){let o={result:null};return this.Yi(e,t).next(s=>{o.result=s}).next(()=>{if(!o.result)return this.Zi(e,t,i,r).next(s=>{o.result=s})}).next(()=>{if(o.result)return;let s=new cI;return this.Xi(e,t,s).next(a=>{if(o.result=a,this.zi)return this.es(e,t,s,a.size)})}).next(()=>o.result)}es(e,t,r,i){return r.documentReadCount<this.ji?(ku()<=ve.DEBUG&&z("QueryEngine","SDK will not create cache indexes for query:",Sa(t),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),L.resolve()):(ku()<=ve.DEBUG&&z("QueryEngine","Query:",Sa(t),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Hi*i?(ku()<=ve.DEBUG&&z("QueryEngine","The SDK decides to create cache indexes for query:",Sa(t),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,dr(t))):L.resolve())}Yi(e,t){if(zA(t))return L.resolve(null);let r=dr(t);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(t.limit!==null&&i===1&&(t=M_(t,null,"F"),r=dr(t)),this.indexManager.getDocumentsMatchingTarget(e,r).next(o=>{let s=we(...o);return this.Ji.getDocuments(e,s).next(a=>this.indexManager.getMinOffset(e,r).next(u=>{let d=this.ts(t,a);return this.ns(t,d,s,u.readTime)?this.Yi(e,M_(t,null,"F")):this.rs(e,d,t,u)}))})))}Zi(e,t,r,i){return zA(t)||i.isEqual(se.min())?L.resolve(null):this.Ji.getDocuments(e,r).next(o=>{let s=this.ts(t,o);return this.ns(t,s,r,i)?L.resolve(null):(ku()<=ve.DEBUG&&z("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),Sa(t)),this.rs(e,s,t,X$(i,-1)).next(a=>a))})}ts(e,t){let r=new Rt(SR(e));return t.forEach((i,o)=>{zp(e,o)&&(r=r.add(o))}),r}ns(e,t,r,i){if(e.limit===null)return!1;if(r.size!==t.size)return!0;let o=e.limitType==="F"?t.last():t.first();return!!o&&(o.hasPendingWrites||o.version.compareTo(i)>0)}Xi(e,t,r){return ku()<=ve.DEBUG&&z("QueryEngine","Using full collection scan to execute query:",Sa(t)),this.Ji.getDocumentsMatchingQuery(e,t,Yo.min(),r)}rs(e,t,r,i){return this.Ji.getDocumentsMatchingQuery(e,r,i).next(o=>(t.forEach(s=>{o=o.insert(s.key,s)}),o))}};var lI=class{constructor(e,t,r,i){this.persistence=e,this.ss=t,this.serializer=i,this.os=new qe(Te),this._s=new Wi(o=>HI(o),zI),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(r)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new Y_(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",t=>e.collect(t,this.os))}};function WH(n,e,t,r){return new lI(n,e,t,r)}function GR(n,e){return C(this,null,function*(){let t=ie(n);return yield t.persistence.runTransaction("Handle user change","readonly",r=>{let i;return t.mutationQueue.getAllMutationBatches(r).next(o=>(i=o,t.ls(e),t.mutationQueue.getAllMutationBatches(r))).next(o=>{let s=[],a=[],u=we();for(let d of i){s.push(d.batchId);for(let p of d.mutations)u=u.add(p.key)}for(let d of o){a.push(d.batchId);for(let p of d.mutations)u=u.add(p.key)}return t.localDocuments.getDocuments(r,u).next(d=>({hs:d,removedBatchIds:s,addedBatchIds:a}))})})})}function KH(n,e){let t=ie(n);return t.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{let i=e.batch.keys(),o=t.cs.newChangeBuffer({trackRemovals:!0});return function(a,u,d,p){let g=d.batch,_=g.keys(),b=L.resolve();return _.forEach(M=>{b=b.next(()=>p.getEntry(u,M)).next(F=>{let k=d.docVersions.get(M);Me(k!==null),F.version.compareTo(k)<0&&(g.applyToRemoteDocument(F,d),F.isValidDocument()&&(F.setReadTime(d.commitVersion),p.addEntry(F)))})}),b.next(()=>a.mutationQueue.removeMutationBatch(u,g))}(t,r,e,o).next(()=>o.apply(r)).next(()=>t.mutationQueue.performConsistencyCheck(r)).next(()=>t.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>t.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let u=we();for(let d=0;d<a.mutationResults.length;++d)a.mutationResults[d].transformResults.length>0&&(u=u.add(a.batch.mutations[d].key));return u}(e))).next(()=>t.localDocuments.getDocuments(r,i))})}function WR(n){let e=ie(n);return e.persistence.runTransaction("Get last remote snapshot version","readonly",t=>e.Ur.getLastRemoteSnapshotVersion(t))}function QH(n,e){let t=ie(n),r=e.snapshotVersion,i=t.os;return t.persistence.runTransaction("Apply remote event","readwrite-primary",o=>{let s=t.cs.newChangeBuffer({trackRemovals:!0});i=t.os;let a=[];e.targetChanges.forEach((p,g)=>{let _=i.get(g);if(!_)return;a.push(t.Ur.removeMatchingKeys(o,p.removedDocuments,g).next(()=>t.Ur.addMatchingKeys(o,p.addedDocuments,g)));let b=_.withSequenceNumber(o.currentSequenceNumber);e.targetMismatches.get(g)!==null?b=b.withResumeToken(Mt.EMPTY_BYTE_STRING,se.min()).withLastLimboFreeSnapshotVersion(se.min()):p.resumeToken.approximateByteSize()>0&&(b=b.withResumeToken(p.resumeToken,r)),i=i.insert(g,b),function(F,k,U){return F.resumeToken.approximateByteSize()===0||k.snapshotVersion.toMicroseconds()-F.snapshotVersion.toMicroseconds()>=3e8?!0:U.addedDocuments.size+U.modifiedDocuments.size+U.removedDocuments.size>0}(_,b,p)&&a.push(t.Ur.updateTargetData(o,b))});let u=Qr(),d=we();if(e.documentUpdates.forEach(p=>{e.resolvedLimboDocuments.has(p)&&a.push(t.persistence.referenceDelegate.updateLimboDocument(o,p))}),a.push(YH(o,s,e.documentUpdates).next(p=>{u=p.Ps,d=p.Is})),!r.isEqual(se.min())){let p=t.Ur.getLastRemoteSnapshotVersion(o).next(g=>t.Ur.setTargetsMetadata(o,o.currentSequenceNumber,r));a.push(p)}return L.waitFor(a).next(()=>s.apply(o)).next(()=>t.localDocuments.getLocalViewOfDocuments(o,u,d)).next(()=>u)}).then(o=>(t.os=i,o))}function YH(n,e,t){let r=we(),i=we();return t.forEach(o=>r=r.add(o)),e.getEntries(n,r).next(o=>{let s=Qr();return t.forEach((a,u)=>{let d=o.get(a);u.isFoundDocument()!==d.isFoundDocument()&&(i=i.add(a)),u.isNoDocument()&&u.version.isEqual(se.min())?(e.removeEntry(a,u.readTime),s=s.insert(a,u)):!d.isValidDocument()||u.version.compareTo(d.version)>0||u.version.compareTo(d.version)===0&&d.hasPendingWrites?(e.addEntry(u),s=s.insert(a,u)):z("LocalStore","Ignoring outdated watch update for ",a,". Current version:",d.version," Watch version:",u.version)}),{Ps:s,Is:i}})}function ZH(n,e){let t=ie(n);return t.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),t.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function JH(n,e){let t=ie(n);return t.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return t.Ur.getTargetData(r,e).next(o=>o?(i=o,L.resolve(i)):t.Ur.allocateTargetId(r).next(s=>(i=new zu(e,s,"TargetPurposeListen",r.currentSequenceNumber),t.Ur.addTargetData(r,i).next(()=>i))))}).then(r=>{let i=t.os.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(t.os=t.os.insert(r.targetId,r),t._s.set(e,r.targetId)),r})}function dI(n,e,t){return C(this,null,function*(){let r=ie(n),i=r.os.get(e),o=t?"readwrite":"readwrite-primary";try{t||(yield r.persistence.runTransaction("Release target",o,s=>r.persistence.referenceDelegate.removeTarget(s,i)))}catch(s){if(!nl(s))throw s;z("LocalStore",`Failed to update sequence numbers for target ${e}: ${s}`)}r.os=r.os.remove(e),r._s.delete(i.target)})}function tR(n,e,t){let r=ie(n),i=se.min(),o=we();return r.persistence.runTransaction("Execute query","readwrite",s=>function(u,d,p){let g=ie(u),_=g._s.get(p);return _!==void 0?L.resolve(g.os.get(_)):g.Ur.getTargetData(d,p)}(r,s,dr(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Ur.getMatchingKeysForTargetId(s,a.targetId).next(u=>{o=u})}).next(()=>r.ss.getDocumentsMatchingQuery(s,e,t?i:se.min(),t?o:we())).next(a=>(XH(r,pH(e),a),{documents:a,Ts:o})))}function XH(n,e,t){let r=n.us.get(e)||se.min();t.forEach((i,o)=>{o.readTime.compareTo(r)>0&&(r=o.readTime)}),n.us.set(e,r)}var Ip=class{constructor(){this.activeTargetIds=_H()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){let e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}};var hI=class{constructor(){this.so=new Ip,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,t,r){}addLocalQueryTarget(e,t=!0){return t&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,t,r){this.oo[e]=t}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new Ip,Promise.resolve()}handleUserChange(e,t,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}};var fI=class{_o(e){}shutdown(){}};var Ep=class{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){z("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(let e of this.ho)e(0)}lo(){z("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(let e of this.ho)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}};var ip=null;function o_(){return ip===null?ip=function(){return 268435456+Math.round(2147483648*Math.random())}():ip++,"0x"+ip.toString(16)}var ez={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};var pI=class{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}};var At="WebChannelConnection",gI=class extends class{constructor(t){this.databaseInfo=t,this.databaseId=t.databaseId;let r=t.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),o=encodeURIComponent(this.databaseId.database);this.Do=r+"://"+t.host,this.vo=`projects/${i}/databases/${o}`,this.Co=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${o}`}get Fo(){return!1}Mo(t,r,i,o,s){let a=o_(),u=this.xo(t,r.toUriEncodedString());z("RestConnection",`Sending RPC '${t}' ${a}:`,u,i);let d={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(d,o,s),this.No(t,u,d,i).then(p=>(z("RestConnection",`Received RPC '${t}' ${a}: `,p),p),p=>{throw Pa("RestConnection",`RPC '${t}' ${a} failed with error: `,p,"url: ",u,"request:",i),p})}Lo(t,r,i,o,s,a){return this.Mo(t,r,i,o,s)}Oo(t,r,i){t["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+qa}(),t["Content-Type"]="text/plain",this.databaseInfo.appId&&(t["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((o,s)=>t[s]=o),i&&i.headers.forEach((o,s)=>t[s]=o)}xo(t,r){let i=ez[t];return`${this.Do}/v1/${r}:${i}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,t,r,i){let o=o_();return new Promise((s,a)=>{let u=new Xw;u.setWithCredentials(!0),u.listenOnce(e_.COMPLETE,()=>{try{switch(u.getLastErrorCode()){case Pu.NO_ERROR:let p=u.getResponseJson();z(At,`XHR for RPC '${e}' ${o} received:`,JSON.stringify(p)),s(p);break;case Pu.TIMEOUT:z(At,`RPC '${e}' ${o} timed out`),a(new H(O.DEADLINE_EXCEEDED,"Request time out"));break;case Pu.HTTP_ERROR:let g=u.getStatus();if(z(At,`RPC '${e}' ${o} failed with status:`,g,"response text:",u.getResponseText()),g>0){let _=u.getResponseJson();Array.isArray(_)&&(_=_[0]);let b=_?.error;if(b&&b.status&&b.message){let M=function(k){let U=k.toLowerCase().replace(/_/g,"-");return Object.values(O).indexOf(U)>=0?U:O.UNKNOWN}(b.status);a(new H(M,b.message))}else a(new H(O.UNKNOWN,"Server responded with status "+u.getStatus()))}else a(new H(O.UNAVAILABLE,"Connection failed."));break;default:ee()}}finally{z(At,`RPC '${e}' ${o} completed.`)}});let d=JSON.stringify(i);z(At,`RPC '${e}' ${o} sending request:`,i),u.send(t,"POST",d,r,15)})}Bo(e,t,r){let i=o_(),o=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],s=r_(),a=n_(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},d=this.longPollingOptions.timeoutSeconds;d!==void 0&&(u.longPollingTimeout=Math.round(1e3*d)),this.useFetchStreams&&(u.useFetchStreams=!0),this.Oo(u.initMessageHeaders,t,r),u.encodeInitMessageHeaders=!0;let p=o.join("");z(At,`Creating RPC '${e}' stream ${i}: ${p}`,u);let g=s.createWebChannel(p,u),_=!1,b=!1,M=new pI({Io:k=>{b?z(At,`Not sending because RPC '${e}' stream ${i} is closed:`,k):(_||(z(At,`Opening RPC '${e}' stream ${i} transport.`),g.open(),_=!0),z(At,`RPC '${e}' stream ${i} sending:`,k),g.send(k))},To:()=>g.close()}),F=(k,U,K)=>{k.listen(U,Y=>{try{K(Y)}catch(ce){setTimeout(()=>{throw ce},0)}})};return F(g,Ta.EventType.OPEN,()=>{b||(z(At,`RPC '${e}' stream ${i} transport opened.`),M.yo())}),F(g,Ta.EventType.CLOSE,()=>{b||(b=!0,z(At,`RPC '${e}' stream ${i} transport closed`),M.So())}),F(g,Ta.EventType.ERROR,k=>{b||(b=!0,Pa(At,`RPC '${e}' stream ${i} transport errored:`,k),M.So(new H(O.UNAVAILABLE,"The operation could not be completed")))}),F(g,Ta.EventType.MESSAGE,k=>{var U;if(!b){let K=k.data[0];Me(!!K);let Y=K,ce=Y.error||((U=Y[0])===null||U===void 0?void 0:U.error);if(ce){z(At,`RPC '${e}' stream ${i} received error:`,ce);let Pe=ce.status,X=function(E){let T=et[E];if(T!==void 0)return VR(T)}(Pe),S=ce.message;X===void 0&&(X=O.INTERNAL,S="Unknown error status: "+Pe+" with message "+ce.message),b=!0,M.So(new H(X,S)),g.close()}else z(At,`RPC '${e}' stream ${i} received:`,K),M.bo(K)}}),F(a,t_.STAT_EVENT,k=>{k.stat===np.PROXY?z(At,`RPC '${e}' stream ${i} detected buffering proxy`):k.stat===np.NOPROXY&&z(At,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{M.wo()},0),M}};function s_(){return typeof document<"u"?document:null}function qp(n){return new U_(n,!0)}var bp=class{constructor(e,t,r=1e3,i=1.5,o=6e4){this.ui=e,this.timerId=t,this.ko=r,this.qo=i,this.Qo=o,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();let t=Math.floor(this.Ko+this.zo()),r=Math.max(0,Date.now()-this.Uo),i=Math.max(0,t-r);i>0&&z("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Ko} ms, delay with jitter: ${t} ms, last attempt: ${r} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,i,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}};var Dp=class{constructor(e,t,r,i,o,s,a,u){this.ui=e,this.Ho=r,this.Jo=i,this.connection=o,this.authCredentialsProvider=s,this.appCheckCredentialsProvider=a,this.listener=u,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new bp(e,t)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}stop(){return C(this,null,function*(){this.n_()&&(yield this.close(0))})}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(e){this.u_(),this.stream.send(e)}__(){return C(this,null,function*(){if(this.r_())return this.close(0)})}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}close(e,t){return C(this,null,function*(){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,e!==4?this.t_.reset():t&&t.code===O.RESOURCE_EXHAUSTED?(Wr(t.toString()),Wr("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):t&&t.code===O.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,yield this.listener.mo(t)})}l_(){}auth(){this.state=1;let e=this.h_(this.Yo),t=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Yo===t&&this.P_(r,i)},r=>{e(()=>{let i=new H(O.UNKNOWN,"Fetching auth token failed: "+r.message);return this.I_(i)})})}P_(e,t){let r=this.h_(this.Yo);this.stream=this.T_(e,t),this.stream.Eo(()=>{r(()=>this.listener.Eo())}),this.stream.Ro(()=>{r(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(i=>{r(()=>this.I_(i))}),this.stream.onMessage(i=>{r(()=>++this.e_==1?this.E_(i):this.onNext(i))})}i_(){this.state=5,this.t_.Go(()=>C(this,null,function*(){this.state=0,this.start()}))}I_(e){return z("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return t=>{this.ui.enqueueAndForget(()=>this.Yo===e?t():(z("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}},mI=class extends Dp{constructor(e,t,r,i,o,s){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",t,r,i,s),this.serializer=o}T_(e,t){return this.connection.Bo("Listen",e,t)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();let t=OH(this.serializer,e),r=function(o){if(!("targetChange"in o))return se.min();let s=o.targetChange;return s.targetIds&&s.targetIds.length?se.min():s.readTime?hr(s.readTime):se.min()}(e);return this.listener.d_(t,r)}A_(e){let t={};t.database=z_(this.serializer),t.addTarget=function(o,s){let a,u=s.target;if(a=R_(u)?{documents:VH(o,u)}:{query:jH(o,u)._t},a.targetId=s.targetId,s.resumeToken.approximateByteSize()>0){a.resumeToken=jR(o,s.resumeToken);let d=B_(o,s.expectedCount);d!==null&&(a.expectedCount=d)}else if(s.snapshotVersion.compareTo(se.min())>0){a.readTime=wp(o,s.snapshotVersion.toTimestamp());let d=B_(o,s.expectedCount);d!==null&&(a.expectedCount=d)}return a}(this.serializer,e);let r=BH(this.serializer,e);r&&(t.labels=r),this.a_(t)}R_(e){let t={};t.database=z_(this.serializer),t.removeTarget=e,this.a_(t)}},yI=class extends Dp{constructor(e,t,r,i,o,s){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",t,r,i,s),this.serializer=o}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,t){return this.connection.Bo("Write",e,t)}E_(e){return Me(!!e.streamToken),this.lastStreamToken=e.streamToken,Me(!e.writeResults||e.writeResults.length===0),this.listener.f_()}onNext(e){Me(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();let t=LH(e.writeResults,e.commitTime),r=hr(e.commitTime);return this.listener.g_(r,t)}p_(){let e={};e.database=z_(this.serializer),this.a_(e)}m_(e){let t={streamToken:this.lastStreamToken,writes:e.map(r=>FH(this.serializer,r))};this.a_(t)}};var vI=class extends class{}{constructor(e,t,r,i){super(),this.authCredentials=e,this.appCheckCredentials=t,this.connection=r,this.serializer=i,this.y_=!1}w_(){if(this.y_)throw new H(O.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,t,r,i){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,s])=>this.connection.Mo(e,$_(t,r),i,o,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===O.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new H(O.UNKNOWN,o.toString())})}Lo(e,t,r,i,o){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,a])=>this.connection.Lo(e,$_(t,r),i,s,a,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===O.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new H(O.UNKNOWN,s.toString())})}terminate(){this.y_=!0,this.connection.terminate()}},wI=class{constructor(e,t){this.asyncQueue=e,this.onlineStateHandler=t,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(e){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,e==="Online"&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){let t=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(Wr(t),this.D_=!1):z("OnlineStateTracker",t)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}};var _I=class{constructor(e,t,r,i,o){this.localStore=e,this.datastore=t,this.asyncQueue=r,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=o,this.k_._o(s=>{r.enqueueAndForget(()=>C(this,null,function*(){rs(this)&&(z("RemoteStore","Restarting streams for network reachability change."),yield function(u){return C(this,null,function*(){let d=ie(u);d.L_.add(4),yield rl(d),d.q_.set("Unknown"),d.L_.delete(4),yield Gp(d)})}(this))}))}),this.q_=new wI(r,i)}};function Gp(n){return C(this,null,function*(){if(rs(n))for(let e of n.B_)yield e(!0)})}function rl(n){return C(this,null,function*(){for(let e of n.B_)yield e(!1)})}function KR(n,e){let t=ie(n);t.N_.has(e.targetId)||(t.N_.set(e.targetId,e),YI(t)?QI(t):Ga(t).r_()&&KI(t,e))}function WI(n,e){let t=ie(n),r=Ga(t);t.N_.delete(e),r.r_()&&QR(t,e),t.N_.size===0&&(r.r_()?r.o_():rs(t)&&t.q_.set("Unknown"))}function KI(n,e){if(n.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(se.min())>0){let t=n.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(t)}Ga(n).A_(e)}function QR(n,e){n.Q_.xe(e),Ga(n).R_(e)}function QI(n){n.Q_=new j_({getRemoteKeysForTarget:e=>n.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>n.N_.get(e)||null,tt:()=>n.datastore.serializer.databaseId}),Ga(n).start(),n.q_.v_()}function YI(n){return rs(n)&&!Ga(n).n_()&&n.N_.size>0}function rs(n){return ie(n).L_.size===0}function YR(n){n.Q_=void 0}function tz(n){return C(this,null,function*(){n.q_.set("Online")})}function nz(n){return C(this,null,function*(){n.N_.forEach((e,t)=>{KI(n,e)})})}function rz(n,e){return C(this,null,function*(){YR(n),YI(n)?(n.q_.M_(e),QI(n)):n.q_.set("Unknown")})}function iz(n,e,t){return C(this,null,function*(){if(n.q_.set("Online"),e instanceof yp&&e.state===2&&e.cause)try{yield function(i,o){return C(this,null,function*(){let s=o.cause;for(let a of o.targetIds)i.N_.has(a)&&(yield i.remoteSyncer.rejectListen(a,s),i.N_.delete(a),i.Q_.removeTarget(a))})}(n,e)}catch(r){z("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield Cp(n,r)}else if(e instanceof Ma?n.Q_.Ke(e):e instanceof mp?n.Q_.He(e):n.Q_.We(e),!t.isEqual(se.min()))try{let r=yield WR(n.localStore);t.compareTo(r)>=0&&(yield function(o,s){let a=o.Q_.rt(s);return a.targetChanges.forEach((u,d)=>{if(u.resumeToken.approximateByteSize()>0){let p=o.N_.get(d);p&&o.N_.set(d,p.withResumeToken(u.resumeToken,s))}}),a.targetMismatches.forEach((u,d)=>{let p=o.N_.get(u);if(!p)return;o.N_.set(u,p.withResumeToken(Mt.EMPTY_BYTE_STRING,p.snapshotVersion)),QR(o,u);let g=new zu(p.target,u,d,p.sequenceNumber);KI(o,g)}),o.remoteSyncer.applyRemoteEvent(a)}(n,t))}catch(r){z("RemoteStore","Failed to raise snapshot:",r),yield Cp(n,r)}})}function Cp(n,e,t){return C(this,null,function*(){if(!nl(e))throw e;n.L_.add(1),yield rl(n),n.q_.set("Offline"),t||(t=()=>WR(n.localStore)),n.asyncQueue.enqueueRetryable(()=>C(this,null,function*(){z("RemoteStore","Retrying IndexedDB access"),yield t(),n.L_.delete(1),yield Gp(n)}))})}function ZR(n,e){return e().catch(t=>Cp(n,t,e))}function Wp(n){return C(this,null,function*(){let e=ie(n),t=Ki(e),r=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;oz(e);)try{let i=yield ZH(e.localStore,r);if(i===null){e.O_.length===0&&t.o_();break}r=i.batchId,sz(e,i)}catch(i){yield Cp(e,i)}JR(e)&&XR(e)})}function oz(n){return rs(n)&&n.O_.length<10}function sz(n,e){n.O_.push(e);let t=Ki(n);t.r_()&&t.V_&&t.m_(e.mutations)}function JR(n){return rs(n)&&!Ki(n).n_()&&n.O_.length>0}function XR(n){Ki(n).start()}function az(n){return C(this,null,function*(){Ki(n).p_()})}function cz(n){return C(this,null,function*(){let e=Ki(n);for(let t of n.O_)e.m_(t.mutations)})}function uz(n,e,t){return C(this,null,function*(){let r=n.O_.shift(),i=O_.from(r,e,t);yield ZR(n,()=>n.remoteSyncer.applySuccessfulWrite(i)),yield Wp(n)})}function lz(n,e){return C(this,null,function*(){e&&Ki(n).V_&&(yield function(r,i){return C(this,null,function*(){if(function(s){return SH(s)&&s!==O.ABORTED}(i.code)){let o=r.O_.shift();Ki(r).s_(),yield ZR(r,()=>r.remoteSyncer.rejectFailedWrite(o.batchId,i)),yield Wp(r)}})}(n,e)),JR(n)&&XR(n)})}function nR(n,e){return C(this,null,function*(){let t=ie(n);t.asyncQueue.verifyOperationInProgress(),z("RemoteStore","RemoteStore received new credentials");let r=rs(t);t.L_.add(3),yield rl(t),r&&t.q_.set("Unknown"),yield t.remoteSyncer.handleCredentialChange(e),t.L_.delete(3),yield Gp(t)})}function dz(n,e){return C(this,null,function*(){let t=ie(n);e?(t.L_.delete(2),yield Gp(t)):e||(t.L_.add(2),yield rl(t),t.q_.set("Unknown"))})}function Ga(n){return n.K_||(n.K_=function(t,r,i){let o=ie(t);return o.w_(),new mI(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(n.datastore,n.asyncQueue,{Eo:tz.bind(null,n),Ro:nz.bind(null,n),mo:rz.bind(null,n),d_:iz.bind(null,n)}),n.B_.push(e=>C(this,null,function*(){e?(n.K_.s_(),YI(n)?QI(n):n.q_.set("Unknown")):(yield n.K_.stop(),YR(n))}))),n.K_}function Ki(n){return n.U_||(n.U_=function(t,r,i){let o=ie(t);return o.w_(),new yI(r,o.connection,o.authCredentials,o.appCheckCredentials,o.serializer,i)}(n.datastore,n.asyncQueue,{Eo:()=>Promise.resolve(),Ro:az.bind(null,n),mo:lz.bind(null,n),f_:cz.bind(null,n),g_:uz.bind(null,n)}),n.B_.push(e=>C(this,null,function*(){e?(n.U_.s_(),yield Wp(n)):(yield n.U_.stop(),n.O_.length>0&&(z("RemoteStore",`Stopping write stream with ${n.O_.length} pending writes`),n.O_=[]))}))),n.U_}var II=class n{constructor(e,t,r,i,o){this.asyncQueue=e,this.timerId=t,this.targetTimeMs=r,this.op=i,this.removalCallback=o,this.deferred=new Nn,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(s=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,t,r,i,o){let s=Date.now()+r,a=new n(e,t,s,i,o);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new H(O.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}};function ZI(n,e){if(Wr("AsyncQueue",`${e}: ${n}`),nl(n))return new H(O.UNAVAILABLE,`${e}: ${n}`);throw n}var Tp=class n{constructor(e){this.comparator=e?(t,r)=>e(t,r)||Q.comparator(t.key,r.key):(t,r)=>Q.comparator(t.key,r.key),this.keyedMap=Ou(),this.sortedSet=new qe(this.comparator)}static emptySet(e){return new n(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){let t=this.keyedMap.get(e);return t?this.sortedSet.indexOf(t):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((t,r)=>(e(t),!1))}add(e){let t=this.delete(e.key);return t.copy(t.keyedMap.insert(e.key,e),t.sortedSet.insert(e,null))}delete(e){let t=this.get(e);return t?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(t)):this}isEqual(e){if(!(e instanceof n)||this.size!==e.size)return!1;let t=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;t.hasNext();){let i=t.getNext().key,o=r.getNext().key;if(!i.isEqual(o))return!1}return!0}toString(){let e=[];return this.forEach(t=>{e.push(t.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,t){let r=new n;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=t,r}};var Sp=class{constructor(){this.W_=new qe(Q.comparator)}track(e){let t=e.doc.key,r=this.W_.get(t);r?e.type!==0&&r.type===3?this.W_=this.W_.insert(t,e):e.type===3&&r.type!==1?this.W_=this.W_.insert(t,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.W_=this.W_.insert(t,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.W_=this.W_.insert(t,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.W_=this.W_.remove(t):e.type===1&&r.type===2?this.W_=this.W_.insert(t,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.W_=this.W_.insert(t,{type:2,doc:e.doc}):ee():this.W_=this.W_.insert(t,e)}G_(){let e=[];return this.W_.inorderTraversal((t,r)=>{e.push(r)}),e}},$a=class n{constructor(e,t,r,i,o,s,a,u,d){this.query=e,this.docs=t,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=o,this.fromCache=s,this.syncStateChanged=a,this.excludesMetadataChanges=u,this.hasCachedResults=d}static fromInitialDocuments(e,t,r,i,o){let s=[];return t.forEach(a=>{s.push({type:0,doc:a})}),new n(e,t,Tp.emptySet(t),s,r,i,!0,!1,o)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&Hp(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;let t=this.docChanges,r=e.docChanges;if(t.length!==r.length)return!1;for(let i=0;i<t.length;i++)if(t[i].type!==r[i].type||!t[i].doc.isEqual(r[i].doc))return!1;return!0}};var EI=class{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(e=>e.J_())}},bI=class{constructor(){this.queries=rR(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(t,r){let i=ie(t),o=i.queries;i.queries=rR(),o.forEach((s,a)=>{for(let u of a.j_)u.onError(r)})})(this,new H(O.ABORTED,"Firestore shutting down"))}};function rR(){return new Wi(n=>TR(n),Hp)}function JI(n,e){return C(this,null,function*(){let t=ie(n),r=3,i=e.query,o=t.queries.get(i);o?!o.H_()&&e.J_()&&(r=2):(o=new EI,r=e.J_()?0:1);try{switch(r){case 0:o.z_=yield t.onListen(i,!0);break;case 1:o.z_=yield t.onListen(i,!1);break;case 2:yield t.onFirstRemoteStoreListen(i)}}catch(s){let a=ZI(s,`Initialization of query '${Sa(e.query)}' failed`);return void e.onError(a)}t.queries.set(i,o),o.j_.push(e),e.Z_(t.onlineState),o.z_&&e.X_(o.z_)&&eE(t)})}function XI(n,e){return C(this,null,function*(){let t=ie(n),r=e.query,i=3,o=t.queries.get(r);if(o){let s=o.j_.indexOf(e);s>=0&&(o.j_.splice(s,1),o.j_.length===0?i=e.J_()?0:1:!o.H_()&&e.J_()&&(i=2))}switch(i){case 0:return t.queries.delete(r),t.onUnlisten(r,!0);case 1:return t.queries.delete(r),t.onUnlisten(r,!1);case 2:return t.onLastRemoteStoreUnlisten(r);default:return}})}function hz(n,e){let t=ie(n),r=!1;for(let i of e){let o=i.query,s=t.queries.get(o);if(s){for(let a of s.j_)a.X_(i)&&(r=!0);s.z_=i}}r&&eE(t)}function fz(n,e,t){let r=ie(n),i=r.queries.get(e);if(i)for(let o of i.j_)o.onError(t);r.queries.delete(e)}function eE(n){n.Y_.forEach(e=>{e.next()})}var DI,iR;(iR=DI||(DI={})).ea="default",iR.Cache="cache";var Wu=class{constructor(e,t,r){this.query=e,this.ta=t,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=r||{}}X_(e){if(!this.options.includeMetadataChanges){let r=[];for(let i of e.docChanges)i.type!==3&&r.push(i);e=new $a(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let t=!1;return this.na?this.ia(e)&&(this.ta.next(e),t=!0):this.sa(e,this.onlineState)&&(this.oa(e),t=!0),this.ra=e,t}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let t=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),t=!0),t}sa(e,t){if(!e.fromCache||!this.J_())return!0;let r=t!=="Offline";return(!this.options._a||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||t==="Offline")}ia(e){if(e.docChanges.length>0)return!0;let t=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!t)&&this.options.includeMetadataChanges===!0}oa(e){e=$a.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==DI.Cache}};var Ap=class{constructor(e){this.key=e}},Rp=class{constructor(e){this.key=e}},CI=class{constructor(e,t){this.query=e,this.Ta=t,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=we(),this.mutatedKeys=we(),this.Aa=SR(e),this.Ra=new Tp(this.Aa)}get Va(){return this.Ta}ma(e,t){let r=t?t.fa:new Sp,i=t?t.Ra:this.Ra,o=t?t.mutatedKeys:this.mutatedKeys,s=i,a=!1,u=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,d=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((p,g)=>{let _=i.get(p),b=zp(this.query,g)?g:null,M=!!_&&this.mutatedKeys.has(_.key),F=!!b&&(b.hasLocalMutations||this.mutatedKeys.has(b.key)&&b.hasCommittedMutations),k=!1;_&&b?_.data.isEqual(b.data)?M!==F&&(r.track({type:3,doc:b}),k=!0):this.ga(_,b)||(r.track({type:2,doc:b}),k=!0,(u&&this.Aa(b,u)>0||d&&this.Aa(b,d)<0)&&(a=!0)):!_&&b?(r.track({type:0,doc:b}),k=!0):_&&!b&&(r.track({type:1,doc:_}),k=!0,(u||d)&&(a=!0)),k&&(b?(s=s.add(b),o=F?o.add(p):o.delete(p)):(s=s.delete(p),o=o.delete(p)))}),this.query.limit!==null)for(;s.size>this.query.limit;){let p=this.query.limitType==="F"?s.last():s.first();s=s.delete(p.key),o=o.delete(p.key),r.track({type:1,doc:p})}return{Ra:s,fa:r,ns:a,mutatedKeys:o}}ga(e,t){return e.hasLocalMutations&&t.hasCommittedMutations&&!t.hasLocalMutations}applyChanges(e,t,r,i){let o=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;let s=e.fa.G_();s.sort((p,g)=>function(b,M){let F=k=>{switch(k){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return ee()}};return F(b)-F(M)}(p.type,g.type)||this.Aa(p.doc,g.doc)),this.pa(r),i=i!=null&&i;let a=t&&!i?this.ya():[],u=this.da.size===0&&this.current&&!i?1:0,d=u!==this.Ea;return this.Ea=u,s.length!==0||d?{snapshot:new $a(this.query,e.Ra,o,s,e.mutatedKeys,u===0,d,!1,!!r&&r.resumeToken.approximateByteSize()>0),wa:a}:{wa:a}}Z_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new Sp,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach(t=>this.Ta=this.Ta.add(t)),e.modifiedDocuments.forEach(t=>{}),e.removedDocuments.forEach(t=>this.Ta=this.Ta.delete(t)),this.current=e.current)}ya(){if(!this.current)return[];let e=this.da;this.da=we(),this.Ra.forEach(r=>{this.Sa(r.key)&&(this.da=this.da.add(r.key))});let t=[];return e.forEach(r=>{this.da.has(r)||t.push(new Rp(r))}),this.da.forEach(r=>{e.has(r)||t.push(new Ap(r))}),t}ba(e){this.Ta=e.Ts,this.da=we();let t=this.ma(e.documents);return this.applyChanges(t,!0)}Da(){return $a.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}},TI=class{constructor(e,t,r){this.query=e,this.targetId=t,this.view=r}},SI=class{constructor(e){this.key=e,this.va=!1}},AI=class{constructor(e,t,r,i,o,s){this.localStore=e,this.remoteStore=t,this.eventManager=r,this.sharedClientState=i,this.currentUser=o,this.maxConcurrentLimboResolutions=s,this.Ca={},this.Fa=new Wi(a=>TR(a),Hp),this.Ma=new Map,this.xa=new Set,this.Oa=new qe(Q.comparator),this.Na=new Map,this.La=new Gu,this.Ba={},this.ka=new Map,this.qa=qu.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}};function pz(n,e,t=!0){return C(this,null,function*(){let r=ox(n),i,o=r.Fa.get(e);return o?(r.sharedClientState.addLocalQueryTarget(o.targetId),i=o.view.Da()):i=yield ex(r,e,t,!0),i})}function gz(n,e){return C(this,null,function*(){let t=ox(n);yield ex(t,e,!0,!1)})}function ex(n,e,t,r){return C(this,null,function*(){let i=yield JH(n.localStore,dr(e)),o=i.targetId,s=n.sharedClientState.addLocalQueryTarget(o,t),a;return r&&(a=yield mz(n,e,o,s==="current",i.resumeToken)),n.isPrimaryClient&&t&&KR(n.remoteStore,i),a})}function mz(n,e,t,r,i){return C(this,null,function*(){n.Ka=(g,_,b)=>function(F,k,U,K){return C(this,null,function*(){let Y=k.view.ma(U);Y.ns&&(Y=yield tR(F.localStore,k.query,!1).then(({documents:S})=>k.view.ma(S,Y)));let ce=K&&K.targetChanges.get(k.targetId),Pe=K&&K.targetMismatches.get(k.targetId)!=null,X=k.view.applyChanges(Y,F.isPrimaryClient,ce,Pe);return sR(F,k.targetId,X.wa),X.snapshot})}(n,g,_,b);let o=yield tR(n.localStore,e,!0),s=new CI(e,o.Ts),a=s.ma(o.documents),u=Hu.createSynthesizedTargetChangeForCurrentChange(t,r&&n.onlineState!=="Offline",i),d=s.applyChanges(a,n.isPrimaryClient,u);sR(n,t,d.wa);let p=new TI(e,t,s);return n.Fa.set(e,p),n.Ma.has(t)?n.Ma.get(t).push(e):n.Ma.set(t,[e]),d.snapshot})}function yz(n,e,t){return C(this,null,function*(){let r=ie(n),i=r.Fa.get(e),o=r.Ma.get(i.targetId);if(o.length>1)return r.Ma.set(i.targetId,o.filter(s=>!Hp(s,e))),void r.Fa.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||(yield dI(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),t&&WI(r.remoteStore,i.targetId),RI(r,i.targetId)}).catch(tl))):(RI(r,i.targetId),yield dI(r.localStore,i.targetId,!0))})}function vz(n,e){return C(this,null,function*(){let t=ie(n),r=t.Fa.get(e),i=t.Ma.get(r.targetId);t.isPrimaryClient&&i.length===1&&(t.sharedClientState.removeLocalQueryTarget(r.targetId),WI(t.remoteStore,r.targetId))})}function wz(n,e,t){return C(this,null,function*(){let r=Tz(n);try{let i=yield function(s,a){let u=ie(s),d=bt.now(),p=a.reduce((b,M)=>b.add(M.key),we()),g,_;return u.persistence.runTransaction("Locally write mutations","readwrite",b=>{let M=Qr(),F=we();return u.cs.getEntries(b,p).next(k=>{M=k,M.forEach((U,K)=>{K.isValidDocument()||(F=F.add(U))})}).next(()=>u.localDocuments.getOverlayedDocuments(b,M)).next(k=>{g=k;let U=[];for(let K of a){let Y=TH(K,g.get(K.key).overlayedDocument);Y!=null&&U.push(new pr(K.key,Y,wR(Y.value.mapValue),Gr.exists(!0)))}return u.mutationQueue.addMutationBatch(b,d,U,a)}).next(k=>{_=k;let U=k.applyToLocalDocumentSet(g,F);return u.documentOverlayCache.saveOverlays(b,k.batchId,U)})}).then(()=>({batchId:_.batchId,changes:RR(g)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(s,a,u){let d=s.Ba[s.currentUser.toKey()];d||(d=new qe(Te)),d=d.insert(a,u),s.Ba[s.currentUser.toKey()]=d}(r,i.batchId,t),yield il(r,i.changes),yield Wp(r.remoteStore)}catch(i){let o=ZI(i,"Failed to persist write");t.reject(o)}})}function tx(n,e){return C(this,null,function*(){let t=ie(n);try{let r=yield QH(t.localStore,e);e.targetChanges.forEach((i,o)=>{let s=t.Na.get(o);s&&(Me(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?s.va=!0:i.modifiedDocuments.size>0?Me(s.va):i.removedDocuments.size>0&&(Me(s.va),s.va=!1))}),yield il(t,r,e)}catch(r){yield tl(r)}})}function oR(n,e,t){let r=ie(n);if(r.isPrimaryClient&&t===0||!r.isPrimaryClient&&t===1){let i=[];r.Fa.forEach((o,s)=>{let a=s.view.Z_(e);a.snapshot&&i.push(a.snapshot)}),function(s,a){let u=ie(s);u.onlineState=a;let d=!1;u.queries.forEach((p,g)=>{for(let _ of g.j_)_.Z_(a)&&(d=!0)}),d&&eE(u)}(r.eventManager,e),i.length&&r.Ca.d_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function _z(n,e,t){return C(this,null,function*(){let r=ie(n);r.sharedClientState.updateQueryState(e,"rejected",t);let i=r.Na.get(e),o=i&&i.key;if(o){let s=new qe(Q.comparator);s=s.insert(o,Pn.newNoDocument(o,se.min()));let a=we().add(o),u=new gp(se.min(),new Map,new qe(Te),s,a);yield tx(r,u),r.Oa=r.Oa.remove(o),r.Na.delete(e),tE(r)}else yield dI(r.localStore,e,!1).then(()=>RI(r,e,t)).catch(tl)})}function Iz(n,e){return C(this,null,function*(){let t=ie(n),r=e.batch.batchId;try{let i=yield KH(t.localStore,e);rx(t,r,null),nx(t,r),t.sharedClientState.updateMutationState(r,"acknowledged"),yield il(t,i)}catch(i){yield tl(i)}})}function Ez(n,e,t){return C(this,null,function*(){let r=ie(n);try{let i=yield function(s,a){let u=ie(s);return u.persistence.runTransaction("Reject batch","readwrite-primary",d=>{let p;return u.mutationQueue.lookupMutationBatch(d,a).next(g=>(Me(g!==null),p=g.keys(),u.mutationQueue.removeMutationBatch(d,g))).next(()=>u.mutationQueue.performConsistencyCheck(d)).next(()=>u.documentOverlayCache.removeOverlaysForBatchId(d,p,a)).next(()=>u.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(d,p)).next(()=>u.localDocuments.getDocuments(d,p))})}(r.localStore,e);rx(r,e,t),nx(r,e),r.sharedClientState.updateMutationState(e,"rejected",t),yield il(r,i)}catch(i){yield tl(i)}})}function nx(n,e){(n.ka.get(e)||[]).forEach(t=>{t.resolve()}),n.ka.delete(e)}function rx(n,e,t){let r=ie(n),i=r.Ba[r.currentUser.toKey()];if(i){let o=i.get(e);o&&(t?o.reject(t):o.resolve(),i=i.remove(e)),r.Ba[r.currentUser.toKey()]=i}}function RI(n,e,t=null){n.sharedClientState.removeLocalQueryTarget(e);for(let r of n.Ma.get(e))n.Fa.delete(r),t&&n.Ca.$a(r,t);n.Ma.delete(e),n.isPrimaryClient&&n.La.gr(e).forEach(r=>{n.La.containsKey(r)||ix(n,r)})}function ix(n,e){n.xa.delete(e.path.canonicalString());let t=n.Oa.get(e);t!==null&&(WI(n.remoteStore,t),n.Oa=n.Oa.remove(e),n.Na.delete(t),tE(n))}function sR(n,e,t){for(let r of t)r instanceof Ap?(n.La.addReference(r.key,e),bz(n,r)):r instanceof Rp?(z("SyncEngine","Document no longer in limbo: "+r.key),n.La.removeReference(r.key,e),n.La.containsKey(r.key)||ix(n,r.key)):ee()}function bz(n,e){let t=e.key,r=t.path.canonicalString();n.Oa.get(t)||n.xa.has(r)||(z("SyncEngine","New document in limbo: "+t),n.xa.add(r),tE(n))}function tE(n){for(;n.xa.size>0&&n.Oa.size<n.maxConcurrentLimboResolutions;){let e=n.xa.values().next().value;n.xa.delete(e);let t=new Q(Be.fromString(e)),r=n.qa.next();n.Na.set(r,new SI(t)),n.Oa=n.Oa.insert(t,r),KR(n.remoteStore,new zu(dr($p(t.path)),r,"TargetPurposeLimboResolution",gR.oe))}}function il(n,e,t){return C(this,null,function*(){let r=ie(n),i=[],o=[],s=[];r.Fa.isEmpty()||(r.Fa.forEach((a,u)=>{s.push(r.Ka(u,e,t).then(d=>{var p;if((d||t)&&r.isPrimaryClient){let g=d?!d.fromCache:(p=t?.targetChanges.get(u.targetId))===null||p===void 0?void 0:p.current;r.sharedClientState.updateQueryState(u.targetId,g?"current":"not-current")}if(d){i.push(d);let g=aI.Wi(u.targetId,d);o.push(g)}}))}),yield Promise.all(s),r.Ca.d_(i),yield function(u,d){return C(this,null,function*(){let p=ie(u);try{yield p.persistence.runTransaction("notifyLocalViewChanges","readwrite",g=>L.forEach(d,_=>L.forEach(_.$i,b=>p.persistence.referenceDelegate.addReference(g,_.targetId,b)).next(()=>L.forEach(_.Ui,b=>p.persistence.referenceDelegate.removeReference(g,_.targetId,b)))))}catch(g){if(!nl(g))throw g;z("LocalStore","Failed to update sequence numbers: "+g)}for(let g of d){let _=g.targetId;if(!g.fromCache){let b=p.os.get(_),M=b.snapshotVersion,F=b.withLastLimboFreeSnapshotVersion(M);p.os=p.os.insert(_,F)}}})}(r.localStore,o))})}function Dz(n,e){return C(this,null,function*(){let t=ie(n);if(!t.currentUser.isEqual(e)){z("SyncEngine","User change. New user:",e.toKey());let r=yield GR(t.localStore,e);t.currentUser=e,function(o,s){o.ka.forEach(a=>{a.forEach(u=>{u.reject(new H(O.CANCELLED,s))})}),o.ka.clear()}(t,"'waitForPendingWrites' promise is rejected due to a user change."),t.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield il(t,r.hs)}})}function Cz(n,e){let t=ie(n),r=t.Na.get(e);if(r&&r.va)return we().add(r.key);{let i=we(),o=t.Ma.get(e);if(!o)return i;for(let s of o){let a=t.Fa.get(s);i=i.unionWith(a.view.Va)}return i}}function ox(n){let e=ie(n);return e.remoteStore.remoteSyncer.applyRemoteEvent=tx.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=Cz.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=_z.bind(null,e),e.Ca.d_=hz.bind(null,e.eventManager),e.Ca.$a=fz.bind(null,e.eventManager),e}function Tz(n){let e=ie(n);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Iz.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Ez.bind(null,e),e}var aR=(()=>{class n{constructor(){this.kind="memory",this.synchronizeTabs=!1}initialize(t){return C(this,null,function*(){this.serializer=qp(t.databaseInfo.databaseId),this.sharedClientState=this.Wa(t),this.persistence=this.Ga(t),yield this.persistence.start(),this.localStore=this.za(t),this.gcScheduler=this.ja(t,this.localStore),this.indexBackfillerScheduler=this.Ha(t,this.localStore)})}ja(t,r){return null}Ha(t,r){return null}za(t){return WH(this.persistence,new uI,t.initialUser,this.serializer)}Ga(t){return new iI(sI.Zr,this.serializer)}Wa(t){return new hI}terminate(){return C(this,null,function*(){var t,r;(t=this.gcScheduler)===null||t===void 0||t.stop(),(r=this.indexBackfillerScheduler)===null||r===void 0||r.stop(),this.sharedClientState.shutdown(),yield this.persistence.shutdown()})}}return n.provider={build:()=>new n},n})();var Sz=(()=>{class n{initialize(t,r){return C(this,null,function*(){this.localStore||(this.localStore=t.localStore,this.sharedClientState=t.sharedClientState,this.datastore=this.createDatastore(r),this.remoteStore=this.createRemoteStore(r),this.eventManager=this.createEventManager(r),this.syncEngine=this.createSyncEngine(r,!t.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>oR(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=Dz.bind(null,this.syncEngine),yield dz(this.remoteStore,this.syncEngine.isPrimaryClient))})}createEventManager(t){return function(){return new bI}()}createDatastore(t){let r=qp(t.databaseInfo.databaseId),i=function(s){return new gI(s)}(t.databaseInfo);return function(s,a,u,d){return new vI(s,a,u,d)}(t.authCredentials,t.appCheckCredentials,i,r)}createRemoteStore(t){return function(i,o,s,a,u){return new _I(i,o,s,a,u)}(this.localStore,this.datastore,t.asyncQueue,r=>oR(this.syncEngine,r,0),function(){return Ep.D()?new Ep:new fI}())}createSyncEngine(t,r){return function(o,s,a,u,d,p,g){let _=new AI(o,s,a,u,d,p);return g&&(_.Qa=!0),_}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,t.initialUser,t.maxConcurrentLimboResolutions,r)}terminate(){return C(this,null,function*(){var t,r;yield function(o){return C(this,null,function*(){let s=ie(o);z("RemoteStore","RemoteStore shutting down."),s.L_.add(5),yield rl(s),s.k_.shutdown(),s.q_.set("Unknown")})}(this.remoteStore),(t=this.datastore)===null||t===void 0||t.terminate(),(r=this.eventManager)===null||r===void 0||r.terminate()})}}return n.provider={build:()=>new n},n})();var Ku=class{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ya(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ya(this.observer.error,e):Wr("Uncaught Error in snapshot listener:",e.toString()))}Za(){this.muted=!0}Ya(e,t){setTimeout(()=>{this.muted||e(t)},0)}};var xI=class{constructor(e,t,r,i,o){this.authCredentials=e,this.appCheckCredentials=t,this.asyncQueue=r,this.databaseInfo=i,this.user=mt.UNAUTHENTICATED,this.clientId=cp.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=o,this.authCredentials.start(r,s=>C(this,null,function*(){z("FirestoreClient","Received user=",s.uid),yield this.authCredentialListener(s),this.user=s})),this.appCheckCredentials.start(r,s=>(z("FirestoreClient","Received new app check token=",s),this.appCheckCredentialListener(s,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();let e=new Nn;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(()=>C(this,null,function*(){try{this._onlineComponents&&(yield this._onlineComponents.terminate()),this._offlineComponents&&(yield this._offlineComponents.terminate()),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(t){let r=ZI(t,"Failed to shutdown persistence");e.reject(r)}})),e.promise}};function a_(n,e){return C(this,null,function*(){n.asyncQueue.verifyOperationInProgress(),z("FirestoreClient","Initializing OfflineComponentProvider");let t=n.configuration;yield e.initialize(t);let r=t.initialUser;n.setCredentialChangeListener(i=>C(this,null,function*(){r.isEqual(i)||(yield GR(e.localStore,i),r=i)})),e.persistence.setDatabaseDeletedListener(()=>n.terminate()),n._offlineComponents=e})}function cR(n,e){return C(this,null,function*(){n.asyncQueue.verifyOperationInProgress();let t=yield Az(n);z("FirestoreClient","Initializing OnlineComponentProvider"),yield e.initialize(t,n.configuration),n.setCredentialChangeListener(r=>nR(e.remoteStore,r)),n.setAppCheckTokenChangeListener((r,i)=>nR(e.remoteStore,i)),n._onlineComponents=e})}function Az(n){return C(this,null,function*(){if(!n._offlineComponents)if(n._uninitializedComponentsProvider){z("FirestoreClient","Using user provided OfflineComponentProvider");try{yield a_(n,n._uninitializedComponentsProvider._offline)}catch(e){let t=e;if(!function(i){return i.name==="FirebaseError"?i.code===O.FAILED_PRECONDITION||i.code===O.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(t))throw t;Pa("Error using user provided cache. Falling back to memory cache: "+t),yield a_(n,new aR)}}else z("FirestoreClient","Using default OfflineComponentProvider"),yield a_(n,new aR);return n._offlineComponents})}function sx(n){return C(this,null,function*(){return n._onlineComponents||(n._uninitializedComponentsProvider?(z("FirestoreClient","Using user provided OnlineComponentProvider"),yield cR(n,n._uninitializedComponentsProvider._online)):(z("FirestoreClient","Using default OnlineComponentProvider"),yield cR(n,new Sz))),n._onlineComponents})}function Rz(n){return sx(n).then(e=>e.syncEngine)}function xp(n){return C(this,null,function*(){let e=yield sx(n),t=e.eventManager;return t.onListen=pz.bind(null,e.syncEngine),t.onUnlisten=yz.bind(null,e.syncEngine),t.onFirstRemoteStoreListen=gz.bind(null,e.syncEngine),t.onLastRemoteStoreUnlisten=vz.bind(null,e.syncEngine),t})}function xz(n,e,t={}){let r=new Nn;return n.asyncQueue.enqueueAndForget(()=>C(this,null,function*(){return function(o,s,a,u,d){let p=new Ku({next:_=>{p.Za(),s.enqueueAndForget(()=>XI(o,g));let b=_.docs.has(a);!b&&_.fromCache?d.reject(new H(O.UNAVAILABLE,"Failed to get document because the client is offline.")):b&&_.fromCache&&u&&u.source==="server"?d.reject(new H(O.UNAVAILABLE,'Failed to get document from server. (However, this document does exist in the local cache. Run again without setting source to "server" to retrieve the cached document.)')):d.resolve(_)},error:_=>d.reject(_)}),g=new Wu($p(a.path),p,{includeMetadataChanges:!0,_a:!0});return JI(o,g)}(yield xp(n),n.asyncQueue,e,t,r)})),r.promise}function Mz(n,e,t={}){let r=new Nn;return n.asyncQueue.enqueueAndForget(()=>C(this,null,function*(){return function(o,s,a,u,d){let p=new Ku({next:_=>{p.Za(),s.enqueueAndForget(()=>XI(o,g)),_.fromCache&&u.source==="server"?d.reject(new H(O.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):d.resolve(_)},error:_=>d.reject(_)}),g=new Wu(a,p,{includeMetadataChanges:!0,_a:!0});return JI(o,g)}(yield xp(n),n.asyncQueue,e,t,r)})),r.promise}function ax(n){let e={};return n.timeoutSeconds!==void 0&&(e.timeoutSeconds=n.timeoutSeconds),e}var uR=new Map;function cx(n,e,t){if(!t)throw new H(O.INVALID_ARGUMENT,`Function ${n}() cannot be called with an empty ${e}.`)}function Nz(n,e,t,r){if(e===!0&&r===!0)throw new H(O.INVALID_ARGUMENT,`${n} and ${t} cannot be used together.`)}function lR(n){if(!Q.isDocumentKey(n))throw new H(O.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${n} has ${n.length}.`)}function dR(n){if(Q.isDocumentKey(n))throw new H(O.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${n} has ${n.length}.`)}function Kp(n){if(n===void 0)return"undefined";if(n===null)return"null";if(typeof n=="string")return n.length>20&&(n=`${n.substring(0,20)}...`),JSON.stringify(n);if(typeof n=="number"||typeof n=="boolean")return""+n;if(typeof n=="object"){if(n instanceof Array)return"an array";{let e=function(r){return r.constructor?r.constructor.name:null}(n);return e?`a custom ${e} object`:"an object"}}return typeof n=="function"?"a function":ee()}function on(n,e){if("_delegate"in n&&(n=n._delegate),!(n instanceof e)){if(e.name===n.constructor.name)throw new H(O.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{let t=Kp(n);throw new H(O.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${t}`)}}return n}var Mp=class{constructor(e){var t,r;if(e.host===void 0){if(e.ssl!==void 0)throw new H(O.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(t=e.ssl)===null||t===void 0||t;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new H(O.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}Nz("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=ax((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(o){if(o.timeoutSeconds!==void 0){if(isNaN(o.timeoutSeconds))throw new H(O.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (must not be NaN)`);if(o.timeoutSeconds<5)throw new H(O.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (minimum allowed value is 5)`);if(o.timeoutSeconds>30)throw new H(O.INVALID_ARGUMENT,`invalid long polling timeout: ${o.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}},Ha=class{constructor(e,t,r,i){this._authCredentials=e,this._appCheckCredentials=t,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new Mp({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new H(O.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new H(O.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new Mp(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new c_;switch(r.type){case"firstParty":return new h_(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new H(O.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}_restart(){return C(this,null,function*(){this._terminateTask==="notTerminated"?yield this._terminate():this._terminateTask="notTerminated"})}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(t){let r=uR.get(t);r&&(z("ComponentProvider","Removing Datastore"),uR.delete(t),r.terminate())}(this),Promise.resolve()}};function ux(n,e,t,r={}){var i;let o=(n=on(n,Ha))._getSettings(),s=`${e}:${t}`;if(o.host!=="firestore.googleapis.com"&&o.host!==s&&Pa("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),n._setSettings(Object.assign(Object.assign({},o),{host:s,ssl:!1})),r.mockUserToken){let a,u;if(typeof r.mockUserToken=="string")a=r.mockUserToken,u=mt.MOCK_USER;else{a=dS(r.mockUserToken,(i=n._app)===null||i===void 0?void 0:i.options.projectId);let d=r.mockUserToken.sub||r.mockUserToken.user_id;if(!d)throw new H(O.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");u=new mt(d)}n._authCredentials=new u_(new ap(a,u))}}var Qi=class n{constructor(e,t,r){this.converter=t,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new n(this.firestore,e,this._query)}},xt=class n{constructor(e,t,r){this.converter=t,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new zi(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new n(this.firestore,e,this._key)}},zi=class n extends Qi{constructor(e,t,r){super(e,t,$p(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){let e=this._path.popLast();return e.isEmpty()?null:new xt(this.firestore,null,new Q(e))}withConverter(e){return new n(this.firestore,e,this._path)}};function lx(n,e,...t){if(n=Xe(n),cx("collection","path",e),n instanceof Ha){let r=Be.fromString(e,...t);return dR(r),new zi(n,null,r)}{if(!(n instanceof xt||n instanceof zi))throw new H(O.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=n._path.child(Be.fromString(e,...t));return dR(r),new zi(n.firestore,null,r)}}function nE(n,e,...t){if(n=Xe(n),arguments.length===1&&(e=cp.newId()),cx("doc","path",e),n instanceof Ha){let r=Be.fromString(e,...t);return lR(r),new xt(n,null,new Q(r))}{if(!(n instanceof xt||n instanceof zi))throw new H(O.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=n._path.child(Be.fromString(e,...t));return lR(r),new xt(n.firestore,n instanceof zi?n.converter:null,new Q(r))}}var Np=class{constructor(e=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new bp(this,"async_queue_retry"),this.Vu=()=>{let r=s_();r&&z("AsyncQueue","Visibility state changed to "+r.visibilityState),this.t_.jo()},this.mu=e;let t=s_();t&&typeof t.addEventListener=="function"&&t.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.fu(),this.gu(e)}enterRestrictedMode(e){if(!this.Iu){this.Iu=!0,this.Au=e||!1;let t=s_();t&&typeof t.removeEventListener=="function"&&t.removeEventListener("visibilitychange",this.Vu)}}enqueue(e){if(this.fu(),this.Iu)return new Promise(()=>{});let t=new Nn;return this.gu(()=>this.Iu&&this.Au?Promise.resolve():(e().then(t.resolve,t.reject),t.promise)).then(()=>t.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Pu.push(e),this.pu()))}pu(){return C(this,null,function*(){if(this.Pu.length!==0){try{yield this.Pu[0](),this.Pu.shift(),this.t_.reset()}catch(e){if(!nl(e))throw e;z("AsyncQueue","Operation failed with retryable error: "+e)}this.Pu.length>0&&this.t_.Go(()=>this.pu())}})}gu(e){let t=this.mu.then(()=>(this.du=!0,e().catch(r=>{this.Eu=r,this.du=!1;let i=function(s){let a=s.message||"";return s.stack&&(a=s.stack.includes(s.message)?s.stack:s.message+`
`+s.stack),a}(r);throw Wr("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.du=!1,r))));return this.mu=t,t}enqueueAfterDelay(e,t,r){this.fu(),this.Ru.indexOf(e)>-1&&(t=0);let i=II.createAndSchedule(this,e,t,r,o=>this.yu(o));return this.Tu.push(i),i}fu(){this.Eu&&ee()}verifyOperationInProgress(){}wu(){return C(this,null,function*(){let e;do e=this.mu,yield e;while(e!==this.mu)})}Su(e){for(let t of this.Tu)if(t.timerId===e)return!0;return!1}bu(e){return this.wu().then(()=>{this.Tu.sort((t,r)=>t.targetTimeMs-r.targetTimeMs);for(let t of this.Tu)if(t.skipDelay(),e!=="all"&&t.timerId===e)break;return this.wu()})}Du(e){this.Ru.push(e)}yu(e){let t=this.Tu.indexOf(e);this.Tu.splice(t,1)}};function hR(n){return function(t,r){if(typeof t!="object"||t===null)return!1;let i=t;for(let o of r)if(o in i&&typeof i[o]=="function")return!0;return!1}(n,["next","error","complete"])}var gr=class extends Ha{constructor(e,t,r,i){super(e,t,r,i),this.type="firestore",this._queue=new Np,this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return C(this,null,function*(){if(this._firestoreClient){let e=this._firestoreClient.terminate();this._queue=new Np(e),this._firestoreClient=void 0,yield e}})}};function dx(n,e){let t=typeof n=="object"?n:_a(),r=typeof n=="string"?n:e||"(default)",i=Iu(t,"firestore").getImmediate({identifier:r});if(!i._initialized){let o=lS("firestore");o&&ux(i,...o)}return i}function Qp(n){if(n._terminated)throw new H(O.FAILED_PRECONDITION,"The client has already been terminated.");return n._firestoreClient||Pz(n),n._firestoreClient}function Pz(n){var e,t,r;let i=n._freezeSettings(),o=function(a,u,d,p){return new y_(a,u,d,p.host,p.ssl,p.experimentalForceLongPolling,p.experimentalAutoDetectLongPolling,ax(p.experimentalLongPollingOptions),p.useFetchStreams)}(n._databaseId,((e=n._app)===null||e===void 0?void 0:e.options.appId)||"",n._persistenceKey,i);n._componentsProvider||!((t=i.localCache)===null||t===void 0)&&t._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(n._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),n._firestoreClient=new xI(n._authCredentials,n._appCheckCredentials,n._queue,o,n._componentsProvider&&function(a){let u=a?._online.build();return{_offline:a?._offline.build(u),_online:u}}(n._componentsProvider))}var Qu=class n{constructor(e){this._byteString=e}static fromBase64String(e){try{return new n(Mt.fromBase64String(e))}catch(t){throw new H(O.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+t)}}static fromUint8Array(e){return new n(Mt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}};var za=class{constructor(...e){for(let t=0;t<e.length;++t)if(e[t].length===0)throw new H(O.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new rn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}};var Yu=class{constructor(e){this._methodName=e}};var Zu=class{constructor(e,t){if(!isFinite(e)||e<-90||e>90)throw new H(O.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(t)||t<-180||t>180)throw new H(O.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+t);this._lat=e,this._long=t}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Te(this._lat,e._lat)||Te(this._long,e._long)}};var Ju=class{constructor(e){this._values=(e||[]).map(t=>t)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let o=0;o<r.length;++o)if(r[o]!==i[o])return!1;return!0}(this._values,e._values)}};var kz=/^__.*__$/,MI=class{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return this.fieldMask!==null?new pr(e,this.data,this.fieldMask,t,this.fieldTransforms):new ts(e,this.data,t,this.fieldTransforms)}},Pp=class{constructor(e,t,r){this.data=e,this.fieldMask=t,this.fieldTransforms=r}toMutation(e,t){return new pr(e,this.data,this.fieldMask,t,this.fieldTransforms)}};function hx(n){switch(n){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw ee()}}var NI=class n{constructor(e,t,r,i,o,s){this.settings=e,this.databaseId=t,this.serializer=r,this.ignoreUndefinedProperties=i,o===void 0&&this.vu(),this.fieldTransforms=o||[],this.fieldMask=s||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(e){return new n(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(e){var t;let r=(t=this.path)===null||t===void 0?void 0:t.child(e),i=this.Fu({path:r,xu:!1});return i.Ou(e),i}Nu(e){var t;let r=(t=this.path)===null||t===void 0?void 0:t.child(e),i=this.Fu({path:r,xu:!1});return i.vu(),i}Lu(e){return this.Fu({path:void 0,xu:!0})}Bu(e){return Op(e,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(e){return this.fieldMask.find(t=>e.isPrefixOf(t))!==void 0||this.fieldTransforms.find(t=>e.isPrefixOf(t.field))!==void 0}vu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Ou(this.path.get(e))}Ou(e){if(e.length===0)throw this.Bu("Document fields must not be empty");if(hx(this.Cu)&&kz.test(e))throw this.Bu('Document fields cannot begin and end with "__"')}},PI=class{constructor(e,t,r){this.databaseId=e,this.ignoreUndefinedProperties=t,this.serializer=r||qp(e)}Qu(e,t,r,i=!1){return new NI({Cu:e,methodName:t,qu:r,path:rn.emptyPath(),xu:!1,ku:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}};function Yp(n){let e=n._freezeSettings(),t=qp(n._databaseId);return new PI(n._databaseId,!!e.ignoreUndefinedProperties,t)}function fx(n,e,t,r,i,o={}){let s=n.Qu(o.merge||o.mergeFields?2:0,e,t,i);rE("Data must be an object, but it was:",s,r);let a=px(r,s),u,d;if(o.merge)u=new yn(s.fieldMask),d=s.fieldTransforms;else if(o.mergeFields){let p=[];for(let g of o.mergeFields){let _=kI(e,g,t);if(!s.contains(_))throw new H(O.INVALID_ARGUMENT,`Field '${_}' is specified in your field mask but missing from your input data.`);mx(p,_)||p.push(_)}u=new yn(p),d=s.fieldTransforms.filter(g=>u.covers(g.field))}else u=null,d=s.fieldTransforms;return new MI(new nn(a),u,d)}var kp=class n extends Yu{_toFieldTransform(e){if(e.Cu!==2)throw e.Cu===1?e.Bu(`${this._methodName}() can only appear at the top level of your update data`):e.Bu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof n}};function Oz(n,e,t,r){let i=n.Qu(1,e,t);rE("Data must be an object, but it was:",i,r);let o=[],s=nn.empty();ns(r,(u,d)=>{let p=iE(e,u,t);d=Xe(d);let g=i.Nu(p);if(d instanceof kp)o.push(p);else{let _=ol(d,g);_!=null&&(o.push(p),s.set(p,_))}});let a=new yn(o);return new Pp(s,a,i.fieldTransforms)}function Fz(n,e,t,r,i,o){let s=n.Qu(1,e,t),a=[kI(e,r,t)],u=[i];if(o.length%2!=0)throw new H(O.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let _=0;_<o.length;_+=2)a.push(kI(e,o[_])),u.push(o[_+1]);let d=[],p=nn.empty();for(let _=a.length-1;_>=0;--_)if(!mx(d,a[_])){let b=a[_],M=u[_];M=Xe(M);let F=s.Nu(b);if(M instanceof kp)d.push(b);else{let k=ol(M,F);k!=null&&(d.push(b),p.set(b,k))}}let g=new yn(d);return new Pp(p,g,s.fieldTransforms)}function Lz(n,e,t,r=!1){return ol(t,n.Qu(r?4:3,e))}function ol(n,e){if(gx(n=Xe(n)))return rE("Unsupported field value:",e,n),px(n,e);if(n instanceof Yu)return function(r,i){if(!hx(i.Cu))throw i.Bu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Bu(`${r._methodName}() is not currently supported inside arrays`);let o=r._toFieldTransform(i);o&&i.fieldTransforms.push(o)}(n,e),null;if(n===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),n instanceof Array){if(e.settings.xu&&e.Cu!==4)throw e.Bu("Nested arrays are not supported");return function(r,i){let o=[],s=0;for(let a of r){let u=ol(a,i.Lu(s));u==null&&(u={nullValue:"NULL_VALUE"}),o.push(u),s++}return{arrayValue:{values:o}}}(n,e)}return function(r,i){if((r=Xe(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return IH(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){let o=bt.fromDate(r);return{timestampValue:wp(i.serializer,o)}}if(r instanceof bt){let o=new bt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:wp(i.serializer,o)}}if(r instanceof Zu)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Qu)return{bytesValue:jR(i.serializer,r._byteString)};if(r instanceof xt){let o=i.databaseId,s=r.firestore._databaseId;if(!s.isEqual(o))throw i.Bu(`Document reference is for database ${s.projectId}/${s.database} but should be for database ${o.projectId}/${o.database}`);return{referenceValue:GI(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof Ju)return function(s,a){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:s.toArray().map(u=>{if(typeof u!="number")throw a.Bu("VectorValues must only contain numeric values.");return qI(a.serializer,u)})}}}}}}(r,i);throw i.Bu(`Unsupported field value: ${Kp(r)}`)}(n,e)}function px(n,e){let t={};return mR(n)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ns(n,(r,i)=>{let o=ol(i,e.Mu(r));o!=null&&(t[r]=o)}),{mapValue:{fields:t}}}function gx(n){return!(typeof n!="object"||n===null||n instanceof Array||n instanceof Date||n instanceof bt||n instanceof Zu||n instanceof Qu||n instanceof xt||n instanceof Yu||n instanceof Ju)}function rE(n,e,t){if(!gx(t)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(t)){let r=Kp(t);throw r==="an object"?e.Bu(n+" a custom object"):e.Bu(n+" "+r)}}function kI(n,e,t){if((e=Xe(e))instanceof za)return e._internalPath;if(typeof e=="string")return iE(n,e);throw Op("Field path arguments must be of type string or ",n,!1,void 0,t)}var Vz=new RegExp("[~\\*/\\[\\]]");function iE(n,e,t){if(e.search(Vz)>=0)throw Op(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,n,!1,void 0,t);try{return new za(...e.split("."))._internalPath}catch{throw Op(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,n,!1,void 0,t)}}function Op(n,e,t,r,i){let o=r&&!r.isEmpty(),s=i!==void 0,a=`Function ${e}() called with invalid data`;t&&(a+=" (via `toFirestore()`)"),a+=". ";let u="";return(o||s)&&(u+=" (found",o&&(u+=` in field ${r}`),s&&(u+=` in document ${i}`),u+=")"),new H(O.INVALID_ARGUMENT,a+n+u)}function mx(n,e){return n.some(t=>t.isEqual(e))}var Fp=class{constructor(e,t,r,i,o){this._firestore=e,this._userDataWriter=t,this._key=r,this._document=i,this._converter=o}get id(){return this._key.path.lastSegment()}get ref(){return new xt(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){let e=new OI(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){let t=this._document.data.field(Zp("DocumentSnapshot.get",e));if(t!==null)return this._userDataWriter.convertValue(t)}}},OI=class extends Fp{data(){return super.data()}};function Zp(n,e){return typeof e=="string"?iE(n,e):e instanceof za?e._internalPath:e._delegate._internalPath}function yx(n){if(n.limitType==="L"&&n.explicitOrderBy.length===0)throw new H(O.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var Xu=class{},Lp=class extends Xu{};function vx(n,e,...t){let r=[];e instanceof Xu&&r.push(e),r=r.concat(t),function(o){let s=o.filter(u=>u instanceof FI).length,a=o.filter(u=>u instanceof Vp).length;if(s>1||s>0&&a>0)throw new H(O.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(let i of r)n=i._apply(n);return n}var Vp=class n extends Lp{constructor(e,t,r){super(),this._field=e,this._op=t,this._value=r,this.type="where"}static _create(e,t,r){return new n(e,t,r)}_apply(e){let t=this._parse(e);return Ix(e._query,t),new Qi(e.firestore,e.converter,x_(e._query,t))}_parse(e){let t=Yp(e.firestore);return function(o,s,a,u,d,p,g){let _;if(d.isKeyField()){if(p==="array-contains"||p==="array-contains-any")throw new H(O.INVALID_ARGUMENT,`Invalid Query. You can't perform '${p}' queries on documentId().`);if(p==="in"||p==="not-in"){pR(g,p);let b=[];for(let M of g)b.push(fR(u,o,M));_={arrayValue:{values:b}}}else _=fR(u,o,g)}else p!=="in"&&p!=="not-in"&&p!=="array-contains-any"||pR(g,p),_=Lz(a,s,g,p==="in"||p==="not-in");return nt.create(d,p,_)}(e._query,"where",t,e.firestore._databaseId,this._field,this._op,this._value)}};function wx(n,e,t){let r=e,i=Zp("where",n);return Vp._create(i,r,t)}var FI=class n extends Xu{constructor(e,t){super(),this.type=e,this._queryConstraints=t}static _create(e,t){return new n(e,t)}_parse(e){let t=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return t.length===1?t[0]:kn.create(t,this._getOperator())}_apply(e){let t=this._parse(e);return t.getFilters().length===0?e:(function(i,o){let s=i,a=o.getFlattenedFilters();for(let u of a)Ix(s,u),s=x_(s,u)}(e._query,t),new Qi(e.firestore,e.converter,x_(e._query,t)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}};var LI=class n extends Lp{constructor(e,t){super(),this._field=e,this._direction=t,this.type="orderBy"}static _create(e,t){return new n(e,t)}_apply(e){let t=function(i,o,s){if(i.startAt!==null)throw new H(O.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new H(O.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Jo(o,s)}(e._query,this._field,this._direction);return new Qi(e.firestore,e.converter,function(i,o){let s=i.explicitOrderBy.concat([o]);return new Gi(i.path,i.collectionGroup,s,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(e._query,t))}};function _x(n,e="asc"){let t=e,r=Zp("orderBy",n);return LI._create(r,t)}function fR(n,e,t){if(typeof(t=Xe(t))=="string"){if(t==="")throw new H(O.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!CR(e)&&t.indexOf("/")!==-1)throw new H(O.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${t}' contains a '/' character.`);let r=e.path.child(Be.fromString(t));if(!Q.isDocumentKey(r))throw new H(O.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return VA(n,new Q(r))}if(t instanceof xt)return VA(n,t._key);throw new H(O.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Kp(t)}.`)}function pR(n,e){if(!Array.isArray(n)||n.length===0)throw new H(O.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function Ix(n,e){let t=function(i,o){for(let s of i)for(let a of s.getFlattenedFilters())if(o.indexOf(a.op)>=0)return a.op;return null}(n.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(t!==null)throw t===e.op?new H(O.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new H(O.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${t.toString()}' filters.`)}var VI=class{convertValue(e,t="none"){switch(Zo(e)){case 0:return null;case 1:return e.booleanValue;case 2:return je(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,t);case 5:return e.stringValue;case 6:return this.convertBytes(qi(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,t);case 11:return this.convertObject(e.mapValue,t);case 10:return this.convertVectorValue(e.mapValue);default:throw ee()}}convertObject(e,t){return this.convertObjectMap(e.fields,t)}convertObjectMap(e,t="none"){let r={};return ns(e,(i,o)=>{r[i]=this.convertValue(o,t)}),r}convertVectorValue(e){var t,r,i;let o=(i=(r=(t=e.fields)===null||t===void 0?void 0:t.value.arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(s=>je(s.doubleValue));return new Ju(o)}convertGeoPoint(e){return new Zu(je(e.latitude),je(e.longitude))}convertArray(e,t){return(e.values||[]).map(r=>this.convertValue(r,t))}convertServerTimestamp(e,t){switch(t){case"previous":let r=BI(e);return r==null?null:this.convertValue(r,t);case"estimate":return this.convertTimestamp(Bu(e));default:return null}}convertTimestamp(e){let t=Kr(e);return new bt(t.seconds,t.nanos)}convertDocumentKey(e,t){let r=Be.fromString(e);Me(qR(r));let i=new hp(r.get(1),r.get(3)),o=new Q(r.popFirst(5));return i.isEqual(t)||Wr(`Document ${o} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${t.projectId}/${t.database}) instead.`),o}};function Ex(n,e,t){let r;return r=n?t&&(t.merge||t.mergeFields)?n.toFirestore(e,t):n.toFirestore(e):e,r}var Ko=class{constructor(e,t){this.hasPendingWrites=e,this.fromCache=t}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}},jp=class extends Fp{constructor(e,t,r,i,o,s){super(e,t,r,i,s),this._firestore=e,this._firestoreImpl=e,this.metadata=o}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){let t=new Na(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(t,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,t={}){if(this._document){let r=this._document.data.field(Zp("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,t.serverTimestamps)}}},Na=class extends jp{data(e={}){return super.data(e)}},Up=class{constructor(e,t,r,i){this._firestore=e,this._userDataWriter=t,this._snapshot=i,this.metadata=new Ko(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){let e=[];return this.forEach(t=>e.push(t)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,t){this._snapshot.docs.forEach(r=>{e.call(t,new Na(this._firestore,this._userDataWriter,r.key,r,new Ko(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){let t=!!e.includeMetadataChanges;if(t&&this._snapshot.excludesMetadataChanges)throw new H(O.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===t||(this._cachedChanges=function(i,o){if(i._snapshot.oldDocs.isEmpty()){let s=0;return i._snapshot.docChanges.map(a=>{let u=new Na(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Ko(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:u,oldIndex:-1,newIndex:s++}})}{let s=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>o||a.type!==3).map(a=>{let u=new Na(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Ko(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter),d=-1,p=-1;return a.type!==0&&(d=s.indexOf(a.doc.key),s=s.delete(a.doc.key)),a.type!==1&&(s=s.add(a.doc),p=s.indexOf(a.doc.key)),{type:jz(a.type),doc:u,oldIndex:d,newIndex:p}})}}(this,t),this._cachedChangesIncludeMetadataChanges=t),this._cachedChanges}};function jz(n){switch(n){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return ee()}}function bx(n){n=on(n,xt);let e=on(n.firestore,gr);return xz(Qp(e),n._key).then(t=>Ax(e,n,t))}var el=class extends VI{constructor(e){super(),this.firestore=e}convertBytes(e){return new Qu(e)}convertReference(e){let t=this.convertDocumentKey(e,this.firestore._databaseId);return new xt(this.firestore,null,t)}};function Dx(n){n=on(n,Qi);let e=on(n.firestore,gr),t=Qp(e),r=new el(e);return yx(n._query),Mz(t,n._query).then(i=>new Up(e,r,n,i))}function Cx(n,e,t){n=on(n,xt);let r=on(n.firestore,gr),i=Ex(n.converter,e,t);return sE(r,[fx(Yp(r),"setDoc",n._key,i,n.converter!==null,t).toMutation(n._key,Gr.none())])}function Tx(n,e,t,...r){n=on(n,xt);let i=on(n.firestore,gr),o=Yp(i),s;return s=typeof(e=Xe(e))=="string"||e instanceof za?Fz(o,"updateDoc",n._key,e,t,r):Oz(o,"updateDoc",n._key,e),sE(i,[s.toMutation(n._key,Gr.exists(!0))])}function Sx(n,e){let t=on(n.firestore,gr),r=nE(n),i=Ex(n.converter,e);return sE(t,[fx(Yp(n.firestore),"addDoc",r._key,i,n.converter!==null,{}).toMutation(r._key,Gr.exists(!1))]).then(()=>r)}function oE(n,...e){var t,r,i;n=Xe(n);let o={includeMetadataChanges:!1,source:"default"},s=0;typeof e[s]!="object"||hR(e[s])||(o=e[s],s++);let a={includeMetadataChanges:o.includeMetadataChanges,source:o.source};if(hR(e[s])){let g=e[s];e[s]=(t=g.next)===null||t===void 0?void 0:t.bind(g),e[s+1]=(r=g.error)===null||r===void 0?void 0:r.bind(g),e[s+2]=(i=g.complete)===null||i===void 0?void 0:i.bind(g)}let u,d,p;if(n instanceof xt)d=on(n.firestore,gr),p=$p(n._key.path),u={next:g=>{e[s]&&e[s](Ax(d,n,g))},error:e[s+1],complete:e[s+2]};else{let g=on(n,Qi);d=on(g.firestore,gr),p=g._query;let _=new el(d);u={next:b=>{e[s]&&e[s](new Up(d,_,g,b))},error:e[s+1],complete:e[s+2]},yx(n._query)}return function(_,b,M,F){let k=new Ku(F),U=new Wu(b,k,M);return _.asyncQueue.enqueueAndForget(()=>C(this,null,function*(){return JI(yield xp(_),U)})),()=>{k.Za(),_.asyncQueue.enqueueAndForget(()=>C(this,null,function*(){return XI(yield xp(_),U)}))}}(Qp(d),p,a,u)}function sE(n,e){return function(r,i){let o=new Nn;return r.asyncQueue.enqueueAndForget(()=>C(this,null,function*(){return wz(yield Rz(r),i,o)})),o.promise}(Qp(n),e)}function Ax(n,e,t){let r=t.docs.get(e._key),i=new el(n);return new jp(n,i,e._key,r,new Ko(t.hasPendingWrites,t.fromCache),e.converter)}(function(e,t=!0){(function(i){qa=i})(Ui),ji(new mn("firestore",(r,{instanceIdentifier:i,options:o})=>{let s=r.getProvider("app").getImmediate(),a=new gr(new l_(r.getProvider("auth-internal")),new p_(r.getProvider("app-check-internal")),function(d,p){if(!Object.prototype.hasOwnProperty.apply(d.options,["projectId"]))throw new H(O.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new hp(d.options.projectId,p)}(s,i),s);return o=Object.assign({useFetchStreams:t},o),a._setSettings(o),a},"PUBLIC").setMultipleInstances(!0)),ct(kA,"4.7.3",e),ct(kA,"4.7.3","esm2017")})();var Jp=function(){return Jp=Object.assign||function(e){for(var t,r=1,i=arguments.length;r<i;r++){t=arguments[r];for(var o in t)Object.prototype.hasOwnProperty.call(t,o)&&(e[o]=t[o])}return e},Jp.apply(this,arguments)};var $z={includeMetadataChanges:!1};function Rx(n,e){return e===void 0&&(e=$z),new me(function(t){var r=oE(n,e,{next:t.next.bind(t),error:t.error.bind(t),complete:t.complete.bind(t)});return{unsubscribe:r}})}function xx(n,e){var t;e===void 0&&(e={});var r=n.data(e);return!n.exists()||typeof r!="object"||r===null||!e.idField?r:Jp(Jp({},r),(t={},t[e.idField]=n.id,t))}function Mx(n){return Rx(n,{includeMetadataChanges:!0}).pipe(le(function(e){return e.docs}))}function Nx(n,e){return e===void 0&&(e={}),Mx(n).pipe(le(function(t){return t.map(function(r){return xx(r,e)})}))}var sl=class{constructor(e){return e}},Px="firestore",aE=class{constructor(){return Eu(Px)}};var cE=new q("angularfire2.firestore-instances");function Hz(n,e){let t=Of(Px,n,e);return t&&new sl(t)}function zz(n){return(e,t)=>{let r=e.runOutsideAngular(()=>n(t));return new sl(r)}}var qz={provide:aE,deps:[[new Tt,cE]]},Gz={provide:sl,useFactory:Hz,deps:[[new Tt,cE],jr]};function eY(n,...e){return ct("angularfire",Uo.full,"fst"),Zn([Gz,qz,{provide:cE,useFactory:zz(n),multi:!0,deps:[Re,_t,ba,Bo,[new Tt,Nu],[new Tt,Ea],...e]}])}var tY=gt(Nx,!0);var nY=gt(Sx,!0);var rY=gt(lx,!0);var iY=gt(nE,!0);var oY=gt(bx,!0);var sY=gt(Dx,!0);var aY=gt(dx,!0);var cY=gt(_x,!0);var uY=gt(vx,!0);var lY=gt(Cx,!0);var dY=gt(Tx,!0);var hY=gt(wx,!0);var $t=NM(kx());var Ox=class n{mostrarSuccess(e){$t.default.fire({toast:!0,position:"top-end",icon:"success",title:"Exito",text:e,showConfirmButton:!1,timer:2e3,background:"#333",color:"#fff",iconColor:"#28a745",customClass:{popup:"colored-toast"}})}mostrarError(e){$t.default.fire({toast:!0,position:"top-end",icon:"error",title:"Error",text:e,showConfirmButton:!1,timer:3e3,background:"#333",color:"#fff",iconColor:"#ff5f6d",customClass:{popup:"colored-toast"}})}mostrarDialogoMotivo(){return $t.default.fire({title:"Cancelar Turno",input:"text",inputLabel:"Ingrese el motivo de la cancelaci\xF3n:",inputPlaceholder:"Motivo de cancelaci\xF3n",showCancelButton:!0,confirmButtonText:"Cancelar Turno",cancelButtonText:"Cancelar",background:"#333",color:"#fff",icon:"warning",iconColor:"#FF0000",customClass:{popup:"colored-toast",confirmButton:"confirm-button",cancelButton:"cancel-button"},inputAttributes:{style:"color: #fff; background-color: #444; border: 1px solid #555; padding: 10px; border-radius: 4px;"}}).then(e=>e.isConfirmed&&e.value||null)}mostrarDialogoMotivoRechazo(){return $t.default.fire({title:"Rechazar Turno",input:"text",inputLabel:"Ingrese el motivo del rechazo:",inputPlaceholder:"Motivo del rechazo",showCancelButton:!0,confirmButtonText:"Rechazar Turno",cancelButtonText:"Cancelar",background:"#333",color:"#fff",icon:"warning",iconColor:"#FF0000",customClass:{popup:"colored-toast",confirmButton:"confirm-button",cancelButton:"cancel-button"},inputAttributes:{style:"color: #fff; background-color: #444; border: 1px solid #555; padding: 10px; border-radius: 4px;"}}).then(e=>e.isConfirmed&&e.value||null)}mostrarDialogoCalificacion(){return $t.default.fire({title:"Calificar Turno",input:"text",inputLabel:"Ingrese un comentario sobre el turno",inputPlaceholder:"Calificar el turno",showCancelButton:!0,confirmButtonText:"Enviar",cancelButtonText:"Cancelar",background:"#333",color:"#fff",icon:"info",iconColor:"#FF0000",customClass:{popup:"colored-toast",confirmButton:"confirm-button",cancelButton:"cancel-button"},inputAttributes:{style:"color: #fff; background-color: #444; border: 1px solid #555; padding: 10px; border-radius: 4px;"}}).then(e=>e.isConfirmed&&e.value||null)}leerResenia(e){return $t.default.fire({title:"Rese\xF1a del Turno",html:`
            <div style="margin-bottom: 10px;">
                <label style="color: #FF0000">Rese\xF1a:</label><br>
                <span style="color: #fff;">${e.resenia?.resenia}</span>
            </div>
            <div>
                <label style="color: #FF0000">Diagn\xF3stico:</label><br>
                <span style="color: #fff;">${e.resenia?.diagnostico}</span>
            </div>
        `,icon:"info",iconColor:"#FF0000",background:"#333",color:"#fff",confirmButtonText:"Cerrar",customClass:{popup:"colored-toast",confirmButton:"confirm-button"}})}mostrarFormularioEncuesta(){return C(this,null,function*(){return $t.default.fire({title:"Completar Encuesta",html:`
            <form id="form-encuesta">
                <label for="recomendacion" style="color: #FF0000; display: block; margin-bottom: 5px; margin-top: 20px;">\xBFRecomendar\xEDas el hospital a tus conocidos?</label>
                <select id="recomendacion" class="swal2-input" style="color: #fff; background-color: #444; border: 1px solid #555; padding: 10px; border-radius: 4px; width: calc(100% - 22px); box-sizing: border-box;">
                    <option value="" disabled selected>Selecciona una opci\xF3n</option>
                    <option value="S\xED">S\xED</option>
                    <option value="No">No</option>
                </select>

                <label for="instalaciones" style="color: #FF0000; display: block; margin-top: 20px;">Del 1 al 10, \xBFqu\xE9 te parecieron nuestras instalaciones?</label>
                <input id="instalaciones" type="number" class="swal2-input" min="1" max="10" placeholder="1-10" style="color: #fff; background-color: #444; border: 1px solid #555; padding: 10px; border-radius: 4px; width: 80px; box-sizing: border-box;">

                <label for="consejo" style="color: #FF0000; display: block; margin-top: 20px;">Deja un consejo de mejora:</label>
                <textarea id="consejo" class="swal2-input" placeholder="Escribe tu consejo" style="color: #fff; background-color: #444; border: 1px solid #555; padding: 10px; border-radius: 4px; width: calc(100% - 22px); height: 100px; box-sizing: border-box;"></textarea>
            </form>
        `,showCancelButton:!0,confirmButtonText:"Enviar",cancelButtonText:"Cancelar",background:"#333",color:"#fff",icon:"question",iconColor:"#FF0000",customClass:{popup:"colored-toast",confirmButton:"confirm-button",cancelButton:"cancel-button"},preConfirm:()=>{let e=document.getElementById("recomendacion").value,t=parseInt(document.getElementById("instalaciones").value,10),r=document.getElementById("consejo").value;return e?!t||t<1||t>10?($t.default.showValidationMessage("Por favor, ingresa una calificaci\xF3n de 1 a 10 para las instalaciones."),null):r?{recomendacion:e,instalaciones:t,consejo:r}:($t.default.showValidationMessage("Por favor, deja un consejo de mejora."),null):($t.default.showValidationMessage("Por favor, selecciona si recomendar\xEDas el hospital."),null)}}).then(e=>e.isConfirmed&&e.value||null)})}mostrarFormularioRese\u00F1a(){return C(this,null,function*(){return $t.default.fire({title:"Completar Rese\xF1a",html:`
            <form id="form-encuesta" style="text-align: left; margin-top: 20px;">
                <div style="margin-bottom: 15px;">
                    <label for="resenia" style="color: #FF0000; display: block; margin-bottom: 5px;">Rese\xF1a:</label>
                    <textarea id="resenia" class="swal2-input" placeholder="Escribe tu rese\xF1a" style="color: #fff; background-color: #444; border: 1px solid #555; padding: 10px; border-radius: 4px; width: 100%; resize: none; height: 100px;"></textarea>
                </div>
                <div style="margin-bottom: 15px;">
                    <label for="diagnostico" style="color: #FF0000; display: block; margin-bottom: 5px;">Diagn\xF3stico:</label>
                    <input id="diagnostico" type="text" class="swal2-input" placeholder="Escribe el diagn\xF3stico" style="color: #fff; background-color: #444; border: 1px solid #555; padding: 10px; border-radius: 4px; width: 80%; ">
                </div>
            </form>
        `,showCancelButton:!0,confirmButtonText:"Enviar",cancelButtonText:"Cancelar",background:"#333",color:"#fff",icon:"question",iconColor:"#FF0000",customClass:{popup:"colored-toast",confirmButton:"confirm-button",cancelButton:"cancel-button"},preConfirm:()=>{let e=document.getElementById("resenia").value,t=document.getElementById("diagnostico").value;return e?t?{resenia:e,diagnostico:t}:($t.default.showValidationMessage("Por favor, deja un diagn\xF3stico"),null):($t.default.showValidationMessage("Por favor, deja una rese\xF1a"),null)}}).then(e=>e.isConfirmed&&e.value||null)})}static \u0275fac=function(t){return new(t||n)};static \u0275prov=W({token:n,factory:n.\u0275fac,providedIn:"root"})};export{B as a,ge as b,C as c,wt as d,te as e,Qt as f,W as g,Tr as h,q as i,re as j,j as k,mh as l,Sr as m,HN as n,qN as o,Xn as p,fW as q,pW as r,ze as s,Re as t,Rn as u,er as v,fk as w,gW as x,J as y,Py as z,Ri as A,Oy as B,Fh as C,wW as D,jc as E,Lh as F,Uc as G,$1 as H,H1 as I,_W as J,nr as K,IW as L,Q1 as M,EW as N,KC as O,J1 as P,QC as Q,X1 as R,eF as S,bW as T,tF as U,Vh as V,DW as W,CW as X,TW as Y,SW as Z,AW as _,RW as $,t6 as aa,n6 as ba,y0 as ca,Gy as da,kF as ea,S6 as fa,bV as ga,Fr as ha,b8 as ia,D8 as ja,C8 as ka,lS as la,dS as ma,tn as na,Xe as oa,mn as pa,ji as qa,Iu as ra,Ui as sa,_a as ta,ct as ua,gt as va,p7 as wa,g7 as xa,IA as ya,EA as za,Mu as Aa,cK as Ba,uK as Ca,lK as Da,sl as Ea,eY as Fa,tY as Ga,nY as Ha,rY as Ia,iY as Ja,oY as Ka,sY as La,aY as Ma,cY as Na,uY as Oa,lY as Pa,dY as Qa,hY as Ra,V0 as Sa,A0 as Ta,q6 as Ua,G6 as Va,ef as Wa,DL as Xa,aT as Ya,SL as Za,K6 as _a,RL as $a,ML as ab,PL as bb,lT as cb,Q6 as db,Y6 as eb,UL as fb,$L as gb,zL as hb,GL as ib,Z6 as jb,J6 as kb,pT as lb,Ox as mb};
