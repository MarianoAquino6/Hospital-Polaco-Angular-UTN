var iN=Object.create;var Eg=Object.defineProperty,sN=Object.defineProperties,oN=Object.getOwnPropertyDescriptor,aN=Object.getOwnPropertyDescriptors,cN=Object.getOwnPropertyNames,ME=Object.getOwnPropertySymbols,PE=Object.getPrototypeOf,kE=Object.prototype.hasOwnProperty,uN=Object.prototype.propertyIsEnumerable,lN=Reflect.get;var NE=(t,e,n)=>e in t?Eg(t,e,{enumerable:!0,configurable:!0,writable:!0,value:n}):t[e]=n,B=(t,e)=>{for(var n in e||={})kE.call(e,n)&&NE(t,n,e[n]);if(ME)for(var n of ME(e))uN.call(e,n)&&NE(t,n,e[n]);return t},ge=(t,e)=>sN(t,aN(e));var dN=(t,e)=>()=>(e||t((e={exports:{}}).exports,e),e.exports);var hN=(t,e,n,r)=>{if(e&&typeof e=="object"||typeof e=="function")for(let i of cN(e))!kE.call(t,i)&&i!==n&&Eg(t,i,{get:()=>e[i],enumerable:!(r=oN(e,i))||r.enumerable});return t};var fN=(t,e,n)=>(n=t!=null?iN(PE(t)):{},hN(e||!t||!t.__esModule?Eg(n,"default",{value:t,enumerable:!0}):n,t));var mi=(t,e,n)=>lN(PE(t),n,e);var C=(t,e,n)=>new Promise((r,i)=>{var s=u=>{try{a(n.next(u))}catch(d){i(d)}},o=u=>{try{a(n.throw(u))}catch(d){i(d)}},a=u=>u.done?r(u.value):Promise.resolve(u.value).then(s,o);a((n=n.apply(t,e)).next())});var Hx=dN((vr,hE)=>{"use strict";(function(t,e){typeof vr=="object"&&typeof hE<"u"?hE.exports=e():typeof define=="function"&&define.amd?define(e):(t=typeof globalThis<"u"?globalThis:t||self,t.Sweetalert2=e())})(vr,function(){"use strict";function t(l,h,y){if(typeof l=="function"?l===h:l.has(h))return arguments.length<3?h:y;throw new TypeError("Private element is not present on this object")}function e(l,h){if(h.has(l))throw new TypeError("Cannot initialize the same private elements twice on an object")}function n(l,h){return l.get(t(l,h))}function r(l,h,y){e(l,h),h.set(l,y)}function i(l,h,y){return l.set(t(l,h),y),y}let s=100,o={},a=()=>{o.previousActiveElement instanceof HTMLElement?(o.previousActiveElement.focus(),o.previousActiveElement=null):document.body&&document.body.focus()},u=l=>new Promise(h=>{if(!l)return h();let y=window.scrollX,w=window.scrollY;o.restoreFocusTimeout=setTimeout(()=>{a(),h()},s),window.scrollTo(y,w)}),d="swal2-",g=["container","shown","height-auto","iosfix","popup","modal","no-backdrop","no-transition","toast","toast-shown","show","hide","close","title","html-container","actions","confirm","deny","cancel","default-outline","footer","icon","icon-content","image","input","file","range","select","radio","checkbox","label","textarea","inputerror","input-label","validation-message","progress-steps","active-progress-step","progress-step","progress-step-line","loader","loading","styled","top","top-start","top-end","top-left","top-right","center","center-start","center-end","center-left","center-right","bottom","bottom-start","bottom-end","bottom-left","bottom-right","grow-row","grow-column","grow-fullscreen","rtl","timer-progress-bar","timer-progress-bar-container","scrollbar-measure","icon-success","icon-warning","icon-info","icon-question","icon-error"].reduce((l,h)=>(l[h]=d+h,l),{}),E=["success","warning","info","question","error"].reduce((l,h)=>(l[h]=d+h,l),{}),M="SweetAlert2:",O=l=>l.charAt(0).toUpperCase()+l.slice(1),P=l=>{console.warn(`${M} ${typeof l=="object"?l.join(" "):l}`)},V=l=>{console.error(`${M} ${l}`)},G=[],q=l=>{G.includes(l)||(G.push(l),P(l))},K=function(l){let h=arguments.length>1&&arguments[1]!==void 0?arguments[1]:null;q(`"${l}" is deprecated and will be removed in the next major release.${h?` Use "${h}" instead.`:""}`)},Ce=l=>typeof l=="function"?l():l,J=l=>l&&typeof l.toPromise=="function",T=l=>J(l)?l.toPromise():Promise.resolve(l),I=l=>l&&Promise.resolve(l)===l,b=()=>document.body.querySelector(`.${g.container}`),S=l=>{let h=b();return h?h.querySelector(l):null},A=l=>S(`.${l}`),R=()=>A(g.popup),D=()=>A(g.icon),gn=()=>A(g["icon-content"]),Jr=()=>A(g.title),Xa=()=>A(g["html-container"]),Xr=()=>A(g.image),_r=()=>A(g["progress-steps"]),ei=()=>A(g["validation-message"]),Ht=()=>S(`.${g.actions} .${g.confirm}`),ti=()=>S(`.${g.actions} .${g.cancel}`),Ct=()=>S(`.${g.actions} .${g.deny}`),ht=()=>A(g["input-label"]),ni=()=>S(`.${g.loader}`),mn=()=>A(g.actions),pl=()=>A(g.footer),kn=()=>A(g["timer-progress-bar"]),ec=()=>A(g.close),rg=`
  a[href],
  area[href],
  input:not([disabled]),
  select:not([disabled]),
  textarea:not([disabled]),
  button:not([disabled]),
  iframe,
  object,
  embed,
  [tabindex="0"],
  [contenteditable],
  audio[controls],
  video[controls],
  summary
`,ri=()=>{let l=R();if(!l)return[];let h=l.querySelectorAll('[tabindex]:not([tabindex="-1"]):not([tabindex="0"])'),y=Array.from(h).sort(($,ue)=>{let Ae=parseInt($.getAttribute("tabindex")||"0"),Be=parseInt(ue.getAttribute("tabindex")||"0");return Ae>Be?1:Ae<Be?-1:0}),w=l.querySelectorAll(rg),N=Array.from(w).filter($=>$.getAttribute("tabindex")!=="-1");return[...new Set(y.concat(N))].filter($=>_t($))},ii=()=>qt(document.body,g.shown)&&!qt(document.body,g["toast-shown"])&&!qt(document.body,g["no-backdrop"]),si=()=>{let l=R();return l?qt(l,g.toast):!1},tc=()=>{let l=R();return l?l.hasAttribute("data-loading"):!1},wt=(l,h)=>{if(l.textContent="",h){let w=new DOMParser().parseFromString(h,"text/html"),N=w.querySelector("head");N&&Array.from(N.childNodes).forEach(ue=>{l.appendChild(ue)});let $=w.querySelector("body");$&&Array.from($.childNodes).forEach(ue=>{ue instanceof HTMLVideoElement||ue instanceof HTMLAudioElement?l.appendChild(ue.cloneNode(!0)):l.appendChild(ue)})}},qt=(l,h)=>{if(!h)return!1;let y=h.split(/\s+/);for(let w=0;w<y.length;w++)if(!l.classList.contains(y[w]))return!1;return!0},gl=(l,h)=>{Array.from(l.classList).forEach(y=>{!Object.values(g).includes(y)&&!Object.values(E).includes(y)&&!Object.values(h.showClass||{}).includes(y)&&l.classList.remove(y)})},Tt=(l,h,y)=>{if(gl(l,h),!h.customClass)return;let w=h.customClass[y];if(w){if(typeof w!="string"&&!w.forEach){P(`Invalid type of customClass.${y}! Expected string or iterable object, got "${typeof w}"`);return}pe(l,w)}},so=(l,h)=>{if(!h)return null;switch(h){case"select":case"textarea":case"file":return l.querySelector(`.${g.popup} > .${g[h]}`);case"checkbox":return l.querySelector(`.${g.popup} > .${g.checkbox} input`);case"radio":return l.querySelector(`.${g.popup} > .${g.radio} input:checked`)||l.querySelector(`.${g.popup} > .${g.radio} input:first-child`);case"range":return l.querySelector(`.${g.popup} > .${g.range} input`);default:return l.querySelector(`.${g.popup} > .${g.input}`)}},nc=l=>{if(l.focus(),l.type!=="file"){let h=l.value;l.value="",l.value=h}},rc=(l,h,y)=>{!l||!h||(typeof h=="string"&&(h=h.split(/\s+/).filter(Boolean)),h.forEach(w=>{Array.isArray(l)?l.forEach(N=>{y?N.classList.add(w):N.classList.remove(w)}):y?l.classList.add(w):l.classList.remove(w)}))},pe=(l,h)=>{rc(l,h,!0)},zt=(l,h)=>{rc(l,h,!1)},On=(l,h)=>{let y=Array.from(l.children);for(let w=0;w<y.length;w++){let N=y[w];if(N instanceof HTMLElement&&qt(N,h))return N}},yn=(l,h,y)=>{y===`${parseInt(y)}`&&(y=parseInt(y)),y||parseInt(y)===0?l.style.setProperty(h,typeof y=="number"?`${y}px`:y):l.style.removeProperty(h)},qe=function(l){let h=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"flex";l&&(l.style.display=h)},Je=l=>{l&&(l.style.display="none")},Xe=function(l){let h=arguments.length>1&&arguments[1]!==void 0?arguments[1]:"block";l&&new MutationObserver(()=>{Fn(l,l.innerHTML,h)}).observe(l,{childList:!0,subtree:!0})},ft=(l,h,y,w)=>{let N=l.querySelector(h);N&&N.style.setProperty(y,w)},Fn=function(l,h){let y=arguments.length>2&&arguments[2]!==void 0?arguments[2]:"flex";h?qe(l,y):Je(l)},_t=l=>!!(l&&(l.offsetWidth||l.offsetHeight||l.getClientRects().length)),ml=()=>!_t(Ht())&&!_t(Ct())&&!_t(ti()),yl=l=>l.scrollHeight>l.clientHeight,oi=l=>{let h=window.getComputedStyle(l),y=parseFloat(h.getPropertyValue("animation-duration")||"0"),w=parseFloat(h.getPropertyValue("transition-duration")||"0");return y>0||w>0},oo=function(l){let h=arguments.length>1&&arguments[1]!==void 0?arguments[1]:!1,y=kn();y&&_t(y)&&(h&&(y.style.transition="none",y.style.width="100%"),setTimeout(()=>{y.style.transition=`width ${l/1e3}s linear`,y.style.width="0%"},10))},vl=()=>{let l=kn();if(!l)return;let h=parseInt(window.getComputedStyle(l).width);l.style.removeProperty("transition"),l.style.width="100%";let y=parseInt(window.getComputedStyle(l).width),w=h/y*100;l.style.width=`${w}%`},ic=()=>typeof window>"u"||typeof document>"u",ig=`
 <div aria-labelledby="${g.title}" aria-describedby="${g["html-container"]}" class="${g.popup}" tabindex="-1">
   <button type="button" class="${g.close}"></button>
   <ul class="${g["progress-steps"]}"></ul>
   <div class="${g.icon}"></div>
   <img class="${g.image}" />
   <h2 class="${g.title}" id="${g.title}"></h2>
   <div class="${g["html-container"]}" id="${g["html-container"]}"></div>
   <input class="${g.input}" id="${g.input}" />
   <input type="file" class="${g.file}" />
   <div class="${g.range}">
     <input type="range" />
     <output></output>
   </div>
   <select class="${g.select}" id="${g.select}"></select>
   <div class="${g.radio}"></div>
   <label class="${g.checkbox}">
     <input type="checkbox" id="${g.checkbox}" />
     <span class="${g.label}"></span>
   </label>
   <textarea class="${g.textarea}" id="${g.textarea}"></textarea>
   <div class="${g["validation-message"]}" id="${g["validation-message"]}"></div>
   <div class="${g.actions}">
     <div class="${g.loader}"></div>
     <button type="button" class="${g.confirm}"></button>
     <button type="button" class="${g.deny}"></button>
     <button type="button" class="${g.cancel}"></button>
   </div>
   <div class="${g.footer}"></div>
   <div class="${g["timer-progress-bar-container"]}">
     <div class="${g["timer-progress-bar"]}"></div>
   </div>
 </div>
`.replace(/(^|\n)\s*/g,""),sg=()=>{let l=b();return l?(l.remove(),zt([document.documentElement,document.body],[g["no-backdrop"],g["toast-shown"],g["has-column"]]),!0):!1},vn=()=>{o.currentInstance.resetValidationMessage()},wl=()=>{let l=R(),h=On(l,g.input),y=On(l,g.file),w=l.querySelector(`.${g.range} input`),N=l.querySelector(`.${g.range} output`),$=On(l,g.select),ue=l.querySelector(`.${g.checkbox} input`),Ae=On(l,g.textarea);h.oninput=vn,y.onchange=vn,$.onchange=vn,ue.onchange=vn,Ae.oninput=vn,w.oninput=()=>{vn(),N.value=w.value},w.onchange=()=>{vn(),N.value=w.value}},_l=l=>typeof l=="string"?document.querySelector(l):l,Zi=l=>{let h=R();h.setAttribute("role",l.toast?"alert":"dialog"),h.setAttribute("aria-live",l.toast?"polite":"assertive"),l.toast||h.setAttribute("aria-modal","true")},sc=l=>{window.getComputedStyle(l).direction==="rtl"&&pe(b(),g.rtl)},oc=l=>{let h=sg();if(ic()){V("SweetAlert2 requires document to initialize");return}let y=document.createElement("div");y.className=g.container,h&&pe(y,g["no-transition"]),wt(y,ig);let w=_l(l.target);w.appendChild(y),Zi(l),sc(w),wl()},wn=(l,h)=>{l instanceof HTMLElement?h.appendChild(l):typeof l=="object"?Il(l,h):l&&wt(h,l)},Il=(l,h)=>{l.jquery?ao(h,l):wt(h,l.toString())},ao=(l,h)=>{if(l.textContent="",0 in h)for(let y=0;y in h;y++)l.appendChild(h[y].cloneNode(!0));else l.appendChild(h.cloneNode(!0))},El=(l,h)=>{let y=mn(),w=ni();!y||!w||(!h.showConfirmButton&&!h.showDenyButton&&!h.showCancelButton?Je(y):qe(y),Tt(y,h,"actions"),Ji(y,w,h),wt(w,h.loaderHtml||""),Tt(w,h,"loader"))};function Ji(l,h,y){let w=Ht(),N=Ct(),$=ti();!w||!N||!$||(ot(w,"confirm",y),ot(N,"deny",y),ot($,"cancel",y),bl(w,N,$,y),y.reverseButtons&&(y.toast?(l.insertBefore($,w),l.insertBefore(N,w)):(l.insertBefore($,h),l.insertBefore(N,h),l.insertBefore(w,h))))}function bl(l,h,y,w){if(!w.buttonsStyling){zt([l,h,y],g.styled);return}pe([l,h,y],g.styled),w.confirmButtonColor&&(l.style.backgroundColor=w.confirmButtonColor,pe(l,g["default-outline"])),w.denyButtonColor&&(h.style.backgroundColor=w.denyButtonColor,pe(h,g["default-outline"])),w.cancelButtonColor&&(y.style.backgroundColor=w.cancelButtonColor,pe(y,g["default-outline"]))}function ot(l,h,y){let w=O(h);Fn(l,y[`show${w}Button`],"inline-block"),wt(l,y[`${h}ButtonText`]||""),l.setAttribute("aria-label",y[`${h}ButtonAriaLabel`]||""),l.className=g[h],Tt(l,y,`${h}Button`)}let Dl=(l,h)=>{let y=ec();y&&(wt(y,h.closeButtonHtml||""),Tt(y,h,"closeButton"),Fn(y,h.showCloseButton),y.setAttribute("aria-label",h.closeButtonAriaLabel||""))},Xi=(l,h)=>{let y=b();y&&(es(y,h.backdrop),og(y,h.position),ag(y,h.grow),Tt(y,h,"container"))};function es(l,h){typeof h=="string"?l.style.background=h:h||pe([document.documentElement,document.body],g["no-backdrop"])}function og(l,h){h&&(h in g?pe(l,g[h]):(P('The "position" parameter is not valid, defaulting to "center"'),pe(l,g.center)))}function ag(l,h){h&&pe(l,g[`grow-${h}`])}var De={innerParams:new WeakMap,domCache:new WeakMap};let cg=["input","file","range","select","radio","checkbox","textarea"],ug=(l,h)=>{let y=R();if(!y)return;let w=De.innerParams.get(l),N=!w||h.input!==w.input;cg.forEach($=>{let ue=On(y,g[$]);ue&&(ac($,h.inputAttributes),ue.className=g[$],N&&Je(ue))}),h.input&&(N&&co(h),uo(h))},co=l=>{if(!l.input)return;if(!Fe[l.input]){V(`Unexpected type of input! Expected ${Object.keys(Fe).join(" | ")}, got "${l.input}"`);return}let h=cc(l.input);if(!h)return;let y=Fe[l.input](h,l);qe(h),l.inputAutoFocus&&setTimeout(()=>{nc(y)})},Cl=l=>{for(let h=0;h<l.attributes.length;h++){let y=l.attributes[h].name;["id","type","value","style"].includes(y)||l.removeAttribute(y)}},ac=(l,h)=>{let y=R();if(!y)return;let w=so(y,l);if(w){Cl(w);for(let N in h)w.setAttribute(N,h[N])}},uo=l=>{if(!l.input)return;let h=cc(l.input);h&&Tt(h,l,"input")},sn=(l,h)=>{!l.placeholder&&h.inputPlaceholder&&(l.placeholder=h.inputPlaceholder)},ai=(l,h,y)=>{if(y.inputLabel){let w=document.createElement("label"),N=g["input-label"];w.setAttribute("for",l.id),w.className=N,typeof y.customClass=="object"&&pe(w,y.customClass.inputLabel),w.innerText=y.inputLabel,h.insertAdjacentElement("beforebegin",w)}},cc=l=>{let h=R();if(h)return On(h,g[l]||g.input)},ci=(l,h)=>{["string","number"].includes(typeof h)?l.value=`${h}`:I(h)||P(`Unexpected type of inputValue! Expected "string", "number" or "Promise", got "${typeof h}"`)},Fe={};Fe.text=Fe.email=Fe.password=Fe.number=Fe.tel=Fe.url=Fe.search=Fe.date=Fe["datetime-local"]=Fe.time=Fe.week=Fe.month=(l,h)=>(ci(l,h.inputValue),ai(l,l,h),sn(l,h),l.type=h.input,l),Fe.file=(l,h)=>(ai(l,l,h),sn(l,h),l),Fe.range=(l,h)=>{let y=l.querySelector("input"),w=l.querySelector("output");return ci(y,h.inputValue),y.type=h.input,ci(w,h.inputValue),ai(y,l,h),l},Fe.select=(l,h)=>{if(l.textContent="",h.inputPlaceholder){let y=document.createElement("option");wt(y,h.inputPlaceholder),y.value="",y.disabled=!0,y.selected=!0,l.appendChild(y)}return ai(l,l,h),l},Fe.radio=l=>(l.textContent="",l),Fe.checkbox=(l,h)=>{let y=so(R(),"checkbox");y.value="1",y.checked=!!h.inputValue;let w=l.querySelector("span");return wt(w,h.inputPlaceholder||h.inputLabel),y},Fe.textarea=(l,h)=>{ci(l,h.inputValue),sn(l,h),ai(l,l,h);let y=w=>parseInt(window.getComputedStyle(w).marginLeft)+parseInt(window.getComputedStyle(w).marginRight);return setTimeout(()=>{if("MutationObserver"in window){let w=parseInt(window.getComputedStyle(R()).width),N=()=>{if(!document.body.contains(l))return;let $=l.offsetWidth+y(l);$>w?R().style.width=`${$}px`:yn(R(),"width",h.width)};new MutationObserver(N).observe(l,{attributes:!0,attributeFilter:["style"]})}}),l};let Tl=(l,h)=>{let y=Xa();y&&(Xe(y),Tt(y,h,"htmlContainer"),h.html?(wn(h.html,y),qe(y,"block")):h.text?(y.textContent=h.text,qe(y,"block")):Je(y),ug(l,h))},Sl=(l,h)=>{let y=pl();y&&(Xe(y),Fn(y,h.footer,"block"),h.footer&&wn(h.footer,y),Tt(y,h,"footer"))},lg=(l,h)=>{let y=De.innerParams.get(l),w=D();if(w){if(y&&h.icon===y.icon){Ln(w,h),ts(w,h);return}if(!h.icon&&!h.iconHtml){Je(w);return}if(h.icon&&Object.keys(E).indexOf(h.icon)===-1){V(`Unknown icon! Expected "success", "error", "warning", "info" or "question", got "${h.icon}"`),Je(w);return}qe(w),Ln(w,h),ts(w,h),pe(w,h.showClass&&h.showClass.icon)}},ts=(l,h)=>{for(let[y,w]of Object.entries(E))h.icon!==y&&zt(l,w);pe(l,h.icon&&E[h.icon]),lc(l,h),Al(),Tt(l,h,"icon")},Al=()=>{let l=R();if(!l)return;let h=window.getComputedStyle(l).getPropertyValue("background-color"),y=l.querySelectorAll("[class^=swal2-success-circular-line], .swal2-success-fix");for(let w=0;w<y.length;w++)y[w].style.backgroundColor=h},uc=`
  <div class="swal2-success-circular-line-left"></div>
  <span class="swal2-success-line-tip"></span> <span class="swal2-success-line-long"></span>
  <div class="swal2-success-ring"></div> <div class="swal2-success-fix"></div>
  <div class="swal2-success-circular-line-right"></div>
`,ns=`
  <span class="swal2-x-mark">
    <span class="swal2-x-mark-line-left"></span>
    <span class="swal2-x-mark-line-right"></span>
  </span>
`,Ln=(l,h)=>{if(!h.icon&&!h.iconHtml)return;let y=l.innerHTML,w="";h.iconHtml?w=Rl(h.iconHtml):h.icon==="success"?(w=uc,y=y.replace(/ style=".*?"/g,"")):h.icon==="error"?w=ns:h.icon&&(w=Rl({question:"?",warning:"!",info:"i"}[h.icon])),y.trim()!==w.trim()&&wt(l,w)},lc=(l,h)=>{if(h.iconColor){l.style.color=h.iconColor,l.style.borderColor=h.iconColor;for(let y of[".swal2-success-line-tip",".swal2-success-line-long",".swal2-x-mark-line-left",".swal2-x-mark-line-right"])ft(l,y,"background-color",h.iconColor);ft(l,".swal2-success-ring","border-color",h.iconColor)}},Rl=l=>`<div class="${g["icon-content"]}">${l}</div>`,xl=(l,h)=>{let y=Xr();if(y){if(!h.imageUrl){Je(y);return}qe(y,""),y.setAttribute("src",h.imageUrl),y.setAttribute("alt",h.imageAlt||""),yn(y,"width",h.imageWidth),yn(y,"height",h.imageHeight),y.className=g.image,Tt(y,h,"image")}},Ml=(l,h)=>{let y=b(),w=R();if(!(!y||!w)){if(h.toast){yn(y,"width",h.width),w.style.width="100%";let N=ni();N&&w.insertBefore(N,D())}else yn(w,"width",h.width);yn(w,"padding",h.padding),h.color&&(w.style.color=h.color),h.background&&(w.style.background=h.background),Je(ei()),Nl(w,h)}},Nl=(l,h)=>{let y=h.showClass||{};l.className=`${g.popup} ${_t(l)?y.popup:""}`,h.toast?(pe([document.documentElement,document.body],g["toast-shown"]),pe(l,g.toast)):pe(l,g.modal),Tt(l,h,"popup"),typeof h.customClass=="string"&&pe(l,h.customClass),h.icon&&pe(l,g[`icon-${h.icon}`])},dc=(l,h)=>{let y=_r();if(!y)return;let{progressSteps:w,currentProgressStep:N}=h;if(!w||w.length===0||N===void 0){Je(y);return}qe(y),y.textContent="",N>=w.length&&P("Invalid currentProgressStep parameter, it should be less than progressSteps.length (currentProgressStep like JS arrays starts from 0)"),w.forEach(($,ue)=>{let Ae=hc($);if(y.appendChild(Ae),ue===N&&pe(Ae,g["active-progress-step"]),ue!==w.length-1){let Be=Pl(h);y.appendChild(Be)}})},hc=l=>{let h=document.createElement("li");return pe(h,g["progress-step"]),wt(h,l),h},Pl=l=>{let h=document.createElement("li");return pe(h,g["progress-step-line"]),l.progressStepsDistance&&yn(h,"width",l.progressStepsDistance),h},kl=(l,h)=>{let y=Jr();y&&(Xe(y),Fn(y,h.title||h.titleText,"block"),h.title&&wn(h.title,y),h.titleText&&(y.innerText=h.titleText),Tt(y,h,"title"))},Ol=(l,h)=>{Ml(l,h),Xi(l,h),dc(l,h),lg(l,h),xl(l,h),kl(l,h),Dl(l,h),Tl(l,h),El(l,h),Sl(l,h);let y=R();typeof h.didRender=="function"&&y&&h.didRender(y),o.eventEmitter.emit("didRender",y)},dg=()=>_t(R()),fc=()=>{var l;return(l=Ht())===null||l===void 0?void 0:l.click()},Fl=()=>{var l;return(l=Ct())===null||l===void 0?void 0:l.click()},hg=()=>{var l;return(l=ti())===null||l===void 0?void 0:l.click()},Lt=Object.freeze({cancel:"cancel",backdrop:"backdrop",close:"close",esc:"esc",timer:"timer"}),on=l=>{l.keydownTarget&&l.keydownHandlerAdded&&(l.keydownTarget.removeEventListener("keydown",l.keydownHandler,{capture:l.keydownListenerCapture}),l.keydownHandlerAdded=!1)},lo=(l,h,y)=>{on(l),h.toast||(l.keydownHandler=w=>ho(h,w,y),l.keydownTarget=h.keydownListenerCapture?window:R(),l.keydownListenerCapture=h.keydownListenerCapture,l.keydownTarget.addEventListener("keydown",l.keydownHandler,{capture:l.keydownListenerCapture}),l.keydownHandlerAdded=!0)},ui=(l,h)=>{var y;let w=ri();if(w.length){l=l+h,l===w.length?l=0:l===-1&&(l=w.length-1),w[l].focus();return}(y=R())===null||y===void 0||y.focus()},pc=["ArrowRight","ArrowDown"],Ne=["ArrowLeft","ArrowUp"],ho=(l,h,y)=>{l&&(h.isComposing||h.keyCode===229||(l.stopKeydownPropagation&&h.stopPropagation(),h.key==="Enter"?rs(h,l):h.key==="Tab"?is(h):[...pc,...Ne].includes(h.key)?fg(h.key):h.key==="Escape"&&Ll(h,l,y)))},rs=(l,h)=>{if(!Ce(h.allowEnterKey))return;let y=so(R(),h.input);if(l.target&&y&&l.target instanceof HTMLElement&&l.target.outerHTML===y.outerHTML){if(["textarea","file"].includes(h.input))return;fc(),l.preventDefault()}},is=l=>{let h=l.target,y=ri(),w=-1;for(let N=0;N<y.length;N++)if(h===y[N]){w=N;break}l.shiftKey?ui(w,-1):ui(w,1),l.stopPropagation(),l.preventDefault()},fg=l=>{let h=mn(),y=Ht(),w=Ct(),N=ti();if(!h||!y||!w||!N)return;let $=[y,w,N];if(document.activeElement instanceof HTMLElement&&!$.includes(document.activeElement))return;let ue=pc.includes(l)?"nextElementSibling":"previousElementSibling",Ae=document.activeElement;if(Ae){for(let Be=0;Be<h.children.length;Be++){if(Ae=Ae[ue],!Ae)return;if(Ae instanceof HTMLButtonElement&&_t(Ae))break}Ae instanceof HTMLButtonElement&&Ae.focus()}},Ll=(l,h,y)=>{Ce(h.allowEscapeKey)&&(l.preventDefault(),y(Lt.esc))};var li={swalPromiseResolve:new WeakMap,swalPromiseReject:new WeakMap};let pg=()=>{let l=b();Array.from(document.body.children).forEach(y=>{y.contains(l)||(y.hasAttribute("aria-hidden")&&y.setAttribute("data-previous-aria-hidden",y.getAttribute("aria-hidden")||""),y.setAttribute("aria-hidden","true"))})},Vl=()=>{Array.from(document.body.children).forEach(h=>{h.hasAttribute("data-previous-aria-hidden")?(h.setAttribute("aria-hidden",h.getAttribute("data-previous-aria-hidden")||""),h.removeAttribute("data-previous-aria-hidden")):h.removeAttribute("aria-hidden")})},Ul=typeof window<"u"&&!!window.GestureEvent,ss=()=>{if(Ul&&!qt(document.body,g.iosfix)){let l=document.body.scrollTop;document.body.style.top=`${l*-1}px`,pe(document.body,g.iosfix),Vn()}},Vn=()=>{let l=b();if(!l)return;let h;l.ontouchstart=y=>{h=jl(y)},l.ontouchmove=y=>{h&&(y.preventDefault(),y.stopPropagation())}},jl=l=>{let h=l.target,y=b(),w=Xa();return!y||!w||Bl(l)||$l(l)?!1:h===y||!yl(y)&&h instanceof HTMLElement&&h.tagName!=="INPUT"&&h.tagName!=="TEXTAREA"&&!(yl(w)&&w.contains(h))},Bl=l=>l.touches&&l.touches.length&&l.touches[0].touchType==="stylus",$l=l=>l.touches&&l.touches.length>1,di=()=>{if(qt(document.body,g.iosfix)){let l=parseInt(document.body.style.top,10);zt(document.body,g.iosfix),document.body.style.top="",document.body.scrollTop=l*-1}},gg=()=>{let l=document.createElement("div");l.className=g["scrollbar-measure"],document.body.appendChild(l);let h=l.getBoundingClientRect().width-l.clientWidth;return document.body.removeChild(l),h},hi=null,mg=l=>{hi===null&&(document.body.scrollHeight>window.innerHeight||l==="scroll")&&(hi=parseInt(window.getComputedStyle(document.body).getPropertyValue("padding-right")),document.body.style.paddingRight=`${hi+gg()}px`)},Un=()=>{hi!==null&&(document.body.style.paddingRight=`${hi}px`,hi=null)};function Hl(l,h,y,w){si()?Le(l,w):(u(y).then(()=>Le(l,w)),on(o)),Ul?(h.setAttribute("style","display:none !important"),h.removeAttribute("class"),h.innerHTML=""):h.remove(),ii()&&(Un(),di(),Vl()),yg()}function yg(){zt([document.documentElement,document.body],[g.shown,g["height-auto"],g["no-backdrop"],g["toast-shown"]])}function Vt(l){l=os(l);let h=li.swalPromiseResolve.get(this),y=fo(this);this.isAwaitingPromise?l.isDismissed||(_n(this),h(l)):y&&h(l)}let fo=l=>{let h=R();if(!h)return!1;let y=De.innerParams.get(l);if(!y||qt(h,y.hideClass.popup))return!1;zt(h,y.showClass.popup),pe(h,y.hideClass.popup);let w=b();return zt(w,y.showClass.backdrop),pe(w,y.hideClass.backdrop),ql(l,h,y),!0};function gc(l){let h=li.swalPromiseReject.get(this);_n(this),h&&h(l)}let _n=l=>{l.isAwaitingPromise&&(delete l.isAwaitingPromise,De.innerParams.get(l)||l._destroy())},os=l=>typeof l>"u"?{isConfirmed:!1,isDenied:!1,isDismissed:!0}:Object.assign({isConfirmed:!1,isDenied:!1,isDismissed:!1},l),ql=(l,h,y)=>{let w=b(),N=oi(h);typeof y.willClose=="function"&&y.willClose(h),o.eventEmitter.emit("willClose",h),N?mc(l,h,w,y.returnFocus,y.didClose):Hl(l,w,y.returnFocus,y.didClose)},mc=(l,h,y,w,N)=>{o.swalCloseEventFinishedCallback=Hl.bind(null,l,y,w,N);let $=function(ue){ue.target===h&&(o.swalCloseEventFinishedCallback(),delete o.swalCloseEventFinishedCallback,h.removeEventListener("animationend",$),h.removeEventListener("transitionend",$))};h.addEventListener("animationend",$),h.addEventListener("transitionend",$)},Le=(l,h)=>{setTimeout(()=>{typeof h=="function"&&h.bind(l.params)(),o.eventEmitter.emit("didClose"),l._destroy&&l._destroy()})},fi=l=>{let h=R();if(h||new sd,h=R(),!h)return;let y=ni();si()?Je(D()):vg(h,l),qe(y),h.setAttribute("data-loading","true"),h.setAttribute("aria-busy","true"),h.focus()},vg=(l,h)=>{let y=mn(),w=ni();!y||!w||(!h&&_t(Ht())&&(h=Ht()),qe(y),h&&(Je(h),w.setAttribute("data-button-to-replace",h.className),y.insertBefore(w,h)),pe([l,y],g.loading))},zl=(l,h)=>{h.input==="select"||h.input==="radio"?In(l,h):["text","email","number","tel","textarea"].some(y=>y===h.input)&&(J(h.inputValue)||I(h.inputValue))&&(fi(Ht()),Ql(l,h))},Gl=(l,h)=>{let y=l.getInput();if(!y)return null;switch(h.input){case"checkbox":return Wl(y);case"radio":return po(y);case"file":return Kl(y);default:return h.inputAutoTrim?y.value.trim():y.value}},Wl=l=>l.checked?1:0,po=l=>l.checked?l.value:null,Kl=l=>l.files&&l.files.length?l.getAttribute("multiple")!==null?l.files:l.files[0]:null,In=(l,h)=>{let y=R();if(!y)return;let w=N=>{h.input==="select"?wg(y,cs(N),h):h.input==="radio"&&as(y,cs(N),h)};J(h.inputOptions)||I(h.inputOptions)?(fi(Ht()),T(h.inputOptions).then(N=>{l.hideLoading(),w(N)})):typeof h.inputOptions=="object"?w(h.inputOptions):V(`Unexpected type of inputOptions! Expected object, Map or Promise, got ${typeof h.inputOptions}`)},Ql=(l,h)=>{let y=l.getInput();y&&(Je(y),T(h.inputValue).then(w=>{y.value=h.input==="number"?`${parseFloat(w)||0}`:`${w}`,qe(y),y.focus(),l.hideLoading()}).catch(w=>{V(`Error in inputValue promise: ${w}`),y.value="",qe(y),y.focus(),l.hideLoading()}))};function wg(l,h,y){let w=On(l,g.select);if(!w)return;let N=($,ue,Ae)=>{let Be=document.createElement("option");Be.value=Ae,wt(Be,ue),Be.selected=go(Ae,y.inputValue),$.appendChild(Be)};h.forEach($=>{let ue=$[0],Ae=$[1];if(Array.isArray(Ae)){let Be=document.createElement("optgroup");Be.label=ue,Be.disabled=!1,w.appendChild(Be),Ae.forEach(wo=>N(Be,wo[1],wo[0]))}else N(w,Ae,ue)}),w.focus()}function as(l,h,y){let w=On(l,g.radio);if(!w)return;h.forEach($=>{let ue=$[0],Ae=$[1],Be=document.createElement("input"),wo=document.createElement("label");Be.type="radio",Be.name=g.radio,Be.value=ue,go(ue,y.inputValue)&&(Be.checked=!0);let Ig=document.createElement("span");wt(Ig,Ae),Ig.className=g.label,wo.appendChild(Be),wo.appendChild(Ig),w.appendChild(wo)});let N=w.querySelectorAll("input");N.length&&N[0].focus()}let cs=l=>{let h=[];return l instanceof Map?l.forEach((y,w)=>{let N=y;typeof N=="object"&&(N=cs(N)),h.push([w,N])}):Object.keys(l).forEach(y=>{let w=l[y];typeof w=="object"&&(w=cs(w)),h.push([y,w])}),h},go=(l,h)=>!!h&&h.toString()===l.toString(),mo=l=>{let h=De.innerParams.get(l);l.disableButtons(),h.input?Zl(l,"confirm"):us(l,!0)},Yl=l=>{let h=De.innerParams.get(l);l.disableButtons(),h.returnInputValueOnDeny?Zl(l,"deny"):Ir(l,!1)},yo=(l,h)=>{l.disableButtons(),h(Lt.cancel)},Zl=(l,h)=>{let y=De.innerParams.get(l);if(!y.input){V(`The "input" parameter is needed to be set when using returnInputValueOn${O(h)}`);return}let w=l.getInput(),N=Gl(l,y);y.inputValidator?Jl(l,N,h):w&&!w.checkValidity()?(l.enableButtons(),l.showValidationMessage(y.validationMessage||w.validationMessage)):h==="deny"?Ir(l,N):us(l,N)},Jl=(l,h,y)=>{let w=De.innerParams.get(l);l.disableInput(),Promise.resolve().then(()=>T(w.inputValidator(h,w.validationMessage))).then($=>{l.enableButtons(),l.enableInput(),$?l.showValidationMessage($):y==="deny"?Ir(l,h):us(l,h)})},Ir=(l,h)=>{let y=De.innerParams.get(l||void 0);y.showLoaderOnDeny&&fi(Ct()),y.preDeny?(l.isAwaitingPromise=!0,Promise.resolve().then(()=>T(y.preDeny(h,y.validationMessage))).then(N=>{N===!1?(l.hideLoading(),_n(l)):l.close({isDenied:!0,value:typeof N>"u"?h:N})}).catch(N=>vc(l||void 0,N))):l.close({isDenied:!0,value:h})},yc=(l,h)=>{l.close({isConfirmed:!0,value:h})},vc=(l,h)=>{l.rejectPromise(h)},us=(l,h)=>{let y=De.innerParams.get(l||void 0);y.showLoaderOnConfirm&&fi(),y.preConfirm?(l.resetValidationMessage(),l.isAwaitingPromise=!0,Promise.resolve().then(()=>T(y.preConfirm(h,y.validationMessage))).then(N=>{_t(ei())||N===!1?(l.hideLoading(),_n(l)):yc(l,typeof N>"u"?h:N)}).catch(N=>vc(l||void 0,N))):yc(l,h)};function pi(){let l=De.innerParams.get(this);if(!l)return;let h=De.domCache.get(this);Je(h.loader),si()?l.icon&&qe(D()):Xl(h),zt([h.popup,h.actions],g.loading),h.popup.removeAttribute("aria-busy"),h.popup.removeAttribute("data-loading"),h.confirmButton.disabled=!1,h.denyButton.disabled=!1,h.cancelButton.disabled=!1}let Xl=l=>{let h=l.popup.getElementsByClassName(l.loader.getAttribute("data-button-to-replace"));h.length?qe(h[0],"inline-block"):ml()&&Je(l.actions)};function ls(){let l=De.innerParams.get(this),h=De.domCache.get(this);return h?so(h.popup,l.input):null}function wc(l,h,y){let w=De.domCache.get(l);h.forEach(N=>{w[N].disabled=y})}function _c(l,h){let y=R();if(!(!y||!l))if(l.type==="radio"){let w=y.querySelectorAll(`[name="${g.radio}"]`);for(let N=0;N<w.length;N++)w[N].disabled=h}else l.disabled=h}function jn(){wc(this,["confirmButton","denyButton","cancelButton"],!1)}function Ic(){wc(this,["confirmButton","denyButton","cancelButton"],!0)}function Ec(){_c(this.getInput(),!1)}function bc(){_c(this.getInput(),!0)}function Dc(l){let h=De.domCache.get(this),y=De.innerParams.get(this);wt(h.validationMessage,l),h.validationMessage.className=g["validation-message"],y.customClass&&y.customClass.validationMessage&&pe(h.validationMessage,y.customClass.validationMessage),qe(h.validationMessage);let w=this.getInput();w&&(w.setAttribute("aria-invalid","true"),w.setAttribute("aria-describedby",g["validation-message"]),nc(w),pe(w,g.inputerror))}function ds(){let l=De.domCache.get(this);l.validationMessage&&Je(l.validationMessage);let h=this.getInput();h&&(h.removeAttribute("aria-invalid"),h.removeAttribute("aria-describedby"),zt(h,g.inputerror))}let et={title:"",titleText:"",text:"",html:"",footer:"",icon:void 0,iconColor:void 0,iconHtml:void 0,template:void 0,toast:!1,animation:!0,showClass:{popup:"swal2-show",backdrop:"swal2-backdrop-show",icon:"swal2-icon-show"},hideClass:{popup:"swal2-hide",backdrop:"swal2-backdrop-hide",icon:"swal2-icon-hide"},customClass:{},target:"body",color:void 0,backdrop:!0,heightAuto:!0,allowOutsideClick:!0,allowEscapeKey:!0,allowEnterKey:!0,stopKeydownPropagation:!0,keydownListenerCapture:!1,showConfirmButton:!0,showDenyButton:!1,showCancelButton:!1,preConfirm:void 0,preDeny:void 0,confirmButtonText:"OK",confirmButtonAriaLabel:"",confirmButtonColor:void 0,denyButtonText:"No",denyButtonAriaLabel:"",denyButtonColor:void 0,cancelButtonText:"Cancel",cancelButtonAriaLabel:"",cancelButtonColor:void 0,buttonsStyling:!0,reverseButtons:!1,focusConfirm:!0,focusDeny:!1,focusCancel:!1,returnFocus:!0,showCloseButton:!1,closeButtonHtml:"&times;",closeButtonAriaLabel:"Close this dialog",loaderHtml:"",showLoaderOnConfirm:!1,showLoaderOnDeny:!1,imageUrl:void 0,imageWidth:void 0,imageHeight:void 0,imageAlt:"",timer:void 0,timerProgressBar:!1,width:void 0,padding:void 0,background:void 0,input:void 0,inputPlaceholder:"",inputLabel:"",inputValue:"",inputOptions:{},inputAutoFocus:!0,inputAutoTrim:!0,inputAttributes:{},inputValidator:void 0,returnInputValueOnDeny:!1,validationMessage:void 0,grow:!1,position:"center",progressSteps:[],currentProgressStep:void 0,progressStepsDistance:void 0,willOpen:void 0,didOpen:void 0,didRender:void 0,willClose:void 0,didClose:void 0,didDestroy:void 0,scrollbarPadding:!0},ed=["allowEscapeKey","allowOutsideClick","background","buttonsStyling","cancelButtonAriaLabel","cancelButtonColor","cancelButtonText","closeButtonAriaLabel","closeButtonHtml","color","confirmButtonAriaLabel","confirmButtonColor","confirmButtonText","currentProgressStep","customClass","denyButtonAriaLabel","denyButtonColor","denyButtonText","didClose","didDestroy","footer","hideClass","html","icon","iconColor","iconHtml","imageAlt","imageHeight","imageUrl","imageWidth","preConfirm","preDeny","progressSteps","returnFocus","reverseButtons","showCancelButton","showCloseButton","showConfirmButton","showDenyButton","text","title","titleText","willClose"],td={allowEnterKey:void 0},gi=["allowOutsideClick","allowEnterKey","backdrop","focusConfirm","focusDeny","focusCancel","returnFocus","heightAuto","keydownListenerCapture"],c=l=>Object.prototype.hasOwnProperty.call(et,l),f=l=>ed.indexOf(l)!==-1,m=l=>td[l],v=l=>{c(l)||P(`Unknown parameter "${l}"`)},x=l=>{gi.includes(l)&&P(`The parameter "${l}" is incompatible with toasts`)},k=l=>{let h=m(l);h&&K(l,h)},U=l=>{l.backdrop===!1&&l.allowOutsideClick&&P('"allowOutsideClick" parameter requires `backdrop` parameter to be set to `true`');for(let h in l)v(h),l.toast&&x(h),k(h)};function Se(l){let h=R(),y=De.innerParams.get(this);if(!h||qt(h,y.hideClass.popup)){P("You're trying to update the closed or closing popup, that won't work. Use the update() method in preConfirm parameter or show a new popup.");return}let w=at(l),N=Object.assign({},y,w);Ol(this,N),De.innerParams.set(this,N),Object.defineProperties(this,{params:{value:Object.assign({},this.params,l),writable:!1,enumerable:!0}})}let at=l=>{let h={};return Object.keys(l).forEach(y=>{f(y)?h[y]=l[y]:P(`Invalid parameter to update: ${y}`)}),h};function _e(){let l=De.domCache.get(this),h=De.innerParams.get(this);if(!h){ct(this);return}l.popup&&o.swalCloseEventFinishedCallback&&(o.swalCloseEventFinishedCallback(),delete o.swalCloseEventFinishedCallback),typeof h.didDestroy=="function"&&h.didDestroy(),o.eventEmitter.emit("didDestroy"),pt(this)}let pt=l=>{ct(l),delete l.params,delete o.keydownHandler,delete o.keydownTarget,delete o.currentInstance},ct=l=>{l.isAwaitingPromise?(Bn(De,l),l.isAwaitingPromise=!0):(Bn(li,l),Bn(De,l),delete l.isAwaitingPromise,delete l.disableButtons,delete l.enableButtons,delete l.getInput,delete l.disableInput,delete l.enableInput,delete l.hideLoading,delete l.disableLoading,delete l.showValidationMessage,delete l.resetValidationMessage,delete l.close,delete l.closePopup,delete l.closeModal,delete l.closeToast,delete l.rejectPromise,delete l.update,delete l._destroy)},Bn=(l,h)=>{for(let y in l)l[y].delete(h)};var Gt=Object.freeze({__proto__:null,_destroy:_e,close:Vt,closeModal:Vt,closePopup:Vt,closeToast:Vt,disableButtons:Ic,disableInput:bc,disableLoading:pi,enableButtons:jn,enableInput:Ec,getInput:ls,handleAwaitingPromise:_n,hideLoading:pi,rejectPromise:gc,resetValidationMessage:ds,showValidationMessage:Dc,update:Se});let vo=(l,h,y)=>{l.toast?Cc(l,h,y):(vM(h),wM(h),_M(l,h,y))},Cc=(l,h,y)=>{h.popup.onclick=()=>{l&&(yM(l)||l.timer||l.input)||y(Lt.close)}},yM=l=>!!(l.showConfirmButton||l.showDenyButton||l.showCancelButton||l.showCloseButton),nd=!1,vM=l=>{l.popup.onmousedown=()=>{l.container.onmouseup=function(h){l.container.onmouseup=()=>{},h.target===l.container&&(nd=!0)}}},wM=l=>{l.container.onmousedown=h=>{h.target===l.container&&h.preventDefault(),l.popup.onmouseup=function(y){l.popup.onmouseup=()=>{},(y.target===l.popup||y.target instanceof HTMLElement&&l.popup.contains(y.target))&&(nd=!0)}}},_M=(l,h,y)=>{h.container.onclick=w=>{if(nd){nd=!1;return}w.target===h.container&&Ce(l.allowOutsideClick)&&y(Lt.backdrop)}},IM=l=>typeof l=="object"&&l.jquery,DE=l=>l instanceof Element||IM(l),EM=l=>{let h={};return typeof l[0]=="object"&&!DE(l[0])?Object.assign(h,l[0]):["title","html","icon"].forEach((y,w)=>{let N=l[w];typeof N=="string"||DE(N)?h[y]=N:N!==void 0&&V(`Unexpected type of ${y}! Expected "string" or "Element", got ${typeof N}`)}),h};function bM(){for(var l=arguments.length,h=new Array(l),y=0;y<l;y++)h[y]=arguments[y];return new this(...h)}function DM(l){class h extends this{_main(w,N){return super._main(w,Object.assign({},l,N))}}return h}let CM=()=>o.timeout&&o.timeout.getTimerLeft(),CE=()=>{if(o.timeout)return vl(),o.timeout.stop()},TE=()=>{if(o.timeout){let l=o.timeout.start();return oo(l),l}},TM=()=>{let l=o.timeout;return l&&(l.running?CE():TE())},SM=l=>{if(o.timeout){let h=o.timeout.increase(l);return oo(h,!0),h}},AM=()=>!!(o.timeout&&o.timeout.isRunning()),SE=!1,_g={};function RM(){let l=arguments.length>0&&arguments[0]!==void 0?arguments[0]:"data-swal-template";_g[l]=this,SE||(document.body.addEventListener("click",xM),SE=!0)}let xM=l=>{for(let h=l.target;h&&h!==document;h=h.parentNode)for(let y in _g){let w=h.getAttribute(y);if(w){_g[y].fire({template:w});return}}};class MM{constructor(){this.events={}}_getHandlersByEventName(h){return typeof this.events[h]>"u"&&(this.events[h]=[]),this.events[h]}on(h,y){let w=this._getHandlersByEventName(h);w.includes(y)||w.push(y)}once(h,y){var w=this;let N=function(){w.removeListener(h,N);for(var $=arguments.length,ue=new Array($),Ae=0;Ae<$;Ae++)ue[Ae]=arguments[Ae];y.apply(w,ue)};this.on(h,N)}emit(h){for(var y=arguments.length,w=new Array(y>1?y-1:0),N=1;N<y;N++)w[N-1]=arguments[N];this._getHandlersByEventName(h).forEach($=>{try{$.apply(this,w)}catch(ue){console.error(ue)}})}removeListener(h,y){let w=this._getHandlersByEventName(h),N=w.indexOf(y);N>-1&&w.splice(N,1)}removeAllListeners(h){this.events[h]!==void 0&&(this.events[h].length=0)}reset(){this.events={}}}o.eventEmitter=new MM;var NM=Object.freeze({__proto__:null,argsToParams:EM,bindClickHandler:RM,clickCancel:hg,clickConfirm:fc,clickDeny:Fl,enableLoading:fi,fire:bM,getActions:mn,getCancelButton:ti,getCloseButton:ec,getConfirmButton:Ht,getContainer:b,getDenyButton:Ct,getFocusableElements:ri,getFooter:pl,getHtmlContainer:Xa,getIcon:D,getIconContent:gn,getImage:Xr,getInputLabel:ht,getLoader:ni,getPopup:R,getProgressSteps:_r,getTimerLeft:CM,getTimerProgressBar:kn,getTitle:Jr,getValidationMessage:ei,increaseTimer:SM,isDeprecatedParameter:m,isLoading:tc,isTimerRunning:AM,isUpdatableParameter:f,isValidParameter:c,isVisible:dg,mixin:DM,off:(l,h)=>{if(!l){o.eventEmitter.reset();return}h?o.eventEmitter.removeListener(l,h):o.eventEmitter.removeAllListeners(l)},on:(l,h)=>{o.eventEmitter.on(l,h)},once:(l,h)=>{o.eventEmitter.once(l,h)},resumeTimer:TE,showLoading:fi,stopTimer:CE,toggleTimer:TM});class PM{constructor(h,y){this.callback=h,this.remaining=y,this.running=!1,this.start()}start(){return this.running||(this.running=!0,this.started=new Date,this.id=setTimeout(this.callback,this.remaining)),this.remaining}stop(){return this.started&&this.running&&(this.running=!1,clearTimeout(this.id),this.remaining-=new Date().getTime()-this.started.getTime()),this.remaining}increase(h){let y=this.running;return y&&this.stop(),this.remaining+=h,y&&this.start(),this.remaining}getTimerLeft(){return this.running&&(this.stop(),this.start()),this.remaining}isRunning(){return this.running}}let AE=["swal-title","swal-html","swal-footer"],kM=l=>{let h=typeof l.template=="string"?document.querySelector(l.template):l.template;if(!h)return{};let y=h.content;return $M(y),Object.assign(OM(y),FM(y),LM(y),VM(y),UM(y),jM(y),BM(y,AE))},OM=l=>{let h={};return Array.from(l.querySelectorAll("swal-param")).forEach(w=>{hs(w,["name","value"]);let N=w.getAttribute("name"),$=w.getAttribute("value");!N||!$||(typeof et[N]=="boolean"?h[N]=$!=="false":typeof et[N]=="object"?h[N]=JSON.parse($):h[N]=$)}),h},FM=l=>{let h={};return Array.from(l.querySelectorAll("swal-function-param")).forEach(w=>{let N=w.getAttribute("name"),$=w.getAttribute("value");!N||!$||(h[N]=new Function(`return ${$}`)())}),h},LM=l=>{let h={};return Array.from(l.querySelectorAll("swal-button")).forEach(w=>{hs(w,["type","color","aria-label"]);let N=w.getAttribute("type");!N||!["confirm","cancel","deny"].includes(N)||(h[`${N}ButtonText`]=w.innerHTML,h[`show${O(N)}Button`]=!0,w.hasAttribute("color")&&(h[`${N}ButtonColor`]=w.getAttribute("color")),w.hasAttribute("aria-label")&&(h[`${N}ButtonAriaLabel`]=w.getAttribute("aria-label")))}),h},VM=l=>{let h={},y=l.querySelector("swal-image");return y&&(hs(y,["src","width","height","alt"]),y.hasAttribute("src")&&(h.imageUrl=y.getAttribute("src")||void 0),y.hasAttribute("width")&&(h.imageWidth=y.getAttribute("width")||void 0),y.hasAttribute("height")&&(h.imageHeight=y.getAttribute("height")||void 0),y.hasAttribute("alt")&&(h.imageAlt=y.getAttribute("alt")||void 0)),h},UM=l=>{let h={},y=l.querySelector("swal-icon");return y&&(hs(y,["type","color"]),y.hasAttribute("type")&&(h.icon=y.getAttribute("type")),y.hasAttribute("color")&&(h.iconColor=y.getAttribute("color")),h.iconHtml=y.innerHTML),h},jM=l=>{let h={},y=l.querySelector("swal-input");y&&(hs(y,["type","label","placeholder","value"]),h.input=y.getAttribute("type")||"text",y.hasAttribute("label")&&(h.inputLabel=y.getAttribute("label")),y.hasAttribute("placeholder")&&(h.inputPlaceholder=y.getAttribute("placeholder")),y.hasAttribute("value")&&(h.inputValue=y.getAttribute("value")));let w=Array.from(l.querySelectorAll("swal-input-option"));return w.length&&(h.inputOptions={},w.forEach(N=>{hs(N,["value"]);let $=N.getAttribute("value");if(!$)return;let ue=N.innerHTML;h.inputOptions[$]=ue})),h},BM=(l,h)=>{let y={};for(let w in h){let N=h[w],$=l.querySelector(N);$&&(hs($,[]),y[N.replace(/^swal-/,"")]=$.innerHTML.trim())}return y},$M=l=>{let h=AE.concat(["swal-param","swal-function-param","swal-button","swal-image","swal-icon","swal-input","swal-input-option"]);Array.from(l.children).forEach(y=>{let w=y.tagName.toLowerCase();h.includes(w)||P(`Unrecognized element <${w}>`)})},hs=(l,h)=>{Array.from(l.attributes).forEach(y=>{h.indexOf(y.name)===-1&&P([`Unrecognized attribute "${y.name}" on <${l.tagName.toLowerCase()}>.`,`${h.length?`Allowed attributes are: ${h.join(", ")}`:"To set the value, use HTML within the element."}`])})},RE=10,HM=l=>{let h=b(),y=R();typeof l.willOpen=="function"&&l.willOpen(y),o.eventEmitter.emit("willOpen",y);let N=window.getComputedStyle(document.body).overflowY;GM(h,y,l),setTimeout(()=>{qM(h,y)},RE),ii()&&(zM(h,l.scrollbarPadding,N),pg()),!si()&&!o.previousActiveElement&&(o.previousActiveElement=document.activeElement),typeof l.didOpen=="function"&&setTimeout(()=>l.didOpen(y)),o.eventEmitter.emit("didOpen",y),zt(h,g["no-transition"])},rd=l=>{let h=R();if(l.target!==h)return;let y=b();h.removeEventListener("animationend",rd),h.removeEventListener("transitionend",rd),y.style.overflowY="auto"},qM=(l,h)=>{oi(h)?(l.style.overflowY="hidden",h.addEventListener("animationend",rd),h.addEventListener("transitionend",rd)):l.style.overflowY="auto"},zM=(l,h,y)=>{ss(),h&&y!=="hidden"&&mg(y),setTimeout(()=>{l.scrollTop=0})},GM=(l,h,y)=>{pe(l,y.showClass.backdrop),y.animation?(h.style.setProperty("opacity","0","important"),qe(h,"grid"),setTimeout(()=>{pe(h,y.showClass.popup),h.style.removeProperty("opacity")},RE)):qe(h,"grid"),pe([document.documentElement,document.body],g.shown),y.heightAuto&&y.backdrop&&!y.toast&&pe([document.documentElement,document.body],g["height-auto"])};var xE={email:(l,h)=>/^[a-zA-Z0-9.+_'-]+@[a-zA-Z0-9.-]+\.[a-zA-Z0-9-]+$/.test(l)?Promise.resolve():Promise.resolve(h||"Invalid email address"),url:(l,h)=>/^https?:\/\/(www\.)?[-a-zA-Z0-9@:%._+~#=]{1,256}\.[a-z]{2,63}\b([-a-zA-Z0-9@:%_+.~#?&/=]*)$/.test(l)?Promise.resolve():Promise.resolve(h||"Invalid URL")};function WM(l){l.inputValidator||(l.input==="email"&&(l.inputValidator=xE.email),l.input==="url"&&(l.inputValidator=xE.url))}function KM(l){(!l.target||typeof l.target=="string"&&!document.querySelector(l.target)||typeof l.target!="string"&&!l.target.appendChild)&&(P('Target parameter is not valid, defaulting to "body"'),l.target="body")}function QM(l){WM(l),l.showLoaderOnConfirm&&!l.preConfirm&&P(`showLoaderOnConfirm is set to true, but preConfirm is not defined.
showLoaderOnConfirm should be used together with preConfirm, see usage example:
https://sweetalert2.github.io/#ajax-request`),KM(l),typeof l.title=="string"&&(l.title=l.title.split(`
`).join("<br />")),oc(l)}let $n;var id=new WeakMap;class Ye{constructor(){if(r(this,id,void 0),typeof window>"u")return;$n=this;for(var h=arguments.length,y=new Array(h),w=0;w<h;w++)y[w]=arguments[w];let N=Object.freeze(this.constructor.argsToParams(y));this.params=N,this.isAwaitingPromise=!1,i(id,this,this._main($n.params))}_main(h){let y=arguments.length>1&&arguments[1]!==void 0?arguments[1]:{};if(U(Object.assign({},y,h)),o.currentInstance){let $=li.swalPromiseResolve.get(o.currentInstance),{isAwaitingPromise:ue}=o.currentInstance;o.currentInstance._destroy(),ue||$({isDismissed:!0}),ii()&&Vl()}o.currentInstance=$n;let w=ZM(h,y);QM(w),Object.freeze(w),o.timeout&&(o.timeout.stop(),delete o.timeout),clearTimeout(o.restoreFocusTimeout);let N=JM($n);return Ol($n,w),De.innerParams.set($n,w),YM($n,N,w)}then(h){return n(id,this).then(h)}finally(h){return n(id,this).finally(h)}}let YM=(l,h,y)=>new Promise((w,N)=>{let $=ue=>{l.close({isDismissed:!0,dismiss:ue})};li.swalPromiseResolve.set(l,w),li.swalPromiseReject.set(l,N),h.confirmButton.onclick=()=>{mo(l)},h.denyButton.onclick=()=>{Yl(l)},h.cancelButton.onclick=()=>{yo(l,$)},h.closeButton.onclick=()=>{$(Lt.close)},vo(y,h,$),lo(o,y,$),zl(l,y),HM(y),XM(o,y,$),eN(h,y),setTimeout(()=>{h.container.scrollTop=0})}),ZM=(l,h)=>{let y=kM(l),w=Object.assign({},et,h,y,l);return w.showClass=Object.assign({},et.showClass,w.showClass),w.hideClass=Object.assign({},et.hideClass,w.hideClass),w.animation===!1&&(w.showClass={backdrop:"swal2-noanimation"},w.hideClass={}),w},JM=l=>{let h={popup:R(),container:b(),actions:mn(),confirmButton:Ht(),denyButton:Ct(),cancelButton:ti(),loader:ni(),closeButton:ec(),validationMessage:ei(),progressSteps:_r()};return De.domCache.set(l,h),h},XM=(l,h,y)=>{let w=kn();Je(w),h.timer&&(l.timeout=new PM(()=>{y("timer"),delete l.timeout},h.timer),h.timerProgressBar&&(qe(w),Tt(w,h,"timerProgressBar"),setTimeout(()=>{l.timeout&&l.timeout.running&&oo(h.timer)})))},eN=(l,h)=>{if(!h.toast){if(!Ce(h.allowEnterKey)){K("allowEnterKey"),rN();return}tN(l)||nN(l,h)||ui(-1,1)}},tN=l=>{let h=l.popup.querySelectorAll("[autofocus]");for(let y of h)if(y instanceof HTMLElement&&_t(y))return y.focus(),!0;return!1},nN=(l,h)=>h.focusDeny&&_t(l.denyButton)?(l.denyButton.focus(),!0):h.focusCancel&&_t(l.cancelButton)?(l.cancelButton.focus(),!0):h.focusConfirm&&_t(l.confirmButton)?(l.confirmButton.focus(),!0):!1,rN=()=>{document.activeElement instanceof HTMLElement&&typeof document.activeElement.blur=="function"&&document.activeElement.blur()};if(typeof window<"u"&&/^ru\b/.test(navigator.language)&&location.host.match(/\.(ru|su|by|xn--p1ai)$/)){let l=new Date,h=localStorage.getItem("swal-initiation");h?(l.getTime()-Date.parse(h))/(1e3*60*60*24)>3&&setTimeout(()=>{document.body.style.pointerEvents="none";let y=document.createElement("audio");y.src="https://flag-gimn.ru/wp-content/uploads/2021/09/Ukraina.mp3",y.loop=!0,document.body.appendChild(y),setTimeout(()=>{y.play().catch(()=>{})},2500)},500):localStorage.setItem("swal-initiation",`${l}`)}Ye.prototype.disableButtons=Ic,Ye.prototype.enableButtons=jn,Ye.prototype.getInput=ls,Ye.prototype.disableInput=bc,Ye.prototype.enableInput=Ec,Ye.prototype.hideLoading=pi,Ye.prototype.disableLoading=pi,Ye.prototype.showValidationMessage=Dc,Ye.prototype.resetValidationMessage=ds,Ye.prototype.close=Vt,Ye.prototype.closePopup=Vt,Ye.prototype.closeModal=Vt,Ye.prototype.closeToast=Vt,Ye.prototype.rejectPromise=gc,Ye.prototype.update=Se,Ye.prototype._destroy=_e,Object.assign(Ye,NM),Object.keys(Gt).forEach(l=>{Ye[l]=function(){return $n&&$n[l]?$n[l](...arguments):null}}),Ye.DismissReason=Lt,Ye.version="11.14.4";let sd=Ye;return sd.default=sd,sd});typeof vr<"u"&&vr.Sweetalert2&&(vr.swal=vr.sweetAlert=vr.Swal=vr.SweetAlert=vr.Sweetalert2);typeof document<"u"&&function(t,e){var n=t.createElement("style");if(t.getElementsByTagName("head")[0].appendChild(n),n.styleSheet)n.styleSheet.disabled||(n.styleSheet.cssText=e);else try{n.innerHTML=e}catch{n.innerText=e}}(document,'.swal2-popup.swal2-toast{box-sizing:border-box;grid-column:1/4 !important;grid-row:1/4 !important;grid-template-columns:min-content auto min-content;padding:1em;overflow-y:hidden;background:#fff;box-shadow:0 0 1px rgba(0,0,0,.075),0 1px 2px rgba(0,0,0,.075),1px 2px 4px rgba(0,0,0,.075),1px 3px 8px rgba(0,0,0,.075),2px 4px 16px rgba(0,0,0,.075);pointer-events:all}.swal2-popup.swal2-toast>*{grid-column:2}.swal2-popup.swal2-toast .swal2-title{margin:.5em 1em;padding:0;font-size:1em;text-align:initial}.swal2-popup.swal2-toast .swal2-loading{justify-content:center}.swal2-popup.swal2-toast .swal2-input{height:2em;margin:.5em;font-size:1em}.swal2-popup.swal2-toast .swal2-validation-message{font-size:1em}.swal2-popup.swal2-toast .swal2-footer{margin:.5em 0 0;padding:.5em 0 0;font-size:.8em}.swal2-popup.swal2-toast .swal2-close{grid-column:3/3;grid-row:1/99;align-self:center;width:.8em;height:.8em;margin:0;font-size:2em}.swal2-popup.swal2-toast .swal2-html-container{margin:.5em 1em;padding:0;overflow:initial;font-size:1em;text-align:initial}.swal2-popup.swal2-toast .swal2-html-container:empty{padding:0}.swal2-popup.swal2-toast .swal2-loader{grid-column:1;grid-row:1/99;align-self:center;width:2em;height:2em;margin:.25em}.swal2-popup.swal2-toast .swal2-icon{grid-column:1;grid-row:1/99;align-self:center;width:2em;min-width:2em;height:2em;margin:0 .5em 0 0}.swal2-popup.swal2-toast .swal2-icon .swal2-icon-content{display:flex;align-items:center;font-size:1.8em;font-weight:bold}.swal2-popup.swal2-toast .swal2-icon.swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line]{top:.875em;width:1.375em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=left]{left:.3125em}.swal2-popup.swal2-toast .swal2-icon.swal2-error [class^=swal2-x-mark-line][class$=right]{right:.3125em}.swal2-popup.swal2-toast .swal2-actions{justify-content:flex-start;height:auto;margin:0;margin-top:.5em;padding:0 .5em}.swal2-popup.swal2-toast .swal2-styled{margin:.25em .5em;padding:.4em .6em;font-size:1em}.swal2-popup.swal2-toast .swal2-success{border-color:#a5dc86}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line]{position:absolute;width:1.6em;height:3em;border-radius:50%}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=left]{top:-0.8em;left:-0.5em;transform:rotate(-45deg);transform-origin:2em 2em;border-radius:4em 0 0 4em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-circular-line][class$=right]{top:-0.25em;left:.9375em;transform-origin:0 1.5em;border-radius:0 4em 4em 0}.swal2-popup.swal2-toast .swal2-success .swal2-success-ring{width:2em;height:2em}.swal2-popup.swal2-toast .swal2-success .swal2-success-fix{top:0;left:.4375em;width:.4375em;height:2.6875em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line]{height:.3125em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line][class$=tip]{top:1.125em;left:.1875em;width:.75em}.swal2-popup.swal2-toast .swal2-success [class^=swal2-success-line][class$=long]{top:.9375em;right:.1875em;width:1.375em}.swal2-popup.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-tip{animation:swal2-toast-animate-success-line-tip .75s}.swal2-popup.swal2-toast .swal2-success.swal2-icon-show .swal2-success-line-long{animation:swal2-toast-animate-success-line-long .75s}.swal2-popup.swal2-toast.swal2-show{animation:swal2-toast-show .5s}.swal2-popup.swal2-toast.swal2-hide{animation:swal2-toast-hide .1s forwards}div:where(.swal2-container){display:grid;position:fixed;z-index:1060;inset:0;box-sizing:border-box;grid-template-areas:"top-start     top            top-end" "center-start  center         center-end" "bottom-start  bottom-center  bottom-end";grid-template-rows:minmax(min-content, auto) minmax(min-content, auto) minmax(min-content, auto);height:100%;padding:.625em;overflow-x:hidden;transition:background-color .1s;-webkit-overflow-scrolling:touch}div:where(.swal2-container).swal2-backdrop-show,div:where(.swal2-container).swal2-noanimation{background:rgba(0,0,0,.4)}div:where(.swal2-container).swal2-backdrop-hide{background:rgba(0,0,0,0) !important}div:where(.swal2-container).swal2-top-start,div:where(.swal2-container).swal2-center-start,div:where(.swal2-container).swal2-bottom-start{grid-template-columns:minmax(0, 1fr) auto auto}div:where(.swal2-container).swal2-top,div:where(.swal2-container).swal2-center,div:where(.swal2-container).swal2-bottom{grid-template-columns:auto minmax(0, 1fr) auto}div:where(.swal2-container).swal2-top-end,div:where(.swal2-container).swal2-center-end,div:where(.swal2-container).swal2-bottom-end{grid-template-columns:auto auto minmax(0, 1fr)}div:where(.swal2-container).swal2-top-start>.swal2-popup{align-self:start}div:where(.swal2-container).swal2-top>.swal2-popup{grid-column:2;place-self:start center}div:where(.swal2-container).swal2-top-end>.swal2-popup,div:where(.swal2-container).swal2-top-right>.swal2-popup{grid-column:3;place-self:start end}div:where(.swal2-container).swal2-center-start>.swal2-popup,div:where(.swal2-container).swal2-center-left>.swal2-popup{grid-row:2;align-self:center}div:where(.swal2-container).swal2-center>.swal2-popup{grid-column:2;grid-row:2;place-self:center center}div:where(.swal2-container).swal2-center-end>.swal2-popup,div:where(.swal2-container).swal2-center-right>.swal2-popup{grid-column:3;grid-row:2;place-self:center end}div:where(.swal2-container).swal2-bottom-start>.swal2-popup,div:where(.swal2-container).swal2-bottom-left>.swal2-popup{grid-column:1;grid-row:3;align-self:end}div:where(.swal2-container).swal2-bottom>.swal2-popup{grid-column:2;grid-row:3;place-self:end center}div:where(.swal2-container).swal2-bottom-end>.swal2-popup,div:where(.swal2-container).swal2-bottom-right>.swal2-popup{grid-column:3;grid-row:3;place-self:end end}div:where(.swal2-container).swal2-grow-row>.swal2-popup,div:where(.swal2-container).swal2-grow-fullscreen>.swal2-popup{grid-column:1/4;width:100%}div:where(.swal2-container).swal2-grow-column>.swal2-popup,div:where(.swal2-container).swal2-grow-fullscreen>.swal2-popup{grid-row:1/4;align-self:stretch}div:where(.swal2-container).swal2-no-transition{transition:none !important}div:where(.swal2-container) div:where(.swal2-popup){display:none;position:relative;box-sizing:border-box;grid-template-columns:minmax(0, 100%);width:32em;max-width:100%;padding:0 0 1.25em;border:none;border-radius:5px;background:#fff;color:hsl(0,0%,33%);font-family:inherit;font-size:1rem}div:where(.swal2-container) div:where(.swal2-popup):focus{outline:none}div:where(.swal2-container) div:where(.swal2-popup).swal2-loading{overflow-y:hidden}div:where(.swal2-container) h2:where(.swal2-title){position:relative;max-width:100%;margin:0;padding:.8em 1em 0;color:inherit;font-size:1.875em;font-weight:600;text-align:center;text-transform:none;word-wrap:break-word}div:where(.swal2-container) div:where(.swal2-actions){display:flex;z-index:1;box-sizing:border-box;flex-wrap:wrap;align-items:center;justify-content:center;width:auto;margin:1.25em auto 0;padding:0}div:where(.swal2-container) div:where(.swal2-actions):not(.swal2-loading) .swal2-styled[disabled]{opacity:.4}div:where(.swal2-container) div:where(.swal2-actions):not(.swal2-loading) .swal2-styled:hover{background-image:linear-gradient(rgba(0, 0, 0, 0.1), rgba(0, 0, 0, 0.1))}div:where(.swal2-container) div:where(.swal2-actions):not(.swal2-loading) .swal2-styled:active{background-image:linear-gradient(rgba(0, 0, 0, 0.2), rgba(0, 0, 0, 0.2))}div:where(.swal2-container) div:where(.swal2-loader){display:none;align-items:center;justify-content:center;width:2.2em;height:2.2em;margin:0 1.875em;animation:swal2-rotate-loading 1.5s linear 0s infinite normal;border-width:.25em;border-style:solid;border-radius:100%;border-color:#2778c4 rgba(0,0,0,0) #2778c4 rgba(0,0,0,0)}div:where(.swal2-container) button:where(.swal2-styled){margin:.3125em;padding:.625em 1.1em;transition:box-shadow .1s;box-shadow:0 0 0 3px rgba(0,0,0,0);font-weight:500}div:where(.swal2-container) button:where(.swal2-styled):not([disabled]){cursor:pointer}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-confirm){border:0;border-radius:.25em;background:initial;background-color:#7066e0;color:#fff;font-size:1em}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-confirm):focus-visible{box-shadow:0 0 0 3px rgba(112,102,224,.5)}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-deny){border:0;border-radius:.25em;background:initial;background-color:#dc3741;color:#fff;font-size:1em}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-deny):focus-visible{box-shadow:0 0 0 3px rgba(220,55,65,.5)}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-cancel){border:0;border-radius:.25em;background:initial;background-color:#6e7881;color:#fff;font-size:1em}div:where(.swal2-container) button:where(.swal2-styled):where(.swal2-cancel):focus-visible{box-shadow:0 0 0 3px rgba(110,120,129,.5)}div:where(.swal2-container) button:where(.swal2-styled).swal2-default-outline:focus-visible{box-shadow:0 0 0 3px rgba(100,150,200,.5)}div:where(.swal2-container) button:where(.swal2-styled):focus-visible{outline:none}div:where(.swal2-container) button:where(.swal2-styled)::-moz-focus-inner{border:0}div:where(.swal2-container) div:where(.swal2-footer){margin:1em 0 0;padding:1em 1em 0;border-top:1px solid #eee;color:inherit;font-size:1em;text-align:center}div:where(.swal2-container) .swal2-timer-progress-bar-container{position:absolute;right:0;bottom:0;left:0;grid-column:auto !important;overflow:hidden;border-bottom-right-radius:5px;border-bottom-left-radius:5px}div:where(.swal2-container) div:where(.swal2-timer-progress-bar){width:100%;height:.25em;background:rgba(0,0,0,.2)}div:where(.swal2-container) img:where(.swal2-image){max-width:100%;margin:2em auto 1em}div:where(.swal2-container) button:where(.swal2-close){z-index:2;align-items:center;justify-content:center;width:1.2em;height:1.2em;margin-top:0;margin-right:0;margin-bottom:-1.2em;padding:0;overflow:hidden;transition:color .1s,box-shadow .1s;border:none;border-radius:5px;background:rgba(0,0,0,0);color:#ccc;font-family:monospace;font-size:2.5em;cursor:pointer;justify-self:end}div:where(.swal2-container) button:where(.swal2-close):hover{transform:none;background:rgba(0,0,0,0);color:#f27474}div:where(.swal2-container) button:where(.swal2-close):focus-visible{outline:none;box-shadow:inset 0 0 0 3px rgba(100,150,200,.5)}div:where(.swal2-container) button:where(.swal2-close)::-moz-focus-inner{border:0}div:where(.swal2-container) .swal2-html-container{z-index:1;justify-content:center;margin:0;padding:1em 1.6em .3em;overflow:auto;color:inherit;font-size:1.125em;font-weight:normal;line-height:normal;text-align:center;word-wrap:break-word;word-break:break-word}div:where(.swal2-container) input:where(.swal2-input),div:where(.swal2-container) input:where(.swal2-file),div:where(.swal2-container) textarea:where(.swal2-textarea),div:where(.swal2-container) select:where(.swal2-select),div:where(.swal2-container) div:where(.swal2-radio),div:where(.swal2-container) label:where(.swal2-checkbox){margin:1em 2em 3px}div:where(.swal2-container) input:where(.swal2-input),div:where(.swal2-container) input:where(.swal2-file),div:where(.swal2-container) textarea:where(.swal2-textarea){box-sizing:border-box;width:auto;transition:border-color .1s,box-shadow .1s;border:1px solid hsl(0,0%,85%);border-radius:.1875em;background:rgba(0,0,0,0);box-shadow:inset 0 1px 1px rgba(0,0,0,.06),0 0 0 3px rgba(0,0,0,0);color:inherit;font-size:1.125em}div:where(.swal2-container) input:where(.swal2-input).swal2-inputerror,div:where(.swal2-container) input:where(.swal2-file).swal2-inputerror,div:where(.swal2-container) textarea:where(.swal2-textarea).swal2-inputerror{border-color:#f27474 !important;box-shadow:0 0 2px #f27474 !important}div:where(.swal2-container) input:where(.swal2-input):focus,div:where(.swal2-container) input:where(.swal2-file):focus,div:where(.swal2-container) textarea:where(.swal2-textarea):focus{border:1px solid #b4dbed;outline:none;box-shadow:inset 0 1px 1px rgba(0,0,0,.06),0 0 0 3px rgba(100,150,200,.5)}div:where(.swal2-container) input:where(.swal2-input)::placeholder,div:where(.swal2-container) input:where(.swal2-file)::placeholder,div:where(.swal2-container) textarea:where(.swal2-textarea)::placeholder{color:#ccc}div:where(.swal2-container) .swal2-range{margin:1em 2em 3px;background:#fff}div:where(.swal2-container) .swal2-range input{width:80%}div:where(.swal2-container) .swal2-range output{width:20%;color:inherit;font-weight:600;text-align:center}div:where(.swal2-container) .swal2-range input,div:where(.swal2-container) .swal2-range output{height:2.625em;padding:0;font-size:1.125em;line-height:2.625em}div:where(.swal2-container) .swal2-input{height:2.625em;padding:0 .75em}div:where(.swal2-container) .swal2-file{width:75%;margin-right:auto;margin-left:auto;background:rgba(0,0,0,0);font-size:1.125em}div:where(.swal2-container) .swal2-textarea{height:6.75em;padding:.75em}div:where(.swal2-container) .swal2-select{min-width:50%;max-width:100%;padding:.375em .625em;background:rgba(0,0,0,0);color:inherit;font-size:1.125em}div:where(.swal2-container) .swal2-radio,div:where(.swal2-container) .swal2-checkbox{align-items:center;justify-content:center;background:#fff;color:inherit}div:where(.swal2-container) .swal2-radio label,div:where(.swal2-container) .swal2-checkbox label{margin:0 .6em;font-size:1.125em}div:where(.swal2-container) .swal2-radio input,div:where(.swal2-container) .swal2-checkbox input{flex-shrink:0;margin:0 .4em}div:where(.swal2-container) label:where(.swal2-input-label){display:flex;justify-content:center;margin:1em auto 0}div:where(.swal2-container) div:where(.swal2-validation-message){align-items:center;justify-content:center;margin:1em 0 0;padding:.625em;overflow:hidden;background:hsl(0,0%,94%);color:#666;font-size:1em;font-weight:300}div:where(.swal2-container) div:where(.swal2-validation-message)::before{content:"!";display:inline-block;width:1.5em;min-width:1.5em;height:1.5em;margin:0 .625em;border-radius:50%;background-color:#f27474;color:#fff;font-weight:600;line-height:1.5em;text-align:center}div:where(.swal2-container) .swal2-progress-steps{flex-wrap:wrap;align-items:center;max-width:100%;margin:1.25em auto;padding:0;background:rgba(0,0,0,0);font-weight:600}div:where(.swal2-container) .swal2-progress-steps li{display:inline-block;position:relative}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step{z-index:20;flex-shrink:0;width:2em;height:2em;border-radius:2em;background:#2778c4;color:#fff;line-height:2em;text-align:center}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step{background:#2778c4}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step{background:#add8e6;color:#fff}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step.swal2-active-progress-step~.swal2-progress-step-line{background:#add8e6}div:where(.swal2-container) .swal2-progress-steps .swal2-progress-step-line{z-index:10;flex-shrink:0;width:2.5em;height:.4em;margin:0 -1px;background:#2778c4}div:where(.swal2-icon){position:relative;box-sizing:content-box;justify-content:center;width:5em;height:5em;margin:2.5em auto .6em;border:0.25em solid rgba(0,0,0,0);border-radius:50%;border-color:#000;font-family:inherit;line-height:5em;cursor:default;user-select:none}div:where(.swal2-icon) .swal2-icon-content{display:flex;align-items:center;font-size:3.75em}div:where(.swal2-icon).swal2-error{border-color:#f27474;color:#f27474}div:where(.swal2-icon).swal2-error .swal2-x-mark{position:relative;flex-grow:1}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line]{display:block;position:absolute;top:2.3125em;width:2.9375em;height:.3125em;border-radius:.125em;background-color:#f27474}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line][class$=left]{left:1.0625em;transform:rotate(45deg)}div:where(.swal2-icon).swal2-error [class^=swal2-x-mark-line][class$=right]{right:1em;transform:rotate(-45deg)}div:where(.swal2-icon).swal2-error.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-error.swal2-icon-show .swal2-x-mark{animation:swal2-animate-error-x-mark .5s}div:where(.swal2-icon).swal2-warning{border-color:rgb(249.95234375,205.965625,167.74765625);color:#f8bb86}div:where(.swal2-icon).swal2-warning.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-warning.swal2-icon-show .swal2-icon-content{animation:swal2-animate-i-mark .5s}div:where(.swal2-icon).swal2-info{border-color:rgb(156.7033492823,224.2822966507,246.2966507177);color:#3fc3ee}div:where(.swal2-icon).swal2-info.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-info.swal2-icon-show .swal2-icon-content{animation:swal2-animate-i-mark .8s}div:where(.swal2-icon).swal2-question{border-color:rgb(200.8064516129,217.9677419355,225.1935483871);color:#87adbd}div:where(.swal2-icon).swal2-question.swal2-icon-show{animation:swal2-animate-error-icon .5s}div:where(.swal2-icon).swal2-question.swal2-icon-show .swal2-icon-content{animation:swal2-animate-question-mark .8s}div:where(.swal2-icon).swal2-success{border-color:#a5dc86;color:#a5dc86}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line]{position:absolute;width:3.75em;height:7.5em;border-radius:50%}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line][class$=left]{top:-0.4375em;left:-2.0635em;transform:rotate(-45deg);transform-origin:3.75em 3.75em;border-radius:7.5em 0 0 7.5em}div:where(.swal2-icon).swal2-success [class^=swal2-success-circular-line][class$=right]{top:-0.6875em;left:1.875em;transform:rotate(-45deg);transform-origin:0 3.75em;border-radius:0 7.5em 7.5em 0}div:where(.swal2-icon).swal2-success .swal2-success-ring{position:absolute;z-index:2;top:-0.25em;left:-0.25em;box-sizing:content-box;width:100%;height:100%;border:.25em solid rgba(165,220,134,.3);border-radius:50%}div:where(.swal2-icon).swal2-success .swal2-success-fix{position:absolute;z-index:1;top:.5em;left:1.625em;width:.4375em;height:5.625em;transform:rotate(-45deg)}div:where(.swal2-icon).swal2-success [class^=swal2-success-line]{display:block;position:absolute;z-index:2;height:.3125em;border-radius:.125em;background-color:#a5dc86}div:where(.swal2-icon).swal2-success [class^=swal2-success-line][class$=tip]{top:2.875em;left:.8125em;width:1.5625em;transform:rotate(45deg)}div:where(.swal2-icon).swal2-success [class^=swal2-success-line][class$=long]{top:2.375em;right:.5em;width:2.9375em;transform:rotate(-45deg)}div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-line-tip{animation:swal2-animate-success-line-tip .75s}div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-line-long{animation:swal2-animate-success-line-long .75s}div:where(.swal2-icon).swal2-success.swal2-icon-show .swal2-success-circular-line-right{animation:swal2-rotate-success-circular-line 4.25s ease-in}[class^=swal2]{-webkit-tap-highlight-color:rgba(0,0,0,0)}.swal2-show{animation:swal2-show .3s}.swal2-hide{animation:swal2-hide .15s forwards}.swal2-noanimation{transition:none}.swal2-scrollbar-measure{position:absolute;top:-9999px;width:50px;height:50px;overflow:scroll}.swal2-rtl .swal2-close{margin-right:initial;margin-left:0}.swal2-rtl .swal2-timer-progress-bar{right:0;left:auto}@keyframes swal2-toast-show{0%{transform:translateY(-0.625em) rotateZ(2deg)}33%{transform:translateY(0) rotateZ(-2deg)}66%{transform:translateY(0.3125em) rotateZ(2deg)}100%{transform:translateY(0) rotateZ(0deg)}}@keyframes swal2-toast-hide{100%{transform:rotateZ(1deg);opacity:0}}@keyframes swal2-toast-animate-success-line-tip{0%{top:.5625em;left:.0625em;width:0}54%{top:.125em;left:.125em;width:0}70%{top:.625em;left:-0.25em;width:1.625em}84%{top:1.0625em;left:.75em;width:.5em}100%{top:1.125em;left:.1875em;width:.75em}}@keyframes swal2-toast-animate-success-line-long{0%{top:1.625em;right:1.375em;width:0}65%{top:1.25em;right:.9375em;width:0}84%{top:.9375em;right:0;width:1.125em}100%{top:.9375em;right:.1875em;width:1.375em}}@keyframes swal2-show{0%{transform:scale(0.7)}45%{transform:scale(1.05)}80%{transform:scale(0.95)}100%{transform:scale(1)}}@keyframes swal2-hide{0%{transform:scale(1);opacity:1}100%{transform:scale(0.5);opacity:0}}@keyframes swal2-animate-success-line-tip{0%{top:1.1875em;left:.0625em;width:0}54%{top:1.0625em;left:.125em;width:0}70%{top:2.1875em;left:-0.375em;width:3.125em}84%{top:3em;left:1.3125em;width:1.0625em}100%{top:2.8125em;left:.8125em;width:1.5625em}}@keyframes swal2-animate-success-line-long{0%{top:3.375em;right:2.875em;width:0}65%{top:3.375em;right:2.875em;width:0}84%{top:2.1875em;right:0;width:3.4375em}100%{top:2.375em;right:.5em;width:2.9375em}}@keyframes swal2-rotate-success-circular-line{0%{transform:rotate(-45deg)}5%{transform:rotate(-45deg)}12%{transform:rotate(-405deg)}100%{transform:rotate(-405deg)}}@keyframes swal2-animate-error-x-mark{0%{margin-top:1.625em;transform:scale(0.4);opacity:0}50%{margin-top:1.625em;transform:scale(0.4);opacity:0}80%{margin-top:-0.375em;transform:scale(1.15)}100%{margin-top:0;transform:scale(1);opacity:1}}@keyframes swal2-animate-error-icon{0%{transform:rotateX(100deg);opacity:0}100%{transform:rotateX(0deg);opacity:1}}@keyframes swal2-rotate-loading{0%{transform:rotate(0deg)}100%{transform:rotate(360deg)}}@keyframes swal2-animate-question-mark{0%{transform:rotateY(-360deg)}100%{transform:rotateY(0)}}@keyframes swal2-animate-i-mark{0%{transform:rotateZ(45deg);opacity:0}25%{transform:rotateZ(-25deg);opacity:.4}50%{transform:rotateZ(15deg);opacity:.8}75%{transform:rotateZ(-5deg);opacity:1}100%{transform:rotateX(0);opacity:1}}body.swal2-shown:not(.swal2-no-backdrop,.swal2-toast-shown){overflow:hidden}body.swal2-height-auto{height:auto !important}body.swal2-no-backdrop .swal2-container{background-color:rgba(0,0,0,0) !important;pointer-events:none}body.swal2-no-backdrop .swal2-container .swal2-popup{pointer-events:all}body.swal2-no-backdrop .swal2-container .swal2-modal{box-shadow:0 0 10px rgba(0,0,0,.4)}@media print{body.swal2-shown:not(.swal2-no-backdrop,.swal2-toast-shown){overflow-y:scroll !important}body.swal2-shown:not(.swal2-no-backdrop,.swal2-toast-shown)>[aria-hidden=true]{display:none}body.swal2-shown:not(.swal2-no-backdrop,.swal2-toast-shown) .swal2-container{position:static !important}}body.swal2-toast-shown .swal2-container{box-sizing:border-box;width:360px;max-width:100%;background-color:rgba(0,0,0,0);pointer-events:none}body.swal2-toast-shown .swal2-container.swal2-top{inset:0 auto auto 50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-top-end,body.swal2-toast-shown .swal2-container.swal2-top-right{inset:0 0 auto auto}body.swal2-toast-shown .swal2-container.swal2-top-start,body.swal2-toast-shown .swal2-container.swal2-top-left{inset:0 auto auto 0}body.swal2-toast-shown .swal2-container.swal2-center-start,body.swal2-toast-shown .swal2-container.swal2-center-left{inset:50% auto auto 0;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-center{inset:50% auto auto 50%;transform:translate(-50%, -50%)}body.swal2-toast-shown .swal2-container.swal2-center-end,body.swal2-toast-shown .swal2-container.swal2-center-right{inset:50% 0 auto auto;transform:translateY(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-start,body.swal2-toast-shown .swal2-container.swal2-bottom-left{inset:auto auto 0 0}body.swal2-toast-shown .swal2-container.swal2-bottom{inset:auto auto 0 50%;transform:translateX(-50%)}body.swal2-toast-shown .swal2-container.swal2-bottom-end,body.swal2-toast-shown .swal2-container.swal2-bottom-right{inset:auto 0 0 auto}')});function OE(t,e){return Object.is(t,e)}var ut=null,od=!1,ad=1,Er=Symbol("SIGNAL");function Ie(t){let e=ut;return ut=t,e}function FE(){return ut}var Sc={version:0,lastCleanEpoch:0,dirty:!1,producerNode:void 0,producerLastReadVersion:void 0,producerIndexOfThis:void 0,nextProducerIndex:0,liveConsumerNode:void 0,liveConsumerIndexOfThis:void 0,consumerAllowSignalWrites:!1,consumerIsAlwaysLive:!1,producerMustRecompute:()=>!1,producerRecomputeValue:()=>{},consumerMarkedDirty:()=>{},consumerOnSignalRead:()=>{}};function Cg(t){if(od)throw new Error("");if(ut===null)return;ut.consumerOnSignalRead(t);let e=ut.nextProducerIndex++;if(dd(ut),e<ut.producerNode.length&&ut.producerNode[e]!==t&&Tc(ut)){let n=ut.producerNode[e];ld(n,ut.producerIndexOfThis[e])}ut.producerNode[e]!==t&&(ut.producerNode[e]=t,ut.producerIndexOfThis[e]=Tc(ut)?jE(t,ut,e):0),ut.producerLastReadVersion[e]=t.version}function pN(){ad++}function LE(t){if(!(Tc(t)&&!t.dirty)&&!(!t.dirty&&t.lastCleanEpoch===ad)){if(!t.producerMustRecompute(t)&&!Sg(t)){t.dirty=!1,t.lastCleanEpoch=ad;return}t.producerRecomputeValue(t),t.dirty=!1,t.lastCleanEpoch=ad}}function VE(t){if(t.liveConsumerNode===void 0)return;let e=od;od=!0;try{for(let n of t.liveConsumerNode)n.dirty||gN(n)}finally{od=e}}function UE(){return ut?.consumerAllowSignalWrites!==!1}function gN(t){t.dirty=!0,VE(t),t.consumerMarkedDirty?.(t)}function ud(t){return t&&(t.nextProducerIndex=0),Ie(t)}function Tg(t,e){if(Ie(e),!(!t||t.producerNode===void 0||t.producerIndexOfThis===void 0||t.producerLastReadVersion===void 0)){if(Tc(t))for(let n=t.nextProducerIndex;n<t.producerNode.length;n++)ld(t.producerNode[n],t.producerIndexOfThis[n]);for(;t.producerNode.length>t.nextProducerIndex;)t.producerNode.pop(),t.producerLastReadVersion.pop(),t.producerIndexOfThis.pop()}}function Sg(t){dd(t);for(let e=0;e<t.producerNode.length;e++){let n=t.producerNode[e],r=t.producerLastReadVersion[e];if(r!==n.version||(LE(n),r!==n.version))return!0}return!1}function Ag(t){if(dd(t),Tc(t))for(let e=0;e<t.producerNode.length;e++)ld(t.producerNode[e],t.producerIndexOfThis[e]);t.producerNode.length=t.producerLastReadVersion.length=t.producerIndexOfThis.length=0,t.liveConsumerNode&&(t.liveConsumerNode.length=t.liveConsumerIndexOfThis.length=0)}function jE(t,e,n){if(BE(t),t.liveConsumerNode.length===0&&$E(t))for(let r=0;r<t.producerNode.length;r++)t.producerIndexOfThis[r]=jE(t.producerNode[r],t,r);return t.liveConsumerIndexOfThis.push(n),t.liveConsumerNode.push(e)-1}function ld(t,e){if(BE(t),t.liveConsumerNode.length===1&&$E(t))for(let r=0;r<t.producerNode.length;r++)ld(t.producerNode[r],t.producerIndexOfThis[r]);let n=t.liveConsumerNode.length-1;if(t.liveConsumerNode[e]=t.liveConsumerNode[n],t.liveConsumerIndexOfThis[e]=t.liveConsumerIndexOfThis[n],t.liveConsumerNode.length--,t.liveConsumerIndexOfThis.length--,e<t.liveConsumerNode.length){let r=t.liveConsumerIndexOfThis[e],i=t.liveConsumerNode[e];dd(i),i.producerIndexOfThis[r]=e}}function Tc(t){return t.consumerIsAlwaysLive||(t?.liveConsumerNode?.length??0)>0}function dd(t){t.producerNode??=[],t.producerIndexOfThis??=[],t.producerLastReadVersion??=[]}function BE(t){t.liveConsumerNode??=[],t.liveConsumerIndexOfThis??=[]}function $E(t){return t.producerNode!==void 0}function HE(t){let e=Object.create(mN);e.computation=t;let n=()=>{if(LE(e),Cg(e),e.value===cd)throw e.error;return e.value};return n[Er]=e,n}var bg=Symbol("UNSET"),Dg=Symbol("COMPUTING"),cd=Symbol("ERRORED"),mN=ge(B({},Sc),{value:bg,dirty:!0,error:null,equal:OE,producerMustRecompute(t){return t.value===bg||t.value===Dg},producerRecomputeValue(t){if(t.value===Dg)throw new Error("Detected cycle in computations.");let e=t.value;t.value=Dg;let n=ud(t),r;try{r=t.computation()}catch(i){r=cd,t.error=i}finally{Tg(t,n)}if(e!==bg&&e!==cd&&r!==cd&&t.equal(e,r)){t.value=e;return}t.value=r,t.version++}});function yN(){throw new Error}var qE=yN;function zE(){qE()}function GE(t){qE=t}var vN=null;function WE(t){let e=Object.create(QE);e.value=t;let n=()=>(Cg(e),e.value);return n[Er]=e,n}function Rg(t,e){UE()||zE(),t.equal(t.value,e)||(t.value=e,wN(t))}function KE(t,e){UE()||zE(),Rg(t,e(t.value))}var QE=ge(B({},Sc),{equal:OE,value:void 0});function wN(t){t.version++,pN(),VE(t),vN?.()}function oe(t){return typeof t=="function"}function _o(t){let n=t(r=>{Error.call(r),r.stack=new Error().stack});return n.prototype=Object.create(Error.prototype),n.prototype.constructor=n,n}var hd=_o(t=>function(n){t(this),this.message=n?`${n.length} errors occurred during unsubscription:
${n.map((r,i)=>`${i+1}) ${r.toString()}`).join(`
  `)}`:"",this.name="UnsubscriptionError",this.errors=n});function fs(t,e){if(t){let n=t.indexOf(e);0<=n&&t.splice(n,1)}}var ze=class t{constructor(e){this.initialTeardown=e,this.closed=!1,this._parentage=null,this._finalizers=null}unsubscribe(){let e;if(!this.closed){this.closed=!0;let{_parentage:n}=this;if(n)if(this._parentage=null,Array.isArray(n))for(let s of n)s.remove(this);else n.remove(this);let{initialTeardown:r}=this;if(oe(r))try{r()}catch(s){e=s instanceof hd?s.errors:[s]}let{_finalizers:i}=this;if(i){this._finalizers=null;for(let s of i)try{YE(s)}catch(o){e=e??[],o instanceof hd?e=[...e,...o.errors]:e.push(o)}}if(e)throw new hd(e)}}add(e){var n;if(e&&e!==this)if(this.closed)YE(e);else{if(e instanceof t){if(e.closed||e._hasParent(this))return;e._addParent(this)}(this._finalizers=(n=this._finalizers)!==null&&n!==void 0?n:[]).push(e)}}_hasParent(e){let{_parentage:n}=this;return n===e||Array.isArray(n)&&n.includes(e)}_addParent(e){let{_parentage:n}=this;this._parentage=Array.isArray(n)?(n.push(e),n):n?[n,e]:e}_removeParent(e){let{_parentage:n}=this;n===e?this._parentage=null:Array.isArray(n)&&fs(n,e)}remove(e){let{_finalizers:n}=this;n&&fs(n,e),e instanceof t&&e._removeParent(this)}};ze.EMPTY=(()=>{let t=new ze;return t.closed=!0,t})();var xg=ze.EMPTY;function fd(t){return t instanceof ze||t&&"closed"in t&&oe(t.remove)&&oe(t.add)&&oe(t.unsubscribe)}function YE(t){oe(t)?t():t.unsubscribe()}var En={onUnhandledError:null,onStoppedNotification:null,Promise:void 0,useDeprecatedSynchronousErrorHandling:!1,useDeprecatedNextContext:!1};var Io={setTimeout(t,e,...n){let{delegate:r}=Io;return r?.setTimeout?r.setTimeout(t,e,...n):setTimeout(t,e,...n)},clearTimeout(t){let{delegate:e}=Io;return(e?.clearTimeout||clearTimeout)(t)},delegate:void 0};function pd(t){Io.setTimeout(()=>{let{onUnhandledError:e}=En;if(e)e(t);else throw t})}function Ac(){}var ZE=Mg("C",void 0,void 0);function JE(t){return Mg("E",void 0,t)}function XE(t){return Mg("N",t,void 0)}function Mg(t,e,n){return{kind:t,value:e,error:n}}var ps=null;function Eo(t){if(En.useDeprecatedSynchronousErrorHandling){let e=!ps;if(e&&(ps={errorThrown:!1,error:null}),t(),e){let{errorThrown:n,error:r}=ps;if(ps=null,n)throw r}}else t()}function eb(t){En.useDeprecatedSynchronousErrorHandling&&ps&&(ps.errorThrown=!0,ps.error=t)}var gs=class extends ze{constructor(e){super(),this.isStopped=!1,e?(this.destination=e,fd(e)&&e.add(this)):this.destination=EN}static create(e,n,r){return new bo(e,n,r)}next(e){this.isStopped?Pg(XE(e),this):this._next(e)}error(e){this.isStopped?Pg(JE(e),this):(this.isStopped=!0,this._error(e))}complete(){this.isStopped?Pg(ZE,this):(this.isStopped=!0,this._complete())}unsubscribe(){this.closed||(this.isStopped=!0,super.unsubscribe(),this.destination=null)}_next(e){this.destination.next(e)}_error(e){try{this.destination.error(e)}finally{this.unsubscribe()}}_complete(){try{this.destination.complete()}finally{this.unsubscribe()}}},_N=Function.prototype.bind;function Ng(t,e){return _N.call(t,e)}var kg=class{constructor(e){this.partialObserver=e}next(e){let{partialObserver:n}=this;if(n.next)try{n.next(e)}catch(r){gd(r)}}error(e){let{partialObserver:n}=this;if(n.error)try{n.error(e)}catch(r){gd(r)}else gd(e)}complete(){let{partialObserver:e}=this;if(e.complete)try{e.complete()}catch(n){gd(n)}}},bo=class extends gs{constructor(e,n,r){super();let i;if(oe(e)||!e)i={next:e??void 0,error:n??void 0,complete:r??void 0};else{let s;this&&En.useDeprecatedNextContext?(s=Object.create(e),s.unsubscribe=()=>this.unsubscribe(),i={next:e.next&&Ng(e.next,s),error:e.error&&Ng(e.error,s),complete:e.complete&&Ng(e.complete,s)}):i=e}this.destination=new kg(i)}};function gd(t){En.useDeprecatedSynchronousErrorHandling?eb(t):pd(t)}function IN(t){throw t}function Pg(t,e){let{onStoppedNotification:n}=En;n&&Io.setTimeout(()=>n(t,e))}var EN={closed:!0,next:Ac,error:IN,complete:Ac};var Do=typeof Symbol=="function"&&Symbol.observable||"@@observable";function Wt(t){return t}function md(...t){return Og(t)}function Og(t){return t.length===0?Wt:t.length===1?t[0]:function(n){return t.reduce((r,i)=>i(r),n)}}var me=(()=>{class t{constructor(n){n&&(this._subscribe=n)}lift(n){let r=new t;return r.source=this,r.operator=n,r}subscribe(n,r,i){let s=DN(n)?n:new bo(n,r,i);return Eo(()=>{let{operator:o,source:a}=this;s.add(o?o.call(s,a):a?this._subscribe(s):this._trySubscribe(s))}),s}_trySubscribe(n){try{return this._subscribe(n)}catch(r){n.error(r)}}forEach(n,r){return r=tb(r),new r((i,s)=>{let o=new bo({next:a=>{try{n(a)}catch(u){s(u),o.unsubscribe()}},error:s,complete:i});this.subscribe(o)})}_subscribe(n){var r;return(r=this.source)===null||r===void 0?void 0:r.subscribe(n)}[Do](){return this}pipe(...n){return Og(n)(this)}toPromise(n){return n=tb(n),new n((r,i)=>{let s;this.subscribe(o=>s=o,o=>i(o),()=>r(s))})}}return t.create=e=>new t(e),t})();function tb(t){var e;return(e=t??En.Promise)!==null&&e!==void 0?e:Promise}function bN(t){return t&&oe(t.next)&&oe(t.error)&&oe(t.complete)}function DN(t){return t&&t instanceof gs||bN(t)&&fd(t)}function Fg(t){return oe(t?.lift)}function Ee(t){return e=>{if(Fg(e))return e.lift(function(n){try{return t(n,this)}catch(r){this.error(r)}});throw new TypeError("Unable to lift unknown Observable type")}}function ye(t,e,n,r,i){return new Lg(t,e,n,r,i)}var Lg=class extends gs{constructor(e,n,r,i,s,o){super(e),this.onFinalize=s,this.shouldUnsubscribe=o,this._next=n?function(a){try{n(a)}catch(u){e.error(u)}}:super._next,this._error=i?function(a){try{i(a)}catch(u){e.error(u)}finally{this.unsubscribe()}}:super._error,this._complete=r?function(){try{r()}catch(a){e.error(a)}finally{this.unsubscribe()}}:super._complete}unsubscribe(){var e;if(!this.shouldUnsubscribe||this.shouldUnsubscribe()){let{closed:n}=this;super.unsubscribe(),!n&&((e=this.onFinalize)===null||e===void 0||e.call(this))}}};function Co(){return Ee((t,e)=>{let n=null;t._refCount++;let r=ye(e,void 0,void 0,void 0,()=>{if(!t||t._refCount<=0||0<--t._refCount){n=null;return}let i=t._connection,s=n;n=null,i&&(!s||i===s)&&i.unsubscribe(),e.unsubscribe()});t.subscribe(r),r.closed||(n=t.connect())})}var To=class extends me{constructor(e,n){super(),this.source=e,this.subjectFactory=n,this._subject=null,this._refCount=0,this._connection=null,Fg(e)&&(this.lift=e.lift)}_subscribe(e){return this.getSubject().subscribe(e)}getSubject(){let e=this._subject;return(!e||e.isStopped)&&(this._subject=this.subjectFactory()),this._subject}_teardown(){this._refCount=0;let{_connection:e}=this;this._subject=this._connection=null,e?.unsubscribe()}connect(){let e=this._connection;if(!e){e=this._connection=new ze;let n=this.getSubject();e.add(this.source.subscribe(ye(n,void 0,()=>{this._teardown(),n.complete()},r=>{this._teardown(),n.error(r)},()=>this._teardown()))),e.closed&&(this._connection=null,e=ze.EMPTY)}return e}refCount(){return Co()(this)}};var nb=_o(t=>function(){t(this),this.name="ObjectUnsubscribedError",this.message="object unsubscribed"});var gt=(()=>{class t extends me{constructor(){super(),this.closed=!1,this.currentObservers=null,this.observers=[],this.isStopped=!1,this.hasError=!1,this.thrownError=null}lift(n){let r=new yd(this,this);return r.operator=n,r}_throwIfClosed(){if(this.closed)throw new nb}next(n){Eo(()=>{if(this._throwIfClosed(),!this.isStopped){this.currentObservers||(this.currentObservers=Array.from(this.observers));for(let r of this.currentObservers)r.next(n)}})}error(n){Eo(()=>{if(this._throwIfClosed(),!this.isStopped){this.hasError=this.isStopped=!0,this.thrownError=n;let{observers:r}=this;for(;r.length;)r.shift().error(n)}})}complete(){Eo(()=>{if(this._throwIfClosed(),!this.isStopped){this.isStopped=!0;let{observers:n}=this;for(;n.length;)n.shift().complete()}})}unsubscribe(){this.isStopped=this.closed=!0,this.observers=this.currentObservers=null}get observed(){var n;return((n=this.observers)===null||n===void 0?void 0:n.length)>0}_trySubscribe(n){return this._throwIfClosed(),super._trySubscribe(n)}_subscribe(n){return this._throwIfClosed(),this._checkFinalizedStatuses(n),this._innerSubscribe(n)}_innerSubscribe(n){let{hasError:r,isStopped:i,observers:s}=this;return r||i?xg:(this.currentObservers=null,s.push(n),new ze(()=>{this.currentObservers=null,fs(s,n)}))}_checkFinalizedStatuses(n){let{hasError:r,thrownError:i,isStopped:s}=this;r?n.error(i):s&&n.complete()}asObservable(){let n=new me;return n.source=this,n}}return t.create=(e,n)=>new yd(e,n),t})(),yd=class extends gt{constructor(e,n){super(),this.destination=e,this.source=n}next(e){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.next)===null||r===void 0||r.call(n,e)}error(e){var n,r;(r=(n=this.destination)===null||n===void 0?void 0:n.error)===null||r===void 0||r.call(n,e)}complete(){var e,n;(n=(e=this.destination)===null||e===void 0?void 0:e.complete)===null||n===void 0||n.call(e)}_subscribe(e){var n,r;return(r=(n=this.source)===null||n===void 0?void 0:n.subscribe(e))!==null&&r!==void 0?r:xg}};var It=class extends gt{constructor(e){super(),this._value=e}get value(){return this.getValue()}_subscribe(e){let n=super._subscribe(e);return!n.closed&&e.next(this._value),n}getValue(){let{hasError:e,thrownError:n,_value:r}=this;if(e)throw n;return this._throwIfClosed(),r}next(e){super.next(this._value=e)}};var Vg={now(){return(Vg.delegate||Date).now()},delegate:void 0};var vd=class extends ze{constructor(e,n){super()}schedule(e,n=0){return this}};var Rc={setInterval(t,e,...n){let{delegate:r}=Rc;return r?.setInterval?r.setInterval(t,e,...n):setInterval(t,e,...n)},clearInterval(t){let{delegate:e}=Rc;return(e?.clearInterval||clearInterval)(t)},delegate:void 0};var So=class extends vd{constructor(e,n){super(e,n),this.scheduler=e,this.work=n,this.pending=!1}schedule(e,n=0){var r;if(this.closed)return this;this.state=e;let i=this.id,s=this.scheduler;return i!=null&&(this.id=this.recycleAsyncId(s,i,n)),this.pending=!0,this.delay=n,this.id=(r=this.id)!==null&&r!==void 0?r:this.requestAsyncId(s,this.id,n),this}requestAsyncId(e,n,r=0){return Rc.setInterval(e.flush.bind(e,this),r)}recycleAsyncId(e,n,r=0){if(r!=null&&this.delay===r&&this.pending===!1)return n;n!=null&&Rc.clearInterval(n)}execute(e,n){if(this.closed)return new Error("executing a cancelled action");this.pending=!1;let r=this._execute(e,n);if(r)return r;this.pending===!1&&this.id!=null&&(this.id=this.recycleAsyncId(this.scheduler,this.id,null))}_execute(e,n){let r=!1,i;try{this.work(e)}catch(s){r=!0,i=s||new Error("Scheduled action threw falsy error")}if(r)return this.unsubscribe(),i}unsubscribe(){if(!this.closed){let{id:e,scheduler:n}=this,{actions:r}=n;this.work=this.state=this.scheduler=null,this.pending=!1,fs(r,this),e!=null&&(this.id=this.recycleAsyncId(n,e,null)),this.delay=null,super.unsubscribe()}}};var Ao=class t{constructor(e,n=t.now){this.schedulerActionCtor=e,this.now=n}schedule(e,n=0,r){return new this.schedulerActionCtor(this,e).schedule(r,n)}};Ao.now=Vg.now;var Ro=class extends Ao{constructor(e,n=Ao.now){super(e,n),this.actions=[],this._active=!1}flush(e){let{actions:n}=this;if(this._active){n.push(e);return}let r;this._active=!0;do if(r=e.execute(e.state,e.delay))break;while(e=n.shift());if(this._active=!1,r){for(;e=n.shift();)e.unsubscribe();throw r}}};var Ug=new Ro(So);var wd=class extends So{constructor(e,n){super(e,n),this.scheduler=e,this.work=n}schedule(e,n=0){return n>0?super.schedule(e,n):(this.delay=n,this.state=e,this.scheduler.flush(this),this)}execute(e,n){return n>0||this.closed?super.execute(e,n):this._execute(e,n)}requestAsyncId(e,n,r=0){return r!=null&&r>0||r==null&&this.delay>0?super.requestAsyncId(e,n,r):(e.flush(this),0)}};var _d=class extends Ro{};var jg=new _d(wd);var Kt=new me(t=>t.complete());function rb(t){return t&&oe(t.schedule)}function ib(t){return t[t.length-1]}function Id(t){return oe(ib(t))?t.pop():void 0}function yi(t){return rb(ib(t))?t.pop():void 0}function Bg(t,e){var n={};for(var r in t)Object.prototype.hasOwnProperty.call(t,r)&&e.indexOf(r)<0&&(n[r]=t[r]);if(t!=null&&typeof Object.getOwnPropertySymbols=="function")for(var i=0,r=Object.getOwnPropertySymbols(t);i<r.length;i++)e.indexOf(r[i])<0&&Object.prototype.propertyIsEnumerable.call(t,r[i])&&(n[r[i]]=t[r[i]]);return n}function ob(t,e,n,r){function i(s){return s instanceof n?s:new n(function(o){o(s)})}return new(n||(n=Promise))(function(s,o){function a(p){try{d(r.next(p))}catch(g){o(g)}}function u(p){try{d(r.throw(p))}catch(g){o(g)}}function d(p){p.done?s(p.value):i(p.value).then(a,u)}d((r=r.apply(t,e||[])).next())})}function sb(t){var e=typeof Symbol=="function"&&Symbol.iterator,n=e&&t[e],r=0;if(n)return n.call(t);if(t&&typeof t.length=="number")return{next:function(){return t&&r>=t.length&&(t=void 0),{value:t&&t[r++],done:!t}}};throw new TypeError(e?"Object is not iterable.":"Symbol.iterator is not defined.")}function ms(t){return this instanceof ms?(this.v=t,this):new ms(t)}function ab(t,e,n){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var r=n.apply(t,e||[]),i,s=[];return i=Object.create((typeof AsyncIterator=="function"?AsyncIterator:Object).prototype),a("next"),a("throw"),a("return",o),i[Symbol.asyncIterator]=function(){return this},i;function o(E){return function(M){return Promise.resolve(M).then(E,g)}}function a(E,M){r[E]&&(i[E]=function(O){return new Promise(function(P,V){s.push([E,O,P,V])>1||u(E,O)})},M&&(i[E]=M(i[E])))}function u(E,M){try{d(r[E](M))}catch(O){_(s[0][3],O)}}function d(E){E.value instanceof ms?Promise.resolve(E.value.v).then(p,g):_(s[0][2],E)}function p(E){u("next",E)}function g(E){u("throw",E)}function _(E,M){E(M),s.shift(),s.length&&u(s[0][0],s[0][1])}}function cb(t){if(!Symbol.asyncIterator)throw new TypeError("Symbol.asyncIterator is not defined.");var e=t[Symbol.asyncIterator],n;return e?e.call(t):(t=typeof sb=="function"?sb(t):t[Symbol.iterator](),n={},r("next"),r("throw"),r("return"),n[Symbol.asyncIterator]=function(){return this},n);function r(s){n[s]=t[s]&&function(o){return new Promise(function(a,u){o=t[s](o),i(a,u,o.done,o.value)})}}function i(s,o,a,u){Promise.resolve(u).then(function(d){s({value:d,done:a})},o)}}var Ed=t=>t&&typeof t.length=="number"&&typeof t!="function";function bd(t){return oe(t?.then)}function Dd(t){return oe(t[Do])}function Cd(t){return Symbol.asyncIterator&&oe(t?.[Symbol.asyncIterator])}function Td(t){return new TypeError(`You provided ${t!==null&&typeof t=="object"?"an invalid object":`'${t}'`} where a stream was expected. You can provide an Observable, Promise, ReadableStream, Array, AsyncIterable, or Iterable.`)}function CN(){return typeof Symbol!="function"||!Symbol.iterator?"@@iterator":Symbol.iterator}var Sd=CN();function Ad(t){return oe(t?.[Sd])}function Rd(t){return ab(this,arguments,function*(){let n=t.getReader();try{for(;;){let{value:r,done:i}=yield ms(n.read());if(i)return yield ms(void 0);yield yield ms(r)}}finally{n.releaseLock()}})}function xd(t){return oe(t?.getReader)}function tt(t){if(t instanceof me)return t;if(t!=null){if(Dd(t))return TN(t);if(Ed(t))return SN(t);if(bd(t))return AN(t);if(Cd(t))return ub(t);if(Ad(t))return RN(t);if(xd(t))return xN(t)}throw Td(t)}function TN(t){return new me(e=>{let n=t[Do]();if(oe(n.subscribe))return n.subscribe(e);throw new TypeError("Provided object does not correctly implement Symbol.observable")})}function SN(t){return new me(e=>{for(let n=0;n<t.length&&!e.closed;n++)e.next(t[n]);e.complete()})}function AN(t){return new me(e=>{t.then(n=>{e.closed||(e.next(n),e.complete())},n=>e.error(n)).then(null,pd)})}function RN(t){return new me(e=>{for(let n of t)if(e.next(n),e.closed)return;e.complete()})}function ub(t){return new me(e=>{MN(t,e).catch(n=>e.error(n))})}function xN(t){return ub(Rd(t))}function MN(t,e){var n,r,i,s;return ob(this,void 0,void 0,function*(){try{for(n=cb(t);r=yield n.next(),!r.done;){let o=r.value;if(e.next(o),e.closed)return}}catch(o){i={error:o}}finally{try{r&&!r.done&&(s=n.return)&&(yield s.call(n))}finally{if(i)throw i.error}}e.complete()})}function Ut(t,e,n,r=0,i=!1){let s=e.schedule(function(){n(),i?t.add(this.schedule(null,r)):this.unsubscribe()},r);if(t.add(s),!i)return s}function vi(t,e=0){return Ee((n,r)=>{n.subscribe(ye(r,i=>Ut(r,t,()=>r.next(i),e),()=>Ut(r,t,()=>r.complete(),e),i=>Ut(r,t,()=>r.error(i),e)))})}function wi(t,e=0){return Ee((n,r)=>{r.add(t.schedule(()=>n.subscribe(r),e))})}function lb(t,e){return tt(t).pipe(wi(e),vi(e))}function db(t,e){return tt(t).pipe(wi(e),vi(e))}function hb(t,e){return new me(n=>{let r=0;return e.schedule(function(){r===t.length?n.complete():(n.next(t[r++]),n.closed||this.schedule())})})}function fb(t,e){return new me(n=>{let r;return Ut(n,e,()=>{r=t[Sd](),Ut(n,e,()=>{let i,s;try{({value:i,done:s}=r.next())}catch(o){n.error(o);return}s?n.complete():n.next(i)},0,!0)}),()=>oe(r?.return)&&r.return()})}function Md(t,e){if(!t)throw new Error("Iterable cannot be null");return new me(n=>{Ut(n,e,()=>{let r=t[Symbol.asyncIterator]();Ut(n,e,()=>{r.next().then(i=>{i.done?n.complete():n.next(i.value)})},0,!0)})})}function pb(t,e){return Md(Rd(t),e)}function gb(t,e){if(t!=null){if(Dd(t))return lb(t,e);if(Ed(t))return hb(t,e);if(bd(t))return db(t,e);if(Cd(t))return Md(t,e);if(Ad(t))return fb(t,e);if(xd(t))return pb(t,e)}throw Td(t)}function Ue(t,e){return e?gb(t,e):tt(t)}function ne(...t){let e=yi(t);return Ue(t,e)}function xo(t,e){let n=oe(t)?t:()=>t,r=i=>i.error(n());return new me(e?i=>e.schedule(r,0,i):r)}function $g(t){return!!t&&(t instanceof me||oe(t.lift)&&oe(t.subscribe))}var br=_o(t=>function(){t(this),this.name="EmptyError",this.message="no elements in sequence"});function le(t,e){return Ee((n,r)=>{let i=0;n.subscribe(ye(r,s=>{r.next(t.call(e,s,i++))}))})}var{isArray:NN}=Array;function PN(t,e){return NN(e)?t(...e):t(e)}function Nd(t){return le(e=>PN(t,e))}var{isArray:kN}=Array,{getPrototypeOf:ON,prototype:FN,keys:LN}=Object;function Pd(t){if(t.length===1){let e=t[0];if(kN(e))return{args:e,keys:null};if(VN(e)){let n=LN(e);return{args:n.map(r=>e[r]),keys:n}}}return{args:t,keys:null}}function VN(t){return t&&typeof t=="object"&&ON(t)===FN}function kd(t,e){return t.reduce((n,r,i)=>(n[r]=e[i],n),{})}function xc(...t){let e=yi(t),n=Id(t),{args:r,keys:i}=Pd(t);if(r.length===0)return Ue([],e);let s=new me(UN(r,e,i?o=>kd(i,o):Wt));return n?s.pipe(Nd(n)):s}function UN(t,e,n=Wt){return r=>{mb(e,()=>{let{length:i}=t,s=new Array(i),o=i,a=i;for(let u=0;u<i;u++)mb(e,()=>{let d=Ue(t[u],e),p=!1;d.subscribe(ye(r,g=>{s[u]=g,p||(p=!0,a--),a||r.next(n(s.slice()))},()=>{--o||r.complete()}))},r)},r)}}function mb(t,e,n){t?Ut(n,t,e):e()}function yb(t,e,n,r,i,s,o,a){let u=[],d=0,p=0,g=!1,_=()=>{g&&!u.length&&!d&&e.complete()},E=O=>d<r?M(O):u.push(O),M=O=>{s&&e.next(O),d++;let P=!1;tt(n(O,p++)).subscribe(ye(e,V=>{i?.(V),s?E(V):e.next(V)},()=>{P=!0},void 0,()=>{if(P)try{for(d--;u.length&&d<r;){let V=u.shift();o?Ut(e,o,()=>M(V)):M(V)}_()}catch(V){e.error(V)}}))};return t.subscribe(ye(e,E,()=>{g=!0,_()})),()=>{a?.()}}function nt(t,e,n=1/0){return oe(e)?nt((r,i)=>le((s,o)=>e(r,s,i,o))(tt(t(r,i))),n):(typeof e=="number"&&(n=e),Ee((r,i)=>yb(r,i,t,n)))}function Mo(t=1/0){return nt(Wt,t)}function vb(){return Mo(1)}function No(...t){return vb()(Ue(t,yi(t)))}function Od(t){return new me(e=>{tt(t()).subscribe(e)})}function Hg(...t){let e=Id(t),{args:n,keys:r}=Pd(t),i=new me(s=>{let{length:o}=n;if(!o){s.complete();return}let a=new Array(o),u=o,d=o;for(let p=0;p<o;p++){let g=!1;tt(n[p]).subscribe(ye(s,_=>{g||(g=!0,d--),a[p]=_},()=>u--,void 0,()=>{(!u||!g)&&(d||s.next(r?kd(r,a):a),s.complete())}))}});return e?i.pipe(Nd(e)):i}function Qt(t,e){return Ee((n,r)=>{let i=0;n.subscribe(ye(r,s=>t.call(e,s,i++)&&r.next(s)))})}function _i(t){return Ee((e,n)=>{let r=null,i=!1,s;r=e.subscribe(ye(n,void 0,void 0,o=>{s=tt(t(o,_i(t)(e))),r?(r.unsubscribe(),r=null,s.subscribe(n)):i=!0})),i&&(r.unsubscribe(),r=null,s.subscribe(n))})}function wb(t,e,n,r,i){return(s,o)=>{let a=n,u=e,d=0;s.subscribe(ye(o,p=>{let g=d++;u=a?t(u,p,g):(a=!0,p),r&&o.next(u)},i&&(()=>{a&&o.next(u),o.complete()})))}}function ys(t,e){return oe(e)?nt(t,e,1):nt(t,1)}function Ii(t){return Ee((e,n)=>{let r=!1;e.subscribe(ye(n,i=>{r=!0,n.next(i)},()=>{r||n.next(t),n.complete()}))})}function Dr(t){return t<=0?()=>Kt:Ee((e,n)=>{let r=0;e.subscribe(ye(n,i=>{++r<=t&&(n.next(i),t<=r&&n.complete())}))})}function qg(t){return le(()=>t)}function Fd(t=jN){return Ee((e,n)=>{let r=!1;e.subscribe(ye(n,i=>{r=!0,n.next(i)},()=>r?n.complete():n.error(t())))})}function jN(){return new br}function Mc(t){return Ee((e,n)=>{try{e.subscribe(n)}finally{n.add(t)}})}function Hn(t,e){let n=arguments.length>=2;return r=>r.pipe(t?Qt((i,s)=>t(i,s,r)):Wt,Dr(1),n?Ii(e):Fd(()=>new br))}function Po(t){return t<=0?()=>Kt:Ee((e,n)=>{let r=[];e.subscribe(ye(n,i=>{r.push(i),t<r.length&&r.shift()},()=>{for(let i of r)n.next(i);n.complete()},void 0,()=>{r=null}))})}function zg(t,e){let n=arguments.length>=2;return r=>r.pipe(t?Qt((i,s)=>t(i,s,r)):Wt,Po(1),n?Ii(e):Fd(()=>new br))}function Ld(t,e){return Ee(wb(t,e,arguments.length>=2,!0))}function Vd(...t){let e=yi(t);return Ee((n,r)=>{(e?No(t,n,e):No(t,n)).subscribe(r)})}function an(t,e){return Ee((n,r)=>{let i=null,s=0,o=!1,a=()=>o&&!i&&r.complete();n.subscribe(ye(r,u=>{i?.unsubscribe();let d=0,p=s++;tt(t(u,p)).subscribe(i=ye(r,g=>r.next(e?e(u,g,p,d++):g),()=>{i=null,a()}))},()=>{o=!0,a()}))})}function Gg(t){return Ee((e,n)=>{tt(t).subscribe(ye(n,()=>n.complete(),Ac)),!n.closed&&e.subscribe(n)})}function lt(t,e,n){let r=oe(t)||e||n?{next:t,error:e,complete:n}:t;return r?Ee((i,s)=>{var o;(o=r.subscribe)===null||o===void 0||o.call(r);let a=!0;i.subscribe(ye(s,u=>{var d;(d=r.next)===null||d===void 0||d.call(r,u),s.next(u)},()=>{var u;a=!1,(u=r.complete)===null||u===void 0||u.call(r),s.complete()},u=>{var d;a=!1,(d=r.error)===null||d===void 0||d.call(r,u),s.error(u)},()=>{var u,d;a&&((u=r.unsubscribe)===null||u===void 0||u.call(r)),(d=r.finalize)===null||d===void 0||d.call(r)}))}):Wt}var iD="https://g.co/ng/security#xss",Q=class extends Error{constructor(e,n){super(Jm(e,n)),this.code=e}};function Jm(t,e){return`${`NG0${Math.abs(t)}`}${e?": "+e:""}`}function jc(t){return{toString:t}.toString()}var Ud="__parameters__";function BN(t){return function(...n){if(t){let r=t(...n);for(let i in r)this[i]=r[i]}}}function sD(t,e,n){return jc(()=>{let r=BN(e);function i(...s){if(this instanceof i)return r.apply(this,s),this;let o=new i(...s);return a.annotation=o,a;function a(u,d,p){let g=u.hasOwnProperty(Ud)?u[Ud]:Object.defineProperty(u,Ud,{value:[]})[Ud];for(;g.length<=p;)g.push(null);return(g[p]=g[p]||[]).push(o),u}}return n&&(i.prototype=Object.create(n.prototype)),i.prototype.ngMetadataName=t,i.annotationCls=i,i})}var om=globalThis;function Pe(t){for(let e in t)if(t[e]===Pe)return e;throw Error("Could not find renamed property on target object.")}function $N(t,e){for(let n in e)e.hasOwnProperty(n)&&!t.hasOwnProperty(n)&&(t[n]=e[n])}function Nt(t){if(typeof t=="string")return t;if(Array.isArray(t))return"["+t.map(Nt).join(", ")+"]";if(t==null)return""+t;if(t.overriddenName)return`${t.overriddenName}`;if(t.name)return`${t.name}`;let e=t.toString();if(e==null)return""+e;let n=e.indexOf(`
`);return n===-1?e:e.substring(0,n)}function _b(t,e){return t==null||t===""?e===null?"":e:e==null||e===""?t:t+" "+e}var HN=Pe({__forward_ref__:Pe});function Jt(t){return t.__forward_ref__=Jt,t.toString=function(){return Nt(this())},t}function Mt(t){return oD(t)?t():t}function oD(t){return typeof t=="function"&&t.hasOwnProperty(HN)&&t.__forward_ref__===Jt}function Y(t){return{token:t.token,providedIn:t.providedIn||null,factory:t.factory,value:void 0}}function Ar(t){return{providers:t.providers||[],imports:t.imports||[]}}function _h(t){return Ib(t,cD)||Ib(t,uD)}function aD(t){return _h(t)!==null}function Ib(t,e){return t.hasOwnProperty(e)?t[e]:null}function qN(t){let e=t&&(t[cD]||t[uD]);return e||null}function Eb(t){return t&&(t.hasOwnProperty(bb)||t.hasOwnProperty(zN))?t[bb]:null}var cD=Pe({\u0275prov:Pe}),bb=Pe({\u0275inj:Pe}),uD=Pe({ngInjectableDef:Pe}),zN=Pe({ngInjectorDef:Pe}),W=class{constructor(e,n){this._desc=e,this.ngMetadataName="InjectionToken",this.\u0275prov=void 0,typeof n=="number"?this.__NG_ELEMENT_ID__=n:n!==void 0&&(this.\u0275prov=Y({token:this,providedIn:n.providedIn||"root",factory:n.factory}))}get multi(){return this}toString(){return`InjectionToken ${this._desc}`}};function lD(t){return t&&!!t.\u0275providers}var GN=Pe({\u0275cmp:Pe}),WN=Pe({\u0275dir:Pe}),KN=Pe({\u0275pipe:Pe}),QN=Pe({\u0275mod:Pe}),Qd=Pe({\u0275fac:Pe}),Pc=Pe({__NG_ELEMENT_ID__:Pe}),Db=Pe({__NG_ENV_ID__:Pe});function Ih(t){return typeof t=="string"?t:t==null?"":String(t)}function YN(t){return typeof t=="function"?t.name||t.toString():typeof t=="object"&&t!=null&&typeof t.type=="function"?t.type.name||t.type.toString():Ih(t)}function ZN(t,e){let n=e?`. Dependency path: ${e.join(" > ")} > ${t}`:"";throw new Q(-200,t)}function Xm(t,e){throw new Q(-201,!1)}var de=function(t){return t[t.Default=0]="Default",t[t.Host=1]="Host",t[t.Self=2]="Self",t[t.SkipSelf=4]="SkipSelf",t[t.Optional=8]="Optional",t}(de||{}),am;function dD(){return am}function cn(t){let e=am;return am=t,e}function hD(t,e,n){let r=_h(t);if(r&&r.providedIn=="root")return r.value===void 0?r.value=r.factory():r.value;if(n&de.Optional)return null;if(e!==void 0)return e;Xm(t,"Injector")}var JN={},kc=JN,cm="__NG_DI_FLAG__",Yd="ngTempTokenPath",XN="ngTokenPath",eP=/\n/gm,tP="\u0275",Cb="__source",Vo;function nP(){return Vo}function Ei(t){let e=Vo;return Vo=t,e}function rP(t,e=de.Default){if(Vo===void 0)throw new Q(-203,!1);return Vo===null?hD(t,void 0,e):Vo.get(t,e&de.Optional?null:void 0,e)}function ie(t,e=de.Default){return(dD()||rP)(Mt(t),e)}function j(t,e=de.Default){return ie(t,Eh(e))}function Eh(t){return typeof t>"u"||typeof t=="number"?t:0|(t.optional&&8)|(t.host&&1)|(t.self&&2)|(t.skipSelf&&4)}function um(t){let e=[];for(let n=0;n<t.length;n++){let r=Mt(t[n]);if(Array.isArray(r)){if(r.length===0)throw new Q(900,!1);let i,s=de.Default;for(let o=0;o<r.length;o++){let a=r[o],u=iP(a);typeof u=="number"?u===-1?i=a.token:s|=u:i=a}e.push(ie(i,s))}else e.push(ie(r))}return e}function fD(t,e){return t[cm]=e,t.prototype[cm]=e,t}function iP(t){return t[cm]}function sP(t,e,n,r){let i=t[Yd];throw e[Cb]&&i.unshift(e[Cb]),t.message=oP(`
`+t.message,i,n,r),t[XN]=i,t[Yd]=null,t}function oP(t,e,n,r=null){t=t&&t.charAt(0)===`
`&&t.charAt(1)==tP?t.slice(2):t;let i=Nt(e);if(Array.isArray(e))i=e.map(Nt).join(" -> ");else if(typeof e=="object"){let s=[];for(let o in e)if(e.hasOwnProperty(o)){let a=e[o];s.push(o+":"+(typeof a=="string"?JSON.stringify(a):Nt(a)))}i=`{${s.join(", ")}}`}return`${n}${r?"("+r+")":""}[${i}]: ${t.replace(eP,`
  `)}`}var St=fD(sD("Optional"),8);var ey=fD(sD("SkipSelf"),4);function jo(t,e){let n=t.hasOwnProperty(Qd);return n?t[Qd]:null}function ty(t,e){t.forEach(n=>Array.isArray(n)?ty(n,e):e(n))}function pD(t,e,n){e>=t.length?t.push(n):t.splice(e,0,n)}function Zd(t,e){return e>=t.length-1?t.pop():t.splice(e,1)[0]}function aP(t,e,n,r){let i=t.length;if(i==e)t.push(n,r);else if(i===1)t.push(r,t[0]),t[0]=n;else{for(i--,t.push(t[i-1],t[i]);i>e;){let s=i-2;t[i]=t[s],i--}t[e]=n,t[e+1]=r}}function cP(t,e,n){let r=Bc(t,e);return r>=0?t[r|1]=n:(r=~r,aP(t,r,e,n)),r}function Wg(t,e){let n=Bc(t,e);if(n>=0)return t[n|1]}function Bc(t,e){return uP(t,e,1)}function uP(t,e,n){let r=0,i=t.length>>n;for(;i!==r;){let s=r+(i-r>>1),o=t[s<<n];if(e===o)return s<<n;o>e?i=s:r=s+1}return~(i<<n)}var Bo={},un=[],$o=new W(""),gD=new W("",-1),mD=new W(""),Jd=class{get(e,n=kc){if(n===kc){let r=new Error(`NullInjectorError: No provider for ${Nt(e)}!`);throw r.name="NullInjectorError",r}return n}},yD=function(t){return t[t.OnPush=0]="OnPush",t[t.Default=1]="Default",t}(yD||{}),Gn=function(t){return t[t.Emulated=0]="Emulated",t[t.None=2]="None",t[t.ShadowDom=3]="ShadowDom",t}(Gn||{}),Ci=function(t){return t[t.None=0]="None",t[t.SignalBased=1]="SignalBased",t[t.HasDecoratorInputTransform=2]="HasDecoratorInputTransform",t}(Ci||{});function lP(t,e,n){let r=t.length;for(;;){let i=t.indexOf(e,n);if(i===-1)return i;if(i===0||t.charCodeAt(i-1)<=32){let s=e.length;if(i+s===r||t.charCodeAt(i+s)<=32)return i}n=i+1}}function lm(t,e,n){let r=0;for(;r<n.length;){let i=n[r];if(typeof i=="number"){if(i!==0)break;r++;let s=n[r++],o=n[r++],a=n[r++];t.setAttribute(e,o,a,s)}else{let s=i,o=n[++r];dP(s)?t.setProperty(e,s,o):t.setAttribute(e,s,o),r++}}return r}function vD(t){return t===3||t===4||t===6}function dP(t){return t.charCodeAt(0)===64}function Oc(t,e){if(!(e===null||e.length===0))if(t===null||t.length===0)t=e.slice();else{let n=-1;for(let r=0;r<e.length;r++){let i=e[r];typeof i=="number"?n=i:n===0||(n===-1||n===2?Tb(t,n,i,null,e[++r]):Tb(t,n,i,null,null))}}return t}function Tb(t,e,n,r,i){let s=0,o=t.length;if(e===-1)o=-1;else for(;s<t.length;){let a=t[s++];if(typeof a=="number"){if(a===e){o=-1;break}else if(a>e){o=s-1;break}}}for(;s<t.length;){let a=t[s];if(typeof a=="number")break;if(a===n){if(r===null){i!==null&&(t[s+1]=i);return}else if(r===t[s+1]){t[s+2]=i;return}}s++,r!==null&&s++,i!==null&&s++}o!==-1&&(t.splice(o,0,e),s=o+1),t.splice(s++,0,n),r!==null&&t.splice(s++,0,r),i!==null&&t.splice(s++,0,i)}var wD="ng-template";function hP(t,e,n,r){let i=0;if(r){for(;i<e.length&&typeof e[i]=="string";i+=2)if(e[i]==="class"&&lP(e[i+1].toLowerCase(),n,0)!==-1)return!0}else if(ny(t))return!1;if(i=e.indexOf(1,i),i>-1){let s;for(;++i<e.length&&typeof(s=e[i])=="string";)if(s.toLowerCase()===n)return!0}return!1}function ny(t){return t.type===4&&t.value!==wD}function fP(t,e,n){let r=t.type===4&&!n?wD:t.value;return e===r}function pP(t,e,n){let r=4,i=t.attrs,s=i!==null?yP(i):0,o=!1;for(let a=0;a<e.length;a++){let u=e[a];if(typeof u=="number"){if(!o&&!bn(r)&&!bn(u))return!1;if(o&&bn(u))continue;o=!1,r=u|r&1;continue}if(!o)if(r&4){if(r=2|r&1,u!==""&&!fP(t,u,n)||u===""&&e.length===1){if(bn(r))return!1;o=!0}}else if(r&8){if(i===null||!hP(t,i,u,n)){if(bn(r))return!1;o=!0}}else{let d=e[++a],p=gP(u,i,ny(t),n);if(p===-1){if(bn(r))return!1;o=!0;continue}if(d!==""){let g;if(p>s?g="":g=i[p+1].toLowerCase(),r&2&&d!==g){if(bn(r))return!1;o=!0}}}}return bn(r)||o}function bn(t){return(t&1)===0}function gP(t,e,n,r){if(e===null)return-1;let i=0;if(r||!n){let s=!1;for(;i<e.length;){let o=e[i];if(o===t)return i;if(o===3||o===6)s=!0;else if(o===1||o===2){let a=e[++i];for(;typeof a=="string";)a=e[++i];continue}else{if(o===4)break;if(o===0){i+=4;continue}}i+=s?1:2}return-1}else return vP(e,t)}function mP(t,e,n=!1){for(let r=0;r<e.length;r++)if(pP(t,e[r],n))return!0;return!1}function yP(t){for(let e=0;e<t.length;e++){let n=t[e];if(vD(n))return e}return t.length}function vP(t,e){let n=t.indexOf(4);if(n>-1)for(n++;n<t.length;){let r=t[n];if(typeof r=="number")return-1;if(r===e)return n;n++}return-1}function Sb(t,e){return t?":not("+e.trim()+")":e}function wP(t){let e=t[0],n=1,r=2,i="",s=!1;for(;n<t.length;){let o=t[n];if(typeof o=="string")if(r&2){let a=t[++n];i+="["+o+(a.length>0?'="'+a+'"':"")+"]"}else r&8?i+="."+o:r&4&&(i+=" "+o);else i!==""&&!bn(o)&&(e+=Sb(s,i),i=""),r=o,s=s||!bn(r);n++}return i!==""&&(e+=Sb(s,i)),e}function _P(t){return t.map(wP).join(",")}function IP(t){let e=[],n=[],r=1,i=2;for(;r<t.length;){let s=t[r];if(typeof s=="string")i===2?s!==""&&e.push(s,t[++r]):i===8&&n.push(s);else{if(!bn(i))break;i=s}r++}return{attrs:e,classes:n}}function bh(t){return jc(()=>{let e=DD(t),n=ge(B({},e),{decls:t.decls,vars:t.vars,template:t.template,consts:t.consts||null,ngContentSelectors:t.ngContentSelectors,onPush:t.changeDetection===yD.OnPush,directiveDefs:null,pipeDefs:null,dependencies:e.standalone&&t.dependencies||null,getStandaloneInjector:null,signals:t.signals??!1,data:t.data||{},encapsulation:t.encapsulation||Gn.Emulated,styles:t.styles||un,_:null,schemas:t.schemas||null,tView:null,id:""});CD(n);let r=t.dependencies;return n.directiveDefs=Rb(r,!1),n.pipeDefs=Rb(r,!0),n.id=DP(n),n})}function EP(t){return Ti(t)||_D(t)}function bP(t){return t!==null}function Rr(t){return jc(()=>({type:t.type,bootstrap:t.bootstrap||un,declarations:t.declarations||un,imports:t.imports||un,exports:t.exports||un,transitiveCompileScopes:null,schemas:t.schemas||null,id:t.id||null}))}function Ab(t,e){if(t==null)return Bo;let n={};for(let r in t)if(t.hasOwnProperty(r)){let i=t[r],s,o,a=Ci.None;Array.isArray(i)?(a=i[0],s=i[1],o=i[2]??s):(s=i,o=i),e?(n[s]=a!==Ci.None?[r,a]:r,e[s]=o):n[s]=r}return n}function Oe(t){return jc(()=>{let e=DD(t);return CD(e),e})}function Ti(t){return t[GN]||null}function _D(t){return t[WN]||null}function ID(t){return t[KN]||null}function ED(t){let e=Ti(t)||_D(t)||ID(t);return e!==null?e.standalone:!1}function bD(t,e){let n=t[QN]||null;if(!n&&e===!0)throw new Error(`Type ${Nt(t)} does not have '\u0275mod' property.`);return n}function DD(t){let e={};return{type:t.type,providersResolver:null,factory:null,hostBindings:t.hostBindings||null,hostVars:t.hostVars||0,hostAttrs:t.hostAttrs||null,contentQueries:t.contentQueries||null,declaredInputs:e,inputTransforms:null,inputConfig:t.inputs||Bo,exportAs:t.exportAs||null,standalone:t.standalone===!0,signals:t.signals===!0,selectors:t.selectors||un,viewQuery:t.viewQuery||null,features:t.features||null,setInput:null,findHostDirectiveDefs:null,hostDirectives:null,inputs:Ab(t.inputs,e),outputs:Ab(t.outputs),debugInfo:null}}function CD(t){t.features?.forEach(e=>e(t))}function Rb(t,e){if(!t)return null;let n=e?ID:EP;return()=>(typeof t=="function"?t():t).map(r=>n(r)).filter(bP)}function DP(t){let e=0,n=[t.selectors,t.ngContentSelectors,t.hostVars,t.hostAttrs,t.consts,t.vars,t.decls,t.encapsulation,t.standalone,t.signals,t.exportAs,JSON.stringify(t.inputs),JSON.stringify(t.outputs),Object.getOwnPropertyNames(t.type.prototype),!!t.contentQueries,!!t.viewQuery].join("|");for(let i of n)e=Math.imul(31,e)+i.charCodeAt(0)<<0;return e+=2147483648,"c"+e}function Yn(t){return{\u0275providers:t}}function CP(...t){return{\u0275providers:TD(!0,t),\u0275fromNgModule:!0}}function TD(t,...e){let n=[],r=new Set,i,s=o=>{n.push(o)};return ty(e,o=>{let a=o;dm(a,s,[],r)&&(i||=[],i.push(a))}),i!==void 0&&SD(i,s),n}function SD(t,e){for(let n=0;n<t.length;n++){let{ngModule:r,providers:i}=t[n];ry(i,s=>{e(s,r)})}}function dm(t,e,n,r){if(t=Mt(t),!t)return!1;let i=null,s=Eb(t),o=!s&&Ti(t);if(!s&&!o){let u=t.ngModule;if(s=Eb(u),s)i=u;else return!1}else{if(o&&!o.standalone)return!1;i=t}let a=r.has(i);if(o){if(a)return!1;if(r.add(i),o.dependencies){let u=typeof o.dependencies=="function"?o.dependencies():o.dependencies;for(let d of u)dm(d,e,n,r)}}else if(s){if(s.imports!=null&&!a){r.add(i);let d;try{ty(s.imports,p=>{dm(p,e,n,r)&&(d||=[],d.push(p))})}finally{}d!==void 0&&SD(d,e)}if(!a){let d=jo(i)||(()=>new i);e({provide:i,useFactory:d,deps:un},i),e({provide:mD,useValue:i,multi:!0},i),e({provide:$o,useValue:()=>ie(i),multi:!0},i)}let u=s.providers;if(u!=null&&!a){let d=t;ry(u,p=>{e(p,d)})}}else return!1;return i!==t&&t.providers!==void 0}function ry(t,e){for(let n of t)lD(n)&&(n=n.\u0275providers),Array.isArray(n)?ry(n,e):e(n)}var TP=Pe({provide:String,useValue:Pe});function AD(t){return t!==null&&typeof t=="object"&&TP in t}function SP(t){return!!(t&&t.useExisting)}function AP(t){return!!(t&&t.useFactory)}function Ho(t){return typeof t=="function"}function RP(t){return!!t.useClass}var Dh=new W(""),qd={},xP={},Kg;function iy(){return Kg===void 0&&(Kg=new Jd),Kg}var Zt=class{},Fc=class extends Zt{get destroyed(){return this._destroyed}constructor(e,n,r,i){super(),this.parent=n,this.source=r,this.scopes=i,this.records=new Map,this._ngOnDestroyHooks=new Set,this._onDestroyHooks=[],this._destroyed=!1,fm(e,o=>this.processProvider(o)),this.records.set(gD,ko(void 0,this)),i.has("environment")&&this.records.set(Zt,ko(void 0,this));let s=this.records.get(Dh);s!=null&&typeof s.value=="string"&&this.scopes.add(s.value),this.injectorDefTypes=new Set(this.get(mD,un,de.Self))}destroy(){this.assertNotDestroyed(),this._destroyed=!0;let e=Ie(null);try{for(let r of this._ngOnDestroyHooks)r.ngOnDestroy();let n=this._onDestroyHooks;this._onDestroyHooks=[];for(let r of n)r()}finally{this.records.clear(),this._ngOnDestroyHooks.clear(),this.injectorDefTypes.clear(),Ie(e)}}onDestroy(e){return this.assertNotDestroyed(),this._onDestroyHooks.push(e),()=>this.removeOnDestroy(e)}runInContext(e){this.assertNotDestroyed();let n=Ei(this),r=cn(void 0),i;try{return e()}finally{Ei(n),cn(r)}}get(e,n=kc,r=de.Default){if(this.assertNotDestroyed(),e.hasOwnProperty(Db))return e[Db](this);r=Eh(r);let i,s=Ei(this),o=cn(void 0);try{if(!(r&de.SkipSelf)){let u=this.records.get(e);if(u===void 0){let d=OP(e)&&_h(e);d&&this.injectableDefInScope(d)?u=ko(hm(e),qd):u=null,this.records.set(e,u)}if(u!=null)return this.hydrate(e,u)}let a=r&de.Self?iy():this.parent;return n=r&de.Optional&&n===kc?null:n,a.get(e,n)}catch(a){if(a.name==="NullInjectorError"){if((a[Yd]=a[Yd]||[]).unshift(Nt(e)),s)throw a;return sP(a,e,"R3InjectorError",this.source)}else throw a}finally{cn(o),Ei(s)}}resolveInjectorInitializers(){let e=Ie(null),n=Ei(this),r=cn(void 0),i;try{let s=this.get($o,un,de.Self);for(let o of s)o()}finally{Ei(n),cn(r),Ie(e)}}toString(){let e=[],n=this.records;for(let r of n.keys())e.push(Nt(r));return`R3Injector[${e.join(", ")}]`}assertNotDestroyed(){if(this._destroyed)throw new Q(205,!1)}processProvider(e){e=Mt(e);let n=Ho(e)?e:Mt(e&&e.provide),r=NP(e);if(!Ho(e)&&e.multi===!0){let i=this.records.get(n);i||(i=ko(void 0,qd,!0),i.factory=()=>um(i.multi),this.records.set(n,i)),n=e,i.multi.push(e)}this.records.set(n,r)}hydrate(e,n){let r=Ie(null);try{return n.value===qd&&(n.value=xP,n.value=n.factory()),typeof n.value=="object"&&n.value&&kP(n.value)&&this._ngOnDestroyHooks.add(n.value),n.value}finally{Ie(r)}}injectableDefInScope(e){if(!e.providedIn)return!1;let n=Mt(e.providedIn);return typeof n=="string"?n==="any"||this.scopes.has(n):this.injectorDefTypes.has(n)}removeOnDestroy(e){let n=this._onDestroyHooks.indexOf(e);n!==-1&&this._onDestroyHooks.splice(n,1)}};function hm(t){let e=_h(t),n=e!==null?e.factory:jo(t);if(n!==null)return n;if(t instanceof W)throw new Q(204,!1);if(t instanceof Function)return MP(t);throw new Q(204,!1)}function MP(t){if(t.length>0)throw new Q(204,!1);let n=qN(t);return n!==null?()=>n.factory(t):()=>new t}function NP(t){if(AD(t))return ko(void 0,t.useValue);{let e=RD(t);return ko(e,qd)}}function RD(t,e,n){let r;if(Ho(t)){let i=Mt(t);return jo(i)||hm(i)}else if(AD(t))r=()=>Mt(t.useValue);else if(AP(t))r=()=>t.useFactory(...um(t.deps||[]));else if(SP(t))r=()=>ie(Mt(t.useExisting));else{let i=Mt(t&&(t.useClass||t.provide));if(PP(t))r=()=>new i(...um(t.deps));else return jo(i)||hm(i)}return r}function ko(t,e,n=!1){return{factory:t,value:e,multi:n?[]:void 0}}function PP(t){return!!t.deps}function kP(t){return t!==null&&typeof t=="object"&&typeof t.ngOnDestroy=="function"}function OP(t){return typeof t=="function"||typeof t=="object"&&t instanceof W}function fm(t,e){for(let n of t)Array.isArray(n)?fm(n,e):n&&lD(n)?fm(n.\u0275providers,e):e(n)}function Zn(t,e){t instanceof Fc&&t.assertNotDestroyed();let n,r=Ei(t),i=cn(void 0);try{return e()}finally{Ei(r),cn(i)}}function xD(){return dD()!==void 0||nP()!=null}function FP(t){if(!xD())throw new Q(-203,!1)}function LP(t){return typeof t=="function"}var xr=0,he=1,re=2,Pt=3,Dn=4,Tn=5,Xd=6,eh=7,dn=8,qo=9,Wn=10,dt=11,Lc=12,xb=13,Xo=14,Kn=15,zo=16,Oo=17,Go=18,Ch=19,MD=20,bi=21,Qg=22,ln=23,Cn=25,ND=1;var ws=7,th=8,nh=9,Yt=10,rh=function(t){return t[t.None=0]="None",t[t.HasTransplantedViews=2]="HasTransplantedViews",t}(rh||{});function Di(t){return Array.isArray(t)&&typeof t[ND]=="object"}function Mr(t){return Array.isArray(t)&&t[ND]===!0}function PD(t){return(t.flags&4)!==0}function Th(t){return t.componentOffset>-1}function sy(t){return(t.flags&1)===1}function Si(t){return!!t.template}function pm(t){return(t[re]&512)!==0}var gm=class{constructor(e,n,r){this.previousValue=e,this.currentValue=n,this.firstChange=r}isFirstChange(){return this.firstChange}};function kD(t,e,n,r){e!==null?e.applyValueToInputSignal(e,r):t[n]=r}function Jn(){return OD}function OD(t){return t.type.prototype.ngOnChanges&&(t.setInput=UP),VP}Jn.ngInherit=!0;function VP(){let t=LD(this),e=t?.current;if(e){let n=t.previous;if(n===Bo)t.previous=e;else for(let r in e)n[r]=e[r];t.current=null,this.ngOnChanges(e)}}function UP(t,e,n,r,i){let s=this.declaredInputs[r],o=LD(t)||jP(t,{previous:Bo,current:null}),a=o.current||(o.current={}),u=o.previous,d=u[s];a[s]=new gm(d&&d.currentValue,n,u===Bo),kD(t,e,i,n)}var FD="__ngSimpleChanges__";function LD(t){return t[FD]||null}function jP(t,e){return t[FD]=e}var Mb=null;var qn=function(t,e,n){Mb?.(t,e,n)},BP="svg",$P="math";function Qn(t){for(;Array.isArray(t);)t=t[xr];return t}function VD(t,e){return Qn(e[t])}function hn(t,e){return Qn(e[t.index])}function oy(t,e){return t.data[e]}function HP(t,e){return t[e]}function Ri(t,e){let n=e[t];return Di(n)?n:n[xr]}function ay(t){return(t[re]&128)===128}function qP(t){return Mr(t[Pt])}function ih(t,e){return e==null?null:t[e]}function UD(t){t[Oo]=0}function jD(t){t[re]&1024||(t[re]|=1024,ay(t)&&Ah(t))}function zP(t,e){for(;t>0;)e=e[Xo],t--;return e}function Sh(t){return!!(t[re]&9216||t[ln]?.dirty)}function mm(t){t[Wn].changeDetectionScheduler?.notify(8),t[re]&64&&(t[re]|=1024),Sh(t)&&Ah(t)}function Ah(t){t[Wn].changeDetectionScheduler?.notify(0);let e=_s(t);for(;e!==null&&!(e[re]&8192||(e[re]|=8192,!ay(e)));)e=_s(e)}function BD(t,e){if((t[re]&256)===256)throw new Q(911,!1);t[bi]===null&&(t[bi]=[]),t[bi].push(e)}function GP(t,e){if(t[bi]===null)return;let n=t[bi].indexOf(e);n!==-1&&t[bi].splice(n,1)}function _s(t){let e=t[Pt];return Mr(e)?e[Pt]:e}var fe={lFrame:YD(null),bindingsEnabled:!0,skipHydrationRootTNode:null};var $D=!1;function WP(){return fe.lFrame.elementDepthCount}function KP(){fe.lFrame.elementDepthCount++}function QP(){fe.lFrame.elementDepthCount--}function HD(){return fe.bindingsEnabled}function YP(){return fe.skipHydrationRootTNode!==null}function ZP(t){return fe.skipHydrationRootTNode===t}function JP(){fe.skipHydrationRootTNode=null}function ke(){return fe.lFrame.lView}function Xt(){return fe.lFrame.tView}function L9(t){return fe.lFrame.contextLView=t,t[dn]}function V9(t){return fe.lFrame.contextLView=null,t}function kt(){let t=qD();for(;t!==null&&t.type===64;)t=t.parent;return t}function qD(){return fe.lFrame.currentTNode}function XP(){let t=fe.lFrame,e=t.currentTNode;return t.isParent?e:e.parent}function $c(t,e){let n=fe.lFrame;n.currentTNode=t,n.isParent=e}function zD(){return fe.lFrame.isParent}function ek(){fe.lFrame.isParent=!1}function tk(){return fe.lFrame.contextLView}function GD(){return $D}function Nb(t){$D=t}function nk(t){return fe.lFrame.bindingIndex=t}function Hc(){return fe.lFrame.bindingIndex++}function rk(t){let e=fe.lFrame,n=e.bindingIndex;return e.bindingIndex=e.bindingIndex+t,n}function ik(){return fe.lFrame.inI18n}function sk(t,e){let n=fe.lFrame;n.bindingIndex=n.bindingRootIndex=t,ym(e)}function ok(){return fe.lFrame.currentDirectiveIndex}function ym(t){fe.lFrame.currentDirectiveIndex=t}function ak(t){let e=fe.lFrame.currentDirectiveIndex;return e===-1?null:t[e]}function WD(t){fe.lFrame.currentQueryIndex=t}function ck(t){let e=t[he];return e.type===2?e.declTNode:e.type===1?t[Tn]:null}function KD(t,e,n){if(n&de.SkipSelf){let i=e,s=t;for(;i=i.parent,i===null&&!(n&de.Host);)if(i=ck(s),i===null||(s=s[Xo],i.type&10))break;if(i===null)return!1;e=i,t=s}let r=fe.lFrame=QD();return r.currentTNode=e,r.lView=t,!0}function cy(t){let e=QD(),n=t[he];fe.lFrame=e,e.currentTNode=n.firstChild,e.lView=t,e.tView=n,e.contextLView=t,e.bindingIndex=n.bindingStartIndex,e.inI18n=!1}function QD(){let t=fe.lFrame,e=t===null?null:t.child;return e===null?YD(t):e}function YD(t){let e={currentTNode:null,isParent:!0,lView:null,tView:null,selectedIndex:-1,contextLView:null,elementDepthCount:0,currentNamespace:null,currentDirectiveIndex:-1,bindingRootIndex:-1,bindingIndex:-1,currentQueryIndex:0,parent:t,child:null,inI18n:!1};return t!==null&&(t.child=e),e}function ZD(){let t=fe.lFrame;return fe.lFrame=t.parent,t.currentTNode=null,t.lView=null,t}var JD=ZD;function uy(){let t=ZD();t.isParent=!0,t.tView=null,t.selectedIndex=-1,t.contextLView=null,t.elementDepthCount=0,t.currentDirectiveIndex=-1,t.currentNamespace=null,t.bindingRootIndex=-1,t.bindingIndex=-1,t.currentQueryIndex=0}function uk(t){return(fe.lFrame.contextLView=zP(t,fe.lFrame.contextLView))[dn]}function ea(){return fe.lFrame.selectedIndex}function Is(t){fe.lFrame.selectedIndex=t}function ly(){let t=fe.lFrame;return oy(t.tView,t.selectedIndex)}function lk(){return fe.lFrame.currentNamespace}var XD=!0;function dy(){return XD}function hy(t){XD=t}function dk(t,e,n){let{ngOnChanges:r,ngOnInit:i,ngDoCheck:s}=e.type.prototype;if(r){let o=OD(e);(n.preOrderHooks??=[]).push(t,o),(n.preOrderCheckHooks??=[]).push(t,o)}i&&(n.preOrderHooks??=[]).push(0-t,i),s&&((n.preOrderHooks??=[]).push(t,s),(n.preOrderCheckHooks??=[]).push(t,s))}function fy(t,e){for(let n=e.directiveStart,r=e.directiveEnd;n<r;n++){let s=t.data[n].type.prototype,{ngAfterContentInit:o,ngAfterContentChecked:a,ngAfterViewInit:u,ngAfterViewChecked:d,ngOnDestroy:p}=s;o&&(t.contentHooks??=[]).push(-n,o),a&&((t.contentHooks??=[]).push(n,a),(t.contentCheckHooks??=[]).push(n,a)),u&&(t.viewHooks??=[]).push(-n,u),d&&((t.viewHooks??=[]).push(n,d),(t.viewCheckHooks??=[]).push(n,d)),p!=null&&(t.destroyHooks??=[]).push(n,p)}}function zd(t,e,n){eC(t,e,3,n)}function Gd(t,e,n,r){(t[re]&3)===n&&eC(t,e,n,r)}function Yg(t,e){let n=t[re];(n&3)===e&&(n&=16383,n+=1,t[re]=n)}function eC(t,e,n,r){let i=r!==void 0?t[Oo]&65535:0,s=r??-1,o=e.length-1,a=0;for(let u=i;u<o;u++)if(typeof e[u+1]=="number"){if(a=e[u],r!=null&&a>=r)break}else e[u]<0&&(t[Oo]+=65536),(a<s||s==-1)&&(hk(t,n,e,u),t[Oo]=(t[Oo]&4294901760)+u+2),u++}function Pb(t,e){qn(4,t,e);let n=Ie(null);try{e.call(t)}finally{Ie(n),qn(5,t,e)}}function hk(t,e,n,r){let i=n[r]<0,s=n[r+1],o=i?-n[r]:n[r],a=t[o];i?t[re]>>14<t[Oo]>>16&&(t[re]&3)===e&&(t[re]+=16384,Pb(a,s)):Pb(a,s)}var Uo=-1,Es=class{constructor(e,n,r){this.factory=e,this.resolving=!1,this.canSeeViewProviders=n,this.injectImpl=r}};function fk(t){return t instanceof Es}function pk(t){return(t.flags&8)!==0}function gk(t){return(t.flags&16)!==0}var Zg={},vm=class{constructor(e,n){this.injector=e,this.parentInjector=n}get(e,n,r){r=Eh(r);let i=this.injector.get(e,Zg,r);return i!==Zg||n===Zg?i:this.parentInjector.get(e,n,r)}};function tC(t){return t!==Uo}function sh(t){return t&32767}function mk(t){return t>>16}function oh(t,e){let n=mk(t),r=e;for(;n>0;)r=r[Xo],n--;return r}var wm=!0;function kb(t){let e=wm;return wm=t,e}var yk=256,nC=yk-1,rC=5,vk=0,zn={};function wk(t,e,n){let r;typeof n=="string"?r=n.charCodeAt(0)||0:n.hasOwnProperty(Pc)&&(r=n[Pc]),r==null&&(r=n[Pc]=vk++);let i=r&nC,s=1<<i;e.data[t+(i>>rC)]|=s}function ah(t,e){let n=iC(t,e);if(n!==-1)return n;let r=e[he];r.firstCreatePass&&(t.injectorIndex=e.length,Jg(r.data,t),Jg(e,null),Jg(r.blueprint,null));let i=py(t,e),s=t.injectorIndex;if(tC(i)){let o=sh(i),a=oh(i,e),u=a[he].data;for(let d=0;d<8;d++)e[s+d]=a[o+d]|u[o+d]}return e[s+8]=i,s}function Jg(t,e){t.push(0,0,0,0,0,0,0,0,e)}function iC(t,e){return t.injectorIndex===-1||t.parent&&t.parent.injectorIndex===t.injectorIndex||e[t.injectorIndex+8]===null?-1:t.injectorIndex}function py(t,e){if(t.parent&&t.parent.injectorIndex!==-1)return t.parent.injectorIndex;let n=0,r=null,i=e;for(;i!==null;){if(r=uC(i),r===null)return Uo;if(n++,i=i[Xo],r.injectorIndex!==-1)return r.injectorIndex|n<<16}return Uo}function _m(t,e,n){wk(t,e,n)}function _k(t,e){if(e==="class")return t.classes;if(e==="style")return t.styles;let n=t.attrs;if(n){let r=n.length,i=0;for(;i<r;){let s=n[i];if(vD(s))break;if(s===0)i=i+2;else if(typeof s=="number")for(i++;i<r&&typeof n[i]=="string";)i++;else{if(s===e)return n[i+1];i=i+2}}}return null}function sC(t,e,n){if(n&de.Optional||t!==void 0)return t;Xm(e,"NodeInjector")}function oC(t,e,n,r){if(n&de.Optional&&r===void 0&&(r=null),!(n&(de.Self|de.Host))){let i=t[qo],s=cn(void 0);try{return i?i.get(e,r,n&de.Optional):hD(e,r,n&de.Optional)}finally{cn(s)}}return sC(r,e,n)}function aC(t,e,n,r=de.Default,i){if(t!==null){if(e[re]&2048&&!(r&de.Self)){let o=Ck(t,e,n,r,zn);if(o!==zn)return o}let s=cC(t,e,n,r,zn);if(s!==zn)return s}return oC(e,n,r,i)}function cC(t,e,n,r,i){let s=bk(n);if(typeof s=="function"){if(!KD(e,t,r))return r&de.Host?sC(i,n,r):oC(e,n,r,i);try{let o;if(o=s(r),o==null&&!(r&de.Optional))Xm(n);else return o}finally{JD()}}else if(typeof s=="number"){let o=null,a=iC(t,e),u=Uo,d=r&de.Host?e[Kn][Tn]:null;for((a===-1||r&de.SkipSelf)&&(u=a===-1?py(t,e):e[a+8],u===Uo||!Fb(r,!1)?a=-1:(o=e[he],a=sh(u),e=oh(u,e)));a!==-1;){let p=e[he];if(Ob(s,a,p.data)){let g=Ik(a,e,n,o,r,d);if(g!==zn)return g}u=e[a+8],u!==Uo&&Fb(r,e[he].data[a+8]===d)&&Ob(s,a,e)?(o=p,a=sh(u),e=oh(u,e)):a=-1}}return i}function Ik(t,e,n,r,i,s){let o=e[he],a=o.data[t+8],u=r==null?Th(a)&&wm:r!=o&&(a.type&3)!==0,d=i&de.Host&&s===a,p=Ek(a,o,n,u,d);return p!==null?Wo(e,o,p,a):zn}function Ek(t,e,n,r,i){let s=t.providerIndexes,o=e.data,a=s&1048575,u=t.directiveStart,d=t.directiveEnd,p=s>>20,g=r?a:a+p,_=i?a+p:d;for(let E=g;E<_;E++){let M=o[E];if(E<u&&n===M||E>=u&&M.type===n)return E}if(i){let E=o[u];if(E&&Si(E)&&E.type===n)return u}return null}function Wo(t,e,n,r){let i=t[n],s=e.data;if(fk(i)){let o=i;o.resolving&&ZN(YN(s[n]));let a=kb(o.canSeeViewProviders);o.resolving=!0;let u,d=o.injectImpl?cn(o.injectImpl):null,p=KD(t,r,de.Default);try{i=t[n]=o.factory(void 0,s,t,r),e.firstCreatePass&&n>=r.directiveStart&&dk(n,s[n],e)}finally{d!==null&&cn(d),kb(a),o.resolving=!1,JD()}}return i}function bk(t){if(typeof t=="string")return t.charCodeAt(0)||0;let e=t.hasOwnProperty(Pc)?t[Pc]:void 0;return typeof e=="number"?e>=0?e&nC:Dk:e}function Ob(t,e,n){let r=1<<t;return!!(n[e+(t>>rC)]&r)}function Fb(t,e){return!(t&de.Self)&&!(t&de.Host&&e)}var vs=class{constructor(e,n){this._tNode=e,this._lView=n}get(e,n,r){return aC(this._tNode,this._lView,e,Eh(r),n)}};function Dk(){return new vs(kt(),ke())}function Xn(t){return jc(()=>{let e=t.prototype.constructor,n=e[Qd]||Im(e),r=Object.prototype,i=Object.getPrototypeOf(t.prototype).constructor;for(;i&&i!==r;){let s=i[Qd]||Im(i);if(s&&s!==n)return s;i=Object.getPrototypeOf(i)}return s=>new s})}function Im(t){return oD(t)?()=>{let e=Im(Mt(t));return e&&e()}:jo(t)}function Ck(t,e,n,r,i){let s=t,o=e;for(;s!==null&&o!==null&&o[re]&2048&&!(o[re]&512);){let a=cC(s,o,n,r|de.Self,zn);if(a!==zn)return a;let u=s.parent;if(!u){let d=o[MD];if(d){let p=d.get(n,zn,r);if(p!==zn)return p}u=uC(o),o=o[Xo]}s=u}return i}function uC(t){let e=t[he],n=e.type;return n===2?e.declTNode:n===1?t[Tn]:null}function gy(t){return _k(kt(),t)}function Lb(t,e=null,n=null,r){let i=lC(t,e,n,r);return i.resolveInjectorInitializers(),i}function lC(t,e=null,n=null,r,i=new Set){let s=[n||un,CP(t)];return r=r||(typeof t=="object"?void 0:Nt(t)),new Fc(s,e||iy(),r||null,i)}var Et=class t{static{this.THROW_IF_NOT_FOUND=kc}static{this.NULL=new Jd}static create(e,n){if(Array.isArray(e))return Lb({name:""},n,e,"");{let r=e.name??"";return Lb({name:r},e.parent,e.providers,r)}}static{this.\u0275prov=Y({token:t,providedIn:"any",factory:()=>ie(gD)})}static{this.__NG_ELEMENT_ID__=-1}};var Tk=new W("");Tk.__NG_ELEMENT_ID__=t=>{let e=kt();if(e===null)throw new Q(204,!1);if(e.type&2)return e.value;if(t&de.Optional)return null;throw new Q(204,!1)};var Sk="ngOriginalError";function Xg(t){return t[Sk]}var dC=!0,my=(()=>{class t{static{this.__NG_ELEMENT_ID__=Ak}static{this.__NG_ENV_ID__=n=>n}}return t})(),Em=class extends my{constructor(e){super(),this._lView=e}onDestroy(e){return BD(this._lView,e),()=>GP(this._lView,e)}};function Ak(){return new Em(ke())}var ta=(()=>{class t{constructor(){this.taskId=0,this.pendingTasks=new Set,this.hasPendingTasks=new It(!1)}get _hasPendingTasks(){return this.hasPendingTasks.value}add(){this._hasPendingTasks||this.hasPendingTasks.next(!0);let n=this.taskId++;return this.pendingTasks.add(n),n}remove(n){this.pendingTasks.delete(n),this.pendingTasks.size===0&&this._hasPendingTasks&&this.hasPendingTasks.next(!1)}ngOnDestroy(){this.pendingTasks.clear(),this._hasPendingTasks&&this.hasPendingTasks.next(!1)}static{this.\u0275prov=Y({token:t,providedIn:"root",factory:()=>new t})}}return t})();var bm=class extends gt{constructor(e=!1){super(),this.destroyRef=void 0,this.pendingTasks=void 0,this.__isAsync=e,xD()&&(this.destroyRef=j(my,{optional:!0})??void 0,this.pendingTasks=j(ta,{optional:!0})??void 0)}emit(e){let n=Ie(null);try{super.next(e)}finally{Ie(n)}}subscribe(e,n,r){let i=e,s=n||(()=>null),o=r;if(e&&typeof e=="object"){let u=e;i=u.next?.bind(u),s=u.error?.bind(u),o=u.complete?.bind(u)}this.__isAsync&&(s=this.wrapInTimeout(s),i&&(i=this.wrapInTimeout(i)),o&&(o=this.wrapInTimeout(o)));let a=super.subscribe({next:i,error:s,complete:o});return e instanceof ze&&e.add(a),a}wrapInTimeout(e){return n=>{let r=this.pendingTasks?.add();setTimeout(()=>{e(n),r!==void 0&&this.pendingTasks?.remove(r)})}}},Ge=bm;function ch(...t){}function hC(t){let e,n;function r(){t=ch;try{n!==void 0&&typeof cancelAnimationFrame=="function"&&cancelAnimationFrame(n),e!==void 0&&clearTimeout(e)}catch{}}return e=setTimeout(()=>{t(),r()}),typeof requestAnimationFrame=="function"&&(n=requestAnimationFrame(()=>{t(),r()})),()=>r()}function Vb(t){return queueMicrotask(()=>t()),()=>{t=ch}}var yy="isAngularZone",uh=yy+"_ID",Rk=0,Re=class t{constructor(e){this.hasPendingMacrotasks=!1,this.hasPendingMicrotasks=!1,this.isStable=!0,this.onUnstable=new Ge(!1),this.onMicrotaskEmpty=new Ge(!1),this.onStable=new Ge(!1),this.onError=new Ge(!1);let{enableLongStackTrace:n=!1,shouldCoalesceEventChangeDetection:r=!1,shouldCoalesceRunChangeDetection:i=!1,scheduleInRootZone:s=dC}=e;if(typeof Zone>"u")throw new Q(908,!1);Zone.assertZonePatched();let o=this;o._nesting=0,o._outer=o._inner=Zone.current,Zone.TaskTrackingZoneSpec&&(o._inner=o._inner.fork(new Zone.TaskTrackingZoneSpec)),n&&Zone.longStackTraceZoneSpec&&(o._inner=o._inner.fork(Zone.longStackTraceZoneSpec)),o.shouldCoalesceEventChangeDetection=!i&&r,o.shouldCoalesceRunChangeDetection=i,o.callbackScheduled=!1,o.scheduleInRootZone=s,Nk(o)}static isInAngularZone(){return typeof Zone<"u"&&Zone.current.get(yy)===!0}static assertInAngularZone(){if(!t.isInAngularZone())throw new Q(909,!1)}static assertNotInAngularZone(){if(t.isInAngularZone())throw new Q(909,!1)}run(e,n,r){return this._inner.run(e,n,r)}runTask(e,n,r,i){let s=this._inner,o=s.scheduleEventTask("NgZoneEvent: "+i,e,xk,ch,ch);try{return s.runTask(o,n,r)}finally{s.cancelTask(o)}}runGuarded(e,n,r){return this._inner.runGuarded(e,n,r)}runOutsideAngular(e){return this._outer.run(e)}},xk={};function vy(t){if(t._nesting==0&&!t.hasPendingMicrotasks&&!t.isStable)try{t._nesting++,t.onMicrotaskEmpty.emit(null)}finally{if(t._nesting--,!t.hasPendingMicrotasks)try{t.runOutsideAngular(()=>t.onStable.emit(null))}finally{t.isStable=!0}}}function Mk(t){if(t.isCheckStableRunning||t.callbackScheduled)return;t.callbackScheduled=!0;function e(){hC(()=>{t.callbackScheduled=!1,Dm(t),t.isCheckStableRunning=!0,vy(t),t.isCheckStableRunning=!1})}t.scheduleInRootZone?Zone.root.run(()=>{e()}):t._outer.run(()=>{e()}),Dm(t)}function Nk(t){let e=()=>{Mk(t)},n=Rk++;t._inner=t._inner.fork({name:"angular",properties:{[yy]:!0,[uh]:n,[uh+n]:!0},onInvokeTask:(r,i,s,o,a,u)=>{if(Pk(u))return r.invokeTask(s,o,a,u);try{return Ub(t),r.invokeTask(s,o,a,u)}finally{(t.shouldCoalesceEventChangeDetection&&o.type==="eventTask"||t.shouldCoalesceRunChangeDetection)&&e(),jb(t)}},onInvoke:(r,i,s,o,a,u,d)=>{try{return Ub(t),r.invoke(s,o,a,u,d)}finally{t.shouldCoalesceRunChangeDetection&&!t.callbackScheduled&&!kk(u)&&e(),jb(t)}},onHasTask:(r,i,s,o)=>{r.hasTask(s,o),i===s&&(o.change=="microTask"?(t._hasPendingMicrotasks=o.microTask,Dm(t),vy(t)):o.change=="macroTask"&&(t.hasPendingMacrotasks=o.macroTask))},onHandleError:(r,i,s,o)=>(r.handleError(s,o),t.runOutsideAngular(()=>t.onError.emit(o)),!1)})}function Dm(t){t._hasPendingMicrotasks||(t.shouldCoalesceEventChangeDetection||t.shouldCoalesceRunChangeDetection)&&t.callbackScheduled===!0?t.hasPendingMicrotasks=!0:t.hasPendingMicrotasks=!1}function Ub(t){t._nesting++,t.isStable&&(t.isStable=!1,t.onUnstable.emit(null))}function jb(t){t._nesting--,vy(t)}var Cm=class{constructor(){this.hasPendingMicrotasks=!1,this.hasPendingMacrotasks=!1,this.isStable=!0,this.onUnstable=new Ge,this.onMicrotaskEmpty=new Ge,this.onStable=new Ge,this.onError=new Ge}run(e,n,r){return e.apply(n,r)}runGuarded(e,n,r){return e.apply(n,r)}runOutsideAngular(e){return e()}runTask(e,n,r,i){return e.apply(n,r)}};function Pk(t){return fC(t,"__ignore_ng_zone__")}function kk(t){return fC(t,"__scheduler_tick__")}function fC(t,e){return!Array.isArray(t)||t.length!==1?!1:t[0]?.data?.[e]===!0}var Cr=class{constructor(){this._console=console}handleError(e){let n=this._findOriginalError(e);this._console.error("ERROR",e),n&&this._console.error("ORIGINAL ERROR",n)}_findOriginalError(e){let n=e&&Xg(e);for(;n&&Xg(n);)n=Xg(n);return n||null}},Ok=new W("",{providedIn:"root",factory:()=>{let t=j(Re),e=j(Cr);return n=>t.runOutsideAngular(()=>e.handleError(n))}});function Fk(){return Rh(kt(),ke())}function Rh(t,e){return new Sn(hn(t,e))}var Sn=(()=>{class t{constructor(n){this.nativeElement=n}static{this.__NG_ELEMENT_ID__=Fk}}return t})();function pC(t){return(t.flags&128)===128}var gC=new Map,Lk=0;function Vk(){return Lk++}function Uk(t){gC.set(t[Ch],t)}function Tm(t){gC.delete(t[Ch])}var Bb="__ngContext__";function bs(t,e){Di(e)?(t[Bb]=e[Ch],Uk(e)):t[Bb]=e}function mC(t){return vC(t[Lc])}function yC(t){return vC(t[Dn])}function vC(t){for(;t!==null&&!Mr(t);)t=t[Dn];return t}var Sm;function wC(t){Sm=t}function jk(){if(Sm!==void 0)return Sm;if(typeof document<"u")return document;throw new Q(210,!1)}var wy=new W("",{providedIn:"root",factory:()=>Bk}),Bk="ng",_y=new W(""),er=new W("",{providedIn:"platform",factory:()=>"unknown"});var Iy=new W("",{providedIn:"root",factory:()=>jk().body?.querySelector("[ngCspNonce]")?.getAttribute("ngCspNonce")||null});var $k="h",Hk="b";var qk=()=>null;function Ey(t,e,n=!1){return qk(t,e,n)}var _C=!1,zk=new W("",{providedIn:"root",factory:()=>_C});var jd;function Gk(){if(jd===void 0&&(jd=null,om.trustedTypes))try{jd=om.trustedTypes.createPolicy("angular#unsafe-bypass",{createHTML:t=>t,createScript:t=>t,createScriptURL:t=>t})}catch{}return jd}function $b(t){return Gk()?.createScriptURL(t)||t}var lh=class{constructor(e){this.changingThisBreaksApplicationSecurity=e}toString(){return`SafeValue must use [property]=binding: ${this.changingThisBreaksApplicationSecurity} (see ${iD})`}};function qc(t){return t instanceof lh?t.changingThisBreaksApplicationSecurity:t}function by(t,e){let n=Wk(t);if(n!=null&&n!==e){if(n==="ResourceURL"&&e==="URL")return!0;throw new Error(`Required a safe ${e}, got a ${n} (see ${iD})`)}return n===e}function Wk(t){return t instanceof lh&&t.getTypeName()||null}var Kk=/^(?!javascript:)(?:[a-z0-9+.-]+:|[^&:\/?#]*(?:[\/?#]|$))/i;function IC(t){return t=String(t),t.match(Kk)?t:"unsafe:"+t}var xh=function(t){return t[t.NONE=0]="NONE",t[t.HTML=1]="HTML",t[t.STYLE=2]="STYLE",t[t.SCRIPT=3]="SCRIPT",t[t.URL=4]="URL",t[t.RESOURCE_URL=5]="RESOURCE_URL",t}(xh||{});function Qk(t){let e=bC();return e?e.sanitize(xh.URL,t)||"":by(t,"URL")?qc(t):IC(Ih(t))}function Yk(t){let e=bC();if(e)return $b(e.sanitize(xh.RESOURCE_URL,t)||"");if(by(t,"ResourceURL"))return $b(qc(t));throw new Q(904,!1)}function Zk(t,e){return e==="src"&&(t==="embed"||t==="frame"||t==="iframe"||t==="media"||t==="script")||e==="href"&&(t==="base"||t==="link")?Yk:Qk}function EC(t,e,n){return Zk(e,n)(t)}function bC(){let t=ke();return t&&t[Wn].sanitizer}function DC(t){return t instanceof Function?t():t}function Jk(t){return(t??j(Et)).get(er)==="browser"}var Tr=function(t){return t[t.Important=1]="Important",t[t.DashCase=2]="DashCase",t}(Tr||{}),Xk;function Dy(t,e){return Xk(t,e)}function Fo(t,e,n,r,i){if(r!=null){let s,o=!1;Mr(r)?s=r:Di(r)&&(o=!0,r=r[xr]);let a=Qn(r);t===0&&n!==null?i==null?AC(e,n,a):hh(e,n,a,i||null,!0):t===1&&n!==null?hh(e,n,a,i||null,!0):t===2?pO(e,a,o):t===3&&e.destroyNode(a),s!=null&&mO(e,t,s,n,i)}}function eO(t,e){return t.createText(e)}function tO(t,e,n){t.setValue(e,n)}function CC(t,e,n){return t.createElement(e,n)}function nO(t,e){TC(t,e),e[xr]=null,e[Tn]=null}function rO(t,e,n,r,i,s){r[xr]=i,r[Tn]=e,Mh(t,r,n,1,i,s)}function TC(t,e){e[Wn].changeDetectionScheduler?.notify(9),Mh(t,e,e[dt],2,null,null)}function iO(t){let e=t[Lc];if(!e)return em(t[he],t);for(;e;){let n=null;if(Di(e))n=e[Lc];else{let r=e[Yt];r&&(n=r)}if(!n){for(;e&&!e[Dn]&&e!==t;)Di(e)&&em(e[he],e),e=e[Pt];e===null&&(e=t),Di(e)&&em(e[he],e),n=e&&e[Dn]}e=n}}function sO(t,e,n,r){let i=Yt+r,s=n.length;r>0&&(n[i-1][Dn]=e),r<s-Yt?(e[Dn]=n[i],pD(n,Yt+r,e)):(n.push(e),e[Dn]=null),e[Pt]=n;let o=e[zo];o!==null&&n!==o&&SC(o,e);let a=e[Go];a!==null&&a.insertView(t),mm(e),e[re]|=128}function SC(t,e){let n=t[nh],r=e[Pt];if(Di(r))t[re]|=rh.HasTransplantedViews;else{let i=r[Pt][Kn];e[Kn]!==i&&(t[re]|=rh.HasTransplantedViews)}n===null?t[nh]=[e]:n.push(e)}function Cy(t,e){let n=t[nh],r=n.indexOf(e);n.splice(r,1)}function dh(t,e){if(t.length<=Yt)return;let n=Yt+e,r=t[n];if(r){let i=r[zo];i!==null&&i!==t&&Cy(i,r),e>0&&(t[n-1][Dn]=r[Dn]);let s=Zd(t,Yt+e);nO(r[he],r);let o=s[Go];o!==null&&o.detachView(s[he]),r[Pt]=null,r[Dn]=null,r[re]&=-129}return r}function Ty(t,e){if(!(e[re]&256)){let n=e[dt];n.destroyNode&&Mh(t,e,n,3,null,null),iO(e)}}function em(t,e){if(e[re]&256)return;let n=Ie(null);try{e[re]&=-129,e[re]|=256,e[ln]&&Ag(e[ln]),aO(t,e),oO(t,e),e[he].type===1&&e[dt].destroy();let r=e[zo];if(r!==null&&Mr(e[Pt])){r!==e[Pt]&&Cy(r,e);let i=e[Go];i!==null&&i.detachView(t)}Tm(e)}finally{Ie(n)}}function oO(t,e){let n=t.cleanup,r=e[eh];if(n!==null)for(let s=0;s<n.length-1;s+=2)if(typeof n[s]=="string"){let o=n[s+3];o>=0?r[o]():r[-o].unsubscribe(),s+=2}else{let o=r[n[s+1]];n[s].call(o)}r!==null&&(e[eh]=null);let i=e[bi];if(i!==null){e[bi]=null;for(let s=0;s<i.length;s++){let o=i[s];o()}}}function aO(t,e){let n;if(t!=null&&(n=t.destroyHooks)!=null)for(let r=0;r<n.length;r+=2){let i=e[n[r]];if(!(i instanceof Es)){let s=n[r+1];if(Array.isArray(s))for(let o=0;o<s.length;o+=2){let a=i[s[o]],u=s[o+1];qn(4,a,u);try{u.call(a)}finally{qn(5,a,u)}}else{qn(4,i,s);try{s.call(i)}finally{qn(5,i,s)}}}}}function cO(t,e,n){return uO(t,e.parent,n)}function uO(t,e,n){let r=e;for(;r!==null&&r.type&168;)e=r,r=e.parent;if(r===null)return n[xr];{let{componentOffset:i}=r;if(i>-1){let{encapsulation:s}=t.data[r.directiveStart+i];if(s===Gn.None||s===Gn.Emulated)return null}return hn(r,n)}}function hh(t,e,n,r,i){t.insertBefore(e,n,r,i)}function AC(t,e,n){t.appendChild(e,n)}function Hb(t,e,n,r,i){r!==null?hh(t,e,n,r,i):AC(t,e,n)}function RC(t,e){return t.parentNode(e)}function lO(t,e){return t.nextSibling(e)}function dO(t,e,n){return fO(t,e,n)}function hO(t,e,n){return t.type&40?hn(t,n):null}var fO=hO,qb;function Sy(t,e,n,r){let i=cO(t,r,e),s=e[dt],o=r.parent||e[Tn],a=dO(o,r,e);if(i!=null)if(Array.isArray(n))for(let u=0;u<n.length;u++)Hb(s,i,n[u],a,!1);else Hb(s,i,n,a,!1);qb!==void 0&&qb(s,r,e,n,i)}function Nc(t,e){if(e!==null){let n=e.type;if(n&3)return hn(e,t);if(n&4)return Am(-1,t[e.index]);if(n&8){let r=e.child;if(r!==null)return Nc(t,r);{let i=t[e.index];return Mr(i)?Am(-1,i):Qn(i)}}else{if(n&128)return Nc(t,e.next);if(n&32)return Dy(e,t)()||Qn(t[e.index]);{let r=xC(t,e);if(r!==null){if(Array.isArray(r))return r[0];let i=_s(t[Kn]);return Nc(i,r)}else return Nc(t,e.next)}}}return null}function xC(t,e){if(e!==null){let r=t[Kn][Tn],i=e.projection;return r.projection[i]}return null}function Am(t,e){let n=Yt+t+1;if(n<e.length){let r=e[n],i=r[he].firstChild;if(i!==null)return Nc(r,i)}return e[ws]}function pO(t,e,n){t.removeChild(null,e,n)}function Ay(t,e,n,r,i,s,o){for(;n!=null;){if(n.type===128){n=n.next;continue}let a=r[n.index],u=n.type;if(o&&e===0&&(a&&bs(Qn(a),r),n.flags|=2),(n.flags&32)!==32)if(u&8)Ay(t,e,n.child,r,i,s,!1),Fo(e,t,i,a,s);else if(u&32){let d=Dy(n,r),p;for(;p=d();)Fo(e,t,i,p,s);Fo(e,t,i,a,s)}else u&16?gO(t,e,r,n,i,s):Fo(e,t,i,a,s);n=o?n.projectionNext:n.next}}function Mh(t,e,n,r,i,s){Ay(n,r,t.firstChild,e,i,s,!1)}function gO(t,e,n,r,i,s){let o=n[Kn],u=o[Tn].projection[r.projection];if(Array.isArray(u))for(let d=0;d<u.length;d++){let p=u[d];Fo(e,t,i,p,s)}else{let d=u,p=o[Pt];pC(r)&&(d.flags|=128),Ay(t,e,d,p,i,s,!0)}}function mO(t,e,n,r,i){let s=n[ws],o=Qn(n);s!==o&&Fo(e,t,r,s,i);for(let a=Yt;a<n.length;a++){let u=n[a];Mh(u[he],u,t,e,r,s)}}function yO(t,e,n,r,i){if(e)i?t.addClass(n,r):t.removeClass(n,r);else{let s=r.indexOf("-")===-1?void 0:Tr.DashCase;i==null?t.removeStyle(n,r,s):(typeof i=="string"&&i.endsWith("!important")&&(i=i.slice(0,-10),s|=Tr.Important),t.setStyle(n,r,i,s))}}function vO(t,e,n){t.setAttribute(e,"style",n)}function MC(t,e,n){n===""?t.removeAttribute(e,"class"):t.setAttribute(e,"class",n)}function NC(t,e,n){let{mergedAttrs:r,classes:i,styles:s}=n;r!==null&&lm(t,e,r),i!==null&&MC(t,e,i),s!==null&&vO(t,e,s)}var Ts={};function U9(t=1){PC(Xt(),ke(),ea()+t,!1)}function PC(t,e,n,r){if(!r)if((e[re]&3)===3){let s=t.preOrderCheckHooks;s!==null&&zd(e,s,n)}else{let s=t.preOrderHooks;s!==null&&Gd(e,s,0,n)}Is(n)}function ee(t,e=de.Default){let n=ke();if(n===null)return ie(t,e);let r=kt();return aC(r,n,Mt(t),e)}function kC(){let t="invalid";throw new Error(t)}function OC(t,e,n,r,i,s){let o=Ie(null);try{let a=null;i&Ci.SignalBased&&(a=e[r][Er]),a!==null&&a.transformFn!==void 0&&(s=a.transformFn(s)),i&Ci.HasDecoratorInputTransform&&(s=t.inputTransforms[r].call(e,s)),t.setInput!==null?t.setInput(e,a,s,n,r):kD(e,a,r,s)}finally{Ie(o)}}function wO(t,e){let n=t.hostBindingOpCodes;if(n!==null)try{for(let r=0;r<n.length;r++){let i=n[r];if(i<0)Is(~i);else{let s=i,o=n[++r],a=n[++r];sk(o,s);let u=e[s];a(2,u)}}}finally{Is(-1)}}function Nh(t,e,n,r,i,s,o,a,u,d,p){let g=e.blueprint.slice();return g[xr]=i,g[re]=r|4|128|8|64,(d!==null||t&&t[re]&2048)&&(g[re]|=2048),UD(g),g[Pt]=g[Xo]=t,g[dn]=n,g[Wn]=o||t&&t[Wn],g[dt]=a||t&&t[dt],g[qo]=u||t&&t[qo]||null,g[Tn]=s,g[Ch]=Vk(),g[Xd]=p,g[MD]=d,g[Kn]=e.type==2?t[Kn]:g,g}function Ph(t,e,n,r,i){let s=t.data[e];if(s===null)s=_O(t,e,n,r,i),ik()&&(s.flags|=32);else if(s.type&64){s.type=n,s.value=r,s.attrs=i;let o=XP();s.injectorIndex=o===null?-1:o.injectorIndex}return $c(s,!0),s}function _O(t,e,n,r,i){let s=qD(),o=zD(),a=o?s:s&&s.parent,u=t.data[e]=CO(t,a,n,e,r,i);return t.firstChild===null&&(t.firstChild=u),s!==null&&(o?s.child==null&&u.parent!==null&&(s.child=u):s.next===null&&(s.next=u,u.prev=s)),u}function FC(t,e,n,r){if(n===0)return-1;let i=e.length;for(let s=0;s<n;s++)e.push(r),t.blueprint.push(r),t.data.push(null);return i}function LC(t,e,n,r,i){let s=ea(),o=r&2;try{Is(-1),o&&e.length>Cn&&PC(t,e,Cn,!1),qn(o?2:0,i),n(r,i)}finally{Is(s),qn(o?3:1,i)}}function VC(t,e,n){if(PD(e)){let r=Ie(null);try{let i=e.directiveStart,s=e.directiveEnd;for(let o=i;o<s;o++){let a=t.data[o];if(a.contentQueries){let u=n[o];a.contentQueries(1,u,o)}}}finally{Ie(r)}}}function UC(t,e,n){HD()&&(MO(t,e,n,hn(n,e)),(n.flags&64)===64&&zC(t,e,n))}function jC(t,e,n=hn){let r=e.localNames;if(r!==null){let i=e.index+1;for(let s=0;s<r.length;s+=2){let o=r[s+1],a=o===-1?n(e,t):t[o];t[i++]=a}}}function BC(t){let e=t.tView;return e===null||e.incompleteFirstPass?t.tView=Ry(1,null,t.template,t.decls,t.vars,t.directiveDefs,t.pipeDefs,t.viewQuery,t.schemas,t.consts,t.id):e}function Ry(t,e,n,r,i,s,o,a,u,d,p){let g=Cn+r,_=g+i,E=IO(g,_),M=typeof d=="function"?d():d;return E[he]={type:t,blueprint:E,template:n,queries:null,viewQuery:a,declTNode:e,data:E.slice().fill(null,g),bindingStartIndex:g,expandoStartIndex:_,hostBindingOpCodes:null,firstCreatePass:!0,firstUpdatePass:!0,staticViewQueries:!1,staticContentQueries:!1,preOrderHooks:null,preOrderCheckHooks:null,contentHooks:null,contentCheckHooks:null,viewHooks:null,viewCheckHooks:null,destroyHooks:null,cleanup:null,contentQueries:null,components:null,directiveRegistry:typeof s=="function"?s():s,pipeRegistry:typeof o=="function"?o():o,firstChild:null,schemas:u,consts:M,incompleteFirstPass:!1,ssrId:p}}function IO(t,e){let n=[];for(let r=0;r<e;r++)n.push(r<t?null:Ts);return n}function EO(t,e,n,r){let s=r.get(zk,_C)||n===Gn.ShadowDom,o=t.selectRootElement(e,s);return bO(o),o}function bO(t){DO(t)}var DO=()=>null;function CO(t,e,n,r,i,s){let o=e?e.injectorIndex:-1,a=0;return YP()&&(a|=128),{type:n,index:r,insertBeforeIndex:null,injectorIndex:o,directiveStart:-1,directiveEnd:-1,directiveStylingLast:-1,componentOffset:-1,propertyBindings:null,flags:a,providerIndexes:0,value:i,attrs:s,mergedAttrs:null,localNames:null,initialInputs:void 0,inputs:null,outputs:null,tView:null,next:null,prev:null,projectionNext:null,child:null,parent:e,projection:null,styles:null,stylesWithoutHost:null,residualStyles:void 0,classes:null,classesWithoutHost:null,residualClasses:void 0,classBindings:0,styleBindings:0}}function zb(t,e,n,r,i){for(let s in e){if(!e.hasOwnProperty(s))continue;let o=e[s];if(o===void 0)continue;r??={};let a,u=Ci.None;Array.isArray(o)?(a=o[0],u=o[1]):a=o;let d=s;if(i!==null){if(!i.hasOwnProperty(s))continue;d=i[s]}t===0?Gb(r,n,d,a,u):Gb(r,n,d,a)}return r}function Gb(t,e,n,r,i){let s;t.hasOwnProperty(n)?(s=t[n]).push(e,r):s=t[n]=[e,r],i!==void 0&&s.push(i)}function TO(t,e,n){let r=e.directiveStart,i=e.directiveEnd,s=t.data,o=e.attrs,a=[],u=null,d=null;for(let p=r;p<i;p++){let g=s[p],_=n?n.get(g):null,E=_?_.inputs:null,M=_?_.outputs:null;u=zb(0,g.inputs,p,u,E),d=zb(1,g.outputs,p,d,M);let O=u!==null&&o!==null&&!ny(e)?$O(u,p,o):null;a.push(O)}u!==null&&(u.hasOwnProperty("class")&&(e.flags|=8),u.hasOwnProperty("style")&&(e.flags|=16)),e.initialInputs=a,e.inputs=u,e.outputs=d}function SO(t){return t==="class"?"className":t==="for"?"htmlFor":t==="formaction"?"formAction":t==="innerHtml"?"innerHTML":t==="readonly"?"readOnly":t==="tabindex"?"tabIndex":t}function $C(t,e,n,r,i,s,o,a){let u=hn(e,n),d=e.inputs,p;!a&&d!=null&&(p=d[r])?(xy(t,n,p,r,i),Th(e)&&AO(n,e.index)):e.type&3?(r=SO(r),i=o!=null?o(i,e.value||"",r):i,s.setProperty(u,r,i)):e.type&12}function AO(t,e){let n=Ri(e,t);n[re]&16||(n[re]|=64)}function HC(t,e,n,r){if(HD()){let i=r===null?null:{"":-1},s=PO(t,n),o,a;s===null?o=a=null:[o,a]=s,o!==null&&qC(t,e,n,o,i,a),i&&kO(n,r,i)}n.mergedAttrs=Oc(n.mergedAttrs,n.attrs)}function qC(t,e,n,r,i,s){for(let d=0;d<r.length;d++)_m(ah(n,e),t,r[d].type);FO(n,t.data.length,r.length);for(let d=0;d<r.length;d++){let p=r[d];p.providersResolver&&p.providersResolver(p)}let o=!1,a=!1,u=FC(t,e,r.length,null);for(let d=0;d<r.length;d++){let p=r[d];n.mergedAttrs=Oc(n.mergedAttrs,p.hostAttrs),LO(t,n,e,u,p),OO(u,p,i),p.contentQueries!==null&&(n.flags|=4),(p.hostBindings!==null||p.hostAttrs!==null||p.hostVars!==0)&&(n.flags|=64);let g=p.type.prototype;!o&&(g.ngOnChanges||g.ngOnInit||g.ngDoCheck)&&((t.preOrderHooks??=[]).push(n.index),o=!0),!a&&(g.ngOnChanges||g.ngDoCheck)&&((t.preOrderCheckHooks??=[]).push(n.index),a=!0),u++}TO(t,n,s)}function RO(t,e,n,r,i){let s=i.hostBindings;if(s){let o=t.hostBindingOpCodes;o===null&&(o=t.hostBindingOpCodes=[]);let a=~e.index;xO(o)!=a&&o.push(a),o.push(n,r,s)}}function xO(t){let e=t.length;for(;e>0;){let n=t[--e];if(typeof n=="number"&&n<0)return n}return 0}function MO(t,e,n,r){let i=n.directiveStart,s=n.directiveEnd;Th(n)&&VO(e,n,t.data[i+n.componentOffset]),t.firstCreatePass||ah(n,e),bs(r,e);let o=n.initialInputs;for(let a=i;a<s;a++){let u=t.data[a],d=Wo(e,t,a,n);if(bs(d,e),o!==null&&BO(e,a-i,d,u,n,o),Si(u)){let p=Ri(n.index,e);p[dn]=Wo(e,t,a,n)}}}function zC(t,e,n){let r=n.directiveStart,i=n.directiveEnd,s=n.index,o=ok();try{Is(s);for(let a=r;a<i;a++){let u=t.data[a],d=e[a];ym(a),(u.hostBindings!==null||u.hostVars!==0||u.hostAttrs!==null)&&NO(u,d)}}finally{Is(-1),ym(o)}}function NO(t,e){t.hostBindings!==null&&t.hostBindings(1,e)}function PO(t,e){let n=t.directiveRegistry,r=null,i=null;if(n)for(let s=0;s<n.length;s++){let o=n[s];if(mP(e,o.selectors,!1))if(r||(r=[]),Si(o))if(o.findHostDirectiveDefs!==null){let a=[];i=i||new Map,o.findHostDirectiveDefs(o,a,i),r.unshift(...a,o);let u=a.length;Rm(t,e,u)}else r.unshift(o),Rm(t,e,0);else i=i||new Map,o.findHostDirectiveDefs?.(o,r,i),r.push(o)}return r===null?null:[r,i]}function Rm(t,e,n){e.componentOffset=n,(t.components??=[]).push(e.index)}function kO(t,e,n){if(e){let r=t.localNames=[];for(let i=0;i<e.length;i+=2){let s=n[e[i+1]];if(s==null)throw new Q(-301,!1);r.push(e[i],s)}}}function OO(t,e,n){if(n){if(e.exportAs)for(let r=0;r<e.exportAs.length;r++)n[e.exportAs[r]]=t;Si(e)&&(n[""]=t)}}function FO(t,e,n){t.flags|=1,t.directiveStart=e,t.directiveEnd=e+n,t.providerIndexes=e}function LO(t,e,n,r,i){t.data[r]=i;let s=i.factory||(i.factory=jo(i.type,!0)),o=new Es(s,Si(i),ee);t.blueprint[r]=o,n[r]=o,RO(t,e,r,FC(t,n,i.hostVars,Ts),i)}function VO(t,e,n){let r=hn(e,t),i=BC(n),s=t[Wn].rendererFactory,o=16;n.signals?o=4096:n.onPush&&(o=64);let a=kh(t,Nh(t,i,null,o,r,e,null,s.createRenderer(r,n),null,null,null));t[e.index]=a}function UO(t,e,n,r,i,s){let o=hn(t,e);jO(e[dt],o,s,t.value,n,r,i)}function jO(t,e,n,r,i,s,o){if(s==null)t.removeAttribute(e,i,n);else{let a=o==null?Ih(s):o(s,r||"",i);t.setAttribute(e,i,a,n)}}function BO(t,e,n,r,i,s){let o=s[e];if(o!==null)for(let a=0;a<o.length;){let u=o[a++],d=o[a++],p=o[a++],g=o[a++];OC(r,n,u,d,p,g)}}function $O(t,e,n){let r=null,i=0;for(;i<n.length;){let s=n[i];if(s===0){i+=4;continue}else if(s===5){i+=2;continue}if(typeof s=="number")break;if(t.hasOwnProperty(s)){r===null&&(r=[]);let o=t[s];for(let a=0;a<o.length;a+=3)if(o[a]===e){r.push(s,o[a+1],o[a+2],n[i+1]);break}}i+=2}return r}function GC(t,e,n,r){return[t,!0,0,e,null,r,null,n,null,null]}function WC(t,e){let n=t.contentQueries;if(n!==null){let r=Ie(null);try{for(let i=0;i<n.length;i+=2){let s=n[i],o=n[i+1];if(o!==-1){let a=t.data[o];WD(s),a.contentQueries(2,e[o],o)}}}finally{Ie(r)}}}function kh(t,e){return t[Lc]?t[xb][Dn]=e:t[Lc]=e,t[xb]=e,e}function xm(t,e,n){WD(0);let r=Ie(null);try{e(t,n)}finally{Ie(r)}}function HO(t){return t[eh]??=[]}function qO(t){return t.cleanup??=[]}function KC(t,e){let n=t[qo],r=n?n.get(Cr,null):null;r&&r.handleError(e)}function xy(t,e,n,r,i){for(let s=0;s<n.length;){let o=n[s++],a=n[s++],u=n[s++],d=e[o],p=t.data[o];OC(p,d,r,a,u,i)}}function zO(t,e,n){let r=VD(e,t);tO(t[dt],r,n)}function GO(t,e){let n=Ri(e,t),r=n[he];WO(r,n);let i=n[xr];i!==null&&n[Xd]===null&&(n[Xd]=Ey(i,n[qo])),My(r,n,n[dn])}function WO(t,e){for(let n=e.length;n<t.blueprint.length;n++)e.push(t.blueprint[n])}function My(t,e,n){cy(e);try{let r=t.viewQuery;r!==null&&xm(1,r,n);let i=t.template;i!==null&&LC(t,e,i,1,n),t.firstCreatePass&&(t.firstCreatePass=!1),e[Go]?.finishViewCreation(t),t.staticContentQueries&&WC(t,e),t.staticViewQueries&&xm(2,t.viewQuery,n);let s=t.components;s!==null&&KO(e,s)}catch(r){throw t.firstCreatePass&&(t.incompleteFirstPass=!0,t.firstCreatePass=!1),r}finally{e[re]&=-5,uy()}}function KO(t,e){for(let n=0;n<e.length;n++)GO(t,e[n])}function QC(t,e,n,r){let i=Ie(null);try{let s=e.tView,a=t[re]&4096?4096:16,u=Nh(t,s,n,a,null,e,null,null,r?.injector??null,r?.embeddedViewInjector??null,r?.dehydratedView??null),d=t[e.index];u[zo]=d;let p=t[Go];return p!==null&&(u[Go]=p.createEmbeddedView(s)),My(s,u,n),u}finally{Ie(i)}}function QO(t,e){let n=Yt+e;if(n<t.length)return t[n]}function Mm(t,e){return!e||e.firstChild===null||pC(t)}function YC(t,e,n,r=!0){let i=e[he];if(sO(i,e,t,n),r){let o=Am(n,t),a=e[dt],u=RC(a,t[ws]);u!==null&&rO(i,t[Tn],a,e,u,o)}let s=e[Xd];s!==null&&s.firstChild!==null&&(s.firstChild=null)}function YO(t,e){let n=dh(t,e);return n!==void 0&&Ty(n[he],n),n}function fh(t,e,n,r,i=!1){for(;n!==null;){if(n.type===128){n=i?n.projectionNext:n.next;continue}let s=e[n.index];s!==null&&r.push(Qn(s)),Mr(s)&&ZO(s,r);let o=n.type;if(o&8)fh(t,e,n.child,r);else if(o&32){let a=Dy(n,e),u;for(;u=a();)r.push(u)}else if(o&16){let a=xC(e,n);if(Array.isArray(a))r.push(...a);else{let u=_s(e[Kn]);fh(u[he],u,a,r,!0)}}n=i?n.projectionNext:n.next}return r}function ZO(t,e){for(let n=Yt;n<t.length;n++){let r=t[n],i=r[he].firstChild;i!==null&&fh(r[he],r,i,e)}t[ws]!==t[xr]&&e.push(t[ws])}var ZC=[];function JO(t){return t[ln]??XO(t)}function XO(t){let e=ZC.pop()??Object.create(t1);return e.lView=t,e}function e1(t){t.lView[ln]!==t&&(t.lView=null,ZC.push(t))}var t1=ge(B({},Sc),{consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{Ah(t.lView)},consumerOnSignalRead(){this.lView[ln]=this}});function n1(t){let e=t[ln]??Object.create(r1);return e.lView=t,e}var r1=ge(B({},Sc),{consumerIsAlwaysLive:!0,consumerMarkedDirty:t=>{let e=_s(t.lView);for(;e&&!JC(e[he]);)e=_s(e);e&&jD(e)},consumerOnSignalRead(){this.lView[ln]=this}});function JC(t){return t.type!==2}var i1=100;function XC(t,e=!0,n=0){let r=t[Wn],i=r.rendererFactory,s=!1;s||i.begin?.();try{s1(t,n)}catch(o){throw e&&KC(t,o),o}finally{s||(i.end?.(),r.inlineEffectRunner?.flush())}}function s1(t,e){let n=GD();try{Nb(!0),Nm(t,e);let r=0;for(;Sh(t);){if(r===i1)throw new Q(103,!1);r++,Nm(t,1)}}finally{Nb(n)}}function o1(t,e,n,r){let i=e[re];if((i&256)===256)return;let s=!1,o=!1;!s&&e[Wn].inlineEffectRunner?.flush(),cy(e);let a=!0,u=null,d=null;s||(JC(t)?(d=JO(e),u=ud(d)):FE()===null?(a=!1,d=n1(e),u=ud(d)):e[ln]&&(Ag(e[ln]),e[ln]=null));try{UD(e),nk(t.bindingStartIndex),n!==null&&LC(t,e,n,2,r);let p=(i&3)===3;if(!s)if(p){let E=t.preOrderCheckHooks;E!==null&&zd(e,E,null)}else{let E=t.preOrderHooks;E!==null&&Gd(e,E,0,null),Yg(e,0)}if(o||a1(e),eT(e,0),t.contentQueries!==null&&WC(t,e),!s)if(p){let E=t.contentCheckHooks;E!==null&&zd(e,E)}else{let E=t.contentHooks;E!==null&&Gd(e,E,1),Yg(e,1)}wO(t,e);let g=t.components;g!==null&&nT(e,g,0);let _=t.viewQuery;if(_!==null&&xm(2,_,r),!s)if(p){let E=t.viewCheckHooks;E!==null&&zd(e,E)}else{let E=t.viewHooks;E!==null&&Gd(e,E,2),Yg(e,2)}if(t.firstUpdatePass===!0&&(t.firstUpdatePass=!1),e[Qg]){for(let E of e[Qg])E();e[Qg]=null}s||(e[re]&=-73)}catch(p){throw s||Ah(e),p}finally{d!==null&&(Tg(d,u),a&&e1(d)),uy()}}function eT(t,e){for(let n=mC(t);n!==null;n=yC(n))for(let r=Yt;r<n.length;r++){let i=n[r];tT(i,e)}}function a1(t){for(let e=mC(t);e!==null;e=yC(e)){if(!(e[re]&rh.HasTransplantedViews))continue;let n=e[nh];for(let r=0;r<n.length;r++){let i=n[r];jD(i)}}}function c1(t,e,n){let r=Ri(e,t);tT(r,n)}function tT(t,e){ay(t)&&Nm(t,e)}function Nm(t,e){let r=t[he],i=t[re],s=t[ln],o=!!(e===0&&i&16);if(o||=!!(i&64&&e===0),o||=!!(i&1024),o||=!!(s?.dirty&&Sg(s)),o||=!1,s&&(s.dirty=!1),t[re]&=-9217,o)o1(r,t,r.template,t[dn]);else if(i&8192){eT(t,1);let a=r.components;a!==null&&nT(t,a,1)}}function nT(t,e,n){for(let r=0;r<e.length;r++)c1(t,e[r],n)}function Ny(t,e){let n=GD()?64:1088;for(t[Wn].changeDetectionScheduler?.notify(e);t;){t[re]|=n;let r=_s(t);if(pm(t)&&!r)return t;t=r}return null}var Ds=class{get rootNodes(){let e=this._lView,n=e[he];return fh(n,e,n.firstChild,[])}constructor(e,n,r=!0){this._lView=e,this._cdRefInjectingView=n,this.notifyErrorHandler=r,this._appRef=null,this._attachedToViewContainer=!1}get context(){return this._lView[dn]}set context(e){this._lView[dn]=e}get destroyed(){return(this._lView[re]&256)===256}destroy(){if(this._appRef)this._appRef.detachView(this);else if(this._attachedToViewContainer){let e=this._lView[Pt];if(Mr(e)){let n=e[th],r=n?n.indexOf(this):-1;r>-1&&(dh(e,r),Zd(n,r))}this._attachedToViewContainer=!1}Ty(this._lView[he],this._lView)}onDestroy(e){BD(this._lView,e)}markForCheck(){Ny(this._cdRefInjectingView||this._lView,4)}detach(){this._lView[re]&=-129}reattach(){mm(this._lView),this._lView[re]|=128}detectChanges(){this._lView[re]|=1024,XC(this._lView,this.notifyErrorHandler)}checkNoChanges(){}attachToViewContainerRef(){if(this._appRef)throw new Q(902,!1);this._attachedToViewContainer=!0}detachFromAppRef(){this._appRef=null;let e=pm(this._lView),n=this._lView[zo];n!==null&&!e&&Cy(n,this._lView),TC(this._lView[he],this._lView)}attachToAppRef(e){if(this._attachedToViewContainer)throw new Q(902,!1);this._appRef=e;let n=pm(this._lView),r=this._lView[zo];r!==null&&!n&&SC(r,this._lView),mm(this._lView)}},Oh=(()=>{class t{static{this.__NG_ELEMENT_ID__=d1}}return t})(),u1=Oh,l1=class extends u1{constructor(e,n,r){super(),this._declarationLView=e,this._declarationTContainer=n,this.elementRef=r}get ssrId(){return this._declarationTContainer.tView?.ssrId||null}createEmbeddedView(e,n){return this.createEmbeddedViewImpl(e,n)}createEmbeddedViewImpl(e,n,r){let i=QC(this._declarationLView,this._declarationTContainer,e,{embeddedViewInjector:n,dehydratedView:r});return new Ds(i)}};function d1(){return rT(kt(),ke())}function rT(t,e){return t.type&4?new l1(e,t,Rh(t,e)):null}var B9=new RegExp(`^(\\d+)*(${Hk}|${$k})*(.*)`);var h1=()=>null;function Pm(t,e){return h1(t,e)}var Ko=class{},Fh=new W("",{providedIn:"root",factory:()=>!1});var iT=new W(""),sT=new W(""),km=class{},ph=class{};function f1(t){let e=Error(`No component factory found for ${Nt(t)}.`);return e[p1]=t,e}var p1="ngComponent";var Om=class{resolveComponentFactory(e){throw f1(e)}},Qo=class{static{this.NULL=new Om}},Yo=class{},tr=(()=>{class t{constructor(){this.destroyNode=null}static{this.__NG_ELEMENT_ID__=()=>g1()}}return t})();function g1(){let t=ke(),e=kt(),n=Ri(e.index,t);return(Di(n)?n:t)[dt]}var m1=(()=>{class t{static{this.\u0275prov=Y({token:t,providedIn:"root",factory:()=>null})}}return t})();function Fm(t,e,n){let r=n?t.styles:null,i=n?t.classes:null,s=0;if(e!==null)for(let o=0;o<e.length;o++){let a=e[o];if(typeof a=="number")s=a;else if(s==1)i=_b(i,a);else if(s==2){let u=a,d=e[++o];r=_b(r,u+": "+d+";")}}n?t.styles=r:t.stylesWithoutHost=r,n?t.classes=i:t.classesWithoutHost=i}var gh=class extends Qo{constructor(e){super(),this.ngModule=e}resolveComponentFactory(e){let n=Ti(e);return new Zo(n,this.ngModule)}};function Wb(t,e){let n=[];for(let r in t){if(!t.hasOwnProperty(r))continue;let i=t[r];if(i===void 0)continue;let s=Array.isArray(i),o=s?i[0]:i,a=s?i[1]:Ci.None;e?n.push({propName:o,templateName:r,isSignal:(a&Ci.SignalBased)!==0}):n.push({propName:o,templateName:r})}return n}function y1(t){let e=t.toLowerCase();return e==="svg"?BP:e==="math"?$P:null}var Zo=class extends ph{get inputs(){let e=this.componentDef,n=e.inputTransforms,r=Wb(e.inputs,!0);if(n!==null)for(let i of r)n.hasOwnProperty(i.propName)&&(i.transform=n[i.propName]);return r}get outputs(){return Wb(this.componentDef.outputs,!1)}constructor(e,n){super(),this.componentDef=e,this.ngModule=n,this.componentType=e.type,this.selector=_P(e.selectors),this.ngContentSelectors=e.ngContentSelectors?e.ngContentSelectors:[],this.isBoundToModule=!!n}create(e,n,r,i){let s=Ie(null);try{i=i||this.ngModule;let o=i instanceof Zt?i:i?.injector;o&&this.componentDef.getStandaloneInjector!==null&&(o=this.componentDef.getStandaloneInjector(o)||o);let a=o?new vm(e,o):e,u=a.get(Yo,null);if(u===null)throw new Q(407,!1);let d=a.get(m1,null),p=a.get(Ko,null),g={rendererFactory:u,sanitizer:d,inlineEffectRunner:null,changeDetectionScheduler:p},_=u.createRenderer(null,this.componentDef),E=this.componentDef.selectors[0][0]||"div",M=r?EO(_,r,this.componentDef.encapsulation,a):CC(_,E,y1(E)),O=512;this.componentDef.signals?O|=4096:this.componentDef.onPush||(O|=16);let P=null;M!==null&&(P=Ey(M,a,!0));let V=Ry(0,null,null,1,0,null,null,null,null,null,null),G=Nh(null,V,null,O,null,null,g,_,a,null,P);cy(G);let q,K,Ce=null;try{let J=this.componentDef,T,I=null;J.findHostDirectiveDefs?(T=[],I=new Map,J.findHostDirectiveDefs(J,T,I),T.push(J)):T=[J];let b=v1(G,M);Ce=w1(b,M,J,T,G,g,_),K=oy(V,Cn),M&&E1(_,J,M,r),n!==void 0&&b1(K,this.ngContentSelectors,n),q=I1(Ce,J,T,I,G,[D1]),My(V,G,null)}catch(J){throw Ce!==null&&Tm(Ce),Tm(G),J}finally{uy()}return new Lm(this.componentType,q,Rh(K,G),G,K)}finally{Ie(s)}}},Lm=class extends km{constructor(e,n,r,i,s){super(),this.location=r,this._rootLView=i,this._tNode=s,this.previousInputValues=null,this.instance=n,this.hostView=this.changeDetectorRef=new Ds(i,void 0,!1),this.componentType=e}setInput(e,n){let r=this._tNode.inputs,i;if(r!==null&&(i=r[e])){if(this.previousInputValues??=new Map,this.previousInputValues.has(e)&&Object.is(this.previousInputValues.get(e),n))return;let s=this._rootLView;xy(s[he],s,i,e,n),this.previousInputValues.set(e,n);let o=Ri(this._tNode.index,s);Ny(o,1)}}get injector(){return new vs(this._tNode,this._rootLView)}destroy(){this.hostView.destroy()}onDestroy(e){this.hostView.onDestroy(e)}};function v1(t,e){let n=t[he],r=Cn;return t[r]=e,Ph(n,r,2,"#host",null)}function w1(t,e,n,r,i,s,o){let a=i[he];_1(r,t,e,o);let u=null;e!==null&&(u=Ey(e,i[qo]));let d=s.rendererFactory.createRenderer(e,n),p=16;n.signals?p=4096:n.onPush&&(p=64);let g=Nh(i,BC(n),null,p,i[t.index],t,s,d,null,null,u);return a.firstCreatePass&&Rm(a,t,r.length-1),kh(i,g),i[t.index]=g}function _1(t,e,n,r){for(let i of t)e.mergedAttrs=Oc(e.mergedAttrs,i.hostAttrs);e.mergedAttrs!==null&&(Fm(e,e.mergedAttrs,!0),n!==null&&NC(r,n,e))}function I1(t,e,n,r,i,s){let o=kt(),a=i[he],u=hn(o,i);qC(a,i,o,n,null,r);for(let p=0;p<n.length;p++){let g=o.directiveStart+p,_=Wo(i,a,g,o);bs(_,i)}zC(a,i,o),u&&bs(u,i);let d=Wo(i,a,o.directiveStart+o.componentOffset,o);if(t[dn]=i[dn]=d,s!==null)for(let p of s)p(d,e);return VC(a,o,i),d}function E1(t,e,n,r){if(r)lm(t,n,["ng-version","18.2.9"]);else{let{attrs:i,classes:s}=IP(e.selectors[0]);i&&lm(t,n,i),s&&s.length>0&&MC(t,n,s.join(" "))}}function b1(t,e,n){let r=t.projection=[];for(let i=0;i<e.length;i++){let s=n[i];r.push(s!=null?Array.from(s):null)}}function D1(){let t=kt();fy(ke()[he],t)}var na=(()=>{class t{static{this.__NG_ELEMENT_ID__=C1}}return t})();function C1(){let t=kt();return S1(t,ke())}var T1=na,oT=class extends T1{constructor(e,n,r){super(),this._lContainer=e,this._hostTNode=n,this._hostLView=r}get element(){return Rh(this._hostTNode,this._hostLView)}get injector(){return new vs(this._hostTNode,this._hostLView)}get parentInjector(){let e=py(this._hostTNode,this._hostLView);if(tC(e)){let n=oh(e,this._hostLView),r=sh(e),i=n[he].data[r+8];return new vs(i,n)}else return new vs(null,this._hostLView)}clear(){for(;this.length>0;)this.remove(this.length-1)}get(e){let n=Kb(this._lContainer);return n!==null&&n[e]||null}get length(){return this._lContainer.length-Yt}createEmbeddedView(e,n,r){let i,s;typeof r=="number"?i=r:r!=null&&(i=r.index,s=r.injector);let o=Pm(this._lContainer,e.ssrId),a=e.createEmbeddedViewImpl(n||{},s,o);return this.insertImpl(a,i,Mm(this._hostTNode,o)),a}createComponent(e,n,r,i,s){let o=e&&!LP(e),a;if(o)a=n;else{let M=n||{};a=M.index,r=M.injector,i=M.projectableNodes,s=M.environmentInjector||M.ngModuleRef}let u=o?e:new Zo(Ti(e)),d=r||this.parentInjector;if(!s&&u.ngModule==null){let O=(o?d:this.parentInjector).get(Zt,null);O&&(s=O)}let p=Ti(u.componentType??{}),g=Pm(this._lContainer,p?.id??null),_=g?.firstChild??null,E=u.create(d,i,_,s);return this.insertImpl(E.hostView,a,Mm(this._hostTNode,g)),E}insert(e,n){return this.insertImpl(e,n,!0)}insertImpl(e,n,r){let i=e._lView;if(qP(i)){let a=this.indexOf(e);if(a!==-1)this.detach(a);else{let u=i[Pt],d=new oT(u,u[Tn],u[Pt]);d.detach(d.indexOf(e))}}let s=this._adjustIndex(n),o=this._lContainer;return YC(o,i,s,r),e.attachToViewContainerRef(),pD(tm(o),s,e),e}move(e,n){return this.insert(e,n)}indexOf(e){let n=Kb(this._lContainer);return n!==null?n.indexOf(e):-1}remove(e){let n=this._adjustIndex(e,-1),r=dh(this._lContainer,n);r&&(Zd(tm(this._lContainer),n),Ty(r[he],r))}detach(e){let n=this._adjustIndex(e,-1),r=dh(this._lContainer,n);return r&&Zd(tm(this._lContainer),n)!=null?new Ds(r):null}_adjustIndex(e,n=0){return e??this.length+n}};function Kb(t){return t[th]}function tm(t){return t[th]||(t[th]=[])}function S1(t,e){let n,r=e[t.index];return Mr(r)?n=r:(n=GC(r,e,null,t),e[t.index]=n,kh(e,n)),R1(n,e,t,r),new oT(n,t,e)}function A1(t,e){let n=t[dt],r=n.createComment(""),i=hn(e,t),s=RC(n,i);return hh(n,s,r,lO(n,i),!1),r}var R1=N1,x1=()=>!1;function M1(t,e,n){return x1(t,e,n)}function N1(t,e,n,r){if(t[ws])return;let i;n.type&8?i=Qn(r):i=A1(e,n),t[ws]=i}var Qb=new Set;function Ss(t){Qb.has(t)||(Qb.add(t),performance?.mark?.("mark_feature_usage",{detail:{feature:t}}))}function P1(t){return typeof t=="function"&&t[Er]!==void 0}function ra(t,e){Ss("NgSignals");let n=WE(t),r=n[Er];return e?.equal&&(r.equal=e.equal),n.set=i=>Rg(r,i),n.update=i=>KE(r,i),n.asReadonly=k1.bind(n),n}function k1(){let t=this[Er];if(t.readonlyFn===void 0){let e=()=>this();e[Er]=t,t.readonlyFn=e}return t.readonlyFn}function aT(t){return P1(t)&&typeof t.set=="function"}function O1(t){return Object.getPrototypeOf(t.prototype).constructor}function Ot(t){let e=O1(t.type),n=!0,r=[t];for(;e;){let i;if(Si(t))i=e.\u0275cmp||e.\u0275dir;else{if(e.\u0275cmp)throw new Q(903,!1);i=e.\u0275dir}if(i){if(n){r.push(i);let o=t;o.inputs=Bd(t.inputs),o.inputTransforms=Bd(t.inputTransforms),o.declaredInputs=Bd(t.declaredInputs),o.outputs=Bd(t.outputs);let a=i.hostBindings;a&&j1(t,a);let u=i.viewQuery,d=i.contentQueries;if(u&&V1(t,u),d&&U1(t,d),F1(t,i),$N(t.outputs,i.outputs),Si(i)&&i.data.animation){let p=t.data;p.animation=(p.animation||[]).concat(i.data.animation)}}let s=i.features;if(s)for(let o=0;o<s.length;o++){let a=s[o];a&&a.ngInherit&&a(t),a===Ot&&(n=!1)}}e=Object.getPrototypeOf(e)}L1(r)}function F1(t,e){for(let n in e.inputs){if(!e.inputs.hasOwnProperty(n)||t.inputs.hasOwnProperty(n))continue;let r=e.inputs[n];if(r!==void 0&&(t.inputs[n]=r,t.declaredInputs[n]=e.declaredInputs[n],e.inputTransforms!==null)){let i=Array.isArray(r)?r[0]:r;if(!e.inputTransforms.hasOwnProperty(i))continue;t.inputTransforms??={},t.inputTransforms[i]=e.inputTransforms[i]}}}function L1(t){let e=0,n=null;for(let r=t.length-1;r>=0;r--){let i=t[r];i.hostVars=e+=i.hostVars,i.hostAttrs=Oc(i.hostAttrs,n=Oc(n,i.hostAttrs))}}function Bd(t){return t===Bo?{}:t===un?[]:t}function V1(t,e){let n=t.viewQuery;n?t.viewQuery=(r,i)=>{e(r,i),n(r,i)}:t.viewQuery=e}function U1(t,e){let n=t.contentQueries;n?t.contentQueries=(r,i,s)=>{e(r,i,s),n(r,i,s)}:t.contentQueries=e}function j1(t,e){let n=t.hostBindings;n?t.hostBindings=(r,i)=>{e(r,i),n(r,i)}:t.hostBindings=e}function Py(t){let e=t.inputConfig,n={};for(let r in e)if(e.hasOwnProperty(r)){let i=e[r];Array.isArray(i)&&i[3]&&(n[r]=i[3])}t.inputTransforms=n}var Ai=class{},Vc=class{};var Vm=class extends Ai{constructor(e,n,r,i=!0){super(),this.ngModuleType=e,this._parent=n,this._bootstrapComponents=[],this.destroyCbs=[],this.componentFactoryResolver=new gh(this);let s=bD(e);this._bootstrapComponents=DC(s.bootstrap),this._r3Injector=lC(e,n,[{provide:Ai,useValue:this},{provide:Qo,useValue:this.componentFactoryResolver},...r],Nt(e),new Set(["environment"])),i&&this.resolveInjectorInitializers()}resolveInjectorInitializers(){this._r3Injector.resolveInjectorInitializers(),this.instance=this._r3Injector.get(this.ngModuleType)}get injector(){return this._r3Injector}destroy(){let e=this._r3Injector;!e.destroyed&&e.destroy(),this.destroyCbs.forEach(n=>n()),this.destroyCbs=null}onDestroy(e){this.destroyCbs.push(e)}},Um=class extends Vc{constructor(e){super(),this.moduleType=e}create(e){return new Vm(this.moduleType,e,[])}};var mh=class extends Ai{constructor(e){super(),this.componentFactoryResolver=new gh(this),this.instance=null;let n=new Fc([...e.providers,{provide:Ai,useValue:this},{provide:Qo,useValue:this.componentFactoryResolver}],e.parent||iy(),e.debugName,new Set(["environment"]));this.injector=n,e.runEnvironmentInitializers&&n.resolveInjectorInitializers()}destroy(){this.injector.destroy()}onDestroy(e){this.injector.onDestroy(e)}};function Lh(t,e,n=null){return new mh({providers:t,parent:e,debugName:n,runEnvironmentInitializers:!0}).injector}function cT(t){return $1(t)?Array.isArray(t)||!(t instanceof Map)&&Symbol.iterator in t:!1}function B1(t,e){if(Array.isArray(t))for(let n=0;n<t.length;n++)e(t[n]);else{let n=t[Symbol.iterator](),r;for(;!(r=n.next()).done;)e(r.value)}}function $1(t){return t!==null&&(typeof t=="function"||typeof t=="object")}function ia(t,e,n){let r=t[e];return Object.is(r,n)?!1:(t[e]=n,!0)}function H1(t){return(t.flags&32)===32}function q1(t,e,n,r,i,s,o,a,u){let d=e.consts,p=Ph(e,t,4,o||null,a||null);HC(e,n,p,ih(d,u)),fy(e,p);let g=p.tView=Ry(2,p,r,i,s,e.directiveRegistry,e.pipeRegistry,null,e.schemas,d,null);return e.queries!==null&&(e.queries.template(e,p),g.queries=e.queries.embeddedTView(p)),p}function z1(t,e,n,r,i,s,o,a,u,d){let p=n+Cn,g=e.firstCreatePass?q1(p,e,t,r,i,s,o,a,u):e.data[p];$c(g,!1);let _=G1(e,t,g,n);dy()&&Sy(e,t,_,g),bs(_,t);let E=GC(_,t,_,g);return t[p]=E,kh(t,E),M1(E,g,t),sy(g)&&UC(e,t,g),u!=null&&jC(t,g,d),g}function ky(t,e,n,r,i,s,o,a){let u=ke(),d=Xt(),p=ih(d.consts,s);return z1(u,d,t,e,n,r,i,p,o,a),ky}var G1=W1;function W1(t,e,n,r){return hy(!0),e[dt].createComment("")}var Lo=function(t){return t[t.EarlyRead=0]="EarlyRead",t[t.Write=1]="Write",t[t.MixedReadWrite=2]="MixedReadWrite",t[t.Read=3]="Read",t}(Lo||{}),uT=(()=>{class t{constructor(){this.impl=null}execute(){this.impl?.execute()}static{this.\u0275prov=Y({token:t,providedIn:"root",factory:()=>new t})}}return t})(),jm=class t{constructor(){this.ngZone=j(Re),this.scheduler=j(Ko),this.errorHandler=j(Cr,{optional:!0}),this.sequences=new Set,this.deferredRegistrations=new Set,this.executing=!1}static{this.PHASES=[Lo.EarlyRead,Lo.Write,Lo.MixedReadWrite,Lo.Read]}execute(){this.executing=!0;for(let e of t.PHASES)for(let n of this.sequences)if(!(n.erroredOrDestroyed||!n.hooks[e]))try{n.pipelinedValue=this.ngZone.runOutsideAngular(()=>n.hooks[e](n.pipelinedValue))}catch(r){n.erroredOrDestroyed=!0,this.errorHandler?.handleError(r)}this.executing=!1;for(let e of this.sequences)e.afterRun(),e.once&&(this.sequences.delete(e),e.destroy());for(let e of this.deferredRegistrations)this.sequences.add(e);this.deferredRegistrations.size>0&&this.scheduler.notify(7),this.deferredRegistrations.clear()}register(e){this.executing?this.deferredRegistrations.add(e):(this.sequences.add(e),this.scheduler.notify(6))}unregister(e){this.executing&&this.sequences.has(e)?(e.erroredOrDestroyed=!0,e.pipelinedValue=void 0,e.once=!0):(this.sequences.delete(e),this.deferredRegistrations.delete(e))}static{this.\u0275prov=Y({token:t,providedIn:"root",factory:()=>new t})}},Bm=class{constructor(e,n,r,i){this.impl=e,this.hooks=n,this.once=r,this.erroredOrDestroyed=!1,this.pipelinedValue=void 0,this.unregisterOnDestroy=i?.onDestroy(()=>this.destroy())}afterRun(){this.erroredOrDestroyed=!1,this.pipelinedValue=void 0}destroy(){this.impl.unregister(this),this.unregisterOnDestroy?.()}};function Oy(t,e){!e?.injector&&FP(Oy);let n=e?.injector??j(Et);return Jk(n)?(Ss("NgAfterNextRender"),Q1(t,n,e,!0)):Y1}function K1(t,e){if(t instanceof Function){let n=[void 0,void 0,void 0,void 0];return n[e]=t,n}else return[t.earlyRead,t.write,t.mixedReadWrite,t.read]}function Q1(t,e,n,r){let i=e.get(uT);i.impl??=e.get(jm);let s=n?.phase??Lo.MixedReadWrite,o=n?.manualCleanup!==!0?e.get(my):null,a=new Bm(i.impl,K1(t,s),r,o);return i.impl.register(a),a}var Y1={destroy(){}};function sa(t,e,n,r){let i=ke(),s=Hc();if(ia(i,s,e)){let o=Xt(),a=ly();UO(a,i,t,e,n,r)}return sa}function Z1(t,e,n,r){return ia(t,Hc(),n)?e+Ih(n)+r:Ts}function $d(t,e){return t<<17|e<<2}function Cs(t){return t>>17&32767}function J1(t){return(t&2)==2}function X1(t,e){return t&131071|e<<17}function $m(t){return t|2}function Jo(t){return(t&131068)>>2}function nm(t,e){return t&-131069|e<<2}function eF(t){return(t&1)===1}function Hm(t){return t|1}function tF(t,e,n,r,i,s){let o=s?e.classBindings:e.styleBindings,a=Cs(o),u=Jo(o);t[r]=n;let d=!1,p;if(Array.isArray(n)){let g=n;p=g[1],(p===null||Bc(g,p)>0)&&(d=!0)}else p=n;if(i)if(u!==0){let _=Cs(t[a+1]);t[r+1]=$d(_,a),_!==0&&(t[_+1]=nm(t[_+1],r)),t[a+1]=X1(t[a+1],r)}else t[r+1]=$d(a,0),a!==0&&(t[a+1]=nm(t[a+1],r)),a=r;else t[r+1]=$d(u,0),a===0?a=r:t[u+1]=nm(t[u+1],r),u=r;d&&(t[r+1]=$m(t[r+1])),Yb(t,p,r,!0),Yb(t,p,r,!1),nF(e,p,t,r,s),o=$d(a,u),s?e.classBindings=o:e.styleBindings=o}function nF(t,e,n,r,i){let s=i?t.residualClasses:t.residualStyles;s!=null&&typeof e=="string"&&Bc(s,e)>=0&&(n[r+1]=Hm(n[r+1]))}function Yb(t,e,n,r){let i=t[n+1],s=e===null,o=r?Cs(i):Jo(i),a=!1;for(;o!==0&&(a===!1||s);){let u=t[o],d=t[o+1];rF(u,e)&&(a=!0,t[o+1]=r?Hm(d):$m(d)),o=r?Cs(d):Jo(d)}a&&(t[n+1]=r?$m(i):Hm(i))}function rF(t,e){return t===null||e==null||(Array.isArray(t)?t[1]:t)===e?!0:Array.isArray(t)&&typeof e=="string"?Bc(t,e)>=0:!1}function Fy(t,e,n){let r=ke(),i=Hc();if(ia(r,i,e)){let s=Xt(),o=ly();$C(s,o,r,t,e,r[dt],n,!1)}return Fy}function Zb(t,e,n,r,i){let s=e.inputs,o=i?"class":"style";xy(t,n,s[o],o,r)}function Vh(t,e){return iF(t,e,null,!0),Vh}function iF(t,e,n,r){let i=ke(),s=Xt(),o=rk(2);if(s.firstUpdatePass&&oF(s,t,o,r),e!==Ts&&ia(i,o,e)){let a=s.data[ea()];dF(s,a,i,i[dt],t,i[o+1]=hF(e,n),r,o)}}function sF(t,e){return e>=t.expandoStartIndex}function oF(t,e,n,r){let i=t.data;if(i[n+1]===null){let s=i[ea()],o=sF(t,n);fF(s,r)&&e===null&&!o&&(e=!1),e=aF(i,s,e,r),tF(i,s,e,n,o,r)}}function aF(t,e,n,r){let i=ak(t),s=r?e.residualClasses:e.residualStyles;if(i===null)(r?e.classBindings:e.styleBindings)===0&&(n=rm(null,t,e,n,r),n=Uc(n,e.attrs,r),s=null);else{let o=e.directiveStylingLast;if(o===-1||t[o]!==i)if(n=rm(i,t,e,n,r),s===null){let u=cF(t,e,r);u!==void 0&&Array.isArray(u)&&(u=rm(null,t,e,u[1],r),u=Uc(u,e.attrs,r),uF(t,e,r,u))}else s=lF(t,e,r)}return s!==void 0&&(r?e.residualClasses=s:e.residualStyles=s),n}function cF(t,e,n){let r=n?e.classBindings:e.styleBindings;if(Jo(r)!==0)return t[Cs(r)]}function uF(t,e,n,r){let i=n?e.classBindings:e.styleBindings;t[Cs(i)]=r}function lF(t,e,n){let r,i=e.directiveEnd;for(let s=1+e.directiveStylingLast;s<i;s++){let o=t[s].hostAttrs;r=Uc(r,o,n)}return Uc(r,e.attrs,n)}function rm(t,e,n,r,i){let s=null,o=n.directiveEnd,a=n.directiveStylingLast;for(a===-1?a=n.directiveStart:a++;a<o&&(s=e[a],r=Uc(r,s.hostAttrs,i),s!==t);)a++;return t!==null&&(n.directiveStylingLast=a),r}function Uc(t,e,n){let r=n?1:2,i=-1;if(e!==null)for(let s=0;s<e.length;s++){let o=e[s];typeof o=="number"?i=o:i===r&&(Array.isArray(t)||(t=t===void 0?[]:["",t]),cP(t,o,n?!0:e[++s]))}return t===void 0?null:t}function dF(t,e,n,r,i,s,o,a){if(!(e.type&3))return;let u=t.data,d=u[a+1],p=eF(d)?Jb(u,e,n,i,Jo(d),o):void 0;if(!yh(p)){yh(s)||J1(d)&&(s=Jb(u,null,n,i,a,o));let g=VD(ea(),n);yO(r,o,g,i,s)}}function Jb(t,e,n,r,i,s){let o=e===null,a;for(;i>0;){let u=t[i],d=Array.isArray(u),p=d?u[1]:u,g=p===null,_=n[i+1];_===Ts&&(_=g?un:void 0);let E=g?Wg(_,r):p===r?_:void 0;if(d&&!yh(E)&&(E=Wg(u,r)),yh(E)&&(a=E,o))return a;let M=t[i+1];i=o?Cs(M):Jo(M)}if(e!==null){let u=s?e.residualClasses:e.residualStyles;u!=null&&(a=Wg(u,r))}return a}function yh(t){return t!==void 0}function hF(t,e){return t==null||t===""||(typeof e=="string"?t=t+e:typeof t=="object"&&(t=Nt(qc(t)))),t}function fF(t,e){return(t.flags&(e?8:16))!==0}function H9(t,e){Ss("NgControlFlow");let n=ke(),r=Hc(),i=n[r]!==Ts?n[r]:-1,s=i!==-1?Xb(n,Cn+i):void 0,o=0;if(ia(n,r,t)){let a=Ie(null);try{if(s!==void 0&&YO(s,o),t!==-1){let u=Cn+t,d=Xb(n,u),p=pF(n[he],u),g=Pm(d,p.tView.ssrId),_=QC(n,p,e,{dehydratedView:g});YC(d,_,o,Mm(p,g))}}finally{Ie(a)}}else if(s!==void 0){let a=QO(s,o);a!==void 0&&(a[dn]=e)}}function Xb(t,e){return t[e]}function pF(t,e){return oy(t,e)}function gF(t,e,n,r,i,s){let o=e.consts,a=ih(o,i),u=Ph(e,t,2,r,a);return HC(e,n,u,ih(o,s)),u.attrs!==null&&Fm(u,u.attrs,!1),u.mergedAttrs!==null&&Fm(u,u.mergedAttrs,!0),e.queries!==null&&e.queries.elementStart(e,u),u}function zc(t,e,n,r){let i=ke(),s=Xt(),o=Cn+t,a=i[dt],u=s.firstCreatePass?gF(o,s,i,e,n,r):s.data[o],d=mF(s,i,u,a,e,t);i[o]=d;let p=sy(u);return $c(u,!0),NC(a,d,u),!H1(u)&&dy()&&Sy(s,i,d,u),WP()===0&&bs(d,i),KP(),p&&(UC(s,i,u),VC(s,u,i)),r!==null&&jC(i,u),zc}function Uh(){let t=kt();zD()?ek():(t=t.parent,$c(t,!1));let e=t;ZP(e)&&JP(),QP();let n=Xt();return n.firstCreatePass&&(fy(n,t),PD(t)&&n.queries.elementEnd(t)),e.classesWithoutHost!=null&&pk(e)&&Zb(n,e,ke(),e.classesWithoutHost,!0),e.stylesWithoutHost!=null&&gk(e)&&Zb(n,e,ke(),e.stylesWithoutHost,!1),Uh}function Gc(t,e,n,r){return zc(t,e,n,r),Uh(),Gc}var mF=(t,e,n,r,i,s)=>(hy(!0),CC(r,i,lk()));function q9(){return ke()}var vh="en-US";var yF=vh;function vF(t){typeof t=="string"&&(yF=t.toLowerCase().replace(/_/g,"-"))}var wF=(t,e,n)=>{};function nr(t,e,n,r){let i=ke(),s=Xt(),o=kt();return lT(s,i,i[dt],o,t,e,r),nr}function _F(t,e,n,r){let i=t.cleanup;if(i!=null)for(let s=0;s<i.length-1;s+=2){let o=i[s];if(o===n&&i[s+1]===r){let a=e[eh],u=i[s+2];return a.length>u?a[u]:null}typeof o=="string"&&(s+=2)}return null}function lT(t,e,n,r,i,s,o){let a=sy(r),d=t.firstCreatePass&&qO(t),p=e[dn],g=HO(e),_=!0;if(r.type&3||o){let O=hn(r,e),P=o?o(O):O,V=g.length,G=o?K=>o(Qn(K[r.index])):r.index,q=null;if(!o&&a&&(q=_F(t,e,i,r.index)),q!==null){let K=q.__ngLastListenerFn__||q;K.__ngNextListenerFn__=s,q.__ngLastListenerFn__=s,_=!1}else{s=tD(r,e,p,s),wF(O,i,s);let K=n.listen(P,i,s);g.push(s,K),d&&d.push(i,G,V,V+1)}}else s=tD(r,e,p,s);let E=r.outputs,M;if(_&&E!==null&&(M=E[i])){let O=M.length;if(O)for(let P=0;P<O;P+=2){let V=M[P],G=M[P+1],Ce=e[V][G].subscribe(s),J=g.length;g.push(s,Ce),d&&d.push(i,r.index,J,-(J+1))}}}function eD(t,e,n,r){let i=Ie(null);try{return qn(6,e,n),n(r)!==!1}catch(s){return KC(t,s),!1}finally{qn(7,e,n),Ie(i)}}function tD(t,e,n,r){return function i(s){if(s===Function)return r;let o=t.componentOffset>-1?Ri(t.index,e):e;Ny(o,5);let a=eD(e,n,r,s),u=i.__ngNextListenerFn__;for(;u;)a=eD(e,n,u,s)&&a,u=u.__ngNextListenerFn__;return a}}function z9(t=1){return uk(t)}function G9(t){let e=tk();return HP(e,Cn+t)}function dT(t,e=""){let n=ke(),r=Xt(),i=t+Cn,s=r.firstCreatePass?Ph(r,i,1,e,null):r.data[i],o=IF(r,n,s,e,t);n[i]=o,dy()&&Sy(r,n,o,s),$c(s,!1)}var IF=(t,e,n,r,i)=>(hy(!0),eO(e[dt],r));function EF(t){return hT("",t,""),EF}function hT(t,e,n){let r=ke(),i=Z1(r,t,e,n);return i!==Ts&&zO(r,ea(),i),hT}function bF(t,e,n){aT(e)&&(e=e());let r=ke(),i=Hc();if(ia(r,i,e)){let s=Xt(),o=ly();$C(s,o,r,t,e,r[dt],n,!1)}return bF}function W9(t,e){let n=aT(t);return n&&t.set(e),n}function DF(t,e){let n=ke(),r=Xt(),i=kt();return lT(r,n,n[dt],i,t,e),DF}function CF(t,e,n){let r=Xt();if(r.firstCreatePass){let i=Si(t);qm(n,r.data,r.blueprint,i,!0),qm(e,r.data,r.blueprint,i,!1)}}function qm(t,e,n,r,i){if(t=Mt(t),Array.isArray(t))for(let s=0;s<t.length;s++)qm(t[s],e,n,r,i);else{let s=Xt(),o=ke(),a=kt(),u=Ho(t)?t:Mt(t.provide),d=RD(t),p=a.providerIndexes&1048575,g=a.directiveStart,_=a.providerIndexes>>20;if(Ho(t)||!t.multi){let E=new Es(d,i,ee),M=sm(u,e,i?p:p+_,g);M===-1?(_m(ah(a,o),s,u),im(s,t,e.length),e.push(u),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(E),o.push(E)):(n[M]=E,o[M]=E)}else{let E=sm(u,e,p+_,g),M=sm(u,e,p,p+_),O=E>=0&&n[E],P=M>=0&&n[M];if(i&&!P||!i&&!O){_m(ah(a,o),s,u);let V=AF(i?SF:TF,n.length,i,r,d);!i&&P&&(n[M].providerFactory=V),im(s,t,e.length,0),e.push(u),a.directiveStart++,a.directiveEnd++,i&&(a.providerIndexes+=1048576),n.push(V),o.push(V)}else{let V=fT(n[i?M:E],d,!i&&r);im(s,t,E>-1?E:M,V)}!i&&r&&P&&n[M].componentProviders++}}}function im(t,e,n,r){let i=Ho(e),s=RP(e);if(i||s){let u=(s?Mt(e.useClass):e).prototype.ngOnDestroy;if(u){let d=t.destroyHooks||(t.destroyHooks=[]);if(!i&&e.multi){let p=d.indexOf(n);p===-1?d.push(n,[r,u]):d[p+1].push(r,u)}else d.push(n,u)}}}function fT(t,e,n){return n&&t.componentProviders++,t.multi.push(e)-1}function sm(t,e,n,r){for(let i=n;i<r;i++)if(e[i]===t)return i;return-1}function TF(t,e,n,r){return zm(this.multi,[])}function SF(t,e,n,r){let i=this.multi,s;if(this.providerFactory){let o=this.providerFactory.componentProviders,a=Wo(n,n[he],this.providerFactory.index,r);s=a.slice(0,o),zm(i,s);for(let u=o;u<a.length;u++)s.push(a[u])}else s=[],zm(i,s);return s}function zm(t,e){for(let n=0;n<t.length;n++){let r=t[n];e.push(r())}return e}function AF(t,e,n,r,i){let s=new Es(t,n,ee);return s.multi=[],s.index=e,s.componentProviders=0,fT(s,i,r&&!n),s}function An(t,e=[]){return n=>{n.providersResolver=(r,i)=>CF(r,i?i(t):t,e)}}var RF=(()=>{class t{constructor(n){this._injector=n,this.cachedInjectors=new Map}getOrCreateStandaloneInjector(n){if(!n.standalone)return null;if(!this.cachedInjectors.has(n)){let r=TD(!1,n.type),i=r.length>0?Lh([r],this._injector,`Standalone[${n.type.name}]`):null;this.cachedInjectors.set(n,i)}return this.cachedInjectors.get(n)}ngOnDestroy(){try{for(let n of this.cachedInjectors.values())n!==null&&n.destroy()}finally{this.cachedInjectors.clear()}}static{this.\u0275prov=Y({token:t,providedIn:"environment",factory:()=>new t(ie(Zt))})}}return t})();function jh(t){Ss("NgStandalone"),t.getStandaloneInjector=e=>e.get(RF).getOrCreateStandaloneInjector(t)}function K9(t,e){return rT(t,e)}var Sr=class{constructor(e){this.full=e;let n=e.split(".");this.major=n[0],this.minor=n[1],this.patch=n.slice(2).join(".")}},pT=new Sr("18.2.9");var Bh=(()=>{class t{log(n){console.log(n)}warn(n){console.warn(n)}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=Y({token:t,factory:t.\u0275fac,providedIn:"platform"})}}return t})();var gT=new W("");function As(t){return!!t&&typeof t.then=="function"}function mT(t){return!!t&&typeof t.subscribe=="function"}var $h=new W(""),yT=(()=>{class t{constructor(){this.initialized=!1,this.done=!1,this.donePromise=new Promise((n,r)=>{this.resolve=n,this.reject=r}),this.appInits=j($h,{optional:!0})??[]}runInitializers(){if(this.initialized)return;let n=[];for(let i of this.appInits){let s=i();if(As(s))n.push(s);else if(mT(s)){let o=new Promise((a,u)=>{s.subscribe({complete:a,error:u})});n.push(o)}}let r=()=>{this.done=!0,this.resolve()};Promise.all(n).then(()=>{r()}).catch(i=>{this.reject(i)}),n.length===0&&r(),this.initialized=!0}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=Y({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),Hh=new W("");function xF(){GE(()=>{throw new Q(600,!1)})}function MF(t){return t.isBoundToModule}var NF=10;function PF(t,e,n){try{let r=n();return As(r)?r.catch(i=>{throw e.runOutsideAngular(()=>t.handleError(i)),i}):r}catch(r){throw e.runOutsideAngular(()=>t.handleError(r)),r}}var Rs=(()=>{class t{constructor(){this._bootstrapListeners=[],this._runningTick=!1,this._destroyed=!1,this._destroyListeners=[],this._views=[],this.internalErrorHandler=j(Ok),this.afterRenderManager=j(uT),this.zonelessEnabled=j(Fh),this.dirtyFlags=0,this.deferredDirtyFlags=0,this.externalTestViews=new Set,this.beforeRender=new gt,this.afterTick=new gt,this.componentTypes=[],this.components=[],this.isStable=j(ta).hasPendingTasks.pipe(le(n=>!n)),this._injector=j(Zt)}get allViews(){return[...this.externalTestViews.keys(),...this._views]}get destroyed(){return this._destroyed}whenStable(){let n;return new Promise(r=>{n=this.isStable.subscribe({next:i=>{i&&r()}})}).finally(()=>{n.unsubscribe()})}get injector(){return this._injector}bootstrap(n,r){let i=n instanceof ph;if(!this._injector.get(yT).done){let _=!i&&ED(n),E=!1;throw new Q(405,E)}let o;i?o=n:o=this._injector.get(Qo).resolveComponentFactory(n),this.componentTypes.push(o.componentType);let a=MF(o)?void 0:this._injector.get(Ai),u=r||o.selector,d=o.create(Et.NULL,[],u,a),p=d.location.nativeElement,g=d.injector.get(gT,null);return g?.registerApplication(p),d.onDestroy(()=>{this.detachView(d.hostView),Wd(this.components,d),g?.unregisterApplication(p)}),this._loadComponent(d),d}tick(){this.zonelessEnabled||(this.dirtyFlags|=1),this._tick()}_tick(){if(this._runningTick)throw new Q(101,!1);let n=Ie(null);try{this._runningTick=!0,this.synchronize()}catch(r){this.internalErrorHandler(r)}finally{this._runningTick=!1,Ie(n),this.afterTick.next()}}synchronize(){let n=null;this._injector.destroyed||(n=this._injector.get(Yo,null,{optional:!0})),this.dirtyFlags|=this.deferredDirtyFlags,this.deferredDirtyFlags=0;let r=0;for(;this.dirtyFlags!==0&&r++<NF;)this.synchronizeOnce(n)}synchronizeOnce(n){if(this.dirtyFlags|=this.deferredDirtyFlags,this.deferredDirtyFlags=0,this.dirtyFlags&7){let r=!!(this.dirtyFlags&1);this.dirtyFlags&=-8,this.dirtyFlags|=8,this.beforeRender.next(r);for(let{_lView:i,notifyErrorHandler:s}of this._views)kF(i,s,r,this.zonelessEnabled);if(this.dirtyFlags&=-5,this.syncDirtyFlagsWithViews(),this.dirtyFlags&7)return}else n?.begin?.(),n?.end?.();this.dirtyFlags&8&&(this.dirtyFlags&=-9,this.afterRenderManager.execute()),this.syncDirtyFlagsWithViews()}syncDirtyFlagsWithViews(){if(this.allViews.some(({_lView:n})=>Sh(n))){this.dirtyFlags|=2;return}else this.dirtyFlags&=-8}attachView(n){let r=n;this._views.push(r),r.attachToAppRef(this)}detachView(n){let r=n;Wd(this._views,r),r.detachFromAppRef()}_loadComponent(n){this.attachView(n.hostView),this.tick(),this.components.push(n);let r=this._injector.get(Hh,[]);[...this._bootstrapListeners,...r].forEach(i=>i(n))}ngOnDestroy(){if(!this._destroyed)try{this._destroyListeners.forEach(n=>n()),this._views.slice().forEach(n=>n.destroy())}finally{this._destroyed=!0,this._views=[],this._bootstrapListeners=[],this._destroyListeners=[]}}onDestroy(n){return this._destroyListeners.push(n),()=>Wd(this._destroyListeners,n)}destroy(){if(this._destroyed)throw new Q(406,!1);let n=this._injector;n.destroy&&!n.destroyed&&n.destroy()}get viewCount(){return this._views.length}warnIfDestroyed(){}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=Y({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function Wd(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function kF(t,e,n,r){if(!n&&!Sh(t))return;XC(t,e,n&&!r?0:1)}var Gm=class{constructor(e,n){this.ngModuleFactory=e,this.componentFactories=n}},qh=(()=>{class t{compileModuleSync(n){return new Um(n)}compileModuleAsync(n){return Promise.resolve(this.compileModuleSync(n))}compileModuleAndAllComponentsSync(n){let r=this.compileModuleSync(n),i=bD(n),s=DC(i.declarations).reduce((o,a)=>{let u=Ti(a);return u&&o.push(new Zo(u)),o},[]);return new Gm(r,s)}compileModuleAndAllComponentsAsync(n){return Promise.resolve(this.compileModuleAndAllComponentsSync(n))}clearCache(){}clearCacheFor(n){}getModuleId(n){}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=Y({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();var OF=(()=>{class t{constructor(){this.zone=j(Re),this.changeDetectionScheduler=j(Ko),this.applicationRef=j(Rs)}initialize(){this._onMicrotaskEmptySubscription||(this._onMicrotaskEmptySubscription=this.zone.onMicrotaskEmpty.subscribe({next:()=>{this.changeDetectionScheduler.runningTick||this.zone.run(()=>{this.applicationRef.tick()})}}))}ngOnDestroy(){this._onMicrotaskEmptySubscription?.unsubscribe()}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=Y({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),FF=new W("",{factory:()=>!1});function vT({ngZoneFactory:t,ignoreChangesOutsideZone:e,scheduleInRootZone:n}){return t??=()=>new Re(ge(B({},wT()),{scheduleInRootZone:n})),[{provide:Re,useFactory:t},{provide:$o,multi:!0,useFactory:()=>{let r=j(OF,{optional:!0});return()=>r.initialize()}},{provide:$o,multi:!0,useFactory:()=>{let r=j(LF);return()=>{r.initialize()}}},e===!0?{provide:iT,useValue:!0}:[],{provide:sT,useValue:n??dC}]}function Q9(t){let e=t?.ignoreChangesOutsideZone,n=t?.scheduleInRootZone,r=vT({ngZoneFactory:()=>{let i=wT(t);return i.scheduleInRootZone=n,i.shouldCoalesceEventChangeDetection&&Ss("NgZone_CoalesceEvent"),new Re(i)},ignoreChangesOutsideZone:e,scheduleInRootZone:n});return Yn([{provide:FF,useValue:!0},{provide:Fh,useValue:!1},r])}function wT(t){return{enableLongStackTrace:!1,shouldCoalesceEventChangeDetection:t?.eventCoalescing??!1,shouldCoalesceRunChangeDetection:t?.runCoalescing??!1}}var LF=(()=>{class t{constructor(){this.subscription=new ze,this.initialized=!1,this.zone=j(Re),this.pendingTasks=j(ta)}initialize(){if(this.initialized)return;this.initialized=!0;let n=null;!this.zone.isStable&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(n=this.pendingTasks.add()),this.zone.runOutsideAngular(()=>{this.subscription.add(this.zone.onStable.subscribe(()=>{Re.assertNotInAngularZone(),queueMicrotask(()=>{n!==null&&!this.zone.hasPendingMacrotasks&&!this.zone.hasPendingMicrotasks&&(this.pendingTasks.remove(n),n=null)})}))}),this.subscription.add(this.zone.onUnstable.subscribe(()=>{Re.assertInAngularZone(),n??=this.pendingTasks.add()}))}ngOnDestroy(){this.subscription.unsubscribe()}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=Y({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();var VF=(()=>{class t{constructor(){this.appRef=j(Rs),this.taskService=j(ta),this.ngZone=j(Re),this.zonelessEnabled=j(Fh),this.disableScheduling=j(iT,{optional:!0})??!1,this.zoneIsDefined=typeof Zone<"u"&&!!Zone.root.run,this.schedulerTickApplyArgs=[{data:{__scheduler_tick__:!0}}],this.subscriptions=new ze,this.angularZoneId=this.zoneIsDefined?this.ngZone._inner?.get(uh):null,this.scheduleInRootZone=!this.zonelessEnabled&&this.zoneIsDefined&&(j(sT,{optional:!0})??!1),this.cancelScheduledCallback=null,this.useMicrotaskScheduler=!1,this.runningTick=!1,this.pendingRenderTaskId=null,this.subscriptions.add(this.appRef.afterTick.subscribe(()=>{this.runningTick||this.cleanup()})),this.subscriptions.add(this.ngZone.onUnstable.subscribe(()=>{this.runningTick||this.cleanup()})),this.disableScheduling||=!this.zonelessEnabled&&(this.ngZone instanceof Cm||!this.zoneIsDefined)}notify(n){if(!this.zonelessEnabled&&n===5)return;switch(n){case 0:{this.appRef.dirtyFlags|=2;break}case 3:case 2:case 4:case 5:case 1:{this.appRef.dirtyFlags|=4;break}case 7:{this.appRef.deferredDirtyFlags|=8;break}case 9:case 8:case 6:case 10:default:this.appRef.dirtyFlags|=8}if(!this.shouldScheduleTick())return;let r=this.useMicrotaskScheduler?Vb:hC;this.pendingRenderTaskId=this.taskService.add(),this.scheduleInRootZone?this.cancelScheduledCallback=Zone.root.run(()=>r(()=>this.tick())):this.cancelScheduledCallback=this.ngZone.runOutsideAngular(()=>r(()=>this.tick()))}shouldScheduleTick(){return!(this.disableScheduling||this.pendingRenderTaskId!==null||this.runningTick||this.appRef._runningTick||!this.zonelessEnabled&&this.zoneIsDefined&&Zone.current.get(uh+this.angularZoneId))}tick(){if(this.runningTick||this.appRef.destroyed)return;!this.zonelessEnabled&&this.appRef.dirtyFlags&7&&(this.appRef.dirtyFlags|=1);let n=this.taskService.add();try{this.ngZone.run(()=>{this.runningTick=!0,this.appRef._tick()},void 0,this.schedulerTickApplyArgs)}catch(r){throw this.taskService.remove(n),r}finally{this.cleanup()}this.useMicrotaskScheduler=!0,Vb(()=>{this.useMicrotaskScheduler=!1,this.taskService.remove(n)})}ngOnDestroy(){this.subscriptions.unsubscribe(),this.cleanup()}cleanup(){if(this.runningTick=!1,this.cancelScheduledCallback?.(),this.cancelScheduledCallback=null,this.pendingRenderTaskId!==null){let n=this.pendingRenderTaskId;this.pendingRenderTaskId=null,this.taskService.remove(n)}}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=Y({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function UF(){return typeof $localize<"u"&&$localize.locale||vh}var Ly=new W("",{providedIn:"root",factory:()=>j(Ly,de.Optional|de.SkipSelf)||UF()});var Wm=new W("");function Hd(t){return!t.moduleRef}function jF(t){let e=Hd(t)?t.r3Injector:t.moduleRef.injector,n=e.get(Re);return n.run(()=>{Hd(t)?t.r3Injector.resolveInjectorInitializers():t.moduleRef.resolveInjectorInitializers();let r=e.get(Cr,null),i;if(n.runOutsideAngular(()=>{i=n.onError.subscribe({next:s=>{r.handleError(s)}})}),Hd(t)){let s=()=>e.destroy(),o=t.platformInjector.get(Wm);o.add(s),e.onDestroy(()=>{i.unsubscribe(),o.delete(s)})}else{let s=()=>t.moduleRef.destroy(),o=t.platformInjector.get(Wm);o.add(s),t.moduleRef.onDestroy(()=>{Wd(t.allPlatformModules,t.moduleRef),i.unsubscribe(),o.delete(s)})}return PF(r,n,()=>{let s=e.get(yT);return s.runInitializers(),s.donePromise.then(()=>{let o=e.get(Ly,vh);if(vF(o||vh),Hd(t)){let a=e.get(Rs);return t.rootComponent!==void 0&&a.bootstrap(t.rootComponent),a}else return BF(t.moduleRef,t.allPlatformModules),t.moduleRef})})})}function BF(t,e){let n=t.injector.get(Rs);if(t._bootstrapComponents.length>0)t._bootstrapComponents.forEach(r=>n.bootstrap(r));else if(t.instance.ngDoBootstrap)t.instance.ngDoBootstrap(n);else throw new Q(-403,!1);e.push(t)}var Kd=null;function $F(t=[],e){return Et.create({name:e,providers:[{provide:Dh,useValue:"platform"},{provide:Wm,useValue:new Set([()=>Kd=null])},...t]})}function HF(t=[]){if(Kd)return Kd;let e=$F(t);return Kd=e,xF(),qF(e),e}function qF(t){t.get(_y,null)?.forEach(n=>n())}var xs=(()=>{class t{static{this.__NG_ELEMENT_ID__=zF}}return t})();function zF(t){return GF(kt(),ke(),(t&16)===16)}function GF(t,e,n){if(Th(t)&&!n){let r=Ri(t.index,e);return new Ds(r,r)}else if(t.type&175){let r=e[Kn];return new Ds(r,e)}return null}var Km=class{constructor(){}supports(e){return cT(e)}create(e){return new Qm(e)}},WF=(t,e)=>e,Qm=class{constructor(e){this.length=0,this._linkedRecords=null,this._unlinkedRecords=null,this._previousItHead=null,this._itHead=null,this._itTail=null,this._additionsHead=null,this._additionsTail=null,this._movesHead=null,this._movesTail=null,this._removalsHead=null,this._removalsTail=null,this._identityChangesHead=null,this._identityChangesTail=null,this._trackByFn=e||WF}forEachItem(e){let n;for(n=this._itHead;n!==null;n=n._next)e(n)}forEachOperation(e){let n=this._itHead,r=this._removalsHead,i=0,s=null;for(;n||r;){let o=!r||n&&n.currentIndex<nD(r,i,s)?n:r,a=nD(o,i,s),u=o.currentIndex;if(o===r)i--,r=r._nextRemoved;else if(n=n._next,o.previousIndex==null)i++;else{s||(s=[]);let d=a-i,p=u-i;if(d!=p){for(let _=0;_<d;_++){let E=_<s.length?s[_]:s[_]=0,M=E+_;p<=M&&M<d&&(s[_]=E+1)}let g=o.previousIndex;s[g]=p-d}}a!==u&&e(o,a,u)}}forEachPreviousItem(e){let n;for(n=this._previousItHead;n!==null;n=n._nextPrevious)e(n)}forEachAddedItem(e){let n;for(n=this._additionsHead;n!==null;n=n._nextAdded)e(n)}forEachMovedItem(e){let n;for(n=this._movesHead;n!==null;n=n._nextMoved)e(n)}forEachRemovedItem(e){let n;for(n=this._removalsHead;n!==null;n=n._nextRemoved)e(n)}forEachIdentityChange(e){let n;for(n=this._identityChangesHead;n!==null;n=n._nextIdentityChange)e(n)}diff(e){if(e==null&&(e=[]),!cT(e))throw new Q(900,!1);return this.check(e)?this:null}onDestroy(){}check(e){this._reset();let n=this._itHead,r=!1,i,s,o;if(Array.isArray(e)){this.length=e.length;for(let a=0;a<this.length;a++)s=e[a],o=this._trackByFn(a,s),n===null||!Object.is(n.trackById,o)?(n=this._mismatch(n,s,o,a),r=!0):(r&&(n=this._verifyReinsertion(n,s,o,a)),Object.is(n.item,s)||this._addIdentityChange(n,s)),n=n._next}else i=0,B1(e,a=>{o=this._trackByFn(i,a),n===null||!Object.is(n.trackById,o)?(n=this._mismatch(n,a,o,i),r=!0):(r&&(n=this._verifyReinsertion(n,a,o,i)),Object.is(n.item,a)||this._addIdentityChange(n,a)),n=n._next,i++}),this.length=i;return this._truncate(n),this.collection=e,this.isDirty}get isDirty(){return this._additionsHead!==null||this._movesHead!==null||this._removalsHead!==null||this._identityChangesHead!==null}_reset(){if(this.isDirty){let e;for(e=this._previousItHead=this._itHead;e!==null;e=e._next)e._nextPrevious=e._next;for(e=this._additionsHead;e!==null;e=e._nextAdded)e.previousIndex=e.currentIndex;for(this._additionsHead=this._additionsTail=null,e=this._movesHead;e!==null;e=e._nextMoved)e.previousIndex=e.currentIndex;this._movesHead=this._movesTail=null,this._removalsHead=this._removalsTail=null,this._identityChangesHead=this._identityChangesTail=null}}_mismatch(e,n,r,i){let s;return e===null?s=this._itTail:(s=e._prev,this._remove(e)),e=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null),e!==null?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._reinsertAfter(e,s,i)):(e=this._linkedRecords===null?null:this._linkedRecords.get(r,i),e!==null?(Object.is(e.item,n)||this._addIdentityChange(e,n),this._moveAfter(e,s,i)):e=this._addAfter(new Ym(n,r),s,i)),e}_verifyReinsertion(e,n,r,i){let s=this._unlinkedRecords===null?null:this._unlinkedRecords.get(r,null);return s!==null?e=this._reinsertAfter(s,e._prev,i):e.currentIndex!=i&&(e.currentIndex=i,this._addToMoves(e,i)),e}_truncate(e){for(;e!==null;){let n=e._next;this._addToRemovals(this._unlink(e)),e=n}this._unlinkedRecords!==null&&this._unlinkedRecords.clear(),this._additionsTail!==null&&(this._additionsTail._nextAdded=null),this._movesTail!==null&&(this._movesTail._nextMoved=null),this._itTail!==null&&(this._itTail._next=null),this._removalsTail!==null&&(this._removalsTail._nextRemoved=null),this._identityChangesTail!==null&&(this._identityChangesTail._nextIdentityChange=null)}_reinsertAfter(e,n,r){this._unlinkedRecords!==null&&this._unlinkedRecords.remove(e);let i=e._prevRemoved,s=e._nextRemoved;return i===null?this._removalsHead=s:i._nextRemoved=s,s===null?this._removalsTail=i:s._prevRemoved=i,this._insertAfter(e,n,r),this._addToMoves(e,r),e}_moveAfter(e,n,r){return this._unlink(e),this._insertAfter(e,n,r),this._addToMoves(e,r),e}_addAfter(e,n,r){return this._insertAfter(e,n,r),this._additionsTail===null?this._additionsTail=this._additionsHead=e:this._additionsTail=this._additionsTail._nextAdded=e,e}_insertAfter(e,n,r){let i=n===null?this._itHead:n._next;return e._next=i,e._prev=n,i===null?this._itTail=e:i._prev=e,n===null?this._itHead=e:n._next=e,this._linkedRecords===null&&(this._linkedRecords=new wh),this._linkedRecords.put(e),e.currentIndex=r,e}_remove(e){return this._addToRemovals(this._unlink(e))}_unlink(e){this._linkedRecords!==null&&this._linkedRecords.remove(e);let n=e._prev,r=e._next;return n===null?this._itHead=r:n._next=r,r===null?this._itTail=n:r._prev=n,e}_addToMoves(e,n){return e.previousIndex===n||(this._movesTail===null?this._movesTail=this._movesHead=e:this._movesTail=this._movesTail._nextMoved=e),e}_addToRemovals(e){return this._unlinkedRecords===null&&(this._unlinkedRecords=new wh),this._unlinkedRecords.put(e),e.currentIndex=null,e._nextRemoved=null,this._removalsTail===null?(this._removalsTail=this._removalsHead=e,e._prevRemoved=null):(e._prevRemoved=this._removalsTail,this._removalsTail=this._removalsTail._nextRemoved=e),e}_addIdentityChange(e,n){return e.item=n,this._identityChangesTail===null?this._identityChangesTail=this._identityChangesHead=e:this._identityChangesTail=this._identityChangesTail._nextIdentityChange=e,e}},Ym=class{constructor(e,n){this.item=e,this.trackById=n,this.currentIndex=null,this.previousIndex=null,this._nextPrevious=null,this._prev=null,this._next=null,this._prevDup=null,this._nextDup=null,this._prevRemoved=null,this._nextRemoved=null,this._nextAdded=null,this._nextMoved=null,this._nextIdentityChange=null}},Zm=class{constructor(){this._head=null,this._tail=null}add(e){this._head===null?(this._head=this._tail=e,e._nextDup=null,e._prevDup=null):(this._tail._nextDup=e,e._prevDup=this._tail,e._nextDup=null,this._tail=e)}get(e,n){let r;for(r=this._head;r!==null;r=r._nextDup)if((n===null||n<=r.currentIndex)&&Object.is(r.trackById,e))return r;return null}remove(e){let n=e._prevDup,r=e._nextDup;return n===null?this._head=r:n._nextDup=r,r===null?this._tail=n:r._prevDup=n,this._head===null}},wh=class{constructor(){this.map=new Map}put(e){let n=e.trackById,r=this.map.get(n);r||(r=new Zm,this.map.set(n,r)),r.add(e)}get(e,n){let r=e,i=this.map.get(r);return i?i.get(e,n):null}remove(e){let n=e.trackById;return this.map.get(n).remove(e)&&this.map.delete(n),e}get isEmpty(){return this.map.size===0}clear(){this.map.clear()}};function nD(t,e,n){let r=t.previousIndex;if(r===null)return r;let i=0;return n&&r<n.length&&(i=n[r]),r+e+i}function rD(){return new Vy([new Km])}var Vy=(()=>{class t{static{this.\u0275prov=Y({token:t,providedIn:"root",factory:rD})}constructor(n){this.factories=n}static create(n,r){if(r!=null){let i=r.factories.slice();n=n.concat(i)}return new t(n)}static extend(n){return{provide:t,useFactory:r=>t.create(n,r||rD()),deps:[[t,new ey,new St]]}}find(n){let r=this.factories.find(i=>i.supports(n));if(r!=null)return r;throw new Q(901,!1)}}return t})();function _T(t){try{let{rootComponent:e,appProviders:n,platformProviders:r}=t,i=HF(r),s=[vT({}),{provide:Ko,useExisting:VF},...n||[]],o=new mh({providers:s,parent:i,debugName:"",runEnvironmentInitializers:!1});return jF({r3Injector:o.injector,platformInjector:i,rootComponent:e})}catch(e){return Promise.reject(e)}}function xi(t){return typeof t=="boolean"?t:t!=null&&t!=="false"}function oa(t,e){Ss("NgSignals");let n=HE(t);return e?.equal&&(n[Er].equal=e.equal),n}function rr(t){let e=Ie(null);try{return t()}finally{Ie(e)}}function IT(t){let e=Ti(t);if(!e)return null;let n=new Zo(e);return{get selector(){return n.selector},get type(){return n.componentType},get inputs(){return n.inputs},get outputs(){return n.outputs},get ngContentSelectors(){return n.ngContentSelectors},get isStandalone(){return e.standalone},get isSignal(){return e.signals}}}var ST=null;function Pr(){return ST}function AT(t){ST??=t}var zh=class{};var jt=new W(""),qy=(()=>{class t{historyGo(n){throw new Error("")}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=Y({token:t,factory:()=>j(KF),providedIn:"platform"})}}return t})(),RT=new W(""),KF=(()=>{class t extends qy{constructor(){super(),this._doc=j(jt),this._location=window.location,this._history=window.history}getBaseHrefFromDOM(){return Pr().getBaseHref(this._doc)}onPopState(n){let r=Pr().getGlobalEventTarget(this._doc,"window");return r.addEventListener("popstate",n,!1),()=>r.removeEventListener("popstate",n)}onHashChange(n){let r=Pr().getGlobalEventTarget(this._doc,"window");return r.addEventListener("hashchange",n,!1),()=>r.removeEventListener("hashchange",n)}get href(){return this._location.href}get protocol(){return this._location.protocol}get hostname(){return this._location.hostname}get port(){return this._location.port}get pathname(){return this._location.pathname}get search(){return this._location.search}get hash(){return this._location.hash}set pathname(n){this._location.pathname=n}pushState(n,r,i){this._history.pushState(n,r,i)}replaceState(n,r,i){this._history.replaceState(n,r,i)}forward(){this._history.forward()}back(){this._history.back()}historyGo(n=0){this._history.go(n)}getState(){return this._history.state}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=Y({token:t,factory:()=>new t,providedIn:"platform"})}}return t})();function zy(t,e){if(t.length==0)return e;if(e.length==0)return t;let n=0;return t.endsWith("/")&&n++,e.startsWith("/")&&n++,n==2?t+e.substring(1):n==1?t+e:t+"/"+e}function ET(t){let e=t.match(/#|\?|$/),n=e&&e.index||t.length,r=n-(t[n-1]==="/"?1:0);return t.slice(0,r)+t.slice(n)}function Nr(t){return t&&t[0]!=="?"?"?"+t:t}var kr=(()=>{class t{historyGo(n){throw new Error("")}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=Y({token:t,factory:()=>j(Gy),providedIn:"root"})}}return t})(),xT=new W(""),Gy=(()=>{class t extends kr{constructor(n,r){super(),this._platformLocation=n,this._removeListenerFns=[],this._baseHref=r??this._platformLocation.getBaseHrefFromDOM()??j(jt).location?.origin??""}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}prepareExternalUrl(n){return zy(this._baseHref,n)}path(n=!1){let r=this._platformLocation.pathname+Nr(this._platformLocation.search),i=this._platformLocation.hash;return i&&n?`${r}${i}`:r}pushState(n,r,i,s){let o=this.prepareExternalUrl(i+Nr(s));this._platformLocation.pushState(n,r,o)}replaceState(n,r,i,s){let o=this.prepareExternalUrl(i+Nr(s));this._platformLocation.replaceState(n,r,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}static{this.\u0275fac=function(r){return new(r||t)(ie(qy),ie(xT,8))}}static{this.\u0275prov=Y({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),MT=(()=>{class t extends kr{constructor(n,r){super(),this._platformLocation=n,this._baseHref="",this._removeListenerFns=[],r!=null&&(this._baseHref=r)}ngOnDestroy(){for(;this._removeListenerFns.length;)this._removeListenerFns.pop()()}onPopState(n){this._removeListenerFns.push(this._platformLocation.onPopState(n),this._platformLocation.onHashChange(n))}getBaseHref(){return this._baseHref}path(n=!1){let r=this._platformLocation.hash??"#";return r.length>0?r.substring(1):r}prepareExternalUrl(n){let r=zy(this._baseHref,n);return r.length>0?"#"+r:r}pushState(n,r,i,s){let o=this.prepareExternalUrl(i+Nr(s));o.length==0&&(o=this._platformLocation.pathname),this._platformLocation.pushState(n,r,o)}replaceState(n,r,i,s){let o=this.prepareExternalUrl(i+Nr(s));o.length==0&&(o=this._platformLocation.pathname),this._platformLocation.replaceState(n,r,o)}forward(){this._platformLocation.forward()}back(){this._platformLocation.back()}getState(){return this._platformLocation.getState()}historyGo(n=0){this._platformLocation.historyGo?.(n)}static{this.\u0275fac=function(r){return new(r||t)(ie(qy),ie(xT,8))}}static{this.\u0275prov=Y({token:t,factory:t.\u0275fac})}}return t})(),aa=(()=>{class t{constructor(n){this._subject=new Ge,this._urlChangeListeners=[],this._urlChangeSubscription=null,this._locationStrategy=n;let r=this._locationStrategy.getBaseHref();this._basePath=ZF(ET(bT(r))),this._locationStrategy.onPopState(i=>{this._subject.emit({url:this.path(!0),pop:!0,state:i.state,type:i.type})})}ngOnDestroy(){this._urlChangeSubscription?.unsubscribe(),this._urlChangeListeners=[]}path(n=!1){return this.normalize(this._locationStrategy.path(n))}getState(){return this._locationStrategy.getState()}isCurrentPathEqualTo(n,r=""){return this.path()==this.normalize(n+Nr(r))}normalize(n){return t.stripTrailingSlash(YF(this._basePath,bT(n)))}prepareExternalUrl(n){return n&&n[0]!=="/"&&(n="/"+n),this._locationStrategy.prepareExternalUrl(n)}go(n,r="",i=null){this._locationStrategy.pushState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+Nr(r)),i)}replaceState(n,r="",i=null){this._locationStrategy.replaceState(i,"",n,r),this._notifyUrlChangeListeners(this.prepareExternalUrl(n+Nr(r)),i)}forward(){this._locationStrategy.forward()}back(){this._locationStrategy.back()}historyGo(n=0){this._locationStrategy.historyGo?.(n)}onUrlChange(n){return this._urlChangeListeners.push(n),this._urlChangeSubscription??=this.subscribe(r=>{this._notifyUrlChangeListeners(r.url,r.state)}),()=>{let r=this._urlChangeListeners.indexOf(n);this._urlChangeListeners.splice(r,1),this._urlChangeListeners.length===0&&(this._urlChangeSubscription?.unsubscribe(),this._urlChangeSubscription=null)}}_notifyUrlChangeListeners(n="",r){this._urlChangeListeners.forEach(i=>i(n,r))}subscribe(n,r,i){return this._subject.subscribe({next:n,error:r,complete:i})}static{this.normalizeQueryParams=Nr}static{this.joinWithSlash=zy}static{this.stripTrailingSlash=ET}static{this.\u0275fac=function(r){return new(r||t)(ie(kr))}}static{this.\u0275prov=Y({token:t,factory:()=>QF(),providedIn:"root"})}}return t})();function QF(){return new aa(ie(kr))}function YF(t,e){if(!t||!e.startsWith(t))return e;let n=e.substring(t.length);return n===""||["/",";","?","#"].includes(n[0])?n:e}function bT(t){return t.replace(/\/index.html$/,"")}function ZF(t){if(new RegExp("^(https?:)?//").test(t)){let[,n]=t.split(/\/\/[^\/]+/);return n}return t}function NT(t,e){e=encodeURIComponent(e);for(let n of t.split(";")){let r=n.indexOf("="),[i,s]=r==-1?[n,""]:[n.slice(0,r),n.slice(r+1)];if(i.trim()===e)return decodeURIComponent(s)}return null}var Uy=/\s+/,DT=[],E8=(()=>{class t{constructor(n,r){this._ngEl=n,this._renderer=r,this.initialClasses=DT,this.stateMap=new Map}set klass(n){this.initialClasses=n!=null?n.trim().split(Uy):DT}set ngClass(n){this.rawClass=typeof n=="string"?n.trim().split(Uy):n}ngDoCheck(){for(let r of this.initialClasses)this._updateState(r,!0);let n=this.rawClass;if(Array.isArray(n)||n instanceof Set)for(let r of n)this._updateState(r,!0);else if(n!=null)for(let r of Object.keys(n))this._updateState(r,!!n[r]);this._applyStateDiff()}_updateState(n,r){let i=this.stateMap.get(n);i!==void 0?(i.enabled!==r&&(i.changed=!0,i.enabled=r),i.touched=!0):this.stateMap.set(n,{enabled:r,changed:!0,touched:!0})}_applyStateDiff(){for(let n of this.stateMap){let r=n[0],i=n[1];i.changed?(this._toggleClass(r,i.enabled),i.changed=!1):i.touched||(i.enabled&&this._toggleClass(r,!1),this.stateMap.delete(r)),i.touched=!1}}_toggleClass(n,r){n=n.trim(),n.length>0&&n.split(Uy).forEach(i=>{r?this._renderer.addClass(this._ngEl.nativeElement,i):this._renderer.removeClass(this._ngEl.nativeElement,i)})}static{this.\u0275fac=function(r){return new(r||t)(ee(Sn),ee(tr))}}static{this.\u0275dir=Oe({type:t,selectors:[["","ngClass",""]],inputs:{klass:[0,"class","klass"],ngClass:"ngClass"},standalone:!0})}}return t})();var jy=class{constructor(e,n,r,i){this.$implicit=e,this.ngForOf=n,this.index=r,this.count=i}get first(){return this.index===0}get last(){return this.index===this.count-1}get even(){return this.index%2===0}get odd(){return!this.even}},b8=(()=>{class t{set ngForOf(n){this._ngForOf=n,this._ngForOfDirty=!0}set ngForTrackBy(n){this._trackByFn=n}get ngForTrackBy(){return this._trackByFn}constructor(n,r,i){this._viewContainer=n,this._template=r,this._differs=i,this._ngForOf=null,this._ngForOfDirty=!0,this._differ=null}set ngForTemplate(n){n&&(this._template=n)}ngDoCheck(){if(this._ngForOfDirty){this._ngForOfDirty=!1;let n=this._ngForOf;if(!this._differ&&n)if(0)try{}catch{}else this._differ=this._differs.find(n).create(this.ngForTrackBy)}if(this._differ){let n=this._differ.diff(this._ngForOf);n&&this._applyChanges(n)}}_applyChanges(n){let r=this._viewContainer;n.forEachOperation((i,s,o)=>{if(i.previousIndex==null)r.createEmbeddedView(this._template,new jy(i.item,this._ngForOf,-1,-1),o===null?void 0:o);else if(o==null)r.remove(s===null?void 0:s);else if(s!==null){let a=r.get(s);r.move(a,o),CT(a,i)}});for(let i=0,s=r.length;i<s;i++){let a=r.get(i).context;a.index=i,a.count=s,a.ngForOf=this._ngForOf}n.forEachIdentityChange(i=>{let s=r.get(i.currentIndex);CT(s,i)})}static ngTemplateContextGuard(n,r){return!0}static{this.\u0275fac=function(r){return new(r||t)(ee(na),ee(Oh),ee(Vy))}}static{this.\u0275dir=Oe({type:t,selectors:[["","ngFor","","ngForOf",""]],inputs:{ngForOf:"ngForOf",ngForTrackBy:"ngForTrackBy",ngForTemplate:"ngForTemplate"},standalone:!0})}}return t})();function CT(t,e){t.context.$implicit=e.item}var PT=(()=>{class t{constructor(n,r){this._viewContainer=n,this._context=new By,this._thenTemplateRef=null,this._elseTemplateRef=null,this._thenViewRef=null,this._elseViewRef=null,this._thenTemplateRef=r}set ngIf(n){this._context.$implicit=this._context.ngIf=n,this._updateView()}set ngIfThen(n){TT("ngIfThen",n),this._thenTemplateRef=n,this._thenViewRef=null,this._updateView()}set ngIfElse(n){TT("ngIfElse",n),this._elseTemplateRef=n,this._elseViewRef=null,this._updateView()}_updateView(){this._context.$implicit?this._thenViewRef||(this._viewContainer.clear(),this._elseViewRef=null,this._thenTemplateRef&&(this._thenViewRef=this._viewContainer.createEmbeddedView(this._thenTemplateRef,this._context))):this._elseViewRef||(this._viewContainer.clear(),this._thenViewRef=null,this._elseTemplateRef&&(this._elseViewRef=this._viewContainer.createEmbeddedView(this._elseTemplateRef,this._context)))}static ngTemplateContextGuard(n,r){return!0}static{this.\u0275fac=function(r){return new(r||t)(ee(na),ee(Oh))}}static{this.\u0275dir=Oe({type:t,selectors:[["","ngIf",""]],inputs:{ngIf:"ngIf",ngIfThen:"ngIfThen",ngIfElse:"ngIfElse"},standalone:!0})}}return t})(),By=class{constructor(){this.$implicit=null,this.ngIf=null}};function TT(t,e){if(!!!(!e||e.createEmbeddedView))throw new Error(`${t} must be a TemplateRef, but received '${Nt(e)}'.`)}var Wy=(()=>{class t{static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275mod=Rr({type:t})}static{this.\u0275inj=Ar({})}}return t})(),Ky="browser",JF="server";function XF(t){return t===Ky}function Qy(t){return t===JF}var kT=(()=>{class t{static{this.\u0275prov=Y({token:t,providedIn:"root",factory:()=>XF(j(er))?new $y(j(jt),window):new Hy})}}return t})(),$y=class{constructor(e,n){this.document=e,this.window=n,this.offset=()=>[0,0]}setOffset(e){Array.isArray(e)?this.offset=()=>e:this.offset=e}getScrollPosition(){return[this.window.scrollX,this.window.scrollY]}scrollToPosition(e){this.window.scrollTo(e[0],e[1])}scrollToAnchor(e){let n=eL(this.document,e);n&&(this.scrollToElement(n),n.focus())}setHistoryScrollRestoration(e){this.window.history.scrollRestoration=e}scrollToElement(e){let n=e.getBoundingClientRect(),r=n.left+this.window.pageXOffset,i=n.top+this.window.pageYOffset,s=this.offset();this.window.scrollTo(r-s[0],i-s[1])}};function eL(t,e){let n=t.getElementById(e)||t.getElementsByName(e)[0];if(n)return n;if(typeof t.createTreeWalker=="function"&&t.body&&typeof t.body.attachShadow=="function"){let r=t.createTreeWalker(t.body,NodeFilter.SHOW_ELEMENT),i=r.currentNode;for(;i;){let s=i.shadowRoot;if(s){let o=s.getElementById(e)||s.querySelector(`[name="${e}"]`);if(o)return o}i=r.nextNode()}}return null}var Hy=class{setOffset(e){}getScrollPosition(){return[0,0]}scrollToPosition(e){}scrollToAnchor(e){}setHistoryScrollRestoration(e){}},Gh=class{};var Jy=class extends zh{constructor(){super(...arguments),this.supportsDOMEvents=!0}},Xy=class t extends Jy{static makeCurrent(){AT(new t)}onAndCancel(e,n,r){return e.addEventListener(n,r),()=>{e.removeEventListener(n,r)}}dispatchEvent(e,n){e.dispatchEvent(n)}remove(e){e.remove()}createElement(e,n){return n=n||this.getDefaultDocument(),n.createElement(e)}createHtmlDocument(){return document.implementation.createHTMLDocument("fakeTitle")}getDefaultDocument(){return document}isElementNode(e){return e.nodeType===Node.ELEMENT_NODE}isShadowRoot(e){return e instanceof DocumentFragment}getGlobalEventTarget(e,n){return n==="window"?window:n==="document"?e:n==="body"?e.body:null}getBaseHref(e){let n=tL();return n==null?null:nL(n)}resetBaseElement(){Wc=null}getUserAgent(){return window.navigator.userAgent}getCookie(e){return NT(document.cookie,e)}},Wc=null;function tL(){return Wc=Wc||document.querySelector("base"),Wc?Wc.getAttribute("href"):null}function nL(t){return new URL(t,document.baseURI).pathname}var rL=(()=>{class t{build(){return new XMLHttpRequest}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=Y({token:t,factory:t.\u0275fac})}}return t})(),ev=new W(""),UT=(()=>{class t{constructor(n,r){this._zone=r,this._eventNameToPlugin=new Map,n.forEach(i=>{i.manager=this}),this._plugins=n.slice().reverse()}addEventListener(n,r,i){return this._findPluginFor(r).addEventListener(n,r,i)}getZone(){return this._zone}_findPluginFor(n){let r=this._eventNameToPlugin.get(n);if(r)return r;if(r=this._plugins.find(s=>s.supports(n)),!r)throw new Q(5101,!1);return this._eventNameToPlugin.set(n,r),r}static{this.\u0275fac=function(r){return new(r||t)(ie(ev),ie(Re))}}static{this.\u0275prov=Y({token:t,factory:t.\u0275fac})}}return t})(),Wh=class{constructor(e){this._doc=e}},Yy="ng-app-id",jT=(()=>{class t{constructor(n,r,i,s={}){this.doc=n,this.appId=r,this.nonce=i,this.platformId=s,this.styleRef=new Map,this.hostNodes=new Set,this.styleNodesInDOM=this.collectServerRenderedStyles(),this.platformIsServer=Qy(s),this.resetHostNodes()}addStyles(n){for(let r of n)this.changeUsageCount(r,1)===1&&this.onStyleAdded(r)}removeStyles(n){for(let r of n)this.changeUsageCount(r,-1)<=0&&this.onStyleRemoved(r)}ngOnDestroy(){let n=this.styleNodesInDOM;n&&(n.forEach(r=>r.remove()),n.clear());for(let r of this.getAllStyles())this.onStyleRemoved(r);this.resetHostNodes()}addHost(n){this.hostNodes.add(n);for(let r of this.getAllStyles())this.addStyleToHost(n,r)}removeHost(n){this.hostNodes.delete(n)}getAllStyles(){return this.styleRef.keys()}onStyleAdded(n){for(let r of this.hostNodes)this.addStyleToHost(r,n)}onStyleRemoved(n){let r=this.styleRef;r.get(n)?.elements?.forEach(i=>i.remove()),r.delete(n)}collectServerRenderedStyles(){let n=this.doc.head?.querySelectorAll(`style[${Yy}="${this.appId}"]`);if(n?.length){let r=new Map;return n.forEach(i=>{i.textContent!=null&&r.set(i.textContent,i)}),r}return null}changeUsageCount(n,r){let i=this.styleRef;if(i.has(n)){let s=i.get(n);return s.usage+=r,s.usage}return i.set(n,{usage:r,elements:[]}),r}getStyleElement(n,r){let i=this.styleNodesInDOM,s=i?.get(r);if(s?.parentNode===n)return i.delete(r),s.removeAttribute(Yy),s;{let o=this.doc.createElement("style");return this.nonce&&o.setAttribute("nonce",this.nonce),o.textContent=r,this.platformIsServer&&o.setAttribute(Yy,this.appId),n.appendChild(o),o}}addStyleToHost(n,r){let i=this.getStyleElement(n,r),s=this.styleRef,o=s.get(r)?.elements;o?o.push(i):s.set(r,{elements:[i],usage:1})}resetHostNodes(){let n=this.hostNodes;n.clear(),n.add(this.doc.head)}static{this.\u0275fac=function(r){return new(r||t)(ie(jt),ie(wy),ie(Iy,8),ie(er))}}static{this.\u0275prov=Y({token:t,factory:t.\u0275fac})}}return t})(),Zy={svg:"http://www.w3.org/2000/svg",xhtml:"http://www.w3.org/1999/xhtml",xlink:"http://www.w3.org/1999/xlink",xml:"http://www.w3.org/XML/1998/namespace",xmlns:"http://www.w3.org/2000/xmlns/",math:"http://www.w3.org/1998/Math/MathML"},nv=/%COMP%/g,BT="%COMP%",iL=`_nghost-${BT}`,sL=`_ngcontent-${BT}`,oL=!0,aL=new W("",{providedIn:"root",factory:()=>oL});function cL(t){return sL.replace(nv,t)}function uL(t){return iL.replace(nv,t)}function $T(t,e){return e.map(n=>n.replace(nv,t))}var FT=(()=>{class t{constructor(n,r,i,s,o,a,u,d=null){this.eventManager=n,this.sharedStylesHost=r,this.appId=i,this.removeStylesOnCompDestroy=s,this.doc=o,this.platformId=a,this.ngZone=u,this.nonce=d,this.rendererByCompId=new Map,this.platformIsServer=Qy(a),this.defaultRenderer=new Kc(n,o,u,this.platformIsServer)}createRenderer(n,r){if(!n||!r)return this.defaultRenderer;this.platformIsServer&&r.encapsulation===Gn.ShadowDom&&(r=ge(B({},r),{encapsulation:Gn.Emulated}));let i=this.getOrCreateRenderer(n,r);return i instanceof Kh?i.applyToHost(n):i instanceof Qc&&i.applyStyles(),i}getOrCreateRenderer(n,r){let i=this.rendererByCompId,s=i.get(r.id);if(!s){let o=this.doc,a=this.ngZone,u=this.eventManager,d=this.sharedStylesHost,p=this.removeStylesOnCompDestroy,g=this.platformIsServer;switch(r.encapsulation){case Gn.Emulated:s=new Kh(u,d,r,this.appId,p,o,a,g);break;case Gn.ShadowDom:return new tv(u,d,n,r,o,a,this.nonce,g);default:s=new Qc(u,d,r,p,o,a,g);break}i.set(r.id,s)}return s}ngOnDestroy(){this.rendererByCompId.clear()}static{this.\u0275fac=function(r){return new(r||t)(ie(UT),ie(jT),ie(wy),ie(aL),ie(jt),ie(er),ie(Re),ie(Iy))}}static{this.\u0275prov=Y({token:t,factory:t.\u0275fac})}}return t})(),Kc=class{constructor(e,n,r,i){this.eventManager=e,this.doc=n,this.ngZone=r,this.platformIsServer=i,this.data=Object.create(null),this.throwOnSyntheticProps=!0,this.destroyNode=null}destroy(){}createElement(e,n){return n?this.doc.createElementNS(Zy[n]||n,e):this.doc.createElement(e)}createComment(e){return this.doc.createComment(e)}createText(e){return this.doc.createTextNode(e)}appendChild(e,n){(LT(e)?e.content:e).appendChild(n)}insertBefore(e,n,r){e&&(LT(e)?e.content:e).insertBefore(n,r)}removeChild(e,n){n.remove()}selectRootElement(e,n){let r=typeof e=="string"?this.doc.querySelector(e):e;if(!r)throw new Q(-5104,!1);return n||(r.textContent=""),r}parentNode(e){return e.parentNode}nextSibling(e){return e.nextSibling}setAttribute(e,n,r,i){if(i){n=i+":"+n;let s=Zy[i];s?e.setAttributeNS(s,n,r):e.setAttribute(n,r)}else e.setAttribute(n,r)}removeAttribute(e,n,r){if(r){let i=Zy[r];i?e.removeAttributeNS(i,n):e.removeAttribute(`${r}:${n}`)}else e.removeAttribute(n)}addClass(e,n){e.classList.add(n)}removeClass(e,n){e.classList.remove(n)}setStyle(e,n,r,i){i&(Tr.DashCase|Tr.Important)?e.style.setProperty(n,r,i&Tr.Important?"important":""):e.style[n]=r}removeStyle(e,n,r){r&Tr.DashCase?e.style.removeProperty(n):e.style[n]=""}setProperty(e,n,r){e!=null&&(e[n]=r)}setValue(e,n){e.nodeValue=n}listen(e,n,r){if(typeof e=="string"&&(e=Pr().getGlobalEventTarget(this.doc,e),!e))throw new Error(`Unsupported event target ${e} for event ${n}`);return this.eventManager.addEventListener(e,n,this.decoratePreventDefault(r))}decoratePreventDefault(e){return n=>{if(n==="__ngUnwrap__")return e;(this.platformIsServer?this.ngZone.runGuarded(()=>e(n)):e(n))===!1&&n.preventDefault()}}};function LT(t){return t.tagName==="TEMPLATE"&&t.content!==void 0}var tv=class extends Kc{constructor(e,n,r,i,s,o,a,u){super(e,s,o,u),this.sharedStylesHost=n,this.hostEl=r,this.shadowRoot=r.attachShadow({mode:"open"}),this.sharedStylesHost.addHost(this.shadowRoot);let d=$T(i.id,i.styles);for(let p of d){let g=document.createElement("style");a&&g.setAttribute("nonce",a),g.textContent=p,this.shadowRoot.appendChild(g)}}nodeOrShadowRoot(e){return e===this.hostEl?this.shadowRoot:e}appendChild(e,n){return super.appendChild(this.nodeOrShadowRoot(e),n)}insertBefore(e,n,r){return super.insertBefore(this.nodeOrShadowRoot(e),n,r)}removeChild(e,n){return super.removeChild(null,n)}parentNode(e){return this.nodeOrShadowRoot(super.parentNode(this.nodeOrShadowRoot(e)))}destroy(){this.sharedStylesHost.removeHost(this.shadowRoot)}},Qc=class extends Kc{constructor(e,n,r,i,s,o,a,u){super(e,s,o,a),this.sharedStylesHost=n,this.removeStylesOnCompDestroy=i,this.styles=u?$T(u,r.styles):r.styles}applyStyles(){this.sharedStylesHost.addStyles(this.styles)}destroy(){this.removeStylesOnCompDestroy&&this.sharedStylesHost.removeStyles(this.styles)}},Kh=class extends Qc{constructor(e,n,r,i,s,o,a,u){let d=i+"-"+r.id;super(e,n,r,s,o,a,u,d),this.contentAttr=cL(d),this.hostAttr=uL(d)}applyToHost(e){this.applyStyles(),this.setAttribute(e,this.hostAttr,"")}createElement(e,n){let r=super.createElement(e,n);return super.setAttribute(r,this.contentAttr,""),r}},lL=(()=>{class t extends Wh{constructor(n){super(n)}supports(n){return!0}addEventListener(n,r,i){return n.addEventListener(r,i,!1),()=>this.removeEventListener(n,r,i)}removeEventListener(n,r,i){return n.removeEventListener(r,i)}static{this.\u0275fac=function(r){return new(r||t)(ie(jt))}}static{this.\u0275prov=Y({token:t,factory:t.\u0275fac})}}return t})(),VT=["alt","control","meta","shift"],dL={"\b":"Backspace","	":"Tab","\x7F":"Delete","\x1B":"Escape",Del:"Delete",Esc:"Escape",Left:"ArrowLeft",Right:"ArrowRight",Up:"ArrowUp",Down:"ArrowDown",Menu:"ContextMenu",Scroll:"ScrollLock",Win:"OS"},hL={alt:t=>t.altKey,control:t=>t.ctrlKey,meta:t=>t.metaKey,shift:t=>t.shiftKey},fL=(()=>{class t extends Wh{constructor(n){super(n)}supports(n){return t.parseEventName(n)!=null}addEventListener(n,r,i){let s=t.parseEventName(r),o=t.eventCallback(s.fullKey,i,this.manager.getZone());return this.manager.getZone().runOutsideAngular(()=>Pr().onAndCancel(n,s.domEventName,o))}static parseEventName(n){let r=n.toLowerCase().split("."),i=r.shift();if(r.length===0||!(i==="keydown"||i==="keyup"))return null;let s=t._normalizeKey(r.pop()),o="",a=r.indexOf("code");if(a>-1&&(r.splice(a,1),o="code."),VT.forEach(d=>{let p=r.indexOf(d);p>-1&&(r.splice(p,1),o+=d+".")}),o+=s,r.length!=0||s.length===0)return null;let u={};return u.domEventName=i,u.fullKey=o,u}static matchEventFullKeyCode(n,r){let i=dL[n.key]||n.key,s="";return r.indexOf("code.")>-1&&(i=n.code,s="code."),i==null||!i?!1:(i=i.toLowerCase(),i===" "?i="space":i==="."&&(i="dot"),VT.forEach(o=>{if(o!==i){let a=hL[o];a(n)&&(s+=o+".")}}),s+=i,s===r)}static eventCallback(n,r,i){return s=>{t.matchEventFullKeyCode(s,n)&&i.runGuarded(()=>r(s))}}static _normalizeKey(n){return n==="esc"?"escape":n}static{this.\u0275fac=function(r){return new(r||t)(ie(jt))}}static{this.\u0275prov=Y({token:t,factory:t.\u0275fac})}}return t})();function K8(t,e){return _T(B({rootComponent:t},pL(e)))}function pL(t){return{appProviders:[...wL,...t?.providers??[]],platformProviders:vL}}function gL(){Xy.makeCurrent()}function mL(){return new Cr}function yL(){return wC(document),document}var vL=[{provide:er,useValue:Ky},{provide:_y,useValue:gL,multi:!0},{provide:jt,useFactory:yL,deps:[]}];var wL=[{provide:Dh,useValue:"root"},{provide:Cr,useFactory:mL,deps:[]},{provide:ev,useClass:lL,multi:!0,deps:[jt,Re,er]},{provide:ev,useClass:fL,multi:!0,deps:[jt]},FT,jT,UT,{provide:Yo,useExisting:FT},{provide:Gh,useClass:rL,deps:[]},[]];var HT=(()=>{class t{constructor(n){this._doc=n}getTitle(){return this._doc.title}setTitle(n){this._doc.title=n||""}static{this.\u0275fac=function(r){return new(r||t)(ie(jt))}}static{this.\u0275prov=Y({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();var XT=(()=>{class t{constructor(n,r){this._renderer=n,this._elementRef=r,this.onChange=i=>{},this.onTouched=()=>{}}setProperty(n,r){this._renderer.setProperty(this._elementRef.nativeElement,n,r)}registerOnTouched(n){this.onTouched=n}registerOnChange(n){this.onChange=n}setDisabledState(n){this.setProperty("disabled",n)}static{this.\u0275fac=function(r){return new(r||t)(ee(tr),ee(Sn))}}static{this.\u0275dir=Oe({type:t})}}return t})(),af=(()=>{class t extends XT{static{this.\u0275fac=(()=>{let n;return function(i){return(n||(n=Xn(t)))(i||t)}})()}static{this.\u0275dir=Oe({type:t,features:[Ot]})}}return t})(),la=new W("");var IL={provide:la,useExisting:Jt(()=>e0),multi:!0};function EL(){let t=Pr()?Pr().getUserAgent():"";return/android (\d+)/.test(t.toLowerCase())}var bL=new W(""),e0=(()=>{class t extends XT{constructor(n,r,i){super(n,r),this._compositionMode=i,this._composing=!1,this._compositionMode==null&&(this._compositionMode=!EL())}writeValue(n){let r=n??"";this.setProperty("value",r)}_handleInput(n){(!this._compositionMode||this._compositionMode&&!this._composing)&&this.onChange(n)}_compositionStart(){this._composing=!0}_compositionEnd(n){this._composing=!1,this._compositionMode&&this.onChange(n)}static{this.\u0275fac=function(r){return new(r||t)(ee(tr),ee(Sn),ee(bL,8))}}static{this.\u0275dir=Oe({type:t,selectors:[["input","formControlName","",3,"type","checkbox"],["textarea","formControlName",""],["input","formControl","",3,"type","checkbox"],["textarea","formControl",""],["input","ngModel","",3,"type","checkbox"],["textarea","ngModel",""],["","ngDefaultControl",""]],hostBindings:function(r,i){r&1&&nr("input",function(o){return i._handleInput(o.target.value)})("blur",function(){return i.onTouched()})("compositionstart",function(){return i._compositionStart()})("compositionend",function(o){return i._compositionEnd(o.target.value)})},features:[An([IL]),Ot]})}}return t})();function Mi(t){return t==null||(typeof t=="string"||Array.isArray(t))&&t.length===0}function t0(t){return t!=null&&typeof t.length=="number"}var da=new W(""),cf=new W(""),DL=/^(?=.{1,254}$)(?=.{1,64}@)[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+(?:\.[a-zA-Z0-9!#$%&'*+/=?^_`{|}~-]+)*@[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?(?:\.[a-zA-Z0-9](?:[a-zA-Z0-9-]{0,61}[a-zA-Z0-9])?)*$/,qT=class{static min(e){return CL(e)}static max(e){return TL(e)}static required(e){return n0(e)}static requiredTrue(e){return SL(e)}static email(e){return AL(e)}static minLength(e){return RL(e)}static maxLength(e){return r0(e)}static pattern(e){return xL(e)}static nullValidator(e){return Yh(e)}static compose(e){return u0(e)}static composeAsync(e){return l0(e)}};function CL(t){return e=>{if(Mi(e.value)||Mi(t))return null;let n=parseFloat(e.value);return!isNaN(n)&&n<t?{min:{min:t,actual:e.value}}:null}}function TL(t){return e=>{if(Mi(e.value)||Mi(t))return null;let n=parseFloat(e.value);return!isNaN(n)&&n>t?{max:{max:t,actual:e.value}}:null}}function n0(t){return Mi(t.value)?{required:!0}:null}function SL(t){return t.value===!0?null:{required:!0}}function AL(t){return Mi(t.value)||DL.test(t.value)?null:{email:!0}}function RL(t){return e=>Mi(e.value)||!t0(e.value)?null:e.value.length<t?{minlength:{requiredLength:t,actualLength:e.value.length}}:null}function r0(t){return e=>t0(e.value)&&e.value.length>t?{maxlength:{requiredLength:t,actualLength:e.value.length}}:null}function xL(t){if(!t)return Yh;let e,n;return typeof t=="string"?(n="",t.charAt(0)!=="^"&&(n+="^"),n+=t,t.charAt(t.length-1)!=="$"&&(n+="$"),e=new RegExp(n)):(n=t.toString(),e=t),r=>{if(Mi(r.value))return null;let i=r.value;return e.test(i)?null:{pattern:{requiredPattern:n,actualValue:i}}}}function Yh(t){return null}function i0(t){return t!=null}function s0(t){return As(t)?Ue(t):t}function o0(t){let e={};return t.forEach(n=>{e=n!=null?B(B({},e),n):e}),Object.keys(e).length===0?null:e}function a0(t,e){return e.map(n=>n(t))}function ML(t){return!t.validate}function c0(t){return t.map(e=>ML(e)?e:n=>e.validate(n))}function u0(t){if(!t)return null;let e=t.filter(i0);return e.length==0?null:function(n){return o0(a0(n,e))}}function ov(t){return t!=null?u0(c0(t)):null}function l0(t){if(!t)return null;let e=t.filter(i0);return e.length==0?null:function(n){let r=a0(n,e).map(s0);return Hg(r).pipe(le(o0))}}function av(t){return t!=null?l0(c0(t)):null}function zT(t,e){return t===null?[e]:Array.isArray(t)?[...t,e]:[t,e]}function d0(t){return t._rawValidators}function h0(t){return t._rawAsyncValidators}function rv(t){return t?Array.isArray(t)?t:[t]:[]}function Zh(t,e){return Array.isArray(t)?t.includes(e):t===e}function GT(t,e){let n=rv(e);return rv(t).forEach(i=>{Zh(n,i)||n.push(i)}),n}function WT(t,e){return rv(e).filter(n=>!Zh(t,n))}var Jh=class{constructor(){this._rawValidators=[],this._rawAsyncValidators=[],this._onDestroyCallbacks=[]}get value(){return this.control?this.control.value:null}get valid(){return this.control?this.control.valid:null}get invalid(){return this.control?this.control.invalid:null}get pending(){return this.control?this.control.pending:null}get disabled(){return this.control?this.control.disabled:null}get enabled(){return this.control?this.control.enabled:null}get errors(){return this.control?this.control.errors:null}get pristine(){return this.control?this.control.pristine:null}get dirty(){return this.control?this.control.dirty:null}get touched(){return this.control?this.control.touched:null}get status(){return this.control?this.control.status:null}get untouched(){return this.control?this.control.untouched:null}get statusChanges(){return this.control?this.control.statusChanges:null}get valueChanges(){return this.control?this.control.valueChanges:null}get path(){return null}_setValidators(e){this._rawValidators=e||[],this._composedValidatorFn=ov(this._rawValidators)}_setAsyncValidators(e){this._rawAsyncValidators=e||[],this._composedAsyncValidatorFn=av(this._rawAsyncValidators)}get validator(){return this._composedValidatorFn||null}get asyncValidator(){return this._composedAsyncValidatorFn||null}_registerOnDestroy(e){this._onDestroyCallbacks.push(e)}_invokeOnDestroyCallbacks(){this._onDestroyCallbacks.forEach(e=>e()),this._onDestroyCallbacks=[]}reset(e=void 0){this.control&&this.control.reset(e)}hasError(e,n){return this.control?this.control.hasError(e,n):!1}getError(e,n){return this.control?this.control.getError(e,n):null}},Or=class extends Jh{get formDirective(){return null}get path(){return null}},Ns=class extends Jh{constructor(){super(...arguments),this._parent=null,this.name=null,this.valueAccessor=null}},Xh=class{constructor(e){this._cd=e}get isTouched(){return this._cd?.control?._touched?.(),!!this._cd?.control?.touched}get isUntouched(){return!!this._cd?.control?.untouched}get isPristine(){return this._cd?.control?._pristine?.(),!!this._cd?.control?.pristine}get isDirty(){return!!this._cd?.control?.dirty}get isValid(){return this._cd?.control?._status?.(),!!this._cd?.control?.valid}get isInvalid(){return!!this._cd?.control?.invalid}get isPending(){return!!this._cd?.control?.pending}get isSubmitted(){return this._cd?._submitted?.(),!!this._cd?.submitted}},NL={"[class.ng-untouched]":"isUntouched","[class.ng-touched]":"isTouched","[class.ng-pristine]":"isPristine","[class.ng-dirty]":"isDirty","[class.ng-valid]":"isValid","[class.ng-invalid]":"isInvalid","[class.ng-pending]":"isPending"},dK=ge(B({},NL),{"[class.ng-submitted]":"isSubmitted"}),hK=(()=>{class t extends Xh{constructor(n){super(n)}static{this.\u0275fac=function(r){return new(r||t)(ee(Ns,2))}}static{this.\u0275dir=Oe({type:t,selectors:[["","formControlName",""],["","ngModel",""],["","formControl",""]],hostVars:14,hostBindings:function(r,i){r&2&&Vh("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)},features:[Ot]})}}return t})(),fK=(()=>{class t extends Xh{constructor(n){super(n)}static{this.\u0275fac=function(r){return new(r||t)(ee(Or,10))}}static{this.\u0275dir=Oe({type:t,selectors:[["","formGroupName",""],["","formArrayName",""],["","ngModelGroup",""],["","formGroup",""],["form",3,"ngNoForm",""],["","ngForm",""]],hostVars:16,hostBindings:function(r,i){r&2&&Vh("ng-untouched",i.isUntouched)("ng-touched",i.isTouched)("ng-pristine",i.isPristine)("ng-dirty",i.isDirty)("ng-valid",i.isValid)("ng-invalid",i.isInvalid)("ng-pending",i.isPending)("ng-submitted",i.isSubmitted)},features:[Ot]})}}return t})();var Yc="VALID",Qh="INVALID",ca="PENDING",Zc="DISABLED",Ni=class{},ef=class extends Ni{constructor(e,n){super(),this.value=e,this.source=n}},Xc=class extends Ni{constructor(e,n){super(),this.pristine=e,this.source=n}},eu=class extends Ni{constructor(e,n){super(),this.touched=e,this.source=n}},ua=class extends Ni{constructor(e,n){super(),this.status=e,this.source=n}},iv=class extends Ni{constructor(e){super(),this.source=e}},sv=class extends Ni{constructor(e){super(),this.source=e}};function f0(t){return(uf(t)?t.validators:t)||null}function PL(t){return Array.isArray(t)?ov(t):t||null}function p0(t,e){return(uf(e)?e.asyncValidators:t)||null}function kL(t){return Array.isArray(t)?av(t):t||null}function uf(t){return t!=null&&!Array.isArray(t)&&typeof t=="object"}function OL(t,e,n){let r=t.controls;if(!(e?Object.keys(r):r).length)throw new Q(1e3,"");if(!r[n])throw new Q(1001,"")}function FL(t,e,n){t._forEachChild((r,i)=>{if(n[i]===void 0)throw new Q(1002,"")})}var tf=class{constructor(e,n){this._pendingDirty=!1,this._hasOwnPendingAsyncValidator=null,this._pendingTouched=!1,this._onCollectionChange=()=>{},this._parent=null,this._status=oa(()=>this.statusReactive()),this.statusReactive=ra(void 0),this._pristine=oa(()=>this.pristineReactive()),this.pristineReactive=ra(!0),this._touched=oa(()=>this.touchedReactive()),this.touchedReactive=ra(!1),this._events=new gt,this.events=this._events.asObservable(),this._onDisabledChange=[],this._assignValidators(e),this._assignAsyncValidators(n)}get validator(){return this._composedValidatorFn}set validator(e){this._rawValidators=this._composedValidatorFn=e}get asyncValidator(){return this._composedAsyncValidatorFn}set asyncValidator(e){this._rawAsyncValidators=this._composedAsyncValidatorFn=e}get parent(){return this._parent}get status(){return rr(this.statusReactive)}set status(e){rr(()=>this.statusReactive.set(e))}get valid(){return this.status===Yc}get invalid(){return this.status===Qh}get pending(){return this.status==ca}get disabled(){return this.status===Zc}get enabled(){return this.status!==Zc}get pristine(){return rr(this.pristineReactive)}set pristine(e){rr(()=>this.pristineReactive.set(e))}get dirty(){return!this.pristine}get touched(){return rr(this.touchedReactive)}set touched(e){rr(()=>this.touchedReactive.set(e))}get untouched(){return!this.touched}get updateOn(){return this._updateOn?this._updateOn:this.parent?this.parent.updateOn:"change"}setValidators(e){this._assignValidators(e)}setAsyncValidators(e){this._assignAsyncValidators(e)}addValidators(e){this.setValidators(GT(e,this._rawValidators))}addAsyncValidators(e){this.setAsyncValidators(GT(e,this._rawAsyncValidators))}removeValidators(e){this.setValidators(WT(e,this._rawValidators))}removeAsyncValidators(e){this.setAsyncValidators(WT(e,this._rawAsyncValidators))}hasValidator(e){return Zh(this._rawValidators,e)}hasAsyncValidator(e){return Zh(this._rawAsyncValidators,e)}clearValidators(){this.validator=null}clearAsyncValidators(){this.asyncValidator=null}markAsTouched(e={}){let n=this.touched===!1;this.touched=!0;let r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsTouched(ge(B({},e),{sourceControl:r})),n&&e.emitEvent!==!1&&this._events.next(new eu(!0,r))}markAllAsTouched(e={}){this.markAsTouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:this}),this._forEachChild(n=>n.markAllAsTouched(e))}markAsUntouched(e={}){let n=this.touched===!0;this.touched=!1,this._pendingTouched=!1;let r=e.sourceControl??this;this._forEachChild(i=>{i.markAsUntouched({onlySelf:!0,emitEvent:e.emitEvent,sourceControl:r})}),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,r),n&&e.emitEvent!==!1&&this._events.next(new eu(!1,r))}markAsDirty(e={}){let n=this.pristine===!0;this.pristine=!1;let r=e.sourceControl??this;this._parent&&!e.onlySelf&&this._parent.markAsDirty(ge(B({},e),{sourceControl:r})),n&&e.emitEvent!==!1&&this._events.next(new Xc(!1,r))}markAsPristine(e={}){let n=this.pristine===!1;this.pristine=!0,this._pendingDirty=!1;let r=e.sourceControl??this;this._forEachChild(i=>{i.markAsPristine({onlySelf:!0,emitEvent:e.emitEvent})}),this._parent&&!e.onlySelf&&this._parent._updatePristine(e,r),n&&e.emitEvent!==!1&&this._events.next(new Xc(!0,r))}markAsPending(e={}){this.status=ca;let n=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new ua(this.status,n)),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.markAsPending(ge(B({},e),{sourceControl:n}))}disable(e={}){let n=this._parentMarkedDirty(e.onlySelf);this.status=Zc,this.errors=null,this._forEachChild(i=>{i.disable(ge(B({},e),{onlySelf:!0}))}),this._updateValue();let r=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new ef(this.value,r)),this._events.next(new ua(this.status,r)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._updateAncestors(ge(B({},e),{skipPristineCheck:n}),this),this._onDisabledChange.forEach(i=>i(!0))}enable(e={}){let n=this._parentMarkedDirty(e.onlySelf);this.status=Yc,this._forEachChild(r=>{r.enable(ge(B({},e),{onlySelf:!0}))}),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent}),this._updateAncestors(ge(B({},e),{skipPristineCheck:n}),this),this._onDisabledChange.forEach(r=>r(!1))}_updateAncestors(e,n){this._parent&&!e.onlySelf&&(this._parent.updateValueAndValidity(e),e.skipPristineCheck||this._parent._updatePristine({},n),this._parent._updateTouched({},n))}setParent(e){this._parent=e}getRawValue(){return this.value}updateValueAndValidity(e={}){if(this._setInitialStatus(),this._updateValue(),this.enabled){let r=this._cancelExistingSubscription();this.errors=this._runValidator(),this.status=this._calculateStatus(),(this.status===Yc||this.status===ca)&&this._runAsyncValidator(r,e.emitEvent)}let n=e.sourceControl??this;e.emitEvent!==!1&&(this._events.next(new ef(this.value,n)),this._events.next(new ua(this.status,n)),this.valueChanges.emit(this.value),this.statusChanges.emit(this.status)),this._parent&&!e.onlySelf&&this._parent.updateValueAndValidity(ge(B({},e),{sourceControl:n}))}_updateTreeValidity(e={emitEvent:!0}){this._forEachChild(n=>n._updateTreeValidity(e)),this.updateValueAndValidity({onlySelf:!0,emitEvent:e.emitEvent})}_setInitialStatus(){this.status=this._allControlsDisabled()?Zc:Yc}_runValidator(){return this.validator?this.validator(this):null}_runAsyncValidator(e,n){if(this.asyncValidator){this.status=ca,this._hasOwnPendingAsyncValidator={emitEvent:n!==!1};let r=s0(this.asyncValidator(this));this._asyncValidationSubscription=r.subscribe(i=>{this._hasOwnPendingAsyncValidator=null,this.setErrors(i,{emitEvent:n,shouldHaveEmitted:e})})}}_cancelExistingSubscription(){if(this._asyncValidationSubscription){this._asyncValidationSubscription.unsubscribe();let e=this._hasOwnPendingAsyncValidator?.emitEvent??!1;return this._hasOwnPendingAsyncValidator=null,e}return!1}setErrors(e,n={}){this.errors=e,this._updateControlsErrors(n.emitEvent!==!1,this,n.shouldHaveEmitted)}get(e){let n=e;return n==null||(Array.isArray(n)||(n=n.split(".")),n.length===0)?null:n.reduce((r,i)=>r&&r._find(i),this)}getError(e,n){let r=n?this.get(n):this;return r&&r.errors?r.errors[e]:null}hasError(e,n){return!!this.getError(e,n)}get root(){let e=this;for(;e._parent;)e=e._parent;return e}_updateControlsErrors(e,n,r){this.status=this._calculateStatus(),e&&this.statusChanges.emit(this.status),(e||r)&&this._events.next(new ua(this.status,n)),this._parent&&this._parent._updateControlsErrors(e,n,r)}_initObservables(){this.valueChanges=new Ge,this.statusChanges=new Ge}_calculateStatus(){return this._allControlsDisabled()?Zc:this.errors?Qh:this._hasOwnPendingAsyncValidator||this._anyControlsHaveStatus(ca)?ca:this._anyControlsHaveStatus(Qh)?Qh:Yc}_anyControlsHaveStatus(e){return this._anyControls(n=>n.status===e)}_anyControlsDirty(){return this._anyControls(e=>e.dirty)}_anyControlsTouched(){return this._anyControls(e=>e.touched)}_updatePristine(e,n){let r=!this._anyControlsDirty(),i=this.pristine!==r;this.pristine=r,this._parent&&!e.onlySelf&&this._parent._updatePristine(e,n),i&&this._events.next(new Xc(this.pristine,n))}_updateTouched(e={},n){this.touched=this._anyControlsTouched(),this._events.next(new eu(this.touched,n)),this._parent&&!e.onlySelf&&this._parent._updateTouched(e,n)}_registerOnCollectionChange(e){this._onCollectionChange=e}_setUpdateStrategy(e){uf(e)&&e.updateOn!=null&&(this._updateOn=e.updateOn)}_parentMarkedDirty(e){let n=this._parent&&this._parent.dirty;return!e&&!!n&&!this._parent._anyControlsDirty()}_find(e){return null}_assignValidators(e){this._rawValidators=Array.isArray(e)?e.slice():e,this._composedValidatorFn=PL(this._rawValidators)}_assignAsyncValidators(e){this._rawAsyncValidators=Array.isArray(e)?e.slice():e,this._composedAsyncValidatorFn=kL(this._rawAsyncValidators)}},nf=class extends tf{constructor(e,n,r){super(f0(n),p0(r,n)),this.controls=e,this._initObservables(),this._setUpdateStrategy(n),this._setUpControls(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator})}registerControl(e,n){return this.controls[e]?this.controls[e]:(this.controls[e]=n,n.setParent(this),n._registerOnCollectionChange(this._onCollectionChange),n)}addControl(e,n,r={}){this.registerControl(e,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}removeControl(e,n={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],this.updateValueAndValidity({emitEvent:n.emitEvent}),this._onCollectionChange()}setControl(e,n,r={}){this.controls[e]&&this.controls[e]._registerOnCollectionChange(()=>{}),delete this.controls[e],n&&this.registerControl(e,n),this.updateValueAndValidity({emitEvent:r.emitEvent}),this._onCollectionChange()}contains(e){return this.controls.hasOwnProperty(e)&&this.controls[e].enabled}setValue(e,n={}){FL(this,!0,e),Object.keys(e).forEach(r=>{OL(this,!0,r),this.controls[r].setValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n)}patchValue(e,n={}){e!=null&&(Object.keys(e).forEach(r=>{let i=this.controls[r];i&&i.patchValue(e[r],{onlySelf:!0,emitEvent:n.emitEvent})}),this.updateValueAndValidity(n))}reset(e={},n={}){this._forEachChild((r,i)=>{r.reset(e?e[i]:null,{onlySelf:!0,emitEvent:n.emitEvent})}),this._updatePristine(n,this),this._updateTouched(n,this),this.updateValueAndValidity(n)}getRawValue(){return this._reduceChildren({},(e,n,r)=>(e[r]=n.getRawValue(),e))}_syncPendingControls(){let e=this._reduceChildren(!1,(n,r)=>r._syncPendingControls()?!0:n);return e&&this.updateValueAndValidity({onlySelf:!0}),e}_forEachChild(e){Object.keys(this.controls).forEach(n=>{let r=this.controls[n];r&&e(r,n)})}_setUpControls(){this._forEachChild(e=>{e.setParent(this),e._registerOnCollectionChange(this._onCollectionChange)})}_updateValue(){this.value=this._reduceValue()}_anyControls(e){for(let[n,r]of Object.entries(this.controls))if(this.contains(n)&&e(r))return!0;return!1}_reduceValue(){let e={};return this._reduceChildren(e,(n,r,i)=>((r.enabled||this.disabled)&&(n[i]=r.value),n))}_reduceChildren(e,n){let r=e;return this._forEachChild((i,s)=>{r=n(r,i,s)}),r}_allControlsDisabled(){for(let e of Object.keys(this.controls))if(this.controls[e].enabled)return!1;return Object.keys(this.controls).length>0||this.disabled}_find(e){return this.controls.hasOwnProperty(e)?this.controls[e]:null}};var tu=new W("CallSetDisabledState",{providedIn:"root",factory:()=>lf}),lf="always";function g0(t,e){return[...e.path,t]}function rf(t,e,n=lf){cv(t,e),e.valueAccessor.writeValue(t.value),(t.disabled||n==="always")&&e.valueAccessor.setDisabledState?.(t.disabled),VL(t,e),jL(t,e),UL(t,e),LL(t,e)}function KT(t,e,n=!0){let r=()=>{};e.valueAccessor&&(e.valueAccessor.registerOnChange(r),e.valueAccessor.registerOnTouched(r)),of(t,e),t&&(e._invokeOnDestroyCallbacks(),t._registerOnCollectionChange(()=>{}))}function sf(t,e){t.forEach(n=>{n.registerOnValidatorChange&&n.registerOnValidatorChange(e)})}function LL(t,e){if(e.valueAccessor.setDisabledState){let n=r=>{e.valueAccessor.setDisabledState(r)};t.registerOnDisabledChange(n),e._registerOnDestroy(()=>{t._unregisterOnDisabledChange(n)})}}function cv(t,e){let n=d0(t);e.validator!==null?t.setValidators(zT(n,e.validator)):typeof n=="function"&&t.setValidators([n]);let r=h0(t);e.asyncValidator!==null?t.setAsyncValidators(zT(r,e.asyncValidator)):typeof r=="function"&&t.setAsyncValidators([r]);let i=()=>t.updateValueAndValidity();sf(e._rawValidators,i),sf(e._rawAsyncValidators,i)}function of(t,e){let n=!1;if(t!==null){if(e.validator!==null){let i=d0(t);if(Array.isArray(i)&&i.length>0){let s=i.filter(o=>o!==e.validator);s.length!==i.length&&(n=!0,t.setValidators(s))}}if(e.asyncValidator!==null){let i=h0(t);if(Array.isArray(i)&&i.length>0){let s=i.filter(o=>o!==e.asyncValidator);s.length!==i.length&&(n=!0,t.setAsyncValidators(s))}}}let r=()=>{};return sf(e._rawValidators,r),sf(e._rawAsyncValidators,r),n}function VL(t,e){e.valueAccessor.registerOnChange(n=>{t._pendingValue=n,t._pendingChange=!0,t._pendingDirty=!0,t.updateOn==="change"&&m0(t,e)})}function UL(t,e){e.valueAccessor.registerOnTouched(()=>{t._pendingTouched=!0,t.updateOn==="blur"&&t._pendingChange&&m0(t,e),t.updateOn!=="submit"&&t.markAsTouched()})}function m0(t,e){t._pendingDirty&&t.markAsDirty(),t.setValue(t._pendingValue,{emitModelToViewChange:!1}),e.viewToModelUpdate(t._pendingValue),t._pendingChange=!1}function jL(t,e){let n=(r,i)=>{e.valueAccessor.writeValue(r),i&&e.viewToModelUpdate(r)};t.registerOnChange(n),e._registerOnDestroy(()=>{t._unregisterOnChange(n)})}function y0(t,e){t==null,cv(t,e)}function BL(t,e){return of(t,e)}function v0(t,e){if(!t.hasOwnProperty("model"))return!1;let n=t.model;return n.isFirstChange()?!0:!Object.is(e,n.currentValue)}function $L(t){return Object.getPrototypeOf(t.constructor)===af}function w0(t,e){t._syncPendingControls(),e.forEach(n=>{let r=n.control;r.updateOn==="submit"&&r._pendingChange&&(n.viewToModelUpdate(r._pendingValue),r._pendingChange=!1)})}function _0(t,e){if(!e)return null;Array.isArray(e);let n,r,i;return e.forEach(s=>{s.constructor===e0?n=s:$L(s)?r=s:i=s}),i||r||n||null}function HL(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}var qL={provide:Or,useExisting:Jt(()=>zL)},Jc=Promise.resolve(),zL=(()=>{class t extends Or{get submitted(){return rr(this.submittedReactive)}constructor(n,r,i){super(),this.callSetDisabledState=i,this._submitted=oa(()=>this.submittedReactive()),this.submittedReactive=ra(!1),this._directives=new Set,this.ngSubmit=new Ge,this.form=new nf({},ov(n),av(r))}ngAfterViewInit(){this._setUpdateStrategy()}get formDirective(){return this}get control(){return this.form}get path(){return[]}get controls(){return this.form.controls}addControl(n){Jc.then(()=>{let r=this._findContainer(n.path);n.control=r.registerControl(n.name,n.control),rf(n.control,n,this.callSetDisabledState),n.control.updateValueAndValidity({emitEvent:!1}),this._directives.add(n)})}getControl(n){return this.form.get(n.path)}removeControl(n){Jc.then(()=>{let r=this._findContainer(n.path);r&&r.removeControl(n.name),this._directives.delete(n)})}addFormGroup(n){Jc.then(()=>{let r=this._findContainer(n.path),i=new nf({});y0(i,n),r.registerControl(n.name,i),i.updateValueAndValidity({emitEvent:!1})})}removeFormGroup(n){Jc.then(()=>{let r=this._findContainer(n.path);r&&r.removeControl(n.name)})}getFormGroup(n){return this.form.get(n.path)}updateModel(n,r){Jc.then(()=>{this.form.get(n.path).setValue(r)})}setValue(n){this.control.setValue(n)}onSubmit(n){return this.submittedReactive.set(!0),w0(this.form,this._directives),this.ngSubmit.emit(n),n?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(n=void 0){this.form.reset(n),this.submittedReactive.set(!1)}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.form._updateOn=this.options.updateOn)}_findContainer(n){return n.pop(),n.length?this.form.get(n):this.form}static{this.\u0275fac=function(r){return new(r||t)(ee(da,10),ee(cf,10),ee(tu,8))}}static{this.\u0275dir=Oe({type:t,selectors:[["form",3,"ngNoForm","",3,"formGroup",""],["ng-form"],["","ngForm",""]],hostBindings:function(r,i){r&1&&nr("submit",function(o){return i.onSubmit(o)})("reset",function(){return i.onReset()})},inputs:{options:[0,"ngFormOptions","options"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[An([qL]),Ot]})}}return t})();function QT(t,e){let n=t.indexOf(e);n>-1&&t.splice(n,1)}function YT(t){return typeof t=="object"&&t!==null&&Object.keys(t).length===2&&"value"in t&&"disabled"in t}var I0=class extends tf{constructor(e=null,n,r){super(f0(n),p0(r,n)),this.defaultValue=null,this._onChange=[],this._pendingChange=!1,this._applyFormState(e),this._setUpdateStrategy(n),this._initObservables(),this.updateValueAndValidity({onlySelf:!0,emitEvent:!!this.asyncValidator}),uf(n)&&(n.nonNullable||n.initialValueIsDefault)&&(YT(e)?this.defaultValue=e.value:this.defaultValue=e)}setValue(e,n={}){this.value=this._pendingValue=e,this._onChange.length&&n.emitModelToViewChange!==!1&&this._onChange.forEach(r=>r(this.value,n.emitViewToModelChange!==!1)),this.updateValueAndValidity(n)}patchValue(e,n={}){this.setValue(e,n)}reset(e=this.defaultValue,n={}){this._applyFormState(e),this.markAsPristine(n),this.markAsUntouched(n),this.setValue(this.value,n),this._pendingChange=!1}_updateValue(){}_anyControls(e){return!1}_allControlsDisabled(){return this.disabled}registerOnChange(e){this._onChange.push(e)}_unregisterOnChange(e){QT(this._onChange,e)}registerOnDisabledChange(e){this._onDisabledChange.push(e)}_unregisterOnDisabledChange(e){QT(this._onDisabledChange,e)}_forEachChild(e){}_syncPendingControls(){return this.updateOn==="submit"&&(this._pendingDirty&&this.markAsDirty(),this._pendingTouched&&this.markAsTouched(),this._pendingChange)?(this.setValue(this._pendingValue,{onlySelf:!0,emitModelToViewChange:!1}),!0):!1}_applyFormState(e){YT(e)?(this.value=this._pendingValue=e.value,e.disabled?this.disable({onlySelf:!0,emitEvent:!1}):this.enable({onlySelf:!0,emitEvent:!1})):this.value=this._pendingValue=e}};var GL=t=>t instanceof I0;var WL={provide:Ns,useExisting:Jt(()=>KL)},ZT=Promise.resolve(),KL=(()=>{class t extends Ns{constructor(n,r,i,s,o,a){super(),this._changeDetectorRef=o,this.callSetDisabledState=a,this.control=new I0,this._registered=!1,this.name="",this.update=new Ge,this._parent=n,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=_0(this,s)}ngOnChanges(n){if(this._checkForErrors(),!this._registered||"name"in n){if(this._registered&&(this._checkName(),this.formDirective)){let r=n.name.previousValue;this.formDirective.removeControl({name:r,path:this._getPath(r)})}this._setUpControl()}"isDisabled"in n&&this._updateDisabled(n),v0(n,this.viewModel)&&(this._updateValue(this.model),this.viewModel=this.model)}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}get path(){return this._getPath(this.name)}get formDirective(){return this._parent?this._parent.formDirective:null}viewToModelUpdate(n){this.viewModel=n,this.update.emit(n)}_setUpControl(){this._setUpdateStrategy(),this._isStandalone()?this._setUpStandalone():this.formDirective.addControl(this),this._registered=!0}_setUpdateStrategy(){this.options&&this.options.updateOn!=null&&(this.control._updateOn=this.options.updateOn)}_isStandalone(){return!this._parent||!!(this.options&&this.options.standalone)}_setUpStandalone(){rf(this.control,this,this.callSetDisabledState),this.control.updateValueAndValidity({emitEvent:!1})}_checkForErrors(){this._isStandalone()||this._checkParentType(),this._checkName()}_checkParentType(){}_checkName(){this.options&&this.options.name&&(this.name=this.options.name),!this._isStandalone()&&this.name}_updateValue(n){ZT.then(()=>{this.control.setValue(n,{emitViewToModelChange:!1}),this._changeDetectorRef?.markForCheck()})}_updateDisabled(n){let r=n.isDisabled.currentValue,i=r!==0&&xi(r);ZT.then(()=>{i&&!this.control.disabled?this.control.disable():!i&&this.control.disabled&&this.control.enable(),this._changeDetectorRef?.markForCheck()})}_getPath(n){return this._parent?g0(n,this._parent):[n]}static{this.\u0275fac=function(r){return new(r||t)(ee(Or,9),ee(da,10),ee(cf,10),ee(la,10),ee(xs,8),ee(tu,8))}}static{this.\u0275dir=Oe({type:t,selectors:[["","ngModel","",3,"formControlName","",3,"formControl",""]],inputs:{name:"name",isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"],options:[0,"ngModelOptions","options"]},outputs:{update:"ngModelChange"},exportAs:["ngModel"],features:[An([WL]),Ot,Jn]})}}return t})(),gK=(()=>{class t{static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275dir=Oe({type:t,selectors:[["form",3,"ngNoForm","",3,"ngNativeValidate",""]],hostAttrs:["novalidate",""]})}}return t})(),QL={provide:la,useExisting:Jt(()=>YL),multi:!0},YL=(()=>{class t extends af{writeValue(n){let r=n??"";this.setProperty("value",r)}registerOnChange(n){this.onChange=r=>{n(r==""?null:parseFloat(r))}}static{this.\u0275fac=(()=>{let n;return function(i){return(n||(n=Xn(t)))(i||t)}})()}static{this.\u0275dir=Oe({type:t,selectors:[["input","type","number","formControlName",""],["input","type","number","formControl",""],["input","type","number","ngModel",""]],hostBindings:function(r,i){r&1&&nr("input",function(o){return i.onChange(o.target.value)})("blur",function(){return i.onTouched()})},features:[An([QL]),Ot]})}}return t})();var E0=new W("");var ZL={provide:Or,useExisting:Jt(()=>JL)},JL=(()=>{class t extends Or{get submitted(){return rr(this._submittedReactive)}set submitted(n){this._submittedReactive.set(n)}constructor(n,r,i){super(),this.callSetDisabledState=i,this._submitted=oa(()=>this._submittedReactive()),this._submittedReactive=ra(!1),this._onCollectionChange=()=>this._updateDomValue(),this.directives=[],this.form=null,this.ngSubmit=new Ge,this._setValidators(n),this._setAsyncValidators(r)}ngOnChanges(n){this._checkFormPresent(),n.hasOwnProperty("form")&&(this._updateValidators(),this._updateDomValue(),this._updateRegistrations(),this._oldForm=this.form)}ngOnDestroy(){this.form&&(of(this.form,this),this.form._onCollectionChange===this._onCollectionChange&&this.form._registerOnCollectionChange(()=>{}))}get formDirective(){return this}get control(){return this.form}get path(){return[]}addControl(n){let r=this.form.get(n.path);return rf(r,n,this.callSetDisabledState),r.updateValueAndValidity({emitEvent:!1}),this.directives.push(n),r}getControl(n){return this.form.get(n.path)}removeControl(n){KT(n.control||null,n,!1),HL(this.directives,n)}addFormGroup(n){this._setUpFormContainer(n)}removeFormGroup(n){this._cleanUpFormContainer(n)}getFormGroup(n){return this.form.get(n.path)}addFormArray(n){this._setUpFormContainer(n)}removeFormArray(n){this._cleanUpFormContainer(n)}getFormArray(n){return this.form.get(n.path)}updateModel(n,r){this.form.get(n.path).setValue(r)}onSubmit(n){return this._submittedReactive.set(!0),w0(this.form,this.directives),this.ngSubmit.emit(n),this.form._events.next(new iv(this.control)),n?.target?.method==="dialog"}onReset(){this.resetForm()}resetForm(n=void 0){this.form.reset(n),this._submittedReactive.set(!1),this.form._events.next(new sv(this.form))}_updateDomValue(){this.directives.forEach(n=>{let r=n.control,i=this.form.get(n.path);r!==i&&(KT(r||null,n),GL(i)&&(rf(i,n,this.callSetDisabledState),n.control=i))}),this.form._updateTreeValidity({emitEvent:!1})}_setUpFormContainer(n){let r=this.form.get(n.path);y0(r,n),r.updateValueAndValidity({emitEvent:!1})}_cleanUpFormContainer(n){if(this.form){let r=this.form.get(n.path);r&&BL(r,n)&&r.updateValueAndValidity({emitEvent:!1})}}_updateRegistrations(){this.form._registerOnCollectionChange(this._onCollectionChange),this._oldForm&&this._oldForm._registerOnCollectionChange(()=>{})}_updateValidators(){cv(this.form,this),this._oldForm&&of(this._oldForm,this)}_checkFormPresent(){this.form}static{this.\u0275fac=function(r){return new(r||t)(ee(da,10),ee(cf,10),ee(tu,8))}}static{this.\u0275dir=Oe({type:t,selectors:[["","formGroup",""]],hostBindings:function(r,i){r&1&&nr("submit",function(o){return i.onSubmit(o)})("reset",function(){return i.onReset()})},inputs:{form:[0,"formGroup","form"]},outputs:{ngSubmit:"ngSubmit"},exportAs:["ngForm"],features:[An([ZL]),Ot,Jn]})}}return t})();var XL={provide:Ns,useExisting:Jt(()=>eV)},eV=(()=>{class t extends Ns{set isDisabled(n){}static{this._ngModelWarningSentOnce=!1}constructor(n,r,i,s,o){super(),this._ngModelWarningConfig=o,this._added=!1,this.name=null,this.update=new Ge,this._ngModelWarningSent=!1,this._parent=n,this._setValidators(r),this._setAsyncValidators(i),this.valueAccessor=_0(this,s)}ngOnChanges(n){this._added||this._setUpControl(),v0(n,this.viewModel)&&(this.viewModel=this.model,this.formDirective.updateModel(this,this.model))}ngOnDestroy(){this.formDirective&&this.formDirective.removeControl(this)}viewToModelUpdate(n){this.viewModel=n,this.update.emit(n)}get path(){return g0(this.name==null?this.name:this.name.toString(),this._parent)}get formDirective(){return this._parent?this._parent.formDirective:null}_checkParentType(){}_setUpControl(){this._checkParentType(),this.control=this.formDirective.addControl(this),this._added=!0}static{this.\u0275fac=function(r){return new(r||t)(ee(Or,13),ee(da,10),ee(cf,10),ee(la,10),ee(E0,8))}}static{this.\u0275dir=Oe({type:t,selectors:[["","formControlName",""]],inputs:{name:[0,"formControlName","name"],isDisabled:[0,"disabled","isDisabled"],model:[0,"ngModel","model"]},outputs:{update:"ngModelChange"},features:[An([XL]),Ot,Jn]})}}return t})(),tV={provide:la,useExisting:Jt(()=>D0),multi:!0};function b0(t,e){return t==null?`${e}`:(e&&typeof e=="object"&&(e="Object"),`${t}: ${e}`.slice(0,50))}function nV(t){return t.split(":")[0]}var D0=(()=>{class t extends af{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(n){this._compareWith=n}writeValue(n){this.value=n;let r=this._getOptionId(n),i=b0(r,n);this.setProperty("value",i)}registerOnChange(n){this.onChange=r=>{this.value=this._getOptionValue(r),n(this.value)}}_registerOption(){return(this._idCounter++).toString()}_getOptionId(n){for(let r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r),n))return r;return null}_getOptionValue(n){let r=nV(n);return this._optionMap.has(r)?this._optionMap.get(r):n}static{this.\u0275fac=(()=>{let n;return function(i){return(n||(n=Xn(t)))(i||t)}})()}static{this.\u0275dir=Oe({type:t,selectors:[["select","formControlName","",3,"multiple",""],["select","formControl","",3,"multiple",""],["select","ngModel","",3,"multiple",""]],hostBindings:function(r,i){r&1&&nr("change",function(o){return i.onChange(o.target.value)})("blur",function(){return i.onTouched()})},inputs:{compareWith:"compareWith"},features:[An([tV]),Ot]})}}return t})(),mK=(()=>{class t{constructor(n,r,i){this._element=n,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption())}set ngValue(n){this._select!=null&&(this._select._optionMap.set(this.id,n),this._setElementValue(b0(this.id,n)),this._select.writeValue(this._select.value))}set value(n){this._setElementValue(n),this._select&&this._select.writeValue(this._select.value)}_setElementValue(n){this._renderer.setProperty(this._element.nativeElement,"value",n)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static{this.\u0275fac=function(r){return new(r||t)(ee(Sn),ee(tr),ee(D0,9))}}static{this.\u0275dir=Oe({type:t,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}})}}return t})(),rV={provide:la,useExisting:Jt(()=>C0),multi:!0};function JT(t,e){return t==null?`${e}`:(typeof e=="string"&&(e=`'${e}'`),e&&typeof e=="object"&&(e="Object"),`${t}: ${e}`.slice(0,50))}function iV(t){return t.split(":")[0]}var C0=(()=>{class t extends af{constructor(){super(...arguments),this._optionMap=new Map,this._idCounter=0,this._compareWith=Object.is}set compareWith(n){this._compareWith=n}writeValue(n){this.value=n;let r;if(Array.isArray(n)){let i=n.map(s=>this._getOptionId(s));r=(s,o)=>{s._setSelected(i.indexOf(o.toString())>-1)}}else r=(i,s)=>{i._setSelected(!1)};this._optionMap.forEach(r)}registerOnChange(n){this.onChange=r=>{let i=[],s=r.selectedOptions;if(s!==void 0){let o=s;for(let a=0;a<o.length;a++){let u=o[a],d=this._getOptionValue(u.value);i.push(d)}}else{let o=r.options;for(let a=0;a<o.length;a++){let u=o[a];if(u.selected){let d=this._getOptionValue(u.value);i.push(d)}}}this.value=i,n(i)}}_registerOption(n){let r=(this._idCounter++).toString();return this._optionMap.set(r,n),r}_getOptionId(n){for(let r of this._optionMap.keys())if(this._compareWith(this._optionMap.get(r)._value,n))return r;return null}_getOptionValue(n){let r=iV(n);return this._optionMap.has(r)?this._optionMap.get(r)._value:n}static{this.\u0275fac=(()=>{let n;return function(i){return(n||(n=Xn(t)))(i||t)}})()}static{this.\u0275dir=Oe({type:t,selectors:[["select","multiple","","formControlName",""],["select","multiple","","formControl",""],["select","multiple","","ngModel",""]],hostBindings:function(r,i){r&1&&nr("change",function(o){return i.onChange(o.target)})("blur",function(){return i.onTouched()})},inputs:{compareWith:"compareWith"},features:[An([rV]),Ot]})}}return t})(),yK=(()=>{class t{constructor(n,r,i){this._element=n,this._renderer=r,this._select=i,this._select&&(this.id=this._select._registerOption(this))}set ngValue(n){this._select!=null&&(this._value=n,this._setElementValue(JT(this.id,n)),this._select.writeValue(this._select.value))}set value(n){this._select?(this._value=n,this._setElementValue(JT(this.id,n)),this._select.writeValue(this._select.value)):this._setElementValue(n)}_setElementValue(n){this._renderer.setProperty(this._element.nativeElement,"value",n)}_setSelected(n){this._renderer.setProperty(this._element.nativeElement,"selected",n)}ngOnDestroy(){this._select&&(this._select._optionMap.delete(this.id),this._select.writeValue(this._select.value))}static{this.\u0275fac=function(r){return new(r||t)(ee(Sn),ee(tr),ee(C0,9))}}static{this.\u0275dir=Oe({type:t,selectors:[["option"]],inputs:{ngValue:"ngValue",value:"value"}})}}return t})();function sV(t){return typeof t=="number"?t:parseInt(t,10)}var T0=(()=>{class t{constructor(){this._validator=Yh}ngOnChanges(n){if(this.inputName in n){let r=this.normalizeInput(n[this.inputName].currentValue);this._enabled=this.enabled(r),this._validator=this._enabled?this.createValidator(r):Yh,this._onChange&&this._onChange()}}validate(n){return this._validator(n)}registerOnValidatorChange(n){this._onChange=n}enabled(n){return n!=null}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275dir=Oe({type:t,features:[Jn]})}}return t})();var oV={provide:da,useExisting:Jt(()=>aV),multi:!0};var aV=(()=>{class t extends T0{constructor(){super(...arguments),this.inputName="required",this.normalizeInput=xi,this.createValidator=n=>n0}enabled(n){return n}static{this.\u0275fac=(()=>{let n;return function(i){return(n||(n=Xn(t)))(i||t)}})()}static{this.\u0275dir=Oe({type:t,selectors:[["","required","","formControlName","",3,"type","checkbox"],["","required","","formControl","",3,"type","checkbox"],["","required","","ngModel","",3,"type","checkbox"]],hostVars:1,hostBindings:function(r,i){r&2&&sa("required",i._enabled?"":null)},inputs:{required:"required"},features:[An([oV]),Ot]})}}return t})();var cV={provide:da,useExisting:Jt(()=>uV),multi:!0},uV=(()=>{class t extends T0{constructor(){super(...arguments),this.inputName="maxlength",this.normalizeInput=n=>sV(n),this.createValidator=n=>r0(n)}static{this.\u0275fac=(()=>{let n;return function(i){return(n||(n=Xn(t)))(i||t)}})()}static{this.\u0275dir=Oe({type:t,selectors:[["","maxlength","","formControlName",""],["","maxlength","","formControl",""],["","maxlength","","ngModel",""]],hostVars:1,hostBindings:function(r,i){r&2&&sa("maxlength",i._enabled?i.maxlength:null)},inputs:{maxlength:"maxlength"},features:[An([cV]),Ot]})}}return t})();var S0=(()=>{class t{static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275mod=Rr({type:t})}static{this.\u0275inj=Ar({})}}return t})();var vK=(()=>{class t{static withConfig(n){return{ngModule:t,providers:[{provide:tu,useValue:n.callSetDisabledState??lf}]}}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275mod=Rr({type:t})}static{this.\u0275inj=Ar({imports:[S0]})}}return t})(),wK=(()=>{class t{static withConfig(n){return{ngModule:t,providers:[{provide:E0,useValue:n.warnOnNgModelWithFormControl??"always"},{provide:tu,useValue:n.callSetDisabledState??lf}]}}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275mod=Rr({type:t})}static{this.\u0275inj=Ar({imports:[S0]})}}return t})();function lV(t,e){t&1&&(zc(0,"div",1),Gc(1,"div",2),zc(2,"h3"),dT(3,"CARGANDO..."),Uh()())}var A0=class t{isLoading=!1;static \u0275fac=function(n){return new(n||t)};static \u0275cmp=bh({type:t,selectors:[["app-loading"]],inputs:{isLoading:"isLoading"},standalone:!0,features:[jh],decls:1,vars:1,consts:[["class","loading-overlay",4,"ngIf"],[1,"loading-overlay"],[1,"loading-spinner"]],template:function(n,r){n&1&&ky(0,lV,4,0,"div",0),n&2&&Fy("ngIf",r.isLoading)},dependencies:[Wy,PT],styles:[".loading-overlay[_ngcontent-%COMP%]{position:fixed;inset:0;background:#00000080;display:flex;flex-direction:column;align-items:center;justify-content:center;z-index:1000}.loading-spinner[_ngcontent-%COMP%]{border:8px solid #f3f3f3;border-top:8px solid #ee0a0a;border-radius:50%;width:50px;height:50px;animation:_ngcontent-%COMP%_spin 1s linear infinite;margin-bottom:20px}@keyframes _ngcontent-%COMP%_spin{0%{transform:rotate(0)}to{transform:rotate(360deg)}}"]})};var ce="primary",mu=Symbol("RouteTitle"),fv=class{constructor(e){this.params=e||{}}has(e){return Object.prototype.hasOwnProperty.call(this.params,e)}get(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n[0]:n}return null}getAll(e){if(this.has(e)){let n=this.params[e];return Array.isArray(n)?n:[n]}return[]}get keys(){return Object.keys(this.params)}};function ya(t){return new fv(t)}function dV(t,e,n){let r=n.path.split("/");if(r.length>t.length||n.pathMatch==="full"&&(e.hasChildren()||r.length<t.length))return null;let i={};for(let s=0;s<r.length;s++){let o=r[s],a=t[s];if(o[0]===":")i[o.substring(1)]=a;else if(o!==a.path)return null}return{consumed:t.slice(0,r.length),posParams:i}}function hV(t,e){if(t.length!==e.length)return!1;for(let n=0;n<t.length;++n)if(!ir(t[n],e[n]))return!1;return!0}function ir(t,e){let n=t?pv(t):void 0,r=e?pv(e):void 0;if(!n||!r||n.length!=r.length)return!1;let i;for(let s=0;s<n.length;s++)if(i=n[s],!U0(t[i],e[i]))return!1;return!0}function pv(t){return[...Object.keys(t),...Object.getOwnPropertySymbols(t)]}function U0(t,e){if(Array.isArray(t)&&Array.isArray(e)){if(t.length!==e.length)return!1;let n=[...t].sort(),r=[...e].sort();return n.every((i,s)=>r[s]===i)}else return t===e}function j0(t){return t.length>0?t[t.length-1]:null}function Oi(t){return $g(t)?t:As(t)?Ue(Promise.resolve(t)):ne(t)}var fV={exact:$0,subset:H0},B0={exact:pV,subset:gV,ignored:()=>!0};function R0(t,e,n){return fV[n.paths](t.root,e.root,n.matrixParams)&&B0[n.queryParams](t.queryParams,e.queryParams)&&!(n.fragment==="exact"&&t.fragment!==e.fragment)}function pV(t,e){return ir(t,e)}function $0(t,e,n){if(!ks(t.segments,e.segments)||!ff(t.segments,e.segments,n)||t.numberOfChildren!==e.numberOfChildren)return!1;for(let r in e.children)if(!t.children[r]||!$0(t.children[r],e.children[r],n))return!1;return!0}function gV(t,e){return Object.keys(e).length<=Object.keys(t).length&&Object.keys(e).every(n=>U0(t[n],e[n]))}function H0(t,e,n){return q0(t,e,e.segments,n)}function q0(t,e,n,r){if(t.segments.length>n.length){let i=t.segments.slice(0,n.length);return!(!ks(i,n)||e.hasChildren()||!ff(i,n,r))}else if(t.segments.length===n.length){if(!ks(t.segments,n)||!ff(t.segments,n,r))return!1;for(let i in e.children)if(!t.children[i]||!H0(t.children[i],e.children[i],r))return!1;return!0}else{let i=n.slice(0,t.segments.length),s=n.slice(t.segments.length);return!ks(t.segments,i)||!ff(t.segments,i,r)||!t.children[ce]?!1:q0(t.children[ce],e,s,r)}}function ff(t,e,n){return e.every((r,i)=>B0[n](t[i].parameters,r.parameters))}var Lr=class{constructor(e=new xe([],{}),n={},r=null){this.root=e,this.queryParams=n,this.fragment=r}get queryParamMap(){return this._queryParamMap??=ya(this.queryParams),this._queryParamMap}toString(){return vV.serialize(this)}},xe=class{constructor(e,n){this.segments=e,this.children=n,this.parent=null,Object.values(n).forEach(r=>r.parent=this)}hasChildren(){return this.numberOfChildren>0}get numberOfChildren(){return Object.keys(this.children).length}toString(){return pf(this)}},Ps=class{constructor(e,n){this.path=e,this.parameters=n}get parameterMap(){return this._parameterMap??=ya(this.parameters),this._parameterMap}toString(){return G0(this)}};function mV(t,e){return ks(t,e)&&t.every((n,r)=>ir(n.parameters,e[r].parameters))}function ks(t,e){return t.length!==e.length?!1:t.every((n,r)=>n.path===e[r].path)}function yV(t,e){let n=[];return Object.entries(t.children).forEach(([r,i])=>{r===ce&&(n=n.concat(e(i,r)))}),Object.entries(t.children).forEach(([r,i])=>{r!==ce&&(n=n.concat(e(i,r)))}),n}var yu=(()=>{class t{static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=Y({token:t,factory:()=>new va,providedIn:"root"})}}return t})(),va=class{parse(e){let n=new mv(e);return new Lr(n.parseRootSegment(),n.parseQueryParams(),n.parseFragment())}serialize(e){let n=`/${nu(e.root,!0)}`,r=IV(e.queryParams),i=typeof e.fragment=="string"?`#${wV(e.fragment)}`:"";return`${n}${r}${i}`}},vV=new va;function pf(t){return t.segments.map(e=>G0(e)).join("/")}function nu(t,e){if(!t.hasChildren())return pf(t);if(e){let n=t.children[ce]?nu(t.children[ce],!1):"",r=[];return Object.entries(t.children).forEach(([i,s])=>{i!==ce&&r.push(`${i}:${nu(s,!1)}`)}),r.length>0?`${n}(${r.join("//")})`:n}else{let n=yV(t,(r,i)=>i===ce?[nu(t.children[ce],!1)]:[`${i}:${nu(r,!1)}`]);return Object.keys(t.children).length===1&&t.children[ce]!=null?`${pf(t)}/${n[0]}`:`${pf(t)}/(${n.join("//")})`}}function z0(t){return encodeURIComponent(t).replace(/%40/g,"@").replace(/%3A/gi,":").replace(/%24/g,"$").replace(/%2C/gi,",")}function df(t){return z0(t).replace(/%3B/gi,";")}function wV(t){return encodeURI(t)}function gv(t){return z0(t).replace(/\(/g,"%28").replace(/\)/g,"%29").replace(/%26/gi,"&")}function gf(t){return decodeURIComponent(t)}function x0(t){return gf(t.replace(/\+/g,"%20"))}function G0(t){return`${gv(t.path)}${_V(t.parameters)}`}function _V(t){return Object.entries(t).map(([e,n])=>`;${gv(e)}=${gv(n)}`).join("")}function IV(t){let e=Object.entries(t).map(([n,r])=>Array.isArray(r)?r.map(i=>`${df(n)}=${df(i)}`).join("&"):`${df(n)}=${df(r)}`).filter(n=>n);return e.length?`?${e.join("&")}`:""}var EV=/^[^\/()?;#]+/;function uv(t){let e=t.match(EV);return e?e[0]:""}var bV=/^[^\/()?;=#]+/;function DV(t){let e=t.match(bV);return e?e[0]:""}var CV=/^[^=?&#]+/;function TV(t){let e=t.match(CV);return e?e[0]:""}var SV=/^[^&#]+/;function AV(t){let e=t.match(SV);return e?e[0]:""}var mv=class{constructor(e){this.url=e,this.remaining=e}parseRootSegment(){return this.consumeOptional("/"),this.remaining===""||this.peekStartsWith("?")||this.peekStartsWith("#")?new xe([],{}):new xe([],this.parseChildren())}parseQueryParams(){let e={};if(this.consumeOptional("?"))do this.parseQueryParam(e);while(this.consumeOptional("&"));return e}parseFragment(){return this.consumeOptional("#")?decodeURIComponent(this.remaining):null}parseChildren(){if(this.remaining==="")return{};this.consumeOptional("/");let e=[];for(this.peekStartsWith("(")||e.push(this.parseSegment());this.peekStartsWith("/")&&!this.peekStartsWith("//")&&!this.peekStartsWith("/(");)this.capture("/"),e.push(this.parseSegment());let n={};this.peekStartsWith("/(")&&(this.capture("/"),n=this.parseParens(!0));let r={};return this.peekStartsWith("(")&&(r=this.parseParens(!1)),(e.length>0||Object.keys(n).length>0)&&(r[ce]=new xe(e,n)),r}parseSegment(){let e=uv(this.remaining);if(e===""&&this.peekStartsWith(";"))throw new Q(4009,!1);return this.capture(e),new Ps(gf(e),this.parseMatrixParams())}parseMatrixParams(){let e={};for(;this.consumeOptional(";");)this.parseParam(e);return e}parseParam(e){let n=DV(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let i=uv(this.remaining);i&&(r=i,this.capture(r))}e[gf(n)]=gf(r)}parseQueryParam(e){let n=TV(this.remaining);if(!n)return;this.capture(n);let r="";if(this.consumeOptional("=")){let o=AV(this.remaining);o&&(r=o,this.capture(r))}let i=x0(n),s=x0(r);if(e.hasOwnProperty(i)){let o=e[i];Array.isArray(o)||(o=[o],e[i]=o),o.push(s)}else e[i]=s}parseParens(e){let n={};for(this.capture("(");!this.consumeOptional(")")&&this.remaining.length>0;){let r=uv(this.remaining),i=this.remaining[r.length];if(i!=="/"&&i!==")"&&i!==";")throw new Q(4010,!1);let s;r.indexOf(":")>-1?(s=r.slice(0,r.indexOf(":")),this.capture(s),this.capture(":")):e&&(s=ce);let o=this.parseChildren();n[s]=Object.keys(o).length===1?o[ce]:new xe([],o),this.consumeOptional("//")}return n}peekStartsWith(e){return this.remaining.startsWith(e)}consumeOptional(e){return this.peekStartsWith(e)?(this.remaining=this.remaining.substring(e.length),!0):!1}capture(e){if(!this.consumeOptional(e))throw new Q(4011,!1)}};function W0(t){return t.segments.length>0?new xe([],{[ce]:t}):t}function K0(t){let e={};for(let[r,i]of Object.entries(t.children)){let s=K0(i);if(r===ce&&s.segments.length===0&&s.hasChildren())for(let[o,a]of Object.entries(s.children))e[o]=a;else(s.segments.length>0||s.hasChildren())&&(e[r]=s)}let n=new xe(t.segments,e);return RV(n)}function RV(t){if(t.numberOfChildren===1&&t.children[ce]){let e=t.children[ce];return new xe(t.segments.concat(e.segments),e.children)}return t}function Os(t){return t instanceof Lr}function xV(t,e,n=null,r=null){let i=Q0(t);return Y0(i,e,n,r)}function Q0(t){let e;function n(s){let o={};for(let u of s.children){let d=n(u);o[u.outlet]=d}let a=new xe(s.url,o);return s===t&&(e=a),a}let r=n(t.root),i=W0(r);return e??i}function Y0(t,e,n,r){let i=t;for(;i.parent;)i=i.parent;if(e.length===0)return lv(i,i,i,n,r);let s=MV(e);if(s.toRoot())return lv(i,i,new xe([],{}),n,r);let o=NV(s,i,t),a=o.processChildren?su(o.segmentGroup,o.index,s.commands):J0(o.segmentGroup,o.index,s.commands);return lv(i,o.segmentGroup,a,n,r)}function mf(t){return typeof t=="object"&&t!=null&&!t.outlets&&!t.segmentPath}function cu(t){return typeof t=="object"&&t!=null&&t.outlets}function lv(t,e,n,r,i){let s={};r&&Object.entries(r).forEach(([u,d])=>{s[u]=Array.isArray(d)?d.map(p=>`${p}`):`${d}`});let o;t===e?o=n:o=Z0(t,e,n);let a=W0(K0(o));return new Lr(a,s,i)}function Z0(t,e,n){let r={};return Object.entries(t.children).forEach(([i,s])=>{s===e?r[i]=n:r[i]=Z0(s,e,n)}),new xe(t.segments,r)}var yf=class{constructor(e,n,r){if(this.isAbsolute=e,this.numberOfDoubleDots=n,this.commands=r,e&&r.length>0&&mf(r[0]))throw new Q(4003,!1);let i=r.find(cu);if(i&&i!==j0(r))throw new Q(4004,!1)}toRoot(){return this.isAbsolute&&this.commands.length===1&&this.commands[0]=="/"}};function MV(t){if(typeof t[0]=="string"&&t.length===1&&t[0]==="/")return new yf(!0,0,t);let e=0,n=!1,r=t.reduce((i,s,o)=>{if(typeof s=="object"&&s!=null){if(s.outlets){let a={};return Object.entries(s.outlets).forEach(([u,d])=>{a[u]=typeof d=="string"?d.split("/"):d}),[...i,{outlets:a}]}if(s.segmentPath)return[...i,s.segmentPath]}return typeof s!="string"?[...i,s]:o===0?(s.split("/").forEach((a,u)=>{u==0&&a==="."||(u==0&&a===""?n=!0:a===".."?e++:a!=""&&i.push(a))}),i):[...i,s]},[]);return new yf(n,e,r)}var pa=class{constructor(e,n,r){this.segmentGroup=e,this.processChildren=n,this.index=r}};function NV(t,e,n){if(t.isAbsolute)return new pa(e,!0,0);if(!n)return new pa(e,!1,NaN);if(n.parent===null)return new pa(n,!0,0);let r=mf(t.commands[0])?0:1,i=n.segments.length-1+r;return PV(n,i,t.numberOfDoubleDots)}function PV(t,e,n){let r=t,i=e,s=n;for(;s>i;){if(s-=i,r=r.parent,!r)throw new Q(4005,!1);i=r.segments.length}return new pa(r,!1,i-s)}function kV(t){return cu(t[0])?t[0].outlets:{[ce]:t}}function J0(t,e,n){if(t??=new xe([],{}),t.segments.length===0&&t.hasChildren())return su(t,e,n);let r=OV(t,e,n),i=n.slice(r.commandIndex);if(r.match&&r.pathIndex<t.segments.length){let s=new xe(t.segments.slice(0,r.pathIndex),{});return s.children[ce]=new xe(t.segments.slice(r.pathIndex),t.children),su(s,0,i)}else return r.match&&i.length===0?new xe(t.segments,{}):r.match&&!t.hasChildren()?yv(t,e,n):r.match?su(t,0,i):yv(t,e,n)}function su(t,e,n){if(n.length===0)return new xe(t.segments,{});{let r=kV(n),i={};if(Object.keys(r).some(s=>s!==ce)&&t.children[ce]&&t.numberOfChildren===1&&t.children[ce].segments.length===0){let s=su(t.children[ce],e,n);return new xe(t.segments,s.children)}return Object.entries(r).forEach(([s,o])=>{typeof o=="string"&&(o=[o]),o!==null&&(i[s]=J0(t.children[s],e,o))}),Object.entries(t.children).forEach(([s,o])=>{r[s]===void 0&&(i[s]=o)}),new xe(t.segments,i)}}function OV(t,e,n){let r=0,i=e,s={match:!1,pathIndex:0,commandIndex:0};for(;i<t.segments.length;){if(r>=n.length)return s;let o=t.segments[i],a=n[r];if(cu(a))break;let u=`${a}`,d=r<n.length-1?n[r+1]:null;if(i>0&&u===void 0)break;if(u&&d&&typeof d=="object"&&d.outlets===void 0){if(!N0(u,d,o))return s;r+=2}else{if(!N0(u,{},o))return s;r++}i++}return{match:!0,pathIndex:i,commandIndex:r}}function yv(t,e,n){let r=t.segments.slice(0,e),i=0;for(;i<n.length;){let s=n[i];if(cu(s)){let u=FV(s.outlets);return new xe(r,u)}if(i===0&&mf(n[0])){let u=t.segments[e];r.push(new Ps(u.path,M0(n[0]))),i++;continue}let o=cu(s)?s.outlets[ce]:`${s}`,a=i<n.length-1?n[i+1]:null;o&&a&&mf(a)?(r.push(new Ps(o,M0(a))),i+=2):(r.push(new Ps(o,{})),i++)}return new xe(r,{})}function FV(t){let e={};return Object.entries(t).forEach(([n,r])=>{typeof r=="string"&&(r=[r]),r!==null&&(e[n]=yv(new xe([],{}),0,r))}),e}function M0(t){let e={};return Object.entries(t).forEach(([n,r])=>e[n]=`${r}`),e}function N0(t,e,n){return t==n.path&&ir(e,n.parameters)}var ou="imperative",mt=function(t){return t[t.NavigationStart=0]="NavigationStart",t[t.NavigationEnd=1]="NavigationEnd",t[t.NavigationCancel=2]="NavigationCancel",t[t.NavigationError=3]="NavigationError",t[t.RoutesRecognized=4]="RoutesRecognized",t[t.ResolveStart=5]="ResolveStart",t[t.ResolveEnd=6]="ResolveEnd",t[t.GuardsCheckStart=7]="GuardsCheckStart",t[t.GuardsCheckEnd=8]="GuardsCheckEnd",t[t.RouteConfigLoadStart=9]="RouteConfigLoadStart",t[t.RouteConfigLoadEnd=10]="RouteConfigLoadEnd",t[t.ChildActivationStart=11]="ChildActivationStart",t[t.ChildActivationEnd=12]="ChildActivationEnd",t[t.ActivationStart=13]="ActivationStart",t[t.ActivationEnd=14]="ActivationEnd",t[t.Scroll=15]="Scroll",t[t.NavigationSkipped=16]="NavigationSkipped",t}(mt||{}),fn=class{constructor(e,n){this.id=e,this.url=n}},wa=class extends fn{constructor(e,n,r="imperative",i=null){super(e,n),this.type=mt.NavigationStart,this.navigationTrigger=r,this.restoredState=i}toString(){return`NavigationStart(id: ${this.id}, url: '${this.url}')`}},sr=class extends fn{constructor(e,n,r){super(e,n),this.urlAfterRedirects=r,this.type=mt.NavigationEnd}toString(){return`NavigationEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}')`}},tn=function(t){return t[t.Redirect=0]="Redirect",t[t.SupersededByNewNavigation=1]="SupersededByNewNavigation",t[t.NoDataFromResolver=2]="NoDataFromResolver",t[t.GuardRejected=3]="GuardRejected",t}(tn||{}),vf=function(t){return t[t.IgnoredSameUrlNavigation=0]="IgnoredSameUrlNavigation",t[t.IgnoredByUrlHandlingStrategy=1]="IgnoredByUrlHandlingStrategy",t}(vf||{}),Fr=class extends fn{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=mt.NavigationCancel}toString(){return`NavigationCancel(id: ${this.id}, url: '${this.url}')`}},Pi=class extends fn{constructor(e,n,r,i){super(e,n),this.reason=r,this.code=i,this.type=mt.NavigationSkipped}},uu=class extends fn{constructor(e,n,r,i){super(e,n),this.error=r,this.target=i,this.type=mt.NavigationError}toString(){return`NavigationError(id: ${this.id}, url: '${this.url}', error: ${this.error})`}},wf=class extends fn{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=mt.RoutesRecognized}toString(){return`RoutesRecognized(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},vv=class extends fn{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=mt.GuardsCheckStart}toString(){return`GuardsCheckStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},wv=class extends fn{constructor(e,n,r,i,s){super(e,n),this.urlAfterRedirects=r,this.state=i,this.shouldActivate=s,this.type=mt.GuardsCheckEnd}toString(){return`GuardsCheckEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state}, shouldActivate: ${this.shouldActivate})`}},_v=class extends fn{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=mt.ResolveStart}toString(){return`ResolveStart(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Iv=class extends fn{constructor(e,n,r,i){super(e,n),this.urlAfterRedirects=r,this.state=i,this.type=mt.ResolveEnd}toString(){return`ResolveEnd(id: ${this.id}, url: '${this.url}', urlAfterRedirects: '${this.urlAfterRedirects}', state: ${this.state})`}},Ev=class{constructor(e){this.route=e,this.type=mt.RouteConfigLoadStart}toString(){return`RouteConfigLoadStart(path: ${this.route.path})`}},bv=class{constructor(e){this.route=e,this.type=mt.RouteConfigLoadEnd}toString(){return`RouteConfigLoadEnd(path: ${this.route.path})`}},Dv=class{constructor(e){this.snapshot=e,this.type=mt.ChildActivationStart}toString(){return`ChildActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Cv=class{constructor(e){this.snapshot=e,this.type=mt.ChildActivationEnd}toString(){return`ChildActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Tv=class{constructor(e){this.snapshot=e,this.type=mt.ActivationStart}toString(){return`ActivationStart(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},Sv=class{constructor(e){this.snapshot=e,this.type=mt.ActivationEnd}toString(){return`ActivationEnd(path: '${this.snapshot.routeConfig&&this.snapshot.routeConfig.path||""}')`}},_f=class{constructor(e,n,r){this.routerEvent=e,this.position=n,this.anchor=r,this.type=mt.Scroll}toString(){let e=this.position?`${this.position[0]}, ${this.position[1]}`:null;return`Scroll(anchor: '${this.anchor}', position: '${e}')`}},lu=class{},_a=class{constructor(e,n){this.url=e,this.navigationBehaviorOptions=n}};function LV(t,e){return t.providers&&!t._injector&&(t._injector=Lh(t.providers,e,`Route: ${t.path}`)),t._injector??e}function Rn(t){return t.outlet||ce}function VV(t,e){let n=t.filter(r=>Rn(r)===e);return n.push(...t.filter(r=>Rn(r)!==e)),n}function vu(t){if(!t)return null;if(t.routeConfig?._injector)return t.routeConfig._injector;for(let e=t.parent;e;e=e.parent){let n=e.routeConfig;if(n?._loadedInjector)return n._loadedInjector;if(n?._injector)return n._injector}return null}var Av=class{get injector(){return vu(this.route?.snapshot)??this.rootInjector}set injector(e){}constructor(e){this.rootInjector=e,this.outlet=null,this.route=null,this.children=new wu(this.rootInjector),this.attachRef=null}},wu=(()=>{class t{constructor(n){this.rootInjector=n,this.contexts=new Map}onChildOutletCreated(n,r){let i=this.getOrCreateContext(n);i.outlet=r,this.contexts.set(n,i)}onChildOutletDestroyed(n){let r=this.getContext(n);r&&(r.outlet=null,r.attachRef=null)}onOutletDeactivated(){let n=this.contexts;return this.contexts=new Map,n}onOutletReAttached(n){this.contexts=n}getOrCreateContext(n){let r=this.getContext(n);return r||(r=new Av(this.rootInjector),this.contexts.set(n,r)),r}getContext(n){return this.contexts.get(n)||null}static{this.\u0275fac=function(r){return new(r||t)(ie(Zt))}}static{this.\u0275prov=Y({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),If=class{constructor(e){this._root=e}get root(){return this._root.value}parent(e){let n=this.pathFromRoot(e);return n.length>1?n[n.length-2]:null}children(e){let n=Rv(e,this._root);return n?n.children.map(r=>r.value):[]}firstChild(e){let n=Rv(e,this._root);return n&&n.children.length>0?n.children[0].value:null}siblings(e){let n=xv(e,this._root);return n.length<2?[]:n[n.length-2].children.map(i=>i.value).filter(i=>i!==e)}pathFromRoot(e){return xv(e,this._root).map(n=>n.value)}};function Rv(t,e){if(t===e.value)return e;for(let n of e.children){let r=Rv(t,n);if(r)return r}return null}function xv(t,e){if(t===e.value)return[e];for(let n of e.children){let r=xv(t,n);if(r.length)return r.unshift(e),r}return[]}var en=class{constructor(e,n){this.value=e,this.children=n}toString(){return`TreeNode(${this.value})`}};function fa(t){let e={};return t&&t.children.forEach(n=>e[n.value.outlet]=n),e}var Ef=class extends If{constructor(e,n){super(e),this.snapshot=n,Uv(this,e)}toString(){return this.snapshot.toString()}};function X0(t){let e=UV(t),n=new It([new Ps("",{})]),r=new It({}),i=new It({}),s=new It({}),o=new It(""),a=new ki(n,r,s,o,i,ce,t,e.root);return a.snapshot=e.root,new Ef(new en(a,[]),e)}function UV(t){let e={},n={},r={},i="",s=new ga([],e,r,i,n,ce,t,null,{});return new Df("",new en(s,[]))}var ki=class{constructor(e,n,r,i,s,o,a,u){this.urlSubject=e,this.paramsSubject=n,this.queryParamsSubject=r,this.fragmentSubject=i,this.dataSubject=s,this.outlet=o,this.component=a,this._futureSnapshot=u,this.title=this.dataSubject?.pipe(le(d=>d[mu]))??ne(void 0),this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=s}get routeConfig(){return this._futureSnapshot.routeConfig}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=this.params.pipe(le(e=>ya(e))),this._paramMap}get queryParamMap(){return this._queryParamMap??=this.queryParams.pipe(le(e=>ya(e))),this._queryParamMap}toString(){return this.snapshot?this.snapshot.toString():`Future(${this._futureSnapshot})`}};function bf(t,e,n="emptyOnly"){let r,{routeConfig:i}=t;return e!==null&&(n==="always"||i?.path===""||!e.component&&!e.routeConfig?.loadComponent)?r={params:B(B({},e.params),t.params),data:B(B({},e.data),t.data),resolve:B(B(B(B({},t.data),e.data),i?.data),t._resolvedData)}:r={params:B({},t.params),data:B({},t.data),resolve:B(B({},t.data),t._resolvedData??{})},i&&tS(i)&&(r.resolve[mu]=i.title),r}var ga=class{get title(){return this.data?.[mu]}constructor(e,n,r,i,s,o,a,u,d){this.url=e,this.params=n,this.queryParams=r,this.fragment=i,this.data=s,this.outlet=o,this.component=a,this.routeConfig=u,this._resolve=d}get root(){return this._routerState.root}get parent(){return this._routerState.parent(this)}get firstChild(){return this._routerState.firstChild(this)}get children(){return this._routerState.children(this)}get pathFromRoot(){return this._routerState.pathFromRoot(this)}get paramMap(){return this._paramMap??=ya(this.params),this._paramMap}get queryParamMap(){return this._queryParamMap??=ya(this.queryParams),this._queryParamMap}toString(){let e=this.url.map(r=>r.toString()).join("/"),n=this.routeConfig?this.routeConfig.path:"";return`Route(url:'${e}', path:'${n}')`}},Df=class extends If{constructor(e,n){super(n),this.url=e,Uv(this,n)}toString(){return eS(this._root)}};function Uv(t,e){e.value._routerState=t,e.children.forEach(n=>Uv(t,n))}function eS(t){let e=t.children.length>0?` { ${t.children.map(eS).join(", ")} } `:"";return`${t.value}${e}`}function dv(t){if(t.snapshot){let e=t.snapshot,n=t._futureSnapshot;t.snapshot=n,ir(e.queryParams,n.queryParams)||t.queryParamsSubject.next(n.queryParams),e.fragment!==n.fragment&&t.fragmentSubject.next(n.fragment),ir(e.params,n.params)||t.paramsSubject.next(n.params),hV(e.url,n.url)||t.urlSubject.next(n.url),ir(e.data,n.data)||t.dataSubject.next(n.data)}else t.snapshot=t._futureSnapshot,t.dataSubject.next(t._futureSnapshot.data)}function Mv(t,e){let n=ir(t.params,e.params)&&mV(t.url,e.url),r=!t.parent!=!e.parent;return n&&!r&&(!t.parent||Mv(t.parent,e.parent))}function tS(t){return typeof t.title=="string"||t.title===null}var jV=(()=>{class t{constructor(){this.activated=null,this._activatedRoute=null,this.name=ce,this.activateEvents=new Ge,this.deactivateEvents=new Ge,this.attachEvents=new Ge,this.detachEvents=new Ge,this.parentContexts=j(wu),this.location=j(na),this.changeDetector=j(xs),this.inputBinder=j(Af,{optional:!0}),this.supportsBindingToComponentInputs=!0}get activatedComponentRef(){return this.activated}ngOnChanges(n){if(n.name){let{firstChange:r,previousValue:i}=n.name;if(r)return;this.isTrackedInParentContexts(i)&&(this.deactivate(),this.parentContexts.onChildOutletDestroyed(i)),this.initializeOutletWithName()}}ngOnDestroy(){this.isTrackedInParentContexts(this.name)&&this.parentContexts.onChildOutletDestroyed(this.name),this.inputBinder?.unsubscribeFromRouteData(this)}isTrackedInParentContexts(n){return this.parentContexts.getContext(n)?.outlet===this}ngOnInit(){this.initializeOutletWithName()}initializeOutletWithName(){if(this.parentContexts.onChildOutletCreated(this.name,this),this.activated)return;let n=this.parentContexts.getContext(this.name);n?.route&&(n.attachRef?this.attach(n.attachRef,n.route):this.activateWith(n.route,n.injector))}get isActivated(){return!!this.activated}get component(){if(!this.activated)throw new Q(4012,!1);return this.activated.instance}get activatedRoute(){if(!this.activated)throw new Q(4012,!1);return this._activatedRoute}get activatedRouteData(){return this._activatedRoute?this._activatedRoute.snapshot.data:{}}detach(){if(!this.activated)throw new Q(4012,!1);this.location.detach();let n=this.activated;return this.activated=null,this._activatedRoute=null,this.detachEvents.emit(n.instance),n}attach(n,r){this.activated=n,this._activatedRoute=r,this.location.insert(n.hostView),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.attachEvents.emit(n.instance)}deactivate(){if(this.activated){let n=this.component;this.activated.destroy(),this.activated=null,this._activatedRoute=null,this.deactivateEvents.emit(n)}}activateWith(n,r){if(this.isActivated)throw new Q(4013,!1);this._activatedRoute=n;let i=this.location,o=n.snapshot.component,a=this.parentContexts.getOrCreateContext(this.name).children,u=new Nv(n,a,i.injector);this.activated=i.createComponent(o,{index:i.length,injector:u,environmentInjector:r}),this.changeDetector.markForCheck(),this.inputBinder?.bindActivatedRouteToOutletComponent(this),this.activateEvents.emit(this.activated.instance)}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275dir=Oe({type:t,selectors:[["router-outlet"]],inputs:{name:"name"},outputs:{activateEvents:"activate",deactivateEvents:"deactivate",attachEvents:"attach",detachEvents:"detach"},exportAs:["outlet"],standalone:!0,features:[Jn]})}}return t})(),Nv=class t{__ngOutletInjector(e){return new t(this.route,this.childContexts,e)}constructor(e,n,r){this.route=e,this.childContexts=n,this.parent=r}get(e,n){return e===ki?this.route:e===wu?this.childContexts:this.parent.get(e,n)}},Af=new W(""),P0=(()=>{class t{constructor(){this.outletDataSubscriptions=new Map}bindActivatedRouteToOutletComponent(n){this.unsubscribeFromRouteData(n),this.subscribeToRouteData(n)}unsubscribeFromRouteData(n){this.outletDataSubscriptions.get(n)?.unsubscribe(),this.outletDataSubscriptions.delete(n)}subscribeToRouteData(n){let{activatedRoute:r}=n,i=xc([r.queryParams,r.params,r.data]).pipe(an(([s,o,a],u)=>(a=B(B(B({},s),o),a),u===0?ne(a):Promise.resolve(a)))).subscribe(s=>{if(!n.isActivated||!n.activatedComponentRef||n.activatedRoute!==r||r.component===null){this.unsubscribeFromRouteData(n);return}let o=IT(r.component);if(!o){this.unsubscribeFromRouteData(n);return}for(let{templateName:a}of o.inputs)n.activatedComponentRef.setInput(a,s[a])});this.outletDataSubscriptions.set(n,i)}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=Y({token:t,factory:t.\u0275fac})}}return t})();function BV(t,e,n){let r=du(t,e._root,n?n._root:void 0);return new Ef(r,e)}function du(t,e,n){if(n&&t.shouldReuseRoute(e.value,n.value.snapshot)){let r=n.value;r._futureSnapshot=e.value;let i=$V(t,e,n);return new en(r,i)}else{if(t.shouldAttach(e.value)){let s=t.retrieve(e.value);if(s!==null){let o=s.route;return o.value._futureSnapshot=e.value,o.children=e.children.map(a=>du(t,a)),o}}let r=HV(e.value),i=e.children.map(s=>du(t,s));return new en(r,i)}}function $V(t,e,n){return e.children.map(r=>{for(let i of n.children)if(t.shouldReuseRoute(r.value,i.value.snapshot))return du(t,r,i);return du(t,r)})}function HV(t){return new ki(new It(t.url),new It(t.params),new It(t.queryParams),new It(t.fragment),new It(t.data),t.outlet,t.component,t)}var hu=class{constructor(e,n){this.redirectTo=e,this.navigationBehaviorOptions=n}},nS="ngNavigationCancelingError";function Cf(t,e){let{redirectTo:n,navigationBehaviorOptions:r}=Os(e)?{redirectTo:e,navigationBehaviorOptions:void 0}:e,i=rS(!1,tn.Redirect);return i.url=n,i.navigationBehaviorOptions=r,i}function rS(t,e){let n=new Error(`NavigationCancelingError: ${t||""}`);return n[nS]=!0,n.cancellationCode=e,n}function qV(t){return iS(t)&&Os(t.url)}function iS(t){return!!t&&t[nS]}var zV=(t,e,n,r)=>le(i=>(new Pv(e,i.targetRouterState,i.currentRouterState,n,r).activate(t),i)),Pv=class{constructor(e,n,r,i,s){this.routeReuseStrategy=e,this.futureState=n,this.currState=r,this.forwardEvent=i,this.inputBindingEnabled=s}activate(e){let n=this.futureState._root,r=this.currState?this.currState._root:null;this.deactivateChildRoutes(n,r,e),dv(this.futureState.root),this.activateChildRoutes(n,r,e)}deactivateChildRoutes(e,n,r){let i=fa(n);e.children.forEach(s=>{let o=s.value.outlet;this.deactivateRoutes(s,i[o],r),delete i[o]}),Object.values(i).forEach(s=>{this.deactivateRouteAndItsChildren(s,r)})}deactivateRoutes(e,n,r){let i=e.value,s=n?n.value:null;if(i===s)if(i.component){let o=r.getContext(i.outlet);o&&this.deactivateChildRoutes(e,n,o.children)}else this.deactivateChildRoutes(e,n,r);else s&&this.deactivateRouteAndItsChildren(n,r)}deactivateRouteAndItsChildren(e,n){e.value.component&&this.routeReuseStrategy.shouldDetach(e.value.snapshot)?this.detachAndStoreRouteSubtree(e,n):this.deactivateRouteAndOutlet(e,n)}detachAndStoreRouteSubtree(e,n){let r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,s=fa(e);for(let o of Object.values(s))this.deactivateRouteAndItsChildren(o,i);if(r&&r.outlet){let o=r.outlet.detach(),a=r.children.onOutletDeactivated();this.routeReuseStrategy.store(e.value.snapshot,{componentRef:o,route:e,contexts:a})}}deactivateRouteAndOutlet(e,n){let r=n.getContext(e.value.outlet),i=r&&e.value.component?r.children:n,s=fa(e);for(let o of Object.values(s))this.deactivateRouteAndItsChildren(o,i);r&&(r.outlet&&(r.outlet.deactivate(),r.children.onOutletDeactivated()),r.attachRef=null,r.route=null)}activateChildRoutes(e,n,r){let i=fa(n);e.children.forEach(s=>{this.activateRoutes(s,i[s.value.outlet],r),this.forwardEvent(new Sv(s.value.snapshot))}),e.children.length&&this.forwardEvent(new Cv(e.value.snapshot))}activateRoutes(e,n,r){let i=e.value,s=n?n.value:null;if(dv(i),i===s)if(i.component){let o=r.getOrCreateContext(i.outlet);this.activateChildRoutes(e,n,o.children)}else this.activateChildRoutes(e,n,r);else if(i.component){let o=r.getOrCreateContext(i.outlet);if(this.routeReuseStrategy.shouldAttach(i.snapshot)){let a=this.routeReuseStrategy.retrieve(i.snapshot);this.routeReuseStrategy.store(i.snapshot,null),o.children.onOutletReAttached(a.contexts),o.attachRef=a.componentRef,o.route=a.route.value,o.outlet&&o.outlet.attach(a.componentRef,a.route.value),dv(a.route.value),this.activateChildRoutes(e,null,o.children)}else o.attachRef=null,o.route=i,o.outlet&&o.outlet.activateWith(i,o.injector),this.activateChildRoutes(e,null,o.children)}else this.activateChildRoutes(e,null,r)}},Tf=class{constructor(e){this.path=e,this.route=this.path[this.path.length-1]}},ma=class{constructor(e,n){this.component=e,this.route=n}};function GV(t,e,n){let r=t._root,i=e?e._root:null;return ru(r,i,n,[r.value])}function WV(t){let e=t.routeConfig?t.routeConfig.canActivateChild:null;return!e||e.length===0?null:{node:t,guards:e}}function Ea(t,e){let n=Symbol(),r=e.get(t,n);return r===n?typeof t=="function"&&!aD(t)?t:e.get(t):r}function ru(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let s=fa(e);return t.children.forEach(o=>{KV(o,s[o.value.outlet],n,r.concat([o.value]),i),delete s[o.value.outlet]}),Object.entries(s).forEach(([o,a])=>au(a,n.getContext(o),i)),i}function KV(t,e,n,r,i={canDeactivateChecks:[],canActivateChecks:[]}){let s=t.value,o=e?e.value:null,a=n?n.getContext(t.value.outlet):null;if(o&&s.routeConfig===o.routeConfig){let u=QV(o,s,s.routeConfig.runGuardsAndResolvers);u?i.canActivateChecks.push(new Tf(r)):(s.data=o.data,s._resolvedData=o._resolvedData),s.component?ru(t,e,a?a.children:null,r,i):ru(t,e,n,r,i),u&&a&&a.outlet&&a.outlet.isActivated&&i.canDeactivateChecks.push(new ma(a.outlet.component,o))}else o&&au(e,a,i),i.canActivateChecks.push(new Tf(r)),s.component?ru(t,null,a?a.children:null,r,i):ru(t,null,n,r,i);return i}function QV(t,e,n){if(typeof n=="function")return n(t,e);switch(n){case"pathParamsChange":return!ks(t.url,e.url);case"pathParamsOrQueryParamsChange":return!ks(t.url,e.url)||!ir(t.queryParams,e.queryParams);case"always":return!0;case"paramsOrQueryParamsChange":return!Mv(t,e)||!ir(t.queryParams,e.queryParams);case"paramsChange":default:return!Mv(t,e)}}function au(t,e,n){let r=fa(t),i=t.value;Object.entries(r).forEach(([s,o])=>{i.component?e?au(o,e.children.getContext(s),n):au(o,null,n):au(o,e,n)}),i.component?e&&e.outlet&&e.outlet.isActivated?n.canDeactivateChecks.push(new ma(e.outlet.component,i)):n.canDeactivateChecks.push(new ma(null,i)):n.canDeactivateChecks.push(new ma(null,i))}function _u(t){return typeof t=="function"}function YV(t){return typeof t=="boolean"}function ZV(t){return t&&_u(t.canLoad)}function JV(t){return t&&_u(t.canActivate)}function XV(t){return t&&_u(t.canActivateChild)}function e2(t){return t&&_u(t.canDeactivate)}function t2(t){return t&&_u(t.canMatch)}function sS(t){return t instanceof br||t?.name==="EmptyError"}var hf=Symbol("INITIAL_VALUE");function Ia(){return an(t=>xc(t.map(e=>e.pipe(Dr(1),Vd(hf)))).pipe(le(e=>{for(let n of e)if(n!==!0){if(n===hf)return hf;if(n===!1||n2(n))return n}return!0}),Qt(e=>e!==hf),Dr(1)))}function n2(t){return Os(t)||t instanceof hu}function r2(t,e){return nt(n=>{let{targetSnapshot:r,currentSnapshot:i,guards:{canActivateChecks:s,canDeactivateChecks:o}}=n;return o.length===0&&s.length===0?ne(ge(B({},n),{guardsResult:!0})):i2(o,r,i,t).pipe(nt(a=>a&&YV(a)?s2(r,s,t,e):ne(a)),le(a=>ge(B({},n),{guardsResult:a})))})}function i2(t,e,n,r){return Ue(t).pipe(nt(i=>l2(i.component,i.route,n,e,r)),Hn(i=>i!==!0,!0))}function s2(t,e,n,r){return Ue(e).pipe(ys(i=>No(a2(i.route.parent,r),o2(i.route,r),u2(t,i.path,n),c2(t,i.route,n))),Hn(i=>i!==!0,!0))}function o2(t,e){return t!==null&&e&&e(new Tv(t)),ne(!0)}function a2(t,e){return t!==null&&e&&e(new Dv(t)),ne(!0)}function c2(t,e,n){let r=e.routeConfig?e.routeConfig.canActivate:null;if(!r||r.length===0)return ne(!0);let i=r.map(s=>Od(()=>{let o=vu(e)??n,a=Ea(s,o),u=JV(a)?a.canActivate(e,t):Zn(o,()=>a(e,t));return Oi(u).pipe(Hn())}));return ne(i).pipe(Ia())}function u2(t,e,n){let r=e[e.length-1],s=e.slice(0,e.length-1).reverse().map(o=>WV(o)).filter(o=>o!==null).map(o=>Od(()=>{let a=o.guards.map(u=>{let d=vu(o.node)??n,p=Ea(u,d),g=XV(p)?p.canActivateChild(r,t):Zn(d,()=>p(r,t));return Oi(g).pipe(Hn())});return ne(a).pipe(Ia())}));return ne(s).pipe(Ia())}function l2(t,e,n,r,i){let s=e&&e.routeConfig?e.routeConfig.canDeactivate:null;if(!s||s.length===0)return ne(!0);let o=s.map(a=>{let u=vu(e)??i,d=Ea(a,u),p=e2(d)?d.canDeactivate(t,e,n,r):Zn(u,()=>d(t,e,n,r));return Oi(p).pipe(Hn())});return ne(o).pipe(Ia())}function d2(t,e,n,r){let i=e.canLoad;if(i===void 0||i.length===0)return ne(!0);let s=i.map(o=>{let a=Ea(o,t),u=ZV(a)?a.canLoad(e,n):Zn(t,()=>a(e,n));return Oi(u)});return ne(s).pipe(Ia(),oS(r))}function oS(t){return md(lt(e=>{if(typeof e!="boolean")throw Cf(t,e)}),le(e=>e===!0))}function h2(t,e,n,r){let i=e.canMatch;if(!i||i.length===0)return ne(!0);let s=i.map(o=>{let a=Ea(o,t),u=t2(a)?a.canMatch(e,n):Zn(t,()=>a(e,n));return Oi(u)});return ne(s).pipe(Ia(),oS(r))}var fu=class{constructor(e){this.segmentGroup=e||null}},pu=class extends Error{constructor(e){super(),this.urlTree=e}};function ha(t){return xo(new fu(t))}function f2(t){return xo(new Q(4e3,!1))}function p2(t){return xo(rS(!1,tn.GuardRejected))}var kv=class{constructor(e,n){this.urlSerializer=e,this.urlTree=n}lineralizeSegments(e,n){let r=[],i=n.root;for(;;){if(r=r.concat(i.segments),i.numberOfChildren===0)return ne(r);if(i.numberOfChildren>1||!i.children[ce])return f2(`${e.redirectTo}`);i=i.children[ce]}}applyRedirectCommands(e,n,r,i,s){if(typeof n!="string"){let a=n,{queryParams:u,fragment:d,routeConfig:p,url:g,outlet:_,params:E,data:M,title:O}=i,P=Zn(s,()=>a({params:E,data:M,queryParams:u,fragment:d,routeConfig:p,url:g,outlet:_,title:O}));if(P instanceof Lr)throw new pu(P);n=P}let o=this.applyRedirectCreateUrlTree(n,this.urlSerializer.parse(n),e,r);if(n[0]==="/")throw new pu(o);return o}applyRedirectCreateUrlTree(e,n,r,i){let s=this.createSegmentGroup(e,n.root,r,i);return new Lr(s,this.createQueryParams(n.queryParams,this.urlTree.queryParams),n.fragment)}createQueryParams(e,n){let r={};return Object.entries(e).forEach(([i,s])=>{if(typeof s=="string"&&s[0]===":"){let a=s.substring(1);r[i]=n[a]}else r[i]=s}),r}createSegmentGroup(e,n,r,i){let s=this.createSegments(e,n.segments,r,i),o={};return Object.entries(n.children).forEach(([a,u])=>{o[a]=this.createSegmentGroup(e,u,r,i)}),new xe(s,o)}createSegments(e,n,r,i){return n.map(s=>s.path[0]===":"?this.findPosParam(e,s,i):this.findOrReturn(s,r))}findPosParam(e,n,r){let i=r[n.path.substring(1)];if(!i)throw new Q(4001,!1);return i}findOrReturn(e,n){let r=0;for(let i of n){if(i.path===e.path)return n.splice(r),i;r++}return e}},Ov={matched:!1,consumedSegments:[],remainingSegments:[],parameters:{},positionalParamSegments:{}};function g2(t,e,n,r,i){let s=aS(t,e,n);return s.matched?(r=LV(e,r),h2(r,e,n,i).pipe(le(o=>o===!0?s:B({},Ov)))):ne(s)}function aS(t,e,n){if(e.path==="**")return m2(n);if(e.path==="")return e.pathMatch==="full"&&(t.hasChildren()||n.length>0)?B({},Ov):{matched:!0,consumedSegments:[],remainingSegments:n,parameters:{},positionalParamSegments:{}};let i=(e.matcher||dV)(n,t,e);if(!i)return B({},Ov);let s={};Object.entries(i.posParams??{}).forEach(([a,u])=>{s[a]=u.path});let o=i.consumed.length>0?B(B({},s),i.consumed[i.consumed.length-1].parameters):s;return{matched:!0,consumedSegments:i.consumed,remainingSegments:n.slice(i.consumed.length),parameters:o,positionalParamSegments:i.posParams??{}}}function m2(t){return{matched:!0,parameters:t.length>0?j0(t).parameters:{},consumedSegments:t,remainingSegments:[],positionalParamSegments:{}}}function k0(t,e,n,r){return n.length>0&&w2(t,n,r)?{segmentGroup:new xe(e,v2(r,new xe(n,t.children))),slicedSegments:[]}:n.length===0&&_2(t,n,r)?{segmentGroup:new xe(t.segments,y2(t,n,r,t.children)),slicedSegments:n}:{segmentGroup:new xe(t.segments,t.children),slicedSegments:n}}function y2(t,e,n,r){let i={};for(let s of n)if(Rf(t,e,s)&&!r[Rn(s)]){let o=new xe([],{});i[Rn(s)]=o}return B(B({},r),i)}function v2(t,e){let n={};n[ce]=e;for(let r of t)if(r.path===""&&Rn(r)!==ce){let i=new xe([],{});n[Rn(r)]=i}return n}function w2(t,e,n){return n.some(r=>Rf(t,e,r)&&Rn(r)!==ce)}function _2(t,e,n){return n.some(r=>Rf(t,e,r))}function Rf(t,e,n){return(t.hasChildren()||e.length>0)&&n.pathMatch==="full"?!1:n.path===""}function I2(t,e,n){return e.length===0&&!t.children[n]}var Fv=class{};function E2(t,e,n,r,i,s,o="emptyOnly"){return new Lv(t,e,n,r,i,o,s).recognize()}var b2=31,Lv=class{constructor(e,n,r,i,s,o,a){this.injector=e,this.configLoader=n,this.rootComponentType=r,this.config=i,this.urlTree=s,this.paramsInheritanceStrategy=o,this.urlSerializer=a,this.applyRedirects=new kv(this.urlSerializer,this.urlTree),this.absoluteRedirectCount=0,this.allowRedirects=!0}noMatchError(e){return new Q(4002,`'${e.segmentGroup}'`)}recognize(){let e=k0(this.urlTree.root,[],[],this.config).segmentGroup;return this.match(e).pipe(le(({children:n,rootSnapshot:r})=>{let i=new en(r,n),s=new Df("",i),o=xV(r,[],this.urlTree.queryParams,this.urlTree.fragment);return o.queryParams=this.urlTree.queryParams,s.url=this.urlSerializer.serialize(o),{state:s,tree:o}}))}match(e){let n=new ga([],Object.freeze({}),Object.freeze(B({},this.urlTree.queryParams)),this.urlTree.fragment,Object.freeze({}),ce,this.rootComponentType,null,{});return this.processSegmentGroup(this.injector,this.config,e,ce,n).pipe(le(r=>({children:r,rootSnapshot:n})),_i(r=>{if(r instanceof pu)return this.urlTree=r.urlTree,this.match(r.urlTree.root);throw r instanceof fu?this.noMatchError(r):r}))}processSegmentGroup(e,n,r,i,s){return r.segments.length===0&&r.hasChildren()?this.processChildren(e,n,r,s):this.processSegment(e,n,r,r.segments,i,!0,s).pipe(le(o=>o instanceof en?[o]:[]))}processChildren(e,n,r,i){let s=[];for(let o of Object.keys(r.children))o==="primary"?s.unshift(o):s.push(o);return Ue(s).pipe(ys(o=>{let a=r.children[o],u=VV(n,o);return this.processSegmentGroup(e,u,a,o,i)}),Ld((o,a)=>(o.push(...a),o)),Ii(null),zg(),nt(o=>{if(o===null)return ha(r);let a=cS(o);return D2(a),ne(a)}))}processSegment(e,n,r,i,s,o,a){return Ue(n).pipe(ys(u=>this.processSegmentAgainstRoute(u._injector??e,n,u,r,i,s,o,a).pipe(_i(d=>{if(d instanceof fu)return ne(null);throw d}))),Hn(u=>!!u),_i(u=>{if(sS(u))return I2(r,i,s)?ne(new Fv):ha(r);throw u}))}processSegmentAgainstRoute(e,n,r,i,s,o,a,u){return Rn(r)!==o&&(o===ce||!Rf(i,s,r))?ha(i):r.redirectTo===void 0?this.matchSegmentAgainstRoute(e,i,r,s,o,u):this.allowRedirects&&a?this.expandSegmentAgainstRouteUsingRedirect(e,i,n,r,s,o,u):ha(i)}expandSegmentAgainstRouteUsingRedirect(e,n,r,i,s,o,a){let{matched:u,parameters:d,consumedSegments:p,positionalParamSegments:g,remainingSegments:_}=aS(n,i,s);if(!u)return ha(n);typeof i.redirectTo=="string"&&i.redirectTo[0]==="/"&&(this.absoluteRedirectCount++,this.absoluteRedirectCount>b2&&(this.allowRedirects=!1));let E=new ga(s,d,Object.freeze(B({},this.urlTree.queryParams)),this.urlTree.fragment,O0(i),Rn(i),i.component??i._loadedComponent??null,i,F0(i)),M=bf(E,a,this.paramsInheritanceStrategy);E.params=Object.freeze(M.params),E.data=Object.freeze(M.data);let O=this.applyRedirects.applyRedirectCommands(p,i.redirectTo,g,E,e);return this.applyRedirects.lineralizeSegments(i,O).pipe(nt(P=>this.processSegment(e,r,n,P.concat(_),o,!1,a)))}matchSegmentAgainstRoute(e,n,r,i,s,o){let a=g2(n,r,i,e,this.urlSerializer);return r.path==="**"&&(n.children={}),a.pipe(an(u=>u.matched?(e=r._injector??e,this.getChildConfig(e,r,i).pipe(an(({routes:d})=>{let p=r._loadedInjector??e,{parameters:g,consumedSegments:_,remainingSegments:E}=u,M=new ga(_,g,Object.freeze(B({},this.urlTree.queryParams)),this.urlTree.fragment,O0(r),Rn(r),r.component??r._loadedComponent??null,r,F0(r)),O=bf(M,o,this.paramsInheritanceStrategy);M.params=Object.freeze(O.params),M.data=Object.freeze(O.data);let{segmentGroup:P,slicedSegments:V}=k0(n,_,E,d);if(V.length===0&&P.hasChildren())return this.processChildren(p,d,P,M).pipe(le(q=>new en(M,q)));if(d.length===0&&V.length===0)return ne(new en(M,[]));let G=Rn(r)===s;return this.processSegment(p,d,P,V,G?ce:s,!0,M).pipe(le(q=>new en(M,q instanceof en?[q]:[])))}))):ha(n)))}getChildConfig(e,n,r){return n.children?ne({routes:n.children,injector:e}):n.loadChildren?n._loadedRoutes!==void 0?ne({routes:n._loadedRoutes,injector:n._loadedInjector}):d2(e,n,r,this.urlSerializer).pipe(nt(i=>i?this.configLoader.loadChildren(e,n).pipe(lt(s=>{n._loadedRoutes=s.routes,n._loadedInjector=s.injector})):p2(n))):ne({routes:[],injector:e})}};function D2(t){t.sort((e,n)=>e.value.outlet===ce?-1:n.value.outlet===ce?1:e.value.outlet.localeCompare(n.value.outlet))}function C2(t){let e=t.value.routeConfig;return e&&e.path===""}function cS(t){let e=[],n=new Set;for(let r of t){if(!C2(r)){e.push(r);continue}let i=e.find(s=>r.value.routeConfig===s.value.routeConfig);i!==void 0?(i.children.push(...r.children),n.add(i)):e.push(r)}for(let r of n){let i=cS(r.children);e.push(new en(r.value,i))}return e.filter(r=>!n.has(r))}function O0(t){return t.data||{}}function F0(t){return t.resolve||{}}function T2(t,e,n,r,i,s){return nt(o=>E2(t,e,n,r,o.extractedUrl,i,s).pipe(le(({state:a,tree:u})=>ge(B({},o),{targetSnapshot:a,urlAfterRedirects:u}))))}function S2(t,e){return nt(n=>{let{targetSnapshot:r,guards:{canActivateChecks:i}}=n;if(!i.length)return ne(n);let s=new Set(i.map(u=>u.route)),o=new Set;for(let u of s)if(!o.has(u))for(let d of uS(u))o.add(d);let a=0;return Ue(o).pipe(ys(u=>s.has(u)?A2(u,r,t,e):(u.data=bf(u,u.parent,t).resolve,ne(void 0))),lt(()=>a++),Po(1),nt(u=>a===o.size?ne(n):Kt))})}function uS(t){let e=t.children.map(n=>uS(n)).flat();return[t,...e]}function A2(t,e,n,r){let i=t.routeConfig,s=t._resolve;return i?.title!==void 0&&!tS(i)&&(s[mu]=i.title),R2(s,t,e,r).pipe(le(o=>(t._resolvedData=o,t.data=bf(t,t.parent,n).resolve,null)))}function R2(t,e,n,r){let i=pv(t);if(i.length===0)return ne({});let s={};return Ue(i).pipe(nt(o=>x2(t[o],e,n,r).pipe(Hn(),lt(a=>{if(a instanceof hu)throw Cf(new va,a);s[o]=a}))),Po(1),qg(s),_i(o=>sS(o)?Kt:xo(o)))}function x2(t,e,n,r){let i=vu(e)??r,s=Ea(t,i),o=s.resolve?s.resolve(e,n):Zn(i,()=>s(e,n));return Oi(o)}function hv(t){return an(e=>{let n=t(e);return n?Ue(n).pipe(le(()=>e)):ne(e)})}var lS=(()=>{class t{buildTitle(n){let r,i=n.root;for(;i!==void 0;)r=this.getResolvedTitleForRoute(i)??r,i=i.children.find(s=>s.outlet===ce);return r}getResolvedTitleForRoute(n){return n.data[mu]}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=Y({token:t,factory:()=>j(M2),providedIn:"root"})}}return t})(),M2=(()=>{class t extends lS{constructor(n){super(),this.title=n}updateTitle(n){let r=this.buildTitle(n);r!==void 0&&this.title.setTitle(r)}static{this.\u0275fac=function(r){return new(r||t)(ie(HT))}}static{this.\u0275prov=Y({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),Iu=new W("",{providedIn:"root",factory:()=>({})}),N2=(()=>{class t{static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275cmp=bh({type:t,selectors:[["ng-component"]],standalone:!0,features:[jh],decls:1,vars:0,template:function(r,i){r&1&&Gc(0,"router-outlet")},dependencies:[jV],encapsulation:2})}}return t})();function jv(t){let e=t.children&&t.children.map(jv),n=e?ge(B({},t),{children:e}):B({},t);return!n.component&&!n.loadComponent&&(e||n.loadChildren)&&n.outlet&&n.outlet!==ce&&(n.component=N2),n}var gu=new W(""),Bv=(()=>{class t{constructor(){this.componentLoaders=new WeakMap,this.childrenLoaders=new WeakMap,this.compiler=j(qh)}loadComponent(n){if(this.componentLoaders.get(n))return this.componentLoaders.get(n);if(n._loadedComponent)return ne(n._loadedComponent);this.onLoadStartListener&&this.onLoadStartListener(n);let r=Oi(n.loadComponent()).pipe(le(dS),lt(s=>{this.onLoadEndListener&&this.onLoadEndListener(n),n._loadedComponent=s}),Mc(()=>{this.componentLoaders.delete(n)})),i=new To(r,()=>new gt).pipe(Co());return this.componentLoaders.set(n,i),i}loadChildren(n,r){if(this.childrenLoaders.get(r))return this.childrenLoaders.get(r);if(r._loadedRoutes)return ne({routes:r._loadedRoutes,injector:r._loadedInjector});this.onLoadStartListener&&this.onLoadStartListener(r);let s=P2(r,this.compiler,n,this.onLoadEndListener).pipe(Mc(()=>{this.childrenLoaders.delete(r)})),o=new To(s,()=>new gt).pipe(Co());return this.childrenLoaders.set(r,o),o}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=Y({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function P2(t,e,n,r){return Oi(t.loadChildren()).pipe(le(dS),nt(i=>i instanceof Vc||Array.isArray(i)?ne(i):Ue(e.compileModuleAsync(i))),le(i=>{r&&r(t);let s,o,a=!1;return Array.isArray(i)?(o=i,a=!0):(s=i.create(n).injector,o=s.get(gu,[],{optional:!0,self:!0}).flat()),{routes:o.map(jv),injector:s}}))}function k2(t){return t&&typeof t=="object"&&"default"in t}function dS(t){return k2(t)?t.default:t}var $v=(()=>{class t{static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=Y({token:t,factory:()=>j(O2),providedIn:"root"})}}return t})(),O2=(()=>{class t{shouldProcessUrl(n){return!0}extract(n){return n}merge(n,r){return n}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=Y({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),hS=new W(""),fS=new W("");function F2(t,e,n){let r=t.get(fS),i=t.get(jt);return t.get(Re).runOutsideAngular(()=>{if(!i.startViewTransition||r.skipNextTransition)return r.skipNextTransition=!1,new Promise(d=>setTimeout(d));let s,o=new Promise(d=>{s=d}),a=i.startViewTransition(()=>(s(),L2(t))),{onViewTransitionCreated:u}=r;return u&&Zn(t,()=>u({transition:a,from:e,to:n})),o})}function L2(t){return new Promise(e=>{Oy({read:()=>setTimeout(e)},{injector:t})})}var V2=new W(""),Hv=(()=>{class t{get hasRequestedNavigation(){return this.navigationId!==0}constructor(){this.currentNavigation=null,this.currentTransition=null,this.lastSuccessfulNavigation=null,this.events=new gt,this.transitionAbortSubject=new gt,this.configLoader=j(Bv),this.environmentInjector=j(Zt),this.urlSerializer=j(yu),this.rootContexts=j(wu),this.location=j(aa),this.inputBindingEnabled=j(Af,{optional:!0})!==null,this.titleStrategy=j(lS),this.options=j(Iu,{optional:!0})||{},this.paramsInheritanceStrategy=this.options.paramsInheritanceStrategy||"emptyOnly",this.urlHandlingStrategy=j($v),this.createViewTransition=j(hS,{optional:!0}),this.navigationErrorHandler=j(V2,{optional:!0}),this.navigationId=0,this.afterPreactivation=()=>ne(void 0),this.rootComponentType=null;let n=i=>this.events.next(new Ev(i)),r=i=>this.events.next(new bv(i));this.configLoader.onLoadEndListener=r,this.configLoader.onLoadStartListener=n}complete(){this.transitions?.complete()}handleNavigationRequest(n){let r=++this.navigationId;this.transitions?.next(ge(B(B({},this.transitions.value),n),{id:r}))}setupNavigations(n,r,i){return this.transitions=new It({id:0,currentUrlTree:r,currentRawUrl:r,extractedUrl:this.urlHandlingStrategy.extract(r),urlAfterRedirects:this.urlHandlingStrategy.extract(r),rawUrl:r,extras:{},resolve:()=>{},reject:()=>{},promise:Promise.resolve(!0),source:ou,restoredState:null,currentSnapshot:i.snapshot,targetSnapshot:null,currentRouterState:i,targetRouterState:null,guards:{canActivateChecks:[],canDeactivateChecks:[]},guardsResult:null}),this.transitions.pipe(Qt(s=>s.id!==0),le(s=>ge(B({},s),{extractedUrl:this.urlHandlingStrategy.extract(s.rawUrl)})),an(s=>{let o=!1,a=!1;return ne(s).pipe(an(u=>{if(this.navigationId>s.id)return this.cancelNavigationTransition(s,"",tn.SupersededByNewNavigation),Kt;this.currentTransition=s,this.currentNavigation={id:u.id,initialUrl:u.rawUrl,extractedUrl:u.extractedUrl,targetBrowserUrl:typeof u.extras.browserUrl=="string"?this.urlSerializer.parse(u.extras.browserUrl):u.extras.browserUrl,trigger:u.source,extras:u.extras,previousNavigation:this.lastSuccessfulNavigation?ge(B({},this.lastSuccessfulNavigation),{previousNavigation:null}):null};let d=!n.navigated||this.isUpdatingInternalState()||this.isUpdatedBrowserUrl(),p=u.extras.onSameUrlNavigation??n.onSameUrlNavigation;if(!d&&p!=="reload"){let g="";return this.events.next(new Pi(u.id,this.urlSerializer.serialize(u.rawUrl),g,vf.IgnoredSameUrlNavigation)),u.resolve(!1),Kt}if(this.urlHandlingStrategy.shouldProcessUrl(u.rawUrl))return ne(u).pipe(an(g=>{let _=this.transitions?.getValue();return this.events.next(new wa(g.id,this.urlSerializer.serialize(g.extractedUrl),g.source,g.restoredState)),_!==this.transitions?.getValue()?Kt:Promise.resolve(g)}),T2(this.environmentInjector,this.configLoader,this.rootComponentType,n.config,this.urlSerializer,this.paramsInheritanceStrategy),lt(g=>{s.targetSnapshot=g.targetSnapshot,s.urlAfterRedirects=g.urlAfterRedirects,this.currentNavigation=ge(B({},this.currentNavigation),{finalUrl:g.urlAfterRedirects});let _=new wf(g.id,this.urlSerializer.serialize(g.extractedUrl),this.urlSerializer.serialize(g.urlAfterRedirects),g.targetSnapshot);this.events.next(_)}));if(d&&this.urlHandlingStrategy.shouldProcessUrl(u.currentRawUrl)){let{id:g,extractedUrl:_,source:E,restoredState:M,extras:O}=u,P=new wa(g,this.urlSerializer.serialize(_),E,M);this.events.next(P);let V=X0(this.rootComponentType).snapshot;return this.currentTransition=s=ge(B({},u),{targetSnapshot:V,urlAfterRedirects:_,extras:ge(B({},O),{skipLocationChange:!1,replaceUrl:!1})}),this.currentNavigation.finalUrl=_,ne(s)}else{let g="";return this.events.next(new Pi(u.id,this.urlSerializer.serialize(u.extractedUrl),g,vf.IgnoredByUrlHandlingStrategy)),u.resolve(!1),Kt}}),lt(u=>{let d=new vv(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot);this.events.next(d)}),le(u=>(this.currentTransition=s=ge(B({},u),{guards:GV(u.targetSnapshot,u.currentSnapshot,this.rootContexts)}),s)),r2(this.environmentInjector,u=>this.events.next(u)),lt(u=>{if(s.guardsResult=u.guardsResult,u.guardsResult&&typeof u.guardsResult!="boolean")throw Cf(this.urlSerializer,u.guardsResult);let d=new wv(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects),u.targetSnapshot,!!u.guardsResult);this.events.next(d)}),Qt(u=>u.guardsResult?!0:(this.cancelNavigationTransition(u,"",tn.GuardRejected),!1)),hv(u=>{if(u.guards.canActivateChecks.length)return ne(u).pipe(lt(d=>{let p=new _v(d.id,this.urlSerializer.serialize(d.extractedUrl),this.urlSerializer.serialize(d.urlAfterRedirects),d.targetSnapshot);this.events.next(p)}),an(d=>{let p=!1;return ne(d).pipe(S2(this.paramsInheritanceStrategy,this.environmentInjector),lt({next:()=>p=!0,complete:()=>{p||this.cancelNavigationTransition(d,"",tn.NoDataFromResolver)}}))}),lt(d=>{let p=new Iv(d.id,this.urlSerializer.serialize(d.extractedUrl),this.urlSerializer.serialize(d.urlAfterRedirects),d.targetSnapshot);this.events.next(p)}))}),hv(u=>{let d=p=>{let g=[];p.routeConfig?.loadComponent&&!p.routeConfig._loadedComponent&&g.push(this.configLoader.loadComponent(p.routeConfig).pipe(lt(_=>{p.component=_}),le(()=>{})));for(let _ of p.children)g.push(...d(_));return g};return xc(d(u.targetSnapshot.root)).pipe(Ii(null),Dr(1))}),hv(()=>this.afterPreactivation()),an(()=>{let{currentSnapshot:u,targetSnapshot:d}=s,p=this.createViewTransition?.(this.environmentInjector,u.root,d.root);return p?Ue(p).pipe(le(()=>s)):ne(s)}),le(u=>{let d=BV(n.routeReuseStrategy,u.targetSnapshot,u.currentRouterState);return this.currentTransition=s=ge(B({},u),{targetRouterState:d}),this.currentNavigation.targetRouterState=d,s}),lt(()=>{this.events.next(new lu)}),zV(this.rootContexts,n.routeReuseStrategy,u=>this.events.next(u),this.inputBindingEnabled),Dr(1),lt({next:u=>{o=!0,this.lastSuccessfulNavigation=this.currentNavigation,this.events.next(new sr(u.id,this.urlSerializer.serialize(u.extractedUrl),this.urlSerializer.serialize(u.urlAfterRedirects))),this.titleStrategy?.updateTitle(u.targetRouterState.snapshot),u.resolve(!0)},complete:()=>{o=!0}}),Gg(this.transitionAbortSubject.pipe(lt(u=>{throw u}))),Mc(()=>{!o&&!a&&this.cancelNavigationTransition(s,"",tn.SupersededByNewNavigation),this.currentTransition?.id===s.id&&(this.currentNavigation=null,this.currentTransition=null)}),_i(u=>{if(a=!0,iS(u))this.events.next(new Fr(s.id,this.urlSerializer.serialize(s.extractedUrl),u.message,u.cancellationCode)),qV(u)?this.events.next(new _a(u.url,u.navigationBehaviorOptions)):s.resolve(!1);else{let d=new uu(s.id,this.urlSerializer.serialize(s.extractedUrl),u,s.targetSnapshot??void 0);try{let p=Zn(this.environmentInjector,()=>this.navigationErrorHandler?.(d));if(p instanceof hu){let{message:g,cancellationCode:_}=Cf(this.urlSerializer,p);this.events.next(new Fr(s.id,this.urlSerializer.serialize(s.extractedUrl),g,_)),this.events.next(new _a(p.redirectTo,p.navigationBehaviorOptions))}else{this.events.next(d);let g=n.errorHandler(u);s.resolve(!!g)}}catch(p){this.options.resolveNavigationPromiseOnError?s.resolve(!1):s.reject(p)}}return Kt}))}))}cancelNavigationTransition(n,r,i){let s=new Fr(n.id,this.urlSerializer.serialize(n.extractedUrl),r,i);this.events.next(s),n.resolve(!1)}isUpdatingInternalState(){return this.currentTransition?.extractedUrl.toString()!==this.currentTransition?.currentUrlTree.toString()}isUpdatedBrowserUrl(){let n=this.urlHandlingStrategy.extract(this.urlSerializer.parse(this.location.path(!0))),r=this.currentNavigation?.targetBrowserUrl??this.currentNavigation?.extractedUrl;return n.toString()!==r?.toString()&&!this.currentNavigation?.extras.skipLocationChange}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=Y({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function U2(t){return t!==ou}var j2=(()=>{class t{static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=Y({token:t,factory:()=>j(B2),providedIn:"root"})}}return t})(),Vv=class{shouldDetach(e){return!1}store(e,n){}shouldAttach(e){return!1}retrieve(e){return null}shouldReuseRoute(e,n){return e.routeConfig===n.routeConfig}},B2=(()=>{class t extends Vv{static{this.\u0275fac=(()=>{let n;return function(i){return(n||(n=Xn(t)))(i||t)}})()}static{this.\u0275prov=Y({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),pS=(()=>{class t{static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=Y({token:t,factory:()=>j($2),providedIn:"root"})}}return t})(),$2=(()=>{class t extends pS{constructor(){super(...arguments),this.location=j(aa),this.urlSerializer=j(yu),this.options=j(Iu,{optional:!0})||{},this.canceledNavigationResolution=this.options.canceledNavigationResolution||"replace",this.urlHandlingStrategy=j($v),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.currentUrlTree=new Lr,this.rawUrlTree=this.currentUrlTree,this.currentPageId=0,this.lastSuccessfulId=-1,this.routerState=X0(null),this.stateMemento=this.createStateMemento()}getCurrentUrlTree(){return this.currentUrlTree}getRawUrlTree(){return this.rawUrlTree}restoredState(){return this.location.getState()}get browserPageId(){return this.canceledNavigationResolution!=="computed"?this.currentPageId:this.restoredState()?.\u0275routerPageId??this.currentPageId}getRouterState(){return this.routerState}createStateMemento(){return{rawUrlTree:this.rawUrlTree,currentUrlTree:this.currentUrlTree,routerState:this.routerState}}registerNonRouterCurrentEntryChangeListener(n){return this.location.subscribe(r=>{r.type==="popstate"&&n(r.url,r.state)})}handleRouterEvent(n,r){if(n instanceof wa)this.stateMemento=this.createStateMemento();else if(n instanceof Pi)this.rawUrlTree=r.initialUrl;else if(n instanceof wf){if(this.urlUpdateStrategy==="eager"&&!r.extras.skipLocationChange){let i=this.urlHandlingStrategy.merge(r.finalUrl,r.initialUrl);this.setBrowserUrl(r.targetBrowserUrl??i,r)}}else n instanceof lu?(this.currentUrlTree=r.finalUrl,this.rawUrlTree=this.urlHandlingStrategy.merge(r.finalUrl,r.initialUrl),this.routerState=r.targetRouterState,this.urlUpdateStrategy==="deferred"&&!r.extras.skipLocationChange&&this.setBrowserUrl(r.targetBrowserUrl??this.rawUrlTree,r)):n instanceof Fr&&(n.code===tn.GuardRejected||n.code===tn.NoDataFromResolver)?this.restoreHistory(r):n instanceof uu?this.restoreHistory(r,!0):n instanceof sr&&(this.lastSuccessfulId=n.id,this.currentPageId=this.browserPageId)}setBrowserUrl(n,r){let i=n instanceof Lr?this.urlSerializer.serialize(n):n;if(this.location.isCurrentPathEqualTo(i)||r.extras.replaceUrl){let s=this.browserPageId,o=B(B({},r.extras.state),this.generateNgRouterState(r.id,s));this.location.replaceState(i,"",o)}else{let s=B(B({},r.extras.state),this.generateNgRouterState(r.id,this.browserPageId+1));this.location.go(i,"",s)}}restoreHistory(n,r=!1){if(this.canceledNavigationResolution==="computed"){let i=this.browserPageId,s=this.currentPageId-i;s!==0?this.location.historyGo(s):this.currentUrlTree===n.finalUrl&&s===0&&(this.resetState(n),this.resetUrlToCurrentUrlTree())}else this.canceledNavigationResolution==="replace"&&(r&&this.resetState(n),this.resetUrlToCurrentUrlTree())}resetState(n){this.routerState=this.stateMemento.routerState,this.currentUrlTree=this.stateMemento.currentUrlTree,this.rawUrlTree=this.urlHandlingStrategy.merge(this.currentUrlTree,n.finalUrl??this.rawUrlTree)}resetUrlToCurrentUrlTree(){this.location.replaceState(this.urlSerializer.serialize(this.rawUrlTree),"",this.generateNgRouterState(this.lastSuccessfulId,this.currentPageId))}generateNgRouterState(n,r){return this.canceledNavigationResolution==="computed"?{navigationId:n,\u0275routerPageId:r}:{navigationId:n}}static{this.\u0275fac=(()=>{let n;return function(i){return(n||(n=Xn(t)))(i||t)}})()}static{this.\u0275prov=Y({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),iu=function(t){return t[t.COMPLETE=0]="COMPLETE",t[t.FAILED=1]="FAILED",t[t.REDIRECTING=2]="REDIRECTING",t}(iu||{});function gS(t,e){t.events.pipe(Qt(n=>n instanceof sr||n instanceof Fr||n instanceof uu||n instanceof Pi),le(n=>n instanceof sr||n instanceof Pi?iu.COMPLETE:(n instanceof Fr?n.code===tn.Redirect||n.code===tn.SupersededByNewNavigation:!1)?iu.REDIRECTING:iu.FAILED),Qt(n=>n!==iu.REDIRECTING),Dr(1)).subscribe(()=>{e()})}function H2(t){throw t}var q2={paths:"exact",fragment:"ignored",matrixParams:"ignored",queryParams:"exact"},z2={paths:"subset",fragment:"ignored",matrixParams:"ignored",queryParams:"subset"},Vr=(()=>{class t{get currentUrlTree(){return this.stateManager.getCurrentUrlTree()}get rawUrlTree(){return this.stateManager.getRawUrlTree()}get events(){return this._events}get routerState(){return this.stateManager.getRouterState()}constructor(){this.disposed=!1,this.console=j(Bh),this.stateManager=j(pS),this.options=j(Iu,{optional:!0})||{},this.pendingTasks=j(ta),this.urlUpdateStrategy=this.options.urlUpdateStrategy||"deferred",this.navigationTransitions=j(Hv),this.urlSerializer=j(yu),this.location=j(aa),this.urlHandlingStrategy=j($v),this._events=new gt,this.errorHandler=this.options.errorHandler||H2,this.navigated=!1,this.routeReuseStrategy=j(j2),this.onSameUrlNavigation=this.options.onSameUrlNavigation||"ignore",this.config=j(gu,{optional:!0})?.flat()??[],this.componentInputBindingEnabled=!!j(Af,{optional:!0}),this.eventsSubscription=new ze,this.resetConfig(this.config),this.navigationTransitions.setupNavigations(this,this.currentUrlTree,this.routerState).subscribe({error:n=>{this.console.warn(n)}}),this.subscribeToNavigationEvents()}subscribeToNavigationEvents(){let n=this.navigationTransitions.events.subscribe(r=>{try{let i=this.navigationTransitions.currentTransition,s=this.navigationTransitions.currentNavigation;if(i!==null&&s!==null){if(this.stateManager.handleRouterEvent(r,s),r instanceof Fr&&r.code!==tn.Redirect&&r.code!==tn.SupersededByNewNavigation)this.navigated=!0;else if(r instanceof sr)this.navigated=!0;else if(r instanceof _a){let o=r.navigationBehaviorOptions,a=this.urlHandlingStrategy.merge(r.url,i.currentRawUrl),u=B({browserUrl:i.extras.browserUrl,info:i.extras.info,skipLocationChange:i.extras.skipLocationChange,replaceUrl:i.extras.replaceUrl||this.urlUpdateStrategy==="eager"||U2(i.source)},o);this.scheduleNavigation(a,ou,null,u,{resolve:i.resolve,reject:i.reject,promise:i.promise})}}W2(r)&&this._events.next(r)}catch(i){this.navigationTransitions.transitionAbortSubject.next(i)}});this.eventsSubscription.add(n)}resetRootComponentType(n){this.routerState.root.component=n,this.navigationTransitions.rootComponentType=n}initialNavigation(){this.setUpLocationChangeListener(),this.navigationTransitions.hasRequestedNavigation||this.navigateToSyncWithBrowser(this.location.path(!0),ou,this.stateManager.restoredState())}setUpLocationChangeListener(){this.nonRouterCurrentEntryChangeSubscription??=this.stateManager.registerNonRouterCurrentEntryChangeListener((n,r)=>{setTimeout(()=>{this.navigateToSyncWithBrowser(n,"popstate",r)},0)})}navigateToSyncWithBrowser(n,r,i){let s={replaceUrl:!0},o=i?.navigationId?i:null;if(i){let u=B({},i);delete u.navigationId,delete u.\u0275routerPageId,Object.keys(u).length!==0&&(s.state=u)}let a=this.parseUrl(n);this.scheduleNavigation(a,r,o,s)}get url(){return this.serializeUrl(this.currentUrlTree)}getCurrentNavigation(){return this.navigationTransitions.currentNavigation}get lastSuccessfulNavigation(){return this.navigationTransitions.lastSuccessfulNavigation}resetConfig(n){this.config=n.map(jv),this.navigated=!1}ngOnDestroy(){this.dispose()}dispose(){this.navigationTransitions.complete(),this.nonRouterCurrentEntryChangeSubscription&&(this.nonRouterCurrentEntryChangeSubscription.unsubscribe(),this.nonRouterCurrentEntryChangeSubscription=void 0),this.disposed=!0,this.eventsSubscription.unsubscribe()}createUrlTree(n,r={}){let{relativeTo:i,queryParams:s,fragment:o,queryParamsHandling:a,preserveFragment:u}=r,d=u?this.currentUrlTree.fragment:o,p=null;switch(a??this.options.defaultQueryParamsHandling){case"merge":p=B(B({},this.currentUrlTree.queryParams),s);break;case"preserve":p=this.currentUrlTree.queryParams;break;default:p=s||null}p!==null&&(p=this.removeEmptyProps(p));let g;try{let _=i?i.snapshot:this.routerState.snapshot.root;g=Q0(_)}catch{(typeof n[0]!="string"||n[0][0]!=="/")&&(n=[]),g=this.currentUrlTree.root}return Y0(g,n,p,d??null)}navigateByUrl(n,r={skipLocationChange:!1}){let i=Os(n)?n:this.parseUrl(n),s=this.urlHandlingStrategy.merge(i,this.rawUrlTree);return this.scheduleNavigation(s,ou,null,r)}navigate(n,r={skipLocationChange:!1}){return G2(n),this.navigateByUrl(this.createUrlTree(n,r),r)}serializeUrl(n){return this.urlSerializer.serialize(n)}parseUrl(n){try{return this.urlSerializer.parse(n)}catch{return this.urlSerializer.parse("/")}}isActive(n,r){let i;if(r===!0?i=B({},q2):r===!1?i=B({},z2):i=r,Os(n))return R0(this.currentUrlTree,n,i);let s=this.parseUrl(n);return R0(this.currentUrlTree,s,i)}removeEmptyProps(n){return Object.entries(n).reduce((r,[i,s])=>(s!=null&&(r[i]=s),r),{})}scheduleNavigation(n,r,i,s,o){if(this.disposed)return Promise.resolve(!1);let a,u,d;o?(a=o.resolve,u=o.reject,d=o.promise):d=new Promise((g,_)=>{a=g,u=_});let p=this.pendingTasks.add();return gS(this,()=>{queueMicrotask(()=>this.pendingTasks.remove(p))}),this.navigationTransitions.handleNavigationRequest({source:r,restoredState:i,currentUrlTree:this.currentUrlTree,currentRawUrl:this.currentUrlTree,rawUrl:n,extras:s,resolve:a,reject:u,promise:d,currentSnapshot:this.routerState.snapshot,currentRouterState:this.routerState}),d.catch(g=>Promise.reject(g))}static{this.\u0275fac=function(r){return new(r||t)}}static{this.\u0275prov=Y({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})();function G2(t){for(let e=0;e<t.length;e++)if(t[e]==null)throw new Q(4008,!1)}function W2(t){return!(t instanceof lu)&&!(t instanceof _a)}var qK=(()=>{class t{constructor(n,r,i,s,o,a){this.router=n,this.route=r,this.tabIndexAttribute=i,this.renderer=s,this.el=o,this.locationStrategy=a,this.href=null,this.onChanges=new gt,this.preserveFragment=!1,this.skipLocationChange=!1,this.replaceUrl=!1,this.routerLinkInput=null;let u=o.nativeElement.tagName?.toLowerCase();this.isAnchorElement=u==="a"||u==="area",this.isAnchorElement?this.subscription=n.events.subscribe(d=>{d instanceof sr&&this.updateHref()}):this.setTabIndexIfNotOnNativeEl("0")}setTabIndexIfNotOnNativeEl(n){this.tabIndexAttribute!=null||this.isAnchorElement||this.applyAttributeValue("tabindex",n)}ngOnChanges(n){this.isAnchorElement&&this.updateHref(),this.onChanges.next(this)}set routerLink(n){n==null?(this.routerLinkInput=null,this.setTabIndexIfNotOnNativeEl(null)):(Os(n)?this.routerLinkInput=n:this.routerLinkInput=Array.isArray(n)?n:[n],this.setTabIndexIfNotOnNativeEl("0"))}onClick(n,r,i,s,o){let a=this.urlTree;if(a===null||this.isAnchorElement&&(n!==0||r||i||s||o||typeof this.target=="string"&&this.target!="_self"))return!0;let u={skipLocationChange:this.skipLocationChange,replaceUrl:this.replaceUrl,state:this.state,info:this.info};return this.router.navigateByUrl(a,u),!this.isAnchorElement}ngOnDestroy(){this.subscription?.unsubscribe()}updateHref(){let n=this.urlTree;this.href=n!==null&&this.locationStrategy?this.locationStrategy?.prepareExternalUrl(this.router.serializeUrl(n)):null;let r=this.href===null?null:EC(this.href,this.el.nativeElement.tagName.toLowerCase(),"href");this.applyAttributeValue("href",r)}applyAttributeValue(n,r){let i=this.renderer,s=this.el.nativeElement;r!==null?i.setAttribute(s,n,r):i.removeAttribute(s,n)}get urlTree(){return this.routerLinkInput===null?null:Os(this.routerLinkInput)?this.routerLinkInput:this.router.createUrlTree(this.routerLinkInput,{relativeTo:this.relativeTo!==void 0?this.relativeTo:this.route,queryParams:this.queryParams,fragment:this.fragment,queryParamsHandling:this.queryParamsHandling,preserveFragment:this.preserveFragment})}static{this.\u0275fac=function(r){return new(r||t)(ee(Vr),ee(ki),gy("tabindex"),ee(tr),ee(Sn),ee(kr))}}static{this.\u0275dir=Oe({type:t,selectors:[["","routerLink",""]],hostVars:1,hostBindings:function(r,i){r&1&&nr("click",function(o){return i.onClick(o.button,o.ctrlKey,o.shiftKey,o.altKey,o.metaKey)}),r&2&&sa("target",i.target)},inputs:{target:"target",queryParams:"queryParams",fragment:"fragment",queryParamsHandling:"queryParamsHandling",state:"state",info:"info",relativeTo:"relativeTo",preserveFragment:[2,"preserveFragment","preserveFragment",xi],skipLocationChange:[2,"skipLocationChange","skipLocationChange",xi],replaceUrl:[2,"replaceUrl","replaceUrl",xi],routerLink:"routerLink"},standalone:!0,features:[Py,Jn]})}}return t})();var Sf=class{};var K2=(()=>{class t{constructor(n,r,i,s,o){this.router=n,this.injector=i,this.preloadingStrategy=s,this.loader=o}setUpPreloading(){this.subscription=this.router.events.pipe(Qt(n=>n instanceof sr),ys(()=>this.preload())).subscribe(()=>{})}preload(){return this.processRoutes(this.injector,this.router.config)}ngOnDestroy(){this.subscription&&this.subscription.unsubscribe()}processRoutes(n,r){let i=[];for(let s of r){s.providers&&!s._injector&&(s._injector=Lh(s.providers,n,`Route: ${s.path}`));let o=s._injector??n,a=s._loadedInjector??o;(s.loadChildren&&!s._loadedRoutes&&s.canLoad===void 0||s.loadComponent&&!s._loadedComponent)&&i.push(this.preloadConfig(o,s)),(s.children||s._loadedRoutes)&&i.push(this.processRoutes(a,s.children??s._loadedRoutes))}return Ue(i).pipe(Mo())}preloadConfig(n,r){return this.preloadingStrategy.preload(r,()=>{let i;r.loadChildren&&r.canLoad===void 0?i=this.loader.loadChildren(n,r):i=ne(null);let s=i.pipe(nt(o=>o===null?ne(void 0):(r._loadedRoutes=o.routes,r._loadedInjector=o.injector,this.processRoutes(o.injector??n,o.routes))));if(r.loadComponent&&!r._loadedComponent){let o=this.loader.loadComponent(r);return Ue([s,o]).pipe(Mo())}else return s})}static{this.\u0275fac=function(r){return new(r||t)(ie(Vr),ie(qh),ie(Zt),ie(Sf),ie(Bv))}}static{this.\u0275prov=Y({token:t,factory:t.\u0275fac,providedIn:"root"})}}return t})(),mS=new W(""),Q2=(()=>{class t{constructor(n,r,i,s,o={}){this.urlSerializer=n,this.transitions=r,this.viewportScroller=i,this.zone=s,this.options=o,this.lastId=0,this.lastSource="imperative",this.restoredId=0,this.store={},o.scrollPositionRestoration||="disabled",o.anchorScrolling||="disabled"}init(){this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.setHistoryScrollRestoration("manual"),this.routerEventsSubscription=this.createScrollEvents(),this.scrollEventsSubscription=this.consumeScrollEvents()}createScrollEvents(){return this.transitions.events.subscribe(n=>{n instanceof wa?(this.store[this.lastId]=this.viewportScroller.getScrollPosition(),this.lastSource=n.navigationTrigger,this.restoredId=n.restoredState?n.restoredState.navigationId:0):n instanceof sr?(this.lastId=n.id,this.scheduleScrollEvent(n,this.urlSerializer.parse(n.urlAfterRedirects).fragment)):n instanceof Pi&&n.code===vf.IgnoredSameUrlNavigation&&(this.lastSource=void 0,this.restoredId=0,this.scheduleScrollEvent(n,this.urlSerializer.parse(n.url).fragment))})}consumeScrollEvents(){return this.transitions.events.subscribe(n=>{n instanceof _f&&(n.position?this.options.scrollPositionRestoration==="top"?this.viewportScroller.scrollToPosition([0,0]):this.options.scrollPositionRestoration==="enabled"&&this.viewportScroller.scrollToPosition(n.position):n.anchor&&this.options.anchorScrolling==="enabled"?this.viewportScroller.scrollToAnchor(n.anchor):this.options.scrollPositionRestoration!=="disabled"&&this.viewportScroller.scrollToPosition([0,0]))})}scheduleScrollEvent(n,r){this.zone.runOutsideAngular(()=>{setTimeout(()=>{this.zone.run(()=>{this.transitions.events.next(new _f(n,this.lastSource==="popstate"?this.store[this.restoredId]:null,r))})},0)})}ngOnDestroy(){this.routerEventsSubscription?.unsubscribe(),this.scrollEventsSubscription?.unsubscribe()}static{this.\u0275fac=function(r){kC()}}static{this.\u0275prov=Y({token:t,factory:t.\u0275fac})}}return t})();function zK(t,...e){return Yn([{provide:gu,multi:!0,useValue:t},[],{provide:ki,useFactory:yS,deps:[Vr]},{provide:Hh,multi:!0,useFactory:vS},e.map(n=>n.\u0275providers)])}function yS(t){return t.routerState.root}function Eu(t,e){return{\u0275kind:t,\u0275providers:e}}function vS(){let t=j(Et);return e=>{let n=t.get(Rs);if(e!==n.components[0])return;let r=t.get(Vr),i=t.get(wS);t.get(qv)===1&&r.initialNavigation(),t.get(_S,null,de.Optional)?.setUpPreloading(),t.get(mS,null,de.Optional)?.init(),r.resetRootComponentType(n.componentTypes[0]),i.closed||(i.next(),i.complete(),i.unsubscribe())}}var wS=new W("",{factory:()=>new gt}),qv=new W("",{providedIn:"root",factory:()=>1});function Y2(){return Eu(2,[{provide:qv,useValue:0},{provide:$h,multi:!0,deps:[Et],useFactory:e=>{let n=e.get(RT,Promise.resolve());return()=>n.then(()=>new Promise(r=>{let i=e.get(Vr),s=e.get(wS);gS(i,()=>{r(!0)}),e.get(Hv).afterPreactivation=()=>(r(!0),s.closed?ne(void 0):s),i.initialNavigation()}))}}])}function Z2(){return Eu(3,[{provide:$h,multi:!0,useFactory:()=>{let e=j(Vr);return()=>{e.setUpLocationChangeListener()}}},{provide:qv,useValue:2}])}var _S=new W("");function J2(t){return Eu(0,[{provide:_S,useExisting:K2},{provide:Sf,useExisting:t}])}function X2(){return Eu(8,[P0,{provide:Af,useExisting:P0}])}function eU(t){let e=[{provide:hS,useValue:F2},{provide:fS,useValue:B({skipNextTransition:!!t?.skipInitialTransition},t)}];return Eu(9,e)}var L0=new W("ROUTER_FORROOT_GUARD"),tU=[aa,{provide:yu,useClass:va},Vr,wu,{provide:ki,useFactory:yS,deps:[Vr]},Bv,[]],GK=(()=>{class t{constructor(n){}static forRoot(n,r){return{ngModule:t,providers:[tU,[],{provide:gu,multi:!0,useValue:n},{provide:L0,useFactory:sU,deps:[[Vr,new St,new ey]]},{provide:Iu,useValue:r||{}},r?.useHash?rU():iU(),nU(),r?.preloadingStrategy?J2(r.preloadingStrategy).\u0275providers:[],r?.initialNavigation?oU(r):[],r?.bindToComponentInputs?X2().\u0275providers:[],r?.enableViewTransitions?eU().\u0275providers:[],aU()]}}static forChild(n){return{ngModule:t,providers:[{provide:gu,multi:!0,useValue:n}]}}static{this.\u0275fac=function(r){return new(r||t)(ie(L0,8))}}static{this.\u0275mod=Rr({type:t})}static{this.\u0275inj=Ar({})}}return t})();function nU(){return{provide:mS,useFactory:()=>{let t=j(kT),e=j(Re),n=j(Iu),r=j(Hv),i=j(yu);return n.scrollOffset&&t.setOffset(n.scrollOffset),new Q2(i,r,t,e,n)}}}function rU(){return{provide:kr,useClass:MT}}function iU(){return{provide:kr,useClass:Gy}}function sU(t){return"guarded"}function oU(t){return[t.initialNavigation==="disabled"?Z2().\u0275providers:[],t.initialNavigation==="enabledBlocking"?Y2().\u0275providers:[]]}var V0=new W("");function aU(){return[{provide:V0,useFactory:vS},{provide:Hh,multi:!0,useExisting:V0}]}var ES=function(t){let e=[],n=0;for(let r=0;r<t.length;r++){let i=t.charCodeAt(r);i<128?e[n++]=i:i<2048?(e[n++]=i>>6|192,e[n++]=i&63|128):(i&64512)===55296&&r+1<t.length&&(t.charCodeAt(r+1)&64512)===56320?(i=65536+((i&1023)<<10)+(t.charCodeAt(++r)&1023),e[n++]=i>>18|240,e[n++]=i>>12&63|128,e[n++]=i>>6&63|128,e[n++]=i&63|128):(e[n++]=i>>12|224,e[n++]=i>>6&63|128,e[n++]=i&63|128)}return e},cU=function(t){let e=[],n=0,r=0;for(;n<t.length;){let i=t[n++];if(i<128)e[r++]=String.fromCharCode(i);else if(i>191&&i<224){let s=t[n++];e[r++]=String.fromCharCode((i&31)<<6|s&63)}else if(i>239&&i<365){let s=t[n++],o=t[n++],a=t[n++],u=((i&7)<<18|(s&63)<<12|(o&63)<<6|a&63)-65536;e[r++]=String.fromCharCode(55296+(u>>10)),e[r++]=String.fromCharCode(56320+(u&1023))}else{let s=t[n++],o=t[n++];e[r++]=String.fromCharCode((i&15)<<12|(s&63)<<6|o&63)}}return e.join("")},bS={byteToCharMap_:null,charToByteMap_:null,byteToCharMapWebSafe_:null,charToByteMapWebSafe_:null,ENCODED_VALS_BASE:"ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",get ENCODED_VALS(){return this.ENCODED_VALS_BASE+"+/="},get ENCODED_VALS_WEBSAFE(){return this.ENCODED_VALS_BASE+"-_."},HAS_NATIVE_SUPPORT:typeof atob=="function",encodeByteArray(t,e){if(!Array.isArray(t))throw Error("encodeByteArray takes an array as a parameter");this.init_();let n=e?this.byteToCharMapWebSafe_:this.byteToCharMap_,r=[];for(let i=0;i<t.length;i+=3){let s=t[i],o=i+1<t.length,a=o?t[i+1]:0,u=i+2<t.length,d=u?t[i+2]:0,p=s>>2,g=(s&3)<<4|a>>4,_=(a&15)<<2|d>>6,E=d&63;u||(E=64,o||(_=64)),r.push(n[p],n[g],n[_],n[E])}return r.join("")},encodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?btoa(t):this.encodeByteArray(ES(t),e)},decodeString(t,e){return this.HAS_NATIVE_SUPPORT&&!e?atob(t):cU(this.decodeStringToByteArray(t,e))},decodeStringToByteArray(t,e){this.init_();let n=e?this.charToByteMapWebSafe_:this.charToByteMap_,r=[];for(let i=0;i<t.length;){let s=n[t.charAt(i++)],a=i<t.length?n[t.charAt(i)]:0;++i;let d=i<t.length?n[t.charAt(i)]:64;++i;let g=i<t.length?n[t.charAt(i)]:64;if(++i,s==null||a==null||d==null||g==null)throw new Gv;let _=s<<2|a>>4;if(r.push(_),d!==64){let E=a<<4&240|d>>2;if(r.push(E),g!==64){let M=d<<6&192|g;r.push(M)}}}return r},init_(){if(!this.byteToCharMap_){this.byteToCharMap_={},this.charToByteMap_={},this.byteToCharMapWebSafe_={},this.charToByteMapWebSafe_={};for(let t=0;t<this.ENCODED_VALS.length;t++)this.byteToCharMap_[t]=this.ENCODED_VALS.charAt(t),this.charToByteMap_[this.byteToCharMap_[t]]=t,this.byteToCharMapWebSafe_[t]=this.ENCODED_VALS_WEBSAFE.charAt(t),this.charToByteMapWebSafe_[this.byteToCharMapWebSafe_[t]]=t,t>=this.ENCODED_VALS_BASE.length&&(this.charToByteMap_[this.ENCODED_VALS_WEBSAFE.charAt(t)]=t,this.charToByteMapWebSafe_[this.ENCODED_VALS.charAt(t)]=t)}}},Gv=class extends Error{constructor(){super(...arguments),this.name="DecodeBase64StringError"}},uU=function(t){let e=ES(t);return bS.encodeByteArray(e,!0)},bu=function(t){return uU(t).replace(/\./g,"")},Kv=function(t){try{return bS.decodeString(t,!0)}catch(e){console.error("base64Decode failed: ",e)}return null};function lU(){if(typeof self<"u")return self;if(typeof window<"u")return window;if(typeof global<"u")return global;throw new Error("Unable to locate global object.")}var dU=()=>lU().__FIREBASE_DEFAULTS__,hU=()=>{if(typeof process>"u"||typeof process.env>"u")return;let t=process.env.__FIREBASE_DEFAULTS__;if(t)return JSON.parse(t)},fU=()=>{if(typeof document>"u")return;let t;try{t=document.cookie.match(/__FIREBASE_DEFAULTS__=([^;]+)/)}catch{return}let e=t&&Kv(t[1]);return e&&JSON.parse(e)},Mf=()=>{try{return dU()||hU()||fU()}catch(t){console.info(`Unable to get __FIREBASE_DEFAULTS__ due to: ${t}`);return}},Qv=t=>{var e,n;return(n=(e=Mf())===null||e===void 0?void 0:e.emulatorHosts)===null||n===void 0?void 0:n[t]},Nf=t=>{let e=Qv(t);if(!e)return;let n=e.lastIndexOf(":");if(n<=0||n+1===e.length)throw new Error(`Invalid host ${e} with no separate hostname and port!`);let r=parseInt(e.substring(n+1),10);return e[0]==="["?[e.substring(1,n-1),r]:[e.substring(0,n),r]},Yv=()=>{var t;return(t=Mf())===null||t===void 0?void 0:t.config},Zv=t=>{var e;return(e=Mf())===null||e===void 0?void 0:e[`_${t}`]};var xf=class{constructor(){this.reject=()=>{},this.resolve=()=>{},this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}wrapCallback(e){return(n,r)=>{n?this.reject(n):this.resolve(r),typeof e=="function"&&(this.promise.catch(()=>{}),e.length===1?e(n):e(n,r))}}};function Pf(t,e){if(t.uid)throw new Error('The "uid" field is no longer supported by mockUserToken. Please use "sub" instead for Firebase Auth User ID.');let n={alg:"none",type:"JWT"},r=e||"demo-project",i=t.iat||0,s=t.sub||t.user_id;if(!s)throw new Error("mockUserToken must contain 'sub' or 'user_id' field!");let o=Object.assign({iss:`https://securetoken.google.com/${r}`,aud:r,iat:i,exp:i+3600,auth_time:i,sub:s,user_id:s,firebase:{sign_in_provider:"custom",identities:{}}},t);return[bu(JSON.stringify(n)),bu(JSON.stringify(o)),""].join(".")}function yt(){return typeof navigator<"u"&&typeof navigator.userAgent=="string"?navigator.userAgent:""}function DS(){return typeof window<"u"&&!!(window.cordova||window.phonegap||window.PhoneGap)&&/ios|iphone|ipod|ipad|android|blackberry|iemobile/i.test(yt())}function pU(){var t;let e=(t=Mf())===null||t===void 0?void 0:t.forceEnvironment;if(e==="node")return!0;if(e==="browser")return!1;try{return Object.prototype.toString.call(global.process)==="[object process]"}catch{return!1}}function CS(){return typeof navigator<"u"&&navigator.userAgent==="Cloudflare-Workers"}function TS(){let t=typeof chrome=="object"?chrome.runtime:typeof browser=="object"?browser.runtime:void 0;return typeof t=="object"&&t.id!==void 0}function SS(){return typeof navigator=="object"&&navigator.product==="ReactNative"}function AS(){let t=yt();return t.indexOf("MSIE ")>=0||t.indexOf("Trident/")>=0}function RS(){return!pU()&&!!navigator.userAgent&&navigator.userAgent.includes("Safari")&&!navigator.userAgent.includes("Chrome")}function Jv(){try{return typeof indexedDB=="object"}catch{return!1}}function xS(){return new Promise((t,e)=>{try{let n=!0,r="validate-browser-context-for-indexeddb-analytics-module",i=self.indexedDB.open(r);i.onsuccess=()=>{i.result.close(),n||self.indexedDB.deleteDatabase(r),t(!0)},i.onupgradeneeded=()=>{n=!1},i.onerror=()=>{var s;e(((s=i.error)===null||s===void 0?void 0:s.message)||"")}}catch(n){e(n)}})}var gU="FirebaseError",Ft=class t extends Error{constructor(e,n,r){super(n),this.code=e,this.customData=r,this.name=gU,Object.setPrototypeOf(this,t.prototype),Error.captureStackTrace&&Error.captureStackTrace(this,Ur.prototype.create)}},Ur=class{constructor(e,n,r){this.service=e,this.serviceName=n,this.errors=r}create(e,...n){let r=n[0]||{},i=`${this.service}/${e}`,s=this.errors[e],o=s?mU(s,r):"Error",a=`${this.serviceName}: ${o} (${i}).`;return new Ft(i,a,r)}};function mU(t,e){return t.replace(yU,(n,r)=>{let i=e[r];return i!=null?String(i):`<${r}?>`})}var yU=/\{\$([^}]+)}/g;function MS(t){for(let e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}function Fs(t,e){if(t===e)return!0;let n=Object.keys(t),r=Object.keys(e);for(let i of n){if(!r.includes(i))return!1;let s=t[i],o=e[i];if(IS(s)&&IS(o)){if(!Fs(s,o))return!1}else if(s!==o)return!1}for(let i of r)if(!n.includes(i))return!1;return!0}function IS(t){return t!==null&&typeof t=="object"}function Du(t){let e=[];for(let[n,r]of Object.entries(t))Array.isArray(r)?r.forEach(i=>{e.push(encodeURIComponent(n)+"="+encodeURIComponent(i))}):e.push(encodeURIComponent(n)+"="+encodeURIComponent(r));return e.length?"&"+e.join("&"):""}function ba(t){let e={};return t.replace(/^\?/,"").split("&").forEach(r=>{if(r){let[i,s]=r.split("=");e[decodeURIComponent(i)]=decodeURIComponent(s)}}),e}function Da(t){let e=t.indexOf("?");if(!e)return"";let n=t.indexOf("#",e);return t.substring(e,n>0?n:void 0)}function NS(t,e){let n=new Wv(t,e);return n.subscribe.bind(n)}var Wv=class{constructor(e,n){this.observers=[],this.unsubscribes=[],this.observerCount=0,this.task=Promise.resolve(),this.finalized=!1,this.onNoObservers=n,this.task.then(()=>{e(this)}).catch(r=>{this.error(r)})}next(e){this.forEachObserver(n=>{n.next(e)})}error(e){this.forEachObserver(n=>{n.error(e)}),this.close(e)}complete(){this.forEachObserver(e=>{e.complete()}),this.close()}subscribe(e,n,r){let i;if(e===void 0&&n===void 0&&r===void 0)throw new Error("Missing Observer.");vU(e,["next","error","complete"])?i=e:i={next:e,error:n,complete:r},i.next===void 0&&(i.next=zv),i.error===void 0&&(i.error=zv),i.complete===void 0&&(i.complete=zv);let s=this.unsubscribeOne.bind(this,this.observers.length);return this.finalized&&this.task.then(()=>{try{this.finalError?i.error(this.finalError):i.complete()}catch{}}),this.observers.push(i),s}unsubscribeOne(e){this.observers===void 0||this.observers[e]===void 0||(delete this.observers[e],this.observerCount-=1,this.observerCount===0&&this.onNoObservers!==void 0&&this.onNoObservers(this))}forEachObserver(e){if(!this.finalized)for(let n=0;n<this.observers.length;n++)this.sendOne(n,e)}sendOne(e,n){this.task.then(()=>{if(this.observers!==void 0&&this.observers[e]!==void 0)try{n(this.observers[e])}catch(r){typeof console<"u"&&console.error&&console.error(r)}})}close(e){this.finalized||(this.finalized=!0,e!==void 0&&(this.finalError=e),this.task.then(()=>{this.observers=void 0,this.onNoObservers=void 0}))}};function vU(t,e){if(typeof t!="object"||t===null)return!1;for(let n of e)if(n in t&&typeof t[n]=="function")return!0;return!1}function zv(){}var QK=4*60*60*1e3;function Ve(t){return t&&t._delegate?t._delegate:t}var Bt=class{constructor(e,n,r){this.name=e,this.instanceFactory=n,this.type=r,this.multipleInstances=!1,this.serviceProps={},this.instantiationMode="LAZY",this.onInstanceCreated=null}setInstantiationMode(e){return this.instantiationMode=e,this}setMultipleInstances(e){return this.multipleInstances=e,this}setServiceProps(e){return this.serviceProps=e,this}setInstanceCreatedCallback(e){return this.onInstanceCreated=e,this}};var Ls="[DEFAULT]";var Xv=class{constructor(e,n){this.name=e,this.container=n,this.component=null,this.instances=new Map,this.instancesDeferred=new Map,this.instancesOptions=new Map,this.onInitCallbacks=new Map}get(e){let n=this.normalizeInstanceIdentifier(e);if(!this.instancesDeferred.has(n)){let r=new xf;if(this.instancesDeferred.set(n,r),this.isInitialized(n)||this.shouldAutoInitialize())try{let i=this.getOrInitializeService({instanceIdentifier:n});i&&r.resolve(i)}catch{}}return this.instancesDeferred.get(n).promise}getImmediate(e){var n;let r=this.normalizeInstanceIdentifier(e?.identifier),i=(n=e?.optional)!==null&&n!==void 0?n:!1;if(this.isInitialized(r)||this.shouldAutoInitialize())try{return this.getOrInitializeService({instanceIdentifier:r})}catch(s){if(i)return null;throw s}else{if(i)return null;throw Error(`Service ${this.name} is not available`)}}getComponent(){return this.component}setComponent(e){if(e.name!==this.name)throw Error(`Mismatching Component ${e.name} for Provider ${this.name}.`);if(this.component)throw Error(`Component for ${this.name} has already been provided`);if(this.component=e,!!this.shouldAutoInitialize()){if(_U(e))try{this.getOrInitializeService({instanceIdentifier:Ls})}catch{}for(let[n,r]of this.instancesDeferred.entries()){let i=this.normalizeInstanceIdentifier(n);try{let s=this.getOrInitializeService({instanceIdentifier:i});r.resolve(s)}catch{}}}}clearInstance(e=Ls){this.instancesDeferred.delete(e),this.instancesOptions.delete(e),this.instances.delete(e)}delete(){return C(this,null,function*(){let e=Array.from(this.instances.values());yield Promise.all([...e.filter(n=>"INTERNAL"in n).map(n=>n.INTERNAL.delete()),...e.filter(n=>"_delete"in n).map(n=>n._delete())])})}isComponentSet(){return this.component!=null}isInitialized(e=Ls){return this.instances.has(e)}getOptions(e=Ls){return this.instancesOptions.get(e)||{}}initialize(e={}){let{options:n={}}=e,r=this.normalizeInstanceIdentifier(e.instanceIdentifier);if(this.isInitialized(r))throw Error(`${this.name}(${r}) has already been initialized`);if(!this.isComponentSet())throw Error(`Component ${this.name} has not been registered yet`);let i=this.getOrInitializeService({instanceIdentifier:r,options:n});for(let[s,o]of this.instancesDeferred.entries()){let a=this.normalizeInstanceIdentifier(s);r===a&&o.resolve(i)}return i}onInit(e,n){var r;let i=this.normalizeInstanceIdentifier(n),s=(r=this.onInitCallbacks.get(i))!==null&&r!==void 0?r:new Set;s.add(e),this.onInitCallbacks.set(i,s);let o=this.instances.get(i);return o&&e(o,i),()=>{s.delete(e)}}invokeOnInitCallbacks(e,n){let r=this.onInitCallbacks.get(n);if(r)for(let i of r)try{i(e,n)}catch{}}getOrInitializeService({instanceIdentifier:e,options:n={}}){let r=this.instances.get(e);if(!r&&this.component&&(r=this.component.instanceFactory(this.container,{instanceIdentifier:wU(e),options:n}),this.instances.set(e,r),this.instancesOptions.set(e,n),this.invokeOnInitCallbacks(r,e),this.component.onInstanceCreated))try{this.component.onInstanceCreated(this.container,e,r)}catch{}return r||null}normalizeInstanceIdentifier(e=Ls){return this.component?this.component.multipleInstances?e:Ls:e}shouldAutoInitialize(){return!!this.component&&this.component.instantiationMode!=="EXPLICIT"}};function wU(t){return t===Ls?void 0:t}function _U(t){return t.instantiationMode==="EAGER"}var kf=class{constructor(e){this.name=e,this.providers=new Map}addComponent(e){let n=this.getProvider(e.name);if(n.isComponentSet())throw new Error(`Component ${e.name} has already been registered with ${this.name}`);n.setComponent(e)}addOrOverwriteComponent(e){this.getProvider(e.name).isComponentSet()&&this.providers.delete(e.name),this.addComponent(e)}getProvider(e){if(this.providers.has(e))return this.providers.get(e);let n=new Xv(e,this);return this.providers.set(e,n),n}getProviders(){return Array.from(this.providers.values())}};var IU=[],ve=function(t){return t[t.DEBUG=0]="DEBUG",t[t.VERBOSE=1]="VERBOSE",t[t.INFO=2]="INFO",t[t.WARN=3]="WARN",t[t.ERROR=4]="ERROR",t[t.SILENT=5]="SILENT",t}(ve||{}),EU={debug:ve.DEBUG,verbose:ve.VERBOSE,info:ve.INFO,warn:ve.WARN,error:ve.ERROR,silent:ve.SILENT},bU=ve.INFO,DU={[ve.DEBUG]:"log",[ve.VERBOSE]:"log",[ve.INFO]:"info",[ve.WARN]:"warn",[ve.ERROR]:"error"},CU=(t,e,...n)=>{if(e<t.logLevel)return;let r=new Date().toISOString(),i=DU[e];if(i)console[i](`[${r}]  ${t.name}:`,...n);else throw new Error(`Attempted to log a message with an invalid logType (value: ${e})`)},Fi=class{constructor(e){this.name=e,this._logLevel=bU,this._logHandler=CU,this._userLogHandler=null,IU.push(this)}get logLevel(){return this._logLevel}set logLevel(e){if(!(e in ve))throw new TypeError(`Invalid value "${e}" assigned to \`logLevel\``);this._logLevel=e}setLogLevel(e){this._logLevel=typeof e=="string"?EU[e]:e}get logHandler(){return this._logHandler}set logHandler(e){if(typeof e!="function")throw new TypeError("Value assigned to `logHandler` must be a function");this._logHandler=e}get userLogHandler(){return this._userLogHandler}set userLogHandler(e){this._userLogHandler=e}debug(...e){this._userLogHandler&&this._userLogHandler(this,ve.DEBUG,...e),this._logHandler(this,ve.DEBUG,...e)}log(...e){this._userLogHandler&&this._userLogHandler(this,ve.VERBOSE,...e),this._logHandler(this,ve.VERBOSE,...e)}info(...e){this._userLogHandler&&this._userLogHandler(this,ve.INFO,...e),this._logHandler(this,ve.INFO,...e)}warn(...e){this._userLogHandler&&this._userLogHandler(this,ve.WARN,...e),this._logHandler(this,ve.WARN,...e)}error(...e){this._userLogHandler&&this._userLogHandler(this,ve.ERROR,...e),this._logHandler(this,ve.ERROR,...e)}};var TU=(t,e)=>e.some(n=>t instanceof n),PS,kS;function SU(){return PS||(PS=[IDBDatabase,IDBObjectStore,IDBIndex,IDBCursor,IDBTransaction])}function AU(){return kS||(kS=[IDBCursor.prototype.advance,IDBCursor.prototype.continue,IDBCursor.prototype.continuePrimaryKey])}var OS=new WeakMap,tw=new WeakMap,FS=new WeakMap,ew=new WeakMap,rw=new WeakMap;function RU(t){let e=new Promise((n,r)=>{let i=()=>{t.removeEventListener("success",s),t.removeEventListener("error",o)},s=()=>{n(or(t.result)),i()},o=()=>{r(t.error),i()};t.addEventListener("success",s),t.addEventListener("error",o)});return e.then(n=>{n instanceof IDBCursor&&OS.set(n,t)}).catch(()=>{}),rw.set(e,t),e}function xU(t){if(tw.has(t))return;let e=new Promise((n,r)=>{let i=()=>{t.removeEventListener("complete",s),t.removeEventListener("error",o),t.removeEventListener("abort",o)},s=()=>{n(),i()},o=()=>{r(t.error||new DOMException("AbortError","AbortError")),i()};t.addEventListener("complete",s),t.addEventListener("error",o),t.addEventListener("abort",o)});tw.set(t,e)}var nw={get(t,e,n){if(t instanceof IDBTransaction){if(e==="done")return tw.get(t);if(e==="objectStoreNames")return t.objectStoreNames||FS.get(t);if(e==="store")return n.objectStoreNames[1]?void 0:n.objectStore(n.objectStoreNames[0])}return or(t[e])},set(t,e,n){return t[e]=n,!0},has(t,e){return t instanceof IDBTransaction&&(e==="done"||e==="store")?!0:e in t}};function LS(t){nw=t(nw)}function MU(t){return t===IDBDatabase.prototype.transaction&&!("objectStoreNames"in IDBTransaction.prototype)?function(e,...n){let r=t.call(Of(this),e,...n);return FS.set(r,e.sort?e.sort():[e]),or(r)}:AU().includes(t)?function(...e){return t.apply(Of(this),e),or(OS.get(this))}:function(...e){return or(t.apply(Of(this),e))}}function NU(t){return typeof t=="function"?MU(t):(t instanceof IDBTransaction&&xU(t),TU(t,SU())?new Proxy(t,nw):t)}function or(t){if(t instanceof IDBRequest)return RU(t);if(ew.has(t))return ew.get(t);let e=NU(t);return e!==t&&(ew.set(t,e),rw.set(e,t)),e}var Of=t=>rw.get(t);function US(t,e,{blocked:n,upgrade:r,blocking:i,terminated:s}={}){let o=indexedDB.open(t,e),a=or(o);return r&&o.addEventListener("upgradeneeded",u=>{r(or(o.result),u.oldVersion,u.newVersion,or(o.transaction),u)}),n&&o.addEventListener("blocked",u=>n(u.oldVersion,u.newVersion,u)),a.then(u=>{s&&u.addEventListener("close",()=>s()),i&&u.addEventListener("versionchange",d=>i(d.oldVersion,d.newVersion,d))}).catch(()=>{}),a}var PU=["get","getKey","getAll","getAllKeys","count"],kU=["put","add","delete","clear"],iw=new Map;function VS(t,e){if(!(t instanceof IDBDatabase&&!(e in t)&&typeof e=="string"))return;if(iw.get(e))return iw.get(e);let n=e.replace(/FromIndex$/,""),r=e!==n,i=kU.includes(n);if(!(n in(r?IDBIndex:IDBObjectStore).prototype)||!(i||PU.includes(n)))return;let s=function(o,...a){return C(this,null,function*(){let u=this.transaction(o,i?"readwrite":"readonly"),d=u.store;return r&&(d=d.index(a.shift())),(yield Promise.all([d[n](...a),i&&u.done]))[0]})};return iw.set(e,s),s}LS(t=>ge(B({},t),{get:(e,n,r)=>VS(e,n)||t.get(e,n,r),has:(e,n)=>!!VS(e,n)||t.has(e,n)}));var ow=class{constructor(e){this.container=e}getPlatformInfoString(){return this.container.getProviders().map(n=>{if(OU(n)){let r=n.getImmediate();return`${r.library}/${r.version}`}else return null}).filter(n=>n).join(" ")}};function OU(t){let e=t.getComponent();return e?.type==="VERSION"}var aw="@firebase/app",jS="0.10.13";var jr=new Fi("@firebase/app"),FU="@firebase/app-compat",LU="@firebase/analytics-compat",VU="@firebase/analytics",UU="@firebase/app-check-compat",jU="@firebase/app-check",BU="@firebase/auth",$U="@firebase/auth-compat",HU="@firebase/database",qU="@firebase/data-connect",zU="@firebase/database-compat",GU="@firebase/functions",WU="@firebase/functions-compat",KU="@firebase/installations",QU="@firebase/installations-compat",YU="@firebase/messaging",ZU="@firebase/messaging-compat",JU="@firebase/performance",XU="@firebase/performance-compat",ej="@firebase/remote-config",tj="@firebase/remote-config-compat",nj="@firebase/storage",rj="@firebase/storage-compat",ij="@firebase/firestore",sj="@firebase/vertexai-preview",oj="@firebase/firestore-compat",aj="firebase",cj="10.14.1";var cw="[DEFAULT]",uj={[aw]:"fire-core",[FU]:"fire-core-compat",[VU]:"fire-analytics",[LU]:"fire-analytics-compat",[jU]:"fire-app-check",[UU]:"fire-app-check-compat",[BU]:"fire-auth",[$U]:"fire-auth-compat",[HU]:"fire-rtdb",[qU]:"fire-data-connect",[zU]:"fire-rtdb-compat",[GU]:"fire-fn",[WU]:"fire-fn-compat",[KU]:"fire-iid",[QU]:"fire-iid-compat",[YU]:"fire-fcm",[ZU]:"fire-fcm-compat",[JU]:"fire-perf",[XU]:"fire-perf-compat",[ej]:"fire-rc",[tj]:"fire-rc-compat",[nj]:"fire-gcs",[rj]:"fire-gcs-compat",[ij]:"fire-fst",[oj]:"fire-fst-compat",[sj]:"fire-vertex","fire-js":"fire-js",[aj]:"fire-js-all"};var Cu=new Map,lj=new Map,uw=new Map;function BS(t,e){try{t.container.addComponent(e)}catch(n){jr.debug(`Component ${e.name} failed to register with FirebaseApp ${t.name}`,n)}}function ar(t){let e=t.name;if(uw.has(e))return jr.debug(`There were multiple attempts to register component ${e}.`),!1;uw.set(e,t);for(let n of Cu.values())BS(n,t);for(let n of lj.values())BS(n,t);return!0}function Vs(t,e){let n=t.container.getProvider("heartbeat").getImmediate({optional:!0});return n&&n.triggerHeartbeat(),t.container.getProvider(e)}function xn(t){return t.settings!==void 0}var dj={"no-app":"No Firebase App '{$appName}' has been created - call initializeApp() first","bad-app-name":"Illegal App name: '{$appName}'","duplicate-app":"Firebase App named '{$appName}' already exists with different options or config","app-deleted":"Firebase App named '{$appName}' already deleted","server-app-deleted":"Firebase Server App has been deleted","no-options":"Need to provide options, when not being deployed to hosting via source.","invalid-app-argument":"firebase.{$appName}() takes either no argument or a Firebase App instance.","invalid-log-argument":"First argument to `onLog` must be null or a function.","idb-open":"Error thrown when opening IndexedDB. Original error: {$originalErrorMessage}.","idb-get":"Error thrown when reading from IndexedDB. Original error: {$originalErrorMessage}.","idb-set":"Error thrown when writing to IndexedDB. Original error: {$originalErrorMessage}.","idb-delete":"Error thrown when deleting from IndexedDB. Original error: {$originalErrorMessage}.","finalization-registry-not-supported":"FirebaseServerApp deleteOnDeref field defined but the JS runtime does not support FinalizationRegistry.","invalid-server-app-environment":"FirebaseServerApp is not for use in browser environments."},Li=new Ur("app","Firebase",dj);var lw=class{constructor(e,n,r){this._isDeleted=!1,this._options=Object.assign({},e),this._config=Object.assign({},n),this._name=n.name,this._automaticDataCollectionEnabled=n.automaticDataCollectionEnabled,this._container=r,this.container.addComponent(new Bt("app",()=>this,"PUBLIC"))}get automaticDataCollectionEnabled(){return this.checkDestroyed(),this._automaticDataCollectionEnabled}set automaticDataCollectionEnabled(e){this.checkDestroyed(),this._automaticDataCollectionEnabled=e}get name(){return this.checkDestroyed(),this._name}get options(){return this.checkDestroyed(),this._options}get config(){return this.checkDestroyed(),this._config}get container(){return this._container}get isDeleted(){return this._isDeleted}set isDeleted(e){this._isDeleted=e}checkDestroyed(){if(this.isDeleted)throw Li.create("app-deleted",{appName:this._name})}};var cr=cj;function fw(t,e={}){let n=t;typeof e!="object"&&(e={name:e});let r=Object.assign({name:cw,automaticDataCollectionEnabled:!1},e),i=r.name;if(typeof i!="string"||!i)throw Li.create("bad-app-name",{appName:String(i)});if(n||(n=Yv()),!n)throw Li.create("no-options");let s=Cu.get(i);if(s){if(Fs(n,s.options)&&Fs(r,s.config))return s;throw Li.create("duplicate-app",{appName:i})}let o=new kf(i);for(let u of uw.values())o.addComponent(u);let a=new lw(n,r,o);return Cu.set(i,a),a}function Vi(t=cw){let e=Cu.get(t);if(!e&&t===cw&&Yv())return fw();if(!e)throw Li.create("no-app",{appName:t});return e}function Ff(){return Array.from(Cu.values())}function $e(t,e,n){var r;let i=(r=uj[t])!==null&&r!==void 0?r:t;n&&(i+=`-${n}`);let s=i.match(/\s|\//),o=e.match(/\s|\//);if(s||o){let a=[`Unable to register library "${i}" with version "${e}":`];s&&a.push(`library name "${i}" contains illegal characters (whitespace or "/")`),s&&o&&a.push("and"),o&&a.push(`version name "${e}" contains illegal characters (whitespace or "/")`),jr.warn(a.join(" "));return}ar(new Bt(`${i}-version`,()=>({library:i,version:e}),"VERSION"))}var hj="firebase-heartbeat-database",fj=1,Tu="firebase-heartbeat-store",sw=null;function zS(){return sw||(sw=US(hj,fj,{upgrade:(t,e)=>{switch(e){case 0:try{t.createObjectStore(Tu)}catch(n){console.warn(n)}}}}).catch(t=>{throw Li.create("idb-open",{originalErrorMessage:t.message})})),sw}function pj(t){return C(this,null,function*(){try{let n=(yield zS()).transaction(Tu),r=yield n.objectStore(Tu).get(GS(t));return yield n.done,r}catch(e){if(e instanceof Ft)jr.warn(e.message);else{let n=Li.create("idb-get",{originalErrorMessage:e?.message});jr.warn(n.message)}}})}function $S(t,e){return C(this,null,function*(){try{let r=(yield zS()).transaction(Tu,"readwrite");yield r.objectStore(Tu).put(e,GS(t)),yield r.done}catch(n){if(n instanceof Ft)jr.warn(n.message);else{let r=Li.create("idb-set",{originalErrorMessage:n?.message});jr.warn(r.message)}}})}function GS(t){return`${t.name}!${t.options.appId}`}var gj=1024,mj=30*24*60*60*1e3,dw=class{constructor(e){this.container=e,this._heartbeatsCache=null;let n=this.container.getProvider("app").getImmediate();this._storage=new hw(n),this._heartbeatsCachePromise=this._storage.read().then(r=>(this._heartbeatsCache=r,r))}triggerHeartbeat(){return C(this,null,function*(){var e,n;try{let i=this.container.getProvider("platform-logger").getImmediate().getPlatformInfoString(),s=HS();return((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null&&(this._heartbeatsCache=yield this._heartbeatsCachePromise,((n=this._heartbeatsCache)===null||n===void 0?void 0:n.heartbeats)==null)||this._heartbeatsCache.lastSentHeartbeatDate===s||this._heartbeatsCache.heartbeats.some(o=>o.date===s)?void 0:(this._heartbeatsCache.heartbeats.push({date:s,agent:i}),this._heartbeatsCache.heartbeats=this._heartbeatsCache.heartbeats.filter(o=>{let a=new Date(o.date).valueOf();return Date.now()-a<=mj}),this._storage.overwrite(this._heartbeatsCache))}catch(r){jr.warn(r)}})}getHeartbeatsHeader(){return C(this,null,function*(){var e;try{if(this._heartbeatsCache===null&&(yield this._heartbeatsCachePromise),((e=this._heartbeatsCache)===null||e===void 0?void 0:e.heartbeats)==null||this._heartbeatsCache.heartbeats.length===0)return"";let n=HS(),{heartbeatsToSend:r,unsentEntries:i}=yj(this._heartbeatsCache.heartbeats),s=bu(JSON.stringify({version:2,heartbeats:r}));return this._heartbeatsCache.lastSentHeartbeatDate=n,i.length>0?(this._heartbeatsCache.heartbeats=i,yield this._storage.overwrite(this._heartbeatsCache)):(this._heartbeatsCache.heartbeats=[],this._storage.overwrite(this._heartbeatsCache)),s}catch(n){return jr.warn(n),""}})}};function HS(){return new Date().toISOString().substring(0,10)}function yj(t,e=gj){let n=[],r=t.slice();for(let i of t){let s=n.find(o=>o.agent===i.agent);if(s){if(s.dates.push(i.date),qS(n)>e){s.dates.pop();break}}else if(n.push({agent:i.agent,dates:[i.date]}),qS(n)>e){n.pop();break}r=r.slice(1)}return{heartbeatsToSend:n,unsentEntries:r}}var hw=class{constructor(e){this.app=e,this._canUseIndexedDBPromise=this.runIndexedDBEnvironmentCheck()}runIndexedDBEnvironmentCheck(){return C(this,null,function*(){return Jv()?xS().then(()=>!0).catch(()=>!1):!1})}read(){return C(this,null,function*(){if(yield this._canUseIndexedDBPromise){let n=yield pj(this.app);return n?.heartbeats?n:{heartbeats:[]}}else return{heartbeats:[]}})}overwrite(e){return C(this,null,function*(){var n;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return $S(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:e.heartbeats})}else return})}add(e){return C(this,null,function*(){var n;if(yield this._canUseIndexedDBPromise){let i=yield this.read();return $S(this.app,{lastSentHeartbeatDate:(n=e.lastSentHeartbeatDate)!==null&&n!==void 0?n:i.lastSentHeartbeatDate,heartbeats:[...i.heartbeats,...e.heartbeats]})}else return})}};function qS(t){return bu(JSON.stringify({version:2,heartbeats:t})).length}function vj(t){ar(new Bt("platform-logger",e=>new ow(e),"PRIVATE")),ar(new Bt("heartbeat",e=>new dw(e),"PRIVATE")),$e(aw,jS,t),$e(aw,jS,"esm2017"),$e("fire-js","")}vj("");var wj="firebase",_j="10.14.1";$e(wj,_j,"app");var Ui=new Sr("ANGULARFIRE2_VERSION");function Su(t,e,n){if(e){if(e.length===1)return e[0];let s=e.filter(o=>o.app===n);if(s.length===1)return s[0]}return n.container.getProvider(t).getImmediate({optional:!0})}var Ta=(t,e)=>{let n=e?[e]:Ff(),r=[];return n.forEach(i=>{i.container.getProvider(t).instances.forEach(o=>{r.includes(o)||r.push(o)})}),r},js=class{constructor(){return Ta(Ij)}},Ij="app-check";function Ca(){}var Lf=class{zone;delegate;constructor(e,n=jg){this.zone=e,this.delegate=n}now(){return this.delegate.now()}schedule(e,n,r){let i=this.zone,s=function(o){i.runGuarded(()=>{e.apply(this,[o])})};return this.delegate.schedule(s,n,r)}},pw=class{zone;task=null;constructor(e){this.zone=e}call(e,n){let r=this.unscheduleTask.bind(this);return this.task=this.zone.run(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Ca,{},Ca,Ca)),n.pipe(lt({next:r,complete:r,error:r})).subscribe(e).add(r)}unscheduleTask(){setTimeout(()=>{this.task!=null&&this.task.state==="scheduled"&&(this.task.invoke(),this.task=null)},10)}},Bs=(()=>{class t{ngZone;outsideAngular;insideAngular;constructor(n){this.ngZone=n,this.outsideAngular=n.runOutsideAngular(()=>new Lf(Zone.current)),this.insideAngular=n.run(()=>new Lf(Zone.current,Ug)),globalThis.\u0275AngularFireScheduler||=this}static \u0275fac=function(r){return new(r||t)(ie(Re))};static \u0275prov=Y({token:t,factory:t.\u0275fac,providedIn:"root"})}return t})();function Vf(){let t=globalThis.\u0275AngularFireScheduler;if(!t)throw new Error(`Either AngularFireModule has not been provided in your AppModule (this can be done manually or implictly using
provideFirebaseApp) or you're calling an AngularFire method outside of an NgModule (which is not supported).`);return t}function Ej(t){return Vf().ngZone.runOutsideAngular(()=>t())}function Us(t){return Vf().ngZone.run(()=>t())}function bj(t){return Dj(Vf())(t)}function Dj(t){return function(n){return n=n.lift(new pw(t.ngZone)),n.pipe(wi(t.outsideAngular),vi(t.insideAngular))}}var Cj=(t,e)=>function(){let r=arguments;return e&&setTimeout(()=>{e.state==="scheduled"&&e.invoke()},10),Us(()=>t.apply(void 0,r))},We=(t,e)=>function(){let n,r=arguments;for(let s=0;s<arguments.length;s++)typeof r[s]=="function"&&(e&&(n||=Us(()=>Zone.current.scheduleMacroTask("firebaseZoneBlock",Ca,{},Ca,Ca))),r[s]=Cj(r[s],n));let i=Ej(()=>t.apply(this,r));if(!e)if(i instanceof me){let s=Vf();return i.pipe(wi(s.outsideAngular),vi(s.insideAngular))}else return Us(()=>i);return i instanceof me?i.pipe(bj):i instanceof Promise?Us(()=>new Promise((s,o)=>i.then(a=>Us(()=>s(a)),a=>Us(()=>o(a))))):typeof i=="function"&&n?function(){return setTimeout(()=>{n&&n.state==="scheduled"&&n.invoke()},10),i.apply(this,arguments)}:Us(()=>i)};var Br=class{constructor(e){return e}},$s=class{constructor(){return Ff()}};function Tj(t){return t&&t.length===1?t[0]:new Br(Vi())}var gw=new W("angularfire2._apps"),Sj={provide:Br,useFactory:Tj,deps:[[new St,gw]]},Aj={provide:$s,deps:[[new St,gw]]};function Rj(t){return(e,n)=>{let r=n.get(er);$e("angularfire",Ui.full,"core"),$e("angularfire",Ui.full,"app"),$e("angular",pT.full,r.toString());let i=e.runOutsideAngular(()=>t(n));return new Br(i)}}function O7(t,...e){return Yn([Sj,Aj,{provide:gw,useFactory:Rj(t),multi:!0,deps:[Re,Et,Bs,...e]}])}var F7=We(fw,!0);function uA(){return{"dependent-sdk-initialized-before-auth":"Another Firebase SDK was initialized and is trying to use Auth before Auth is initialized. Please be sure to call `initializeAuth` or `getAuth` before starting any other Firebase SDK."}}var lA=uA,dA=new Ur("auth","Firebase",uA());var qf=new Fi("@firebase/auth");function xj(t,...e){qf.logLevel<=ve.WARN&&qf.warn(`Auth (${cr}): ${t}`,...e)}function jf(t,...e){qf.logLevel<=ve.ERROR&&qf.error(`Auth (${cr}): ${t}`,...e)}function lr(t,...e){throw Vw(t,...e)}function Hs(t,...e){return Vw(t,...e)}function hA(t,e,n){let r=Object.assign(Object.assign({},lA()),{[e]:n});return new Ur("auth","Firebase",r).create(e,{appName:t.name})}function qr(t){return hA(t,"operation-not-supported-in-this-environment","Operations that alter the current user are not supported in conjunction with FirebaseServerApp")}function Vw(t,...e){if(typeof t!="string"){let n=e[0],r=[...e.slice(1)];return r[0]&&(r[0].appName=t.name),t._errorFactory.create(n,...r)}return dA.create(t,...e)}function X(t,e,...n){if(!t)throw Vw(e,...n)}function $r(t){let e="INTERNAL ASSERTION FAILED: "+t;throw jf(e),new Error(e)}function Bi(t,e){t||$r(e)}function ww(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.href)||""}function Mj(){return WS()==="http:"||WS()==="https:"}function WS(){var t;return typeof self<"u"&&((t=self.location)===null||t===void 0?void 0:t.protocol)||null}function Nj(){return typeof navigator<"u"&&navigator&&"onLine"in navigator&&typeof navigator.onLine=="boolean"&&(Mj()||TS()||"connection"in navigator)?navigator.onLine:!0}function Pj(){if(typeof navigator>"u")return null;let t=navigator;return t.languages&&t.languages[0]||t.language||null}var qs=class{constructor(e,n){this.shortDelay=e,this.longDelay=n,Bi(n>e,"Short delay should be less than long delay!"),this.isMobile=DS()||SS()}get(){return Nj()?this.isMobile?this.longDelay:this.shortDelay:Math.min(5e3,this.shortDelay)}};function Uw(t,e){Bi(t.emulator,"Emulator should always be set here");let{url:n}=t.emulator;return e?`${n}${e.startsWith("/")?e.slice(1):e}`:n}var zf=class{static initialize(e,n,r){this.fetchImpl=e,n&&(this.headersImpl=n),r&&(this.responseImpl=r)}static fetch(){if(this.fetchImpl)return this.fetchImpl;if(typeof self<"u"&&"fetch"in self)return self.fetch;if(typeof globalThis<"u"&&globalThis.fetch)return globalThis.fetch;if(typeof fetch<"u")return fetch;$r("Could not find fetch implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static headers(){if(this.headersImpl)return this.headersImpl;if(typeof self<"u"&&"Headers"in self)return self.Headers;if(typeof globalThis<"u"&&globalThis.Headers)return globalThis.Headers;if(typeof Headers<"u")return Headers;$r("Could not find Headers implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}static response(){if(this.responseImpl)return this.responseImpl;if(typeof self<"u"&&"Response"in self)return self.Response;if(typeof globalThis<"u"&&globalThis.Response)return globalThis.Response;if(typeof Response<"u")return Response;$r("Could not find Response implementation, make sure you call FetchProvider.initialize() with an appropriate polyfill")}};var kj={CREDENTIAL_MISMATCH:"custom-token-mismatch",MISSING_CUSTOM_TOKEN:"internal-error",INVALID_IDENTIFIER:"invalid-email",MISSING_CONTINUE_URI:"internal-error",INVALID_PASSWORD:"wrong-password",MISSING_PASSWORD:"missing-password",INVALID_LOGIN_CREDENTIALS:"invalid-credential",EMAIL_EXISTS:"email-already-in-use",PASSWORD_LOGIN_DISABLED:"operation-not-allowed",INVALID_IDP_RESPONSE:"invalid-credential",INVALID_PENDING_TOKEN:"invalid-credential",FEDERATED_USER_ID_ALREADY_LINKED:"credential-already-in-use",MISSING_REQ_TYPE:"internal-error",EMAIL_NOT_FOUND:"user-not-found",RESET_PASSWORD_EXCEED_LIMIT:"too-many-requests",EXPIRED_OOB_CODE:"expired-action-code",INVALID_OOB_CODE:"invalid-action-code",MISSING_OOB_CODE:"internal-error",CREDENTIAL_TOO_OLD_LOGIN_AGAIN:"requires-recent-login",INVALID_ID_TOKEN:"invalid-user-token",TOKEN_EXPIRED:"user-token-expired",USER_NOT_FOUND:"user-token-expired",TOO_MANY_ATTEMPTS_TRY_LATER:"too-many-requests",PASSWORD_DOES_NOT_MEET_REQUIREMENTS:"password-does-not-meet-requirements",INVALID_CODE:"invalid-verification-code",INVALID_SESSION_INFO:"invalid-verification-id",INVALID_TEMPORARY_PROOF:"invalid-credential",MISSING_SESSION_INFO:"missing-verification-id",SESSION_EXPIRED:"code-expired",MISSING_ANDROID_PACKAGE_NAME:"missing-android-pkg-name",UNAUTHORIZED_DOMAIN:"unauthorized-continue-uri",INVALID_OAUTH_CLIENT_ID:"invalid-oauth-client-id",ADMIN_ONLY_OPERATION:"admin-restricted-operation",INVALID_MFA_PENDING_CREDENTIAL:"invalid-multi-factor-session",MFA_ENROLLMENT_NOT_FOUND:"multi-factor-info-not-found",MISSING_MFA_ENROLLMENT_ID:"missing-multi-factor-info",MISSING_MFA_PENDING_CREDENTIAL:"missing-multi-factor-session",SECOND_FACTOR_EXISTS:"second-factor-already-in-use",SECOND_FACTOR_LIMIT_EXCEEDED:"maximum-second-factor-count-exceeded",BLOCKING_FUNCTION_ERROR_RESPONSE:"internal-error",RECAPTCHA_NOT_ENABLED:"recaptcha-not-enabled",MISSING_RECAPTCHA_TOKEN:"missing-recaptcha-token",INVALID_RECAPTCHA_TOKEN:"invalid-recaptcha-token",INVALID_RECAPTCHA_ACTION:"invalid-recaptcha-action",MISSING_CLIENT_TYPE:"missing-client-type",MISSING_RECAPTCHA_VERSION:"missing-recaptcha-version",INVALID_RECAPTCHA_VERSION:"invalid-recaptcha-version",INVALID_REQ_TYPE:"invalid-req-type"};var Oj=new qs(3e4,6e4);function zr(t,e){return t.tenantId&&!e.tenantId?Object.assign(Object.assign({},e),{tenantId:t.tenantId}):e}function Gr(s,o,a,u){return C(this,arguments,function*(t,e,n,r,i={}){return fA(t,i,()=>C(this,null,function*(){let d={},p={};r&&(e==="GET"?p=r:d={body:JSON.stringify(r)});let g=Du(Object.assign({key:t.config.apiKey},p)).slice(1),_=yield t._getAdditionalHeaders();_["Content-Type"]="application/json",t.languageCode&&(_["X-Firebase-Locale"]=t.languageCode);let E=Object.assign({method:e,headers:_},d);return CS()||(E.referrerPolicy="no-referrer"),zf.fetch()(pA(t,t.config.apiHost,n,g),E)}))})}function fA(t,e,n){return C(this,null,function*(){t._canInitEmulator=!1;let r=Object.assign(Object.assign({},kj),e);try{let i=new _w(t),s=yield Promise.race([n(),i.promise]);i.clearNetworkTimeout();let o=yield s.json();if("needConfirmation"in o)throw Uf(t,"account-exists-with-different-credential",o);if(s.ok&&!("errorMessage"in o))return o;{let a=s.ok?o.errorMessage:o.error.message,[u,d]=a.split(" : ");if(u==="FEDERATED_USER_ID_ALREADY_LINKED")throw Uf(t,"credential-already-in-use",o);if(u==="EMAIL_EXISTS")throw Uf(t,"email-already-in-use",o);if(u==="USER_DISABLED")throw Uf(t,"user-disabled",o);let p=r[u]||u.toLowerCase().replace(/[_\s]+/g,"-");if(d)throw hA(t,p,d);lr(t,p)}}catch(i){if(i instanceof Ft)throw i;lr(t,"network-request-failed",{message:String(i)})}})}function Ou(s,o,a,u){return C(this,arguments,function*(t,e,n,r,i={}){let d=yield Gr(t,e,n,r,i);return"mfaPendingCredential"in d&&lr(t,"multi-factor-auth-required",{_serverResponse:d}),d})}function pA(t,e,n,r){let i=`${e}${n}?${r}`;return t.config.emulator?Uw(t.config,i):`${t.config.apiScheme}://${i}`}function Fj(t){switch(t){case"ENFORCE":return"ENFORCE";case"AUDIT":return"AUDIT";case"OFF":return"OFF";default:return"ENFORCEMENT_STATE_UNSPECIFIED"}}var _w=class{constructor(e){this.auth=e,this.timer=null,this.promise=new Promise((n,r)=>{this.timer=setTimeout(()=>r(Hs(this.auth,"network-request-failed")),Oj.get())})}clearNetworkTimeout(){clearTimeout(this.timer)}};function Uf(t,e,n){let r={appName:t.name};n.email&&(r.email=n.email),n.phoneNumber&&(r.phoneNumber=n.phoneNumber);let i=Hs(t,e,r);return i.customData._tokenResponse=n,i}function KS(t){return t!==void 0&&t.enterprise!==void 0}var Iw=class{constructor(e){if(this.siteKey="",this.recaptchaEnforcementState=[],e.recaptchaKey===void 0)throw new Error("recaptchaKey undefined");this.siteKey=e.recaptchaKey.split("/")[3],this.recaptchaEnforcementState=e.recaptchaEnforcementState}getProviderEnforcementState(e){if(!this.recaptchaEnforcementState||this.recaptchaEnforcementState.length===0)return null;for(let n of this.recaptchaEnforcementState)if(n.provider&&n.provider===e)return Fj(n.enforcementState);return null}isProviderEnabled(e){return this.getProviderEnforcementState(e)==="ENFORCE"||this.getProviderEnforcementState(e)==="AUDIT"}};function Lj(t,e){return C(this,null,function*(){return Gr(t,"GET","/v2/recaptchaConfig",zr(t,e))})}function Vj(t,e){return C(this,null,function*(){return Gr(t,"POST","/v1/accounts:delete",e)})}function gA(t,e){return C(this,null,function*(){return Gr(t,"POST","/v1/accounts:lookup",e)})}function Au(t){if(t)try{let e=new Date(Number(t));if(!isNaN(e.getTime()))return e.toUTCString()}catch{}}function jw(t,e=!1){return C(this,null,function*(){let n=Ve(t),r=yield n.getIdToken(e),i=Bw(r);X(i&&i.exp&&i.auth_time&&i.iat,n.auth,"internal-error");let s=typeof i.firebase=="object"?i.firebase:void 0,o=s?.sign_in_provider;return{claims:i,token:r,authTime:Au(mw(i.auth_time)),issuedAtTime:Au(mw(i.iat)),expirationTime:Au(mw(i.exp)),signInProvider:o||null,signInSecondFactor:s?.sign_in_second_factor||null}})}function mw(t){return Number(t)*1e3}function Bw(t){let[e,n,r]=t.split(".");if(e===void 0||n===void 0||r===void 0)return jf("JWT malformed, contained fewer than 3 sections"),null;try{let i=Kv(n);return i?JSON.parse(i):(jf("Failed to decode base64 JWT payload"),null)}catch(i){return jf("Caught error parsing JWT payload as JSON",i?.toString()),null}}function QS(t){let e=Bw(t);return X(e,"internal-error"),X(typeof e.exp<"u","internal-error"),X(typeof e.iat<"u","internal-error"),Number(e.exp)-Number(e.iat)}function xu(t,e,n=!1){return C(this,null,function*(){if(n)return e;try{return yield e}catch(r){throw r instanceof Ft&&Uj(r)&&t.auth.currentUser===t&&(yield t.auth.signOut()),r}})}function Uj({code:t}){return t==="auth/user-disabled"||t==="auth/user-token-expired"}var Ew=class{constructor(e){this.user=e,this.isRunning=!1,this.timerId=null,this.errorBackoff=3e4}_start(){this.isRunning||(this.isRunning=!0,this.schedule())}_stop(){this.isRunning&&(this.isRunning=!1,this.timerId!==null&&clearTimeout(this.timerId))}getInterval(e){var n;if(e){let r=this.errorBackoff;return this.errorBackoff=Math.min(this.errorBackoff*2,96e4),r}else{this.errorBackoff=3e4;let i=((n=this.user.stsTokenManager.expirationTime)!==null&&n!==void 0?n:0)-Date.now()-3e5;return Math.max(0,i)}}schedule(e=!1){if(!this.isRunning)return;let n=this.getInterval(e);this.timerId=setTimeout(()=>C(this,null,function*(){yield this.iteration()}),n)}iteration(){return C(this,null,function*(){try{yield this.user.getIdToken(!0)}catch(e){e?.code==="auth/network-request-failed"&&this.schedule(!0);return}this.schedule()})}};var Mu=class{constructor(e,n){this.createdAt=e,this.lastLoginAt=n,this._initializeTime()}_initializeTime(){this.lastSignInTime=Au(this.lastLoginAt),this.creationTime=Au(this.createdAt)}_copy(e){this.createdAt=e.createdAt,this.lastLoginAt=e.lastLoginAt,this._initializeTime()}toJSON(){return{createdAt:this.createdAt,lastLoginAt:this.lastLoginAt}}};function Gf(t){return C(this,null,function*(){var e;let n=t.auth,r=yield t.getIdToken(),i=yield xu(t,gA(n,{idToken:r}));X(i?.users.length,n,"internal-error");let s=i.users[0];t._notifyReloadListener(s);let o=!((e=s.providerUserInfo)===null||e===void 0)&&e.length?mA(s.providerUserInfo):[],a=jj(t.providerData,o),u=t.isAnonymous,d=!(t.email&&s.passwordHash)&&!a?.length,p=u?d:!1,g={uid:s.localId,displayName:s.displayName||null,photoURL:s.photoUrl||null,email:s.email||null,emailVerified:s.emailVerified||!1,phoneNumber:s.phoneNumber||null,tenantId:s.tenantId||null,providerData:a,metadata:new Mu(s.createdAt,s.lastLoginAt),isAnonymous:p};Object.assign(t,g)})}function $w(t){return C(this,null,function*(){let e=Ve(t);yield Gf(e),yield e.auth._persistUserIfCurrent(e),e.auth._notifyListenersIfCurrent(e)})}function jj(t,e){return[...t.filter(r=>!e.some(i=>i.providerId===r.providerId)),...e]}function mA(t){return t.map(e=>{var{providerId:n}=e,r=Bg(e,["providerId"]);return{providerId:n,uid:r.rawId||"",displayName:r.displayName||null,email:r.email||null,phoneNumber:r.phoneNumber||null,photoURL:r.photoUrl||null}})}function Bj(t,e){return C(this,null,function*(){let n=yield fA(t,{},()=>C(this,null,function*(){let r=Du({grant_type:"refresh_token",refresh_token:e}).slice(1),{tokenApiHost:i,apiKey:s}=t.config,o=pA(t,i,"/v1/token",`key=${s}`),a=yield t._getAdditionalHeaders();return a["Content-Type"]="application/x-www-form-urlencoded",zf.fetch()(o,{method:"POST",headers:a,body:r})}));return{accessToken:n.access_token,expiresIn:n.expires_in,refreshToken:n.refresh_token}})}function $j(t,e){return C(this,null,function*(){return Gr(t,"POST","/v2/accounts:revokeToken",zr(t,e))})}var Ru=class t{constructor(){this.refreshToken=null,this.accessToken=null,this.expirationTime=null}get isExpired(){return!this.expirationTime||Date.now()>this.expirationTime-3e4}updateFromServerResponse(e){X(e.idToken,"internal-error"),X(typeof e.idToken<"u","internal-error"),X(typeof e.refreshToken<"u","internal-error");let n="expiresIn"in e&&typeof e.expiresIn<"u"?Number(e.expiresIn):QS(e.idToken);this.updateTokensAndExpiration(e.idToken,e.refreshToken,n)}updateFromIdToken(e){X(e.length!==0,"internal-error");let n=QS(e);this.updateTokensAndExpiration(e,null,n)}getToken(e,n=!1){return C(this,null,function*(){return!n&&this.accessToken&&!this.isExpired?this.accessToken:(X(this.refreshToken,e,"user-token-expired"),this.refreshToken?(yield this.refresh(e,this.refreshToken),this.accessToken):null)})}clearRefreshToken(){this.refreshToken=null}refresh(e,n){return C(this,null,function*(){let{accessToken:r,refreshToken:i,expiresIn:s}=yield Bj(e,n);this.updateTokensAndExpiration(r,i,Number(s))})}updateTokensAndExpiration(e,n,r){this.refreshToken=n||null,this.accessToken=e||null,this.expirationTime=Date.now()+r*1e3}static fromJSON(e,n){let{refreshToken:r,accessToken:i,expirationTime:s}=n,o=new t;return r&&(X(typeof r=="string","internal-error",{appName:e}),o.refreshToken=r),i&&(X(typeof i=="string","internal-error",{appName:e}),o.accessToken=i),s&&(X(typeof s=="number","internal-error",{appName:e}),o.expirationTime=s),o}toJSON(){return{refreshToken:this.refreshToken,accessToken:this.accessToken,expirationTime:this.expirationTime}}_assign(e){this.accessToken=e.accessToken,this.refreshToken=e.refreshToken,this.expirationTime=e.expirationTime}_clone(){return Object.assign(new t,this.toJSON())}_performRefresh(){return $r("not implemented")}};function ji(t,e){X(typeof t=="string"||typeof t>"u","internal-error",{appName:e})}var Sa=class t{constructor(e){var{uid:n,auth:r,stsTokenManager:i}=e,s=Bg(e,["uid","auth","stsTokenManager"]);this.providerId="firebase",this.proactiveRefresh=new Ew(this),this.reloadUserInfo=null,this.reloadListener=null,this.uid=n,this.auth=r,this.stsTokenManager=i,this.accessToken=i.accessToken,this.displayName=s.displayName||null,this.email=s.email||null,this.emailVerified=s.emailVerified||!1,this.phoneNumber=s.phoneNumber||null,this.photoURL=s.photoURL||null,this.isAnonymous=s.isAnonymous||!1,this.tenantId=s.tenantId||null,this.providerData=s.providerData?[...s.providerData]:[],this.metadata=new Mu(s.createdAt||void 0,s.lastLoginAt||void 0)}getIdToken(e){return C(this,null,function*(){let n=yield xu(this,this.stsTokenManager.getToken(this.auth,e));return X(n,this.auth,"internal-error"),this.accessToken!==n&&(this.accessToken=n,yield this.auth._persistUserIfCurrent(this),this.auth._notifyListenersIfCurrent(this)),n})}getIdTokenResult(e){return jw(this,e)}reload(){return $w(this)}_assign(e){this!==e&&(X(this.uid===e.uid,this.auth,"internal-error"),this.displayName=e.displayName,this.photoURL=e.photoURL,this.email=e.email,this.emailVerified=e.emailVerified,this.phoneNumber=e.phoneNumber,this.isAnonymous=e.isAnonymous,this.tenantId=e.tenantId,this.providerData=e.providerData.map(n=>Object.assign({},n)),this.metadata._copy(e.metadata),this.stsTokenManager._assign(e.stsTokenManager))}_clone(e){let n=new t(Object.assign(Object.assign({},this),{auth:e,stsTokenManager:this.stsTokenManager._clone()}));return n.metadata._copy(this.metadata),n}_onReload(e){X(!this.reloadListener,this.auth,"internal-error"),this.reloadListener=e,this.reloadUserInfo&&(this._notifyReloadListener(this.reloadUserInfo),this.reloadUserInfo=null)}_notifyReloadListener(e){this.reloadListener?this.reloadListener(e):this.reloadUserInfo=e}_startProactiveRefresh(){this.proactiveRefresh._start()}_stopProactiveRefresh(){this.proactiveRefresh._stop()}_updateTokensIfNecessary(e,n=!1){return C(this,null,function*(){let r=!1;e.idToken&&e.idToken!==this.stsTokenManager.accessToken&&(this.stsTokenManager.updateFromServerResponse(e),r=!0),n&&(yield Gf(this)),yield this.auth._persistUserIfCurrent(this),r&&this.auth._notifyListenersIfCurrent(this)})}delete(){return C(this,null,function*(){if(xn(this.auth.app))return Promise.reject(qr(this.auth));let e=yield this.getIdToken();return yield xu(this,Vj(this.auth,{idToken:e})),this.stsTokenManager.clearRefreshToken(),this.auth.signOut()})}toJSON(){return Object.assign(Object.assign({uid:this.uid,email:this.email||void 0,emailVerified:this.emailVerified,displayName:this.displayName||void 0,isAnonymous:this.isAnonymous,photoURL:this.photoURL||void 0,phoneNumber:this.phoneNumber||void 0,tenantId:this.tenantId||void 0,providerData:this.providerData.map(e=>Object.assign({},e)),stsTokenManager:this.stsTokenManager.toJSON(),_redirectEventId:this._redirectEventId},this.metadata.toJSON()),{apiKey:this.auth.config.apiKey,appName:this.auth.name})}get refreshToken(){return this.stsTokenManager.refreshToken||""}static _fromJSON(e,n){var r,i,s,o,a,u,d,p;let g=(r=n.displayName)!==null&&r!==void 0?r:void 0,_=(i=n.email)!==null&&i!==void 0?i:void 0,E=(s=n.phoneNumber)!==null&&s!==void 0?s:void 0,M=(o=n.photoURL)!==null&&o!==void 0?o:void 0,O=(a=n.tenantId)!==null&&a!==void 0?a:void 0,P=(u=n._redirectEventId)!==null&&u!==void 0?u:void 0,V=(d=n.createdAt)!==null&&d!==void 0?d:void 0,G=(p=n.lastLoginAt)!==null&&p!==void 0?p:void 0,{uid:q,emailVerified:K,isAnonymous:Ce,providerData:J,stsTokenManager:T}=n;X(q&&T,e,"internal-error");let I=Ru.fromJSON(this.name,T);X(typeof q=="string",e,"internal-error"),ji(g,e.name),ji(_,e.name),X(typeof K=="boolean",e,"internal-error"),X(typeof Ce=="boolean",e,"internal-error"),ji(E,e.name),ji(M,e.name),ji(O,e.name),ji(P,e.name),ji(V,e.name),ji(G,e.name);let b=new t({uid:q,auth:e,email:_,emailVerified:K,displayName:g,isAnonymous:Ce,photoURL:M,phoneNumber:E,tenantId:O,stsTokenManager:I,createdAt:V,lastLoginAt:G});return J&&Array.isArray(J)&&(b.providerData=J.map(S=>Object.assign({},S))),P&&(b._redirectEventId=P),b}static _fromIdTokenResponse(e,n,r=!1){return C(this,null,function*(){let i=new Ru;i.updateFromServerResponse(n);let s=new t({uid:n.localId,auth:e,stsTokenManager:i,isAnonymous:r});return yield Gf(s),s})}static _fromGetAccountInfoResponse(e,n,r){return C(this,null,function*(){let i=n.users[0];X(i.localId!==void 0,"internal-error");let s=i.providerUserInfo!==void 0?mA(i.providerUserInfo):[],o=!(i.email&&i.passwordHash)&&!s?.length,a=new Ru;a.updateFromIdToken(r);let u=new t({uid:i.localId,auth:e,stsTokenManager:a,isAnonymous:o}),d={uid:i.localId,displayName:i.displayName||null,photoURL:i.photoUrl||null,email:i.email||null,emailVerified:i.emailVerified||!1,phoneNumber:i.phoneNumber||null,tenantId:i.tenantId||null,providerData:s,metadata:new Mu(i.createdAt,i.lastLoginAt),isAnonymous:!(i.email&&i.passwordHash)&&!s?.length};return Object.assign(u,d),u})}};var YS=new Map;function Hr(t){Bi(t instanceof Function,"Expected a class definition");let e=YS.get(t);return e?(Bi(e instanceof t,"Instance stored in cache mismatched with class"),e):(e=new t,YS.set(t,e),e)}var Hj=(()=>{class t{constructor(){this.type="NONE",this.storage={}}_isAvailable(){return C(this,null,function*(){return!0})}_set(n,r){return C(this,null,function*(){this.storage[n]=r})}_get(n){return C(this,null,function*(){let r=this.storage[n];return r===void 0?null:r})}_remove(n){return C(this,null,function*(){delete this.storage[n]})}_addListener(n,r){}_removeListener(n,r){}}return t.type="NONE",t})(),bw=Hj;function Bf(t,e,n){return`firebase:${t}:${e}:${n}`}var Wf=class t{constructor(e,n,r){this.persistence=e,this.auth=n,this.userKey=r;let{config:i,name:s}=this.auth;this.fullUserKey=Bf(this.userKey,i.apiKey,s),this.fullPersistenceKey=Bf("persistence",i.apiKey,s),this.boundEventHandler=n._onStorageEvent.bind(n),this.persistence._addListener(this.fullUserKey,this.boundEventHandler)}setCurrentUser(e){return this.persistence._set(this.fullUserKey,e.toJSON())}getCurrentUser(){return C(this,null,function*(){let e=yield this.persistence._get(this.fullUserKey);return e?Sa._fromJSON(this.auth,e):null})}removeCurrentUser(){return this.persistence._remove(this.fullUserKey)}savePersistenceForRedirect(){return this.persistence._set(this.fullPersistenceKey,this.persistence.type)}setPersistence(e){return C(this,null,function*(){if(this.persistence===e)return;let n=yield this.getCurrentUser();if(yield this.removeCurrentUser(),this.persistence=e,n)return this.setCurrentUser(n)})}delete(){this.persistence._removeListener(this.fullUserKey,this.boundEventHandler)}static create(e,n,r="authUser"){return C(this,null,function*(){if(!n.length)return new t(Hr(bw),e,r);let i=(yield Promise.all(n.map(d=>C(this,null,function*(){if(yield d._isAvailable())return d})))).filter(d=>d),s=i[0]||Hr(bw),o=Bf(r,e.config.apiKey,e.name),a=null;for(let d of n)try{let p=yield d._get(o);if(p){let g=Sa._fromJSON(e,p);d!==s&&(a=g),s=d;break}}catch{}let u=i.filter(d=>d._shouldAllowMigration);return!s._shouldAllowMigration||!u.length?new t(s,e,r):(s=u[0],a&&(yield s._set(o,a.toJSON())),yield Promise.all(n.map(d=>C(this,null,function*(){if(d!==s)try{yield d._remove(o)}catch{}}))),new t(s,e,r))})}};function ZS(t){let e=t.toLowerCase();if(e.includes("opera/")||e.includes("opr/")||e.includes("opios/"))return"Opera";if(_A(e))return"IEMobile";if(e.includes("msie")||e.includes("trident/"))return"IE";if(e.includes("edge/"))return"Edge";if(yA(e))return"Firefox";if(e.includes("silk/"))return"Silk";if(EA(e))return"Blackberry";if(bA(e))return"Webos";if(vA(e))return"Safari";if((e.includes("chrome/")||wA(e))&&!e.includes("edge/"))return"Chrome";if(IA(e))return"Android";{let n=/([a-zA-Z\d\.]+)\/[a-zA-Z\d\.]*$/,r=t.match(n);if(r?.length===2)return r[1]}return"Other"}function yA(t=yt()){return/firefox\//i.test(t)}function vA(t=yt()){let e=t.toLowerCase();return e.includes("safari/")&&!e.includes("chrome/")&&!e.includes("crios/")&&!e.includes("android")}function wA(t=yt()){return/crios\//i.test(t)}function _A(t=yt()){return/iemobile/i.test(t)}function IA(t=yt()){return/android/i.test(t)}function EA(t=yt()){return/blackberry/i.test(t)}function bA(t=yt()){return/webos/i.test(t)}function Hw(t=yt()){return/iphone|ipad|ipod/i.test(t)||/macintosh/i.test(t)&&/mobile/i.test(t)}function qj(t=yt()){var e;return Hw(t)&&!!(!((e=window.navigator)===null||e===void 0)&&e.standalone)}function zj(){return AS()&&document.documentMode===10}function DA(t=yt()){return Hw(t)||IA(t)||bA(t)||EA(t)||/windows phone/i.test(t)||_A(t)}function CA(t,e=[]){let n;switch(t){case"Browser":n=ZS(yt());break;case"Worker":n=`${ZS(yt())}-${t}`;break;default:n=t}let r=e.length?e.join(","):"FirebaseCore-web";return`${n}/JsCore/${cr}/${r}`}var Dw=class{constructor(e){this.auth=e,this.queue=[]}pushCallback(e,n){let r=s=>new Promise((o,a)=>{try{let u=e(s);o(u)}catch(u){a(u)}});r.onAbort=n,this.queue.push(r);let i=this.queue.length-1;return()=>{this.queue[i]=()=>Promise.resolve()}}runMiddleware(e){return C(this,null,function*(){if(this.auth.currentUser===e)return;let n=[];try{for(let r of this.queue)yield r(e),r.onAbort&&n.push(r.onAbort)}catch(r){n.reverse();for(let i of n)try{i()}catch{}throw this.auth._errorFactory.create("login-blocked",{originalMessage:r?.message})}})}};function Gj(n){return C(this,arguments,function*(t,e={}){return Gr(t,"GET","/v2/passwordPolicy",zr(t,e))})}var Wj=6,Cw=class{constructor(e){var n,r,i,s;let o=e.customStrengthOptions;this.customStrengthOptions={},this.customStrengthOptions.minPasswordLength=(n=o.minPasswordLength)!==null&&n!==void 0?n:Wj,o.maxPasswordLength&&(this.customStrengthOptions.maxPasswordLength=o.maxPasswordLength),o.containsLowercaseCharacter!==void 0&&(this.customStrengthOptions.containsLowercaseLetter=o.containsLowercaseCharacter),o.containsUppercaseCharacter!==void 0&&(this.customStrengthOptions.containsUppercaseLetter=o.containsUppercaseCharacter),o.containsNumericCharacter!==void 0&&(this.customStrengthOptions.containsNumericCharacter=o.containsNumericCharacter),o.containsNonAlphanumericCharacter!==void 0&&(this.customStrengthOptions.containsNonAlphanumericCharacter=o.containsNonAlphanumericCharacter),this.enforcementState=e.enforcementState,this.enforcementState==="ENFORCEMENT_STATE_UNSPECIFIED"&&(this.enforcementState="OFF"),this.allowedNonAlphanumericCharacters=(i=(r=e.allowedNonAlphanumericCharacters)===null||r===void 0?void 0:r.join(""))!==null&&i!==void 0?i:"",this.forceUpgradeOnSignin=(s=e.forceUpgradeOnSignin)!==null&&s!==void 0?s:!1,this.schemaVersion=e.schemaVersion}validatePassword(e){var n,r,i,s,o,a;let u={isValid:!0,passwordPolicy:this};return this.validatePasswordLengthOptions(e,u),this.validatePasswordCharacterOptions(e,u),u.isValid&&(u.isValid=(n=u.meetsMinPasswordLength)!==null&&n!==void 0?n:!0),u.isValid&&(u.isValid=(r=u.meetsMaxPasswordLength)!==null&&r!==void 0?r:!0),u.isValid&&(u.isValid=(i=u.containsLowercaseLetter)!==null&&i!==void 0?i:!0),u.isValid&&(u.isValid=(s=u.containsUppercaseLetter)!==null&&s!==void 0?s:!0),u.isValid&&(u.isValid=(o=u.containsNumericCharacter)!==null&&o!==void 0?o:!0),u.isValid&&(u.isValid=(a=u.containsNonAlphanumericCharacter)!==null&&a!==void 0?a:!0),u}validatePasswordLengthOptions(e,n){let r=this.customStrengthOptions.minPasswordLength,i=this.customStrengthOptions.maxPasswordLength;r&&(n.meetsMinPasswordLength=e.length>=r),i&&(n.meetsMaxPasswordLength=e.length<=i)}validatePasswordCharacterOptions(e,n){this.updatePasswordCharacterOptionsStatuses(n,!1,!1,!1,!1);let r;for(let i=0;i<e.length;i++)r=e.charAt(i),this.updatePasswordCharacterOptionsStatuses(n,r>="a"&&r<="z",r>="A"&&r<="Z",r>="0"&&r<="9",this.allowedNonAlphanumericCharacters.includes(r))}updatePasswordCharacterOptionsStatuses(e,n,r,i,s){this.customStrengthOptions.containsLowercaseLetter&&(e.containsLowercaseLetter||(e.containsLowercaseLetter=n)),this.customStrengthOptions.containsUppercaseLetter&&(e.containsUppercaseLetter||(e.containsUppercaseLetter=r)),this.customStrengthOptions.containsNumericCharacter&&(e.containsNumericCharacter||(e.containsNumericCharacter=i)),this.customStrengthOptions.containsNonAlphanumericCharacter&&(e.containsNonAlphanumericCharacter||(e.containsNonAlphanumericCharacter=s))}};var Tw=class{constructor(e,n,r,i){this.app=e,this.heartbeatServiceProvider=n,this.appCheckServiceProvider=r,this.config=i,this.currentUser=null,this.emulatorConfig=null,this.operations=Promise.resolve(),this.authStateSubscription=new Kf(this),this.idTokenSubscription=new Kf(this),this.beforeStateQueue=new Dw(this),this.redirectUser=null,this.isProactiveRefreshEnabled=!1,this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION=1,this._canInitEmulator=!0,this._isInitialized=!1,this._deleted=!1,this._initializationPromise=null,this._popupRedirectResolver=null,this._errorFactory=dA,this._agentRecaptchaConfig=null,this._tenantRecaptchaConfigs={},this._projectPasswordPolicy=null,this._tenantPasswordPolicies={},this.lastNotifiedUid=void 0,this.languageCode=null,this.tenantId=null,this.settings={appVerificationDisabledForTesting:!1},this.frameworks=[],this.name=e.name,this.clientVersion=i.sdkClientVersion}_initializeWithPersistence(e,n){return n&&(this._popupRedirectResolver=Hr(n)),this._initializationPromise=this.queue(()=>C(this,null,function*(){var r,i;if(!this._deleted&&(this.persistenceManager=yield Wf.create(this,e),!this._deleted)){if(!((r=this._popupRedirectResolver)===null||r===void 0)&&r._shouldInitProactively)try{yield this._popupRedirectResolver._initialize(this)}catch{}yield this.initializeCurrentUser(n),this.lastNotifiedUid=((i=this.currentUser)===null||i===void 0?void 0:i.uid)||null,!this._deleted&&(this._isInitialized=!0)}})),this._initializationPromise}_onStorageEvent(){return C(this,null,function*(){if(this._deleted)return;let e=yield this.assertedPersistence.getCurrentUser();if(!(!this.currentUser&&!e)){if(this.currentUser&&e&&this.currentUser.uid===e.uid){this._currentUser._assign(e),yield this.currentUser.getIdToken();return}yield this._updateCurrentUser(e,!0)}})}initializeCurrentUserFromIdToken(e){return C(this,null,function*(){try{let n=yield gA(this,{idToken:e}),r=yield Sa._fromGetAccountInfoResponse(this,n,e);yield this.directlySetCurrentUser(r)}catch(n){console.warn("FirebaseServerApp could not login user with provided authIdToken: ",n),yield this.directlySetCurrentUser(null)}})}initializeCurrentUser(e){return C(this,null,function*(){var n;if(xn(this.app)){let o=this.app.settings.authIdToken;return o?new Promise(a=>{setTimeout(()=>this.initializeCurrentUserFromIdToken(o).then(a,a))}):this.directlySetCurrentUser(null)}let r=yield this.assertedPersistence.getCurrentUser(),i=r,s=!1;if(e&&this.config.authDomain){yield this.getOrInitRedirectPersistenceManager();let o=(n=this.redirectUser)===null||n===void 0?void 0:n._redirectEventId,a=i?._redirectEventId,u=yield this.tryRedirectSignIn(e);(!o||o===a)&&u?.user&&(i=u.user,s=!0)}if(!i)return this.directlySetCurrentUser(null);if(!i._redirectEventId){if(s)try{yield this.beforeStateQueue.runMiddleware(i)}catch(o){i=r,this._popupRedirectResolver._overrideRedirectResult(this,()=>Promise.reject(o))}return i?this.reloadAndSetCurrentUserOrClear(i):this.directlySetCurrentUser(null)}return X(this._popupRedirectResolver,this,"argument-error"),yield this.getOrInitRedirectPersistenceManager(),this.redirectUser&&this.redirectUser._redirectEventId===i._redirectEventId?this.directlySetCurrentUser(i):this.reloadAndSetCurrentUserOrClear(i)})}tryRedirectSignIn(e){return C(this,null,function*(){let n=null;try{n=yield this._popupRedirectResolver._completeRedirectFn(this,e,!0)}catch{yield this._setRedirectUser(null)}return n})}reloadAndSetCurrentUserOrClear(e){return C(this,null,function*(){try{yield Gf(e)}catch(n){if(n?.code!=="auth/network-request-failed")return this.directlySetCurrentUser(null)}return this.directlySetCurrentUser(e)})}useDeviceLanguage(){this.languageCode=Pj()}_delete(){return C(this,null,function*(){this._deleted=!0})}updateCurrentUser(e){return C(this,null,function*(){if(xn(this.app))return Promise.reject(qr(this));let n=e?Ve(e):null;return n&&X(n.auth.config.apiKey===this.config.apiKey,this,"invalid-user-token"),this._updateCurrentUser(n&&n._clone(this))})}_updateCurrentUser(e,n=!1){return C(this,null,function*(){if(!this._deleted)return e&&X(this.tenantId===e.tenantId,this,"tenant-id-mismatch"),n||(yield this.beforeStateQueue.runMiddleware(e)),this.queue(()=>C(this,null,function*(){yield this.directlySetCurrentUser(e),this.notifyAuthListeners()}))})}signOut(){return C(this,null,function*(){return xn(this.app)?Promise.reject(qr(this)):(yield this.beforeStateQueue.runMiddleware(null),(this.redirectPersistenceManager||this._popupRedirectResolver)&&(yield this._setRedirectUser(null)),this._updateCurrentUser(null,!0))})}setPersistence(e){return xn(this.app)?Promise.reject(qr(this)):this.queue(()=>C(this,null,function*(){yield this.assertedPersistence.setPersistence(Hr(e))}))}_getRecaptchaConfig(){return this.tenantId==null?this._agentRecaptchaConfig:this._tenantRecaptchaConfigs[this.tenantId]}validatePassword(e){return C(this,null,function*(){this._getPasswordPolicyInternal()||(yield this._updatePasswordPolicy());let n=this._getPasswordPolicyInternal();return n.schemaVersion!==this.EXPECTED_PASSWORD_POLICY_SCHEMA_VERSION?Promise.reject(this._errorFactory.create("unsupported-password-policy-schema-version",{})):n.validatePassword(e)})}_getPasswordPolicyInternal(){return this.tenantId===null?this._projectPasswordPolicy:this._tenantPasswordPolicies[this.tenantId]}_updatePasswordPolicy(){return C(this,null,function*(){let e=yield Gj(this),n=new Cw(e);this.tenantId===null?this._projectPasswordPolicy=n:this._tenantPasswordPolicies[this.tenantId]=n})}_getPersistence(){return this.assertedPersistence.persistence.type}_updateErrorMap(e){this._errorFactory=new Ur("auth","Firebase",e())}onAuthStateChanged(e,n,r){return this.registerStateListener(this.authStateSubscription,e,n,r)}beforeAuthStateChanged(e,n){return this.beforeStateQueue.pushCallback(e,n)}onIdTokenChanged(e,n,r){return this.registerStateListener(this.idTokenSubscription,e,n,r)}authStateReady(){return new Promise((e,n)=>{if(this.currentUser)e();else{let r=this.onAuthStateChanged(()=>{r(),e()},n)}})}revokeAccessToken(e){return C(this,null,function*(){if(this.currentUser){let n=yield this.currentUser.getIdToken(),r={providerId:"apple.com",tokenType:"ACCESS_TOKEN",token:e,idToken:n};this.tenantId!=null&&(r.tenantId=this.tenantId),yield $j(this,r)}})}toJSON(){var e;return{apiKey:this.config.apiKey,authDomain:this.config.authDomain,appName:this.name,currentUser:(e=this._currentUser)===null||e===void 0?void 0:e.toJSON()}}_setRedirectUser(e,n){return C(this,null,function*(){let r=yield this.getOrInitRedirectPersistenceManager(n);return e===null?r.removeCurrentUser():r.setCurrentUser(e)})}getOrInitRedirectPersistenceManager(e){return C(this,null,function*(){if(!this.redirectPersistenceManager){let n=e&&Hr(e)||this._popupRedirectResolver;X(n,this,"argument-error"),this.redirectPersistenceManager=yield Wf.create(this,[Hr(n._redirectPersistence)],"redirectUser"),this.redirectUser=yield this.redirectPersistenceManager.getCurrentUser()}return this.redirectPersistenceManager})}_redirectUserForId(e){return C(this,null,function*(){var n,r;return this._isInitialized&&(yield this.queue(()=>C(this,null,function*(){}))),((n=this._currentUser)===null||n===void 0?void 0:n._redirectEventId)===e?this._currentUser:((r=this.redirectUser)===null||r===void 0?void 0:r._redirectEventId)===e?this.redirectUser:null})}_persistUserIfCurrent(e){return C(this,null,function*(){if(e===this.currentUser)return this.queue(()=>C(this,null,function*(){return this.directlySetCurrentUser(e)}))})}_notifyListenersIfCurrent(e){e===this.currentUser&&this.notifyAuthListeners()}_key(){return`${this.config.authDomain}:${this.config.apiKey}:${this.name}`}_startProactiveRefresh(){this.isProactiveRefreshEnabled=!0,this.currentUser&&this._currentUser._startProactiveRefresh()}_stopProactiveRefresh(){this.isProactiveRefreshEnabled=!1,this.currentUser&&this._currentUser._stopProactiveRefresh()}get _currentUser(){return this.currentUser}notifyAuthListeners(){var e,n;if(!this._isInitialized)return;this.idTokenSubscription.next(this.currentUser);let r=(n=(e=this.currentUser)===null||e===void 0?void 0:e.uid)!==null&&n!==void 0?n:null;this.lastNotifiedUid!==r&&(this.lastNotifiedUid=r,this.authStateSubscription.next(this.currentUser))}registerStateListener(e,n,r,i){if(this._deleted)return()=>{};let s=typeof n=="function"?n:n.next.bind(n),o=!1,a=this._isInitialized?Promise.resolve():this._initializationPromise;if(X(a,this,"internal-error"),a.then(()=>{o||s(this.currentUser)}),typeof n=="function"){let u=e.addObserver(n,r,i);return()=>{o=!0,u()}}else{let u=e.addObserver(n);return()=>{o=!0,u()}}}directlySetCurrentUser(e){return C(this,null,function*(){this.currentUser&&this.currentUser!==e&&this._currentUser._stopProactiveRefresh(),e&&this.isProactiveRefreshEnabled&&e._startProactiveRefresh(),this.currentUser=e,e?yield this.assertedPersistence.setCurrentUser(e):yield this.assertedPersistence.removeCurrentUser()})}queue(e){return this.operations=this.operations.then(e,e),this.operations}get assertedPersistence(){return X(this.persistenceManager,this,"internal-error"),this.persistenceManager}_logFramework(e){!e||this.frameworks.includes(e)||(this.frameworks.push(e),this.frameworks.sort(),this.clientVersion=CA(this.config.clientPlatform,this._getFrameworks()))}_getFrameworks(){return this.frameworks}_getAdditionalHeaders(){return C(this,null,function*(){var e;let n={"X-Client-Version":this.clientVersion};this.app.options.appId&&(n["X-Firebase-gmpid"]=this.app.options.appId);let r=yield(e=this.heartbeatServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getHeartbeatsHeader();r&&(n["X-Firebase-Client"]=r);let i=yield this._getAppCheckToken();return i&&(n["X-Firebase-AppCheck"]=i),n})}_getAppCheckToken(){return C(this,null,function*(){var e;let n=yield(e=this.appCheckServiceProvider.getImmediate({optional:!0}))===null||e===void 0?void 0:e.getToken();return n?.error&&xj(`Error while retrieving App Check token: ${n.error}`),n?.token})}};function Gs(t){return Ve(t)}var Kf=class{constructor(e){this.auth=e,this.observer=null,this.addObserver=NS(n=>this.observer=n)}get next(){return X(this.observer,this.auth,"internal-error"),this.observer.next.bind(this.observer)}};var tp={loadJS(){return C(this,null,function*(){throw new Error("Unable to load external scripts")})},recaptchaV2Script:"",recaptchaEnterpriseScript:"",gapiScript:""};function Kj(t){tp=t}function TA(t){return tp.loadJS(t)}function Qj(){return tp.recaptchaEnterpriseScript}function Yj(){return tp.gapiScript}function SA(t){return`__${t}${Math.floor(Math.random()*1e6)}`}var Zj="recaptcha-enterprise",Jj="NO_RECAPTCHA",Sw=class{constructor(e){this.type=Zj,this.auth=Gs(e)}verify(e="verify",n=!1){return C(this,null,function*(){function r(s){return C(this,null,function*(){if(!n){if(s.tenantId==null&&s._agentRecaptchaConfig!=null)return s._agentRecaptchaConfig.siteKey;if(s.tenantId!=null&&s._tenantRecaptchaConfigs[s.tenantId]!==void 0)return s._tenantRecaptchaConfigs[s.tenantId].siteKey}return new Promise((o,a)=>C(this,null,function*(){Lj(s,{clientType:"CLIENT_TYPE_WEB",version:"RECAPTCHA_ENTERPRISE"}).then(u=>{if(u.recaptchaKey===void 0)a(new Error("recaptcha Enterprise site key undefined"));else{let d=new Iw(u);return s.tenantId==null?s._agentRecaptchaConfig=d:s._tenantRecaptchaConfigs[s.tenantId]=d,o(d.siteKey)}}).catch(u=>{a(u)})}))})}function i(s,o,a){let u=window.grecaptcha;KS(u)?u.enterprise.ready(()=>{u.enterprise.execute(s,{action:e}).then(d=>{o(d)}).catch(()=>{o(Jj)})}):a(Error("No reCAPTCHA enterprise script loaded."))}return new Promise((s,o)=>{r(this.auth).then(a=>{if(!n&&KS(window.grecaptcha))i(a,s,o);else{if(typeof window>"u"){o(new Error("RecaptchaVerifier is only supported in browser"));return}let u=Qj();u.length!==0&&(u+=a),TA(u).then(()=>{i(a,s,o)}).catch(d=>{o(d)})}}).catch(a=>{o(a)})})})}};function JS(t,e,n,r=!1){return C(this,null,function*(){let i=new Sw(t),s;try{s=yield i.verify(n)}catch{s=yield i.verify(n,!0)}let o=Object.assign({},e);return r?Object.assign(o,{captchaResp:s}):Object.assign(o,{captchaResponse:s}),Object.assign(o,{clientType:"CLIENT_TYPE_WEB"}),Object.assign(o,{recaptchaVersion:"RECAPTCHA_ENTERPRISE"}),o})}function Aw(t,e,n,r){return C(this,null,function*(){var i;if(!((i=t._getRecaptchaConfig())===null||i===void 0)&&i.isProviderEnabled("EMAIL_PASSWORD_PROVIDER")){let s=yield JS(t,e,n,n==="getOobCode");return r(t,s)}else return r(t,e).catch(s=>C(this,null,function*(){if(s.code==="auth/missing-recaptcha-token"){console.log(`${n} is protected by reCAPTCHA Enterprise for this project. Automatically triggering the reCAPTCHA flow and restarting the flow.`);let o=yield JS(t,e,n,n==="getOobCode");return r(t,o)}else return Promise.reject(s)}))})}function qw(t,e){let n=Vs(t,"auth");if(n.isInitialized()){let i=n.getImmediate(),s=n.getOptions();if(Fs(s,e??{}))return i;lr(i,"already-initialized")}return n.initialize({options:e})}function Xj(t,e){let n=e?.persistence||[],r=(Array.isArray(n)?n:[n]).map(Hr);e?.errorMap&&t._updateErrorMap(e.errorMap),t._initializeWithPersistence(r,e?.popupRedirectResolver)}function zw(t,e,n){let r=Gs(t);X(r._canInitEmulator,r,"emulator-config-failed"),X(/^https?:\/\//.test(e),r,"invalid-emulator-scheme");let i=!!n?.disableWarnings,s=AA(e),{host:o,port:a}=eB(e),u=a===null?"":`:${a}`;r.config.emulator={url:`${s}//${o}${u}/`},r.settings.appVerificationDisabledForTesting=!0,r.emulatorConfig=Object.freeze({host:o,port:a,protocol:s.replace(":",""),options:Object.freeze({disableWarnings:i})}),i||tB()}function AA(t){let e=t.indexOf(":");return e<0?"":t.substr(0,e+1)}function eB(t){let e=AA(t),n=/(\/\/)?([^?#/]+)/.exec(t.substr(e.length));if(!n)return{host:"",port:null};let r=n[2].split("@").pop()||"",i=/^(\[[^\]]+\])(:|$)/.exec(r);if(i){let s=i[1];return{host:s,port:XS(r.substr(s.length+1))}}else{let[s,o]=r.split(":");return{host:s,port:XS(o)}}}function XS(t){if(!t)return null;let e=Number(t);return isNaN(e)?null:e}function tB(){function t(){let e=document.createElement("p"),n=e.style;e.innerText="Running in emulator mode. Do not use with production credentials.",n.position="fixed",n.width="100%",n.backgroundColor="#ffffff",n.border=".1em solid #000000",n.color="#b50000",n.bottom="0px",n.left="0px",n.margin="0px",n.zIndex="10000",n.textAlign="center",e.classList.add("firebase-emulator-warning"),document.body.appendChild(e)}typeof console<"u"&&typeof console.info=="function"&&console.info("WARNING: You are using the Auth Emulator, which is intended for local testing only.  Do not use with production credentials."),typeof window<"u"&&typeof document<"u"&&(document.readyState==="loading"?window.addEventListener("DOMContentLoaded",t):t())}var Nu=class{constructor(e,n){this.providerId=e,this.signInMethod=n}toJSON(){return $r("not implemented")}_getIdTokenResponse(e){return $r("not implemented")}_linkToIdToken(e,n){return $r("not implemented")}_getReauthenticationResolver(e){return $r("not implemented")}};function nB(t,e){return C(this,null,function*(){return Gr(t,"POST","/v1/accounts:signUp",e)})}function rB(t,e){return C(this,null,function*(){return Ou(t,"POST","/v1/accounts:signInWithPassword",zr(t,e))})}function iB(t,e){return C(this,null,function*(){return Gr(t,"POST","/v1/accounts:sendOobCode",zr(t,e))})}function sB(t,e){return C(this,null,function*(){return iB(t,e)})}function oB(t,e){return C(this,null,function*(){return Ou(t,"POST","/v1/accounts:signInWithEmailLink",zr(t,e))})}function aB(t,e){return C(this,null,function*(){return Ou(t,"POST","/v1/accounts:signInWithEmailLink",zr(t,e))})}var Pu=class t extends Nu{constructor(e,n,r,i=null){super("password",r),this._email=e,this._password=n,this._tenantId=i}static _fromEmailAndPassword(e,n){return new t(e,n,"password")}static _fromEmailAndCode(e,n,r=null){return new t(e,n,"emailLink",r)}toJSON(){return{email:this._email,password:this._password,signInMethod:this.signInMethod,tenantId:this._tenantId}}static fromJSON(e){let n=typeof e=="string"?JSON.parse(e):e;if(n?.email&&n?.password){if(n.signInMethod==="password")return this._fromEmailAndPassword(n.email,n.password);if(n.signInMethod==="emailLink")return this._fromEmailAndCode(n.email,n.password,n.tenantId)}return null}_getIdTokenResponse(e){return C(this,null,function*(){switch(this.signInMethod){case"password":let n={returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Aw(e,n,"signInWithPassword",rB);case"emailLink":return oB(e,{email:this._email,oobCode:this._password});default:lr(e,"internal-error")}})}_linkToIdToken(e,n){return C(this,null,function*(){switch(this.signInMethod){case"password":let r={idToken:n,returnSecureToken:!0,email:this._email,password:this._password,clientType:"CLIENT_TYPE_WEB"};return Aw(e,r,"signUpPassword",nB);case"emailLink":return aB(e,{idToken:n,email:this._email,oobCode:this._password});default:lr(e,"internal-error")}})}_getReauthenticationResolver(e){return this._getIdTokenResponse(e)}};function yw(t,e){return C(this,null,function*(){return Ou(t,"POST","/v1/accounts:signInWithIdp",zr(t,e))})}function cB(t){switch(t){case"recoverEmail":return"RECOVER_EMAIL";case"resetPassword":return"PASSWORD_RESET";case"signIn":return"EMAIL_SIGNIN";case"verifyEmail":return"VERIFY_EMAIL";case"verifyAndChangeEmail":return"VERIFY_AND_CHANGE_EMAIL";case"revertSecondFactorAddition":return"REVERT_SECOND_FACTOR_ADDITION";default:return null}}function uB(t){let e=ba(Da(t)).link,n=e?ba(Da(e)).deep_link_id:null,r=ba(Da(t)).deep_link_id;return(r?ba(Da(r)).link:null)||r||n||e||t}var Qf=class t{constructor(e){var n,r,i,s,o,a;let u=ba(Da(e)),d=(n=u.apiKey)!==null&&n!==void 0?n:null,p=(r=u.oobCode)!==null&&r!==void 0?r:null,g=cB((i=u.mode)!==null&&i!==void 0?i:null);X(d&&p&&g,"argument-error"),this.apiKey=d,this.operation=g,this.code=p,this.continueUrl=(s=u.continueUrl)!==null&&s!==void 0?s:null,this.languageCode=(o=u.languageCode)!==null&&o!==void 0?o:null,this.tenantId=(a=u.tenantId)!==null&&a!==void 0?a:null}static parseLink(e){let n=uB(e);try{return new t(n)}catch{return null}}};var RA=(()=>{class t{constructor(){this.providerId=t.PROVIDER_ID}static credential(n,r){return Pu._fromEmailAndPassword(n,r)}static credentialWithLink(n,r){let i=Qf.parseLink(r);return X(i,"argument-error"),Pu._fromEmailAndCode(n,i.code,i.tenantId)}}t.PROVIDER_ID="password",t.EMAIL_PASSWORD_SIGN_IN_METHOD="password",t.EMAIL_LINK_SIGN_IN_METHOD="emailLink";return t})(),Yf=class{constructor(e){this.providerId=e,this.defaultLanguageCode=null,this.customParameters={}}setDefaultLanguage(e){this.defaultLanguageCode=e}setCustomParameters(e){return this.customParameters=e,this}getCustomParameters(){return this.customParameters}};var Rw=class extends Yf{constructor(){super(...arguments),this.scopes=[]}addScope(e){return this.scopes.includes(e)||this.scopes.push(e),this}getScopes(){return[...this.scopes]}};function lB(t,e){return C(this,null,function*(){return Ou(t,"POST","/v1/accounts:signUp",zr(t,e))})}var Aa=class t{constructor(e){this.user=e.user,this.providerId=e.providerId,this._tokenResponse=e._tokenResponse,this.operationType=e.operationType}static _fromIdTokenResponse(e,n,r,i=!1){return C(this,null,function*(){let s=yield Sa._fromIdTokenResponse(e,r,i),o=eA(r);return new t({user:s,providerId:o,_tokenResponse:r,operationType:n})})}static _forOperation(e,n,r){return C(this,null,function*(){yield e._updateTokensIfNecessary(r,!0);let i=eA(r);return new t({user:e,providerId:i,_tokenResponse:r,operationType:n})})}};function eA(t){return t.providerId?t.providerId:"phoneNumber"in t?"phone":null}var xw=class t extends Ft{constructor(e,n,r,i){var s;super(n.code,n.message),this.operationType=r,this.user=i,Object.setPrototypeOf(this,t.prototype),this.customData={appName:e.name,tenantId:(s=e.tenantId)!==null&&s!==void 0?s:void 0,_serverResponse:n.customData._serverResponse,operationType:r}}static _fromErrorAndOperation(e,n,r,i){return new t(e,n,r,i)}};function xA(t,e,n,r){return(e==="reauthenticate"?n._getReauthenticationResolver(t):n._getIdTokenResponse(t)).catch(s=>{throw s.code==="auth/multi-factor-auth-required"?xw._fromErrorAndOperation(t,s,e,r):s})}function dB(t,e,n=!1){return C(this,null,function*(){let r=yield xu(t,e._linkToIdToken(t.auth,yield t.getIdToken()),n);return Aa._forOperation(t,"link",r)})}function hB(t,e,n=!1){return C(this,null,function*(){let{auth:r}=t;if(xn(r.app))return Promise.reject(qr(r));let i="reauthenticate";try{let s=yield xu(t,xA(r,i,e,t),n);X(s.idToken,r,"internal-error");let o=Bw(s.idToken);X(o,r,"internal-error");let{sub:a}=o;return X(t.uid===a,r,"user-mismatch"),Aa._forOperation(t,i,s)}catch(s){throw s?.code==="auth/user-not-found"&&lr(r,"user-mismatch"),s}})}function MA(t,e,n=!1){return C(this,null,function*(){if(xn(t.app))return Promise.reject(qr(t));let r="signIn",i=yield xA(t,r,e),s=yield Aa._fromIdTokenResponse(t,r,i);return n||(yield t._updateCurrentUser(s.user)),s})}function Gw(t,e){return C(this,null,function*(){return MA(Gs(t),e)})}function fB(t,e,n){var r;X(((r=n.url)===null||r===void 0?void 0:r.length)>0,t,"invalid-continue-uri"),X(typeof n.dynamicLinkDomain>"u"||n.dynamicLinkDomain.length>0,t,"invalid-dynamic-link-domain"),e.continueUrl=n.url,e.dynamicLinkDomain=n.dynamicLinkDomain,e.canHandleCodeInApp=n.handleCodeInApp,n.iOS&&(X(n.iOS.bundleId.length>0,t,"missing-ios-bundle-id"),e.iOSBundleId=n.iOS.bundleId),n.android&&(X(n.android.packageName.length>0,t,"missing-android-pkg-name"),e.androidInstallApp=n.android.installApp,e.androidMinimumVersionCode=n.android.minimumVersion,e.androidPackageName=n.android.packageName)}function NA(t){return C(this,null,function*(){let e=Gs(t);e._getPasswordPolicyInternal()&&(yield e._updatePasswordPolicy())})}function PA(t,e,n){return C(this,null,function*(){if(xn(t.app))return Promise.reject(qr(t));let r=Gs(t),o=yield Aw(r,{returnSecureToken:!0,email:e,password:n,clientType:"CLIENT_TYPE_WEB"},"signUpPassword",lB).catch(u=>{throw u.code==="auth/password-does-not-meet-requirements"&&NA(t),u}),a=yield Aa._fromIdTokenResponse(r,"signIn",o);return yield r._updateCurrentUser(a.user),a})}function Ww(t,e,n){return xn(t.app)?Promise.reject(qr(t)):Gw(Ve(t),RA.credential(e,n)).catch(r=>C(this,null,function*(){throw r.code==="auth/password-does-not-meet-requirements"&&NA(t),r}))}function Kw(t,e){return C(this,null,function*(){let n=Ve(t),i={requestType:"VERIFY_EMAIL",idToken:yield t.getIdToken()};e&&fB(n.auth,i,e);let{email:s}=yield sB(n.auth,i);s!==t.email&&(yield t.reload())})}function Qw(t,e,n,r){return Ve(t).onIdTokenChanged(e,n,r)}function Yw(t,e,n){return Ve(t).beforeAuthStateChanged(e,n)}var Zf="__sak";var Jf=class{constructor(e,n){this.storageRetriever=e,this.type=n}_isAvailable(){try{return this.storage?(this.storage.setItem(Zf,"1"),this.storage.removeItem(Zf),Promise.resolve(!0)):Promise.resolve(!1)}catch{return Promise.resolve(!1)}}_set(e,n){return this.storage.setItem(e,JSON.stringify(n)),Promise.resolve()}_get(e){let n=this.storage.getItem(e);return Promise.resolve(n?JSON.parse(n):null)}_remove(e){return this.storage.removeItem(e),Promise.resolve()}get storage(){return this.storageRetriever()}};var pB=1e3,gB=10,mB=(()=>{class t extends Jf{constructor(){super(()=>window.localStorage,"LOCAL"),this.boundEventHandler=(n,r)=>this.onStorageEvent(n,r),this.listeners={},this.localCache={},this.pollTimer=null,this.fallbackToPolling=DA(),this._shouldAllowMigration=!0}forAllChangedKeys(n){for(let r of Object.keys(this.listeners)){let i=this.storage.getItem(r),s=this.localCache[r];i!==s&&n(r,s,i)}}onStorageEvent(n,r=!1){if(!n.key){this.forAllChangedKeys((a,u,d)=>{this.notifyListeners(a,d)});return}let i=n.key;r?this.detachListener():this.stopPolling();let s=()=>{let a=this.storage.getItem(i);!r&&this.localCache[i]===a||this.notifyListeners(i,a)},o=this.storage.getItem(i);zj()&&o!==n.newValue&&n.newValue!==n.oldValue?setTimeout(s,gB):s()}notifyListeners(n,r){this.localCache[n]=r;let i=this.listeners[n];if(i)for(let s of Array.from(i))s(r&&JSON.parse(r))}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>{this.forAllChangedKeys((n,r,i)=>{this.onStorageEvent(new StorageEvent("storage",{key:n,oldValue:r,newValue:i}),!0)})},pB)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}attachListener(){window.addEventListener("storage",this.boundEventHandler)}detachListener(){window.removeEventListener("storage",this.boundEventHandler)}_addListener(n,r){Object.keys(this.listeners).length===0&&(this.fallbackToPolling?this.startPolling():this.attachListener()),this.listeners[n]||(this.listeners[n]=new Set,this.localCache[n]=this.storage.getItem(n)),this.listeners[n].add(r)}_removeListener(n,r){this.listeners[n]&&(this.listeners[n].delete(r),this.listeners[n].size===0&&delete this.listeners[n]),Object.keys(this.listeners).length===0&&(this.detachListener(),this.stopPolling())}_set(n,r){return C(this,null,function*(){yield mi(t.prototype,this,"_set").call(this,n,r),this.localCache[n]=JSON.stringify(r)})}_get(n){return C(this,null,function*(){let r=yield mi(t.prototype,this,"_get").call(this,n);return this.localCache[n]=JSON.stringify(r),r})}_remove(n){return C(this,null,function*(){yield mi(t.prototype,this,"_remove").call(this,n),delete this.localCache[n]})}}return t.type="LOCAL",t})(),kA=mB;var yB=(()=>{class t extends Jf{constructor(){super(()=>window.sessionStorage,"SESSION")}_addListener(n,r){}_removeListener(n,r){}}return t.type="SESSION",t})(),Zw=yB;function vB(t){return Promise.all(t.map(e=>C(this,null,function*(){try{return{fulfilled:!0,value:yield e}}catch(n){return{fulfilled:!1,reason:n}}})))}var wB=(()=>{class t{constructor(n){this.eventTarget=n,this.handlersMap={},this.boundEventHandler=this.handleEvent.bind(this)}static _getInstance(n){let r=this.receivers.find(s=>s.isListeningto(n));if(r)return r;let i=new t(n);return this.receivers.push(i),i}isListeningto(n){return this.eventTarget===n}handleEvent(n){return C(this,null,function*(){let r=n,{eventId:i,eventType:s,data:o}=r.data,a=this.handlersMap[s];if(!a?.size)return;r.ports[0].postMessage({status:"ack",eventId:i,eventType:s});let u=Array.from(a).map(p=>C(this,null,function*(){return p(r.origin,o)})),d=yield vB(u);r.ports[0].postMessage({status:"done",eventId:i,eventType:s,response:d})})}_subscribe(n,r){Object.keys(this.handlersMap).length===0&&this.eventTarget.addEventListener("message",this.boundEventHandler),this.handlersMap[n]||(this.handlersMap[n]=new Set),this.handlersMap[n].add(r)}_unsubscribe(n,r){this.handlersMap[n]&&r&&this.handlersMap[n].delete(r),(!r||this.handlersMap[n].size===0)&&delete this.handlersMap[n],Object.keys(this.handlersMap).length===0&&this.eventTarget.removeEventListener("message",this.boundEventHandler)}}t.receivers=[];return t})();function OA(t="",e=10){let n="";for(let r=0;r<e;r++)n+=Math.floor(Math.random()*10);return t+n}var Mw=class{constructor(e){this.target=e,this.handlers=new Set}removeMessageHandler(e){e.messageChannel&&(e.messageChannel.port1.removeEventListener("message",e.onMessage),e.messageChannel.port1.close()),this.handlers.delete(e)}_send(e,n,r=50){return C(this,null,function*(){let i=typeof MessageChannel<"u"?new MessageChannel:null;if(!i)throw new Error("connection_unavailable");let s,o;return new Promise((a,u)=>{let d=OA("",20);i.port1.start();let p=setTimeout(()=>{u(new Error("unsupported_event"))},r);o={messageChannel:i,onMessage(g){let _=g;if(_.data.eventId===d)switch(_.data.status){case"ack":clearTimeout(p),s=setTimeout(()=>{u(new Error("timeout"))},3e3);break;case"done":clearTimeout(s),a(_.data.response);break;default:clearTimeout(p),clearTimeout(s),u(new Error("invalid_response"));break}}},this.handlers.add(o),i.port1.addEventListener("message",o.onMessage),this.target.postMessage({eventType:e,eventId:d,data:n},[i.port2])}).finally(()=>{o&&this.removeMessageHandler(o)})})}};function ur(){return window}function _B(t){ur().location.href=t}function FA(){return typeof ur().WorkerGlobalScope<"u"&&typeof ur().importScripts=="function"}function IB(){return C(this,null,function*(){if(!navigator?.serviceWorker)return null;try{return(yield navigator.serviceWorker.ready).active}catch{return null}})}function EB(){var t;return((t=navigator?.serviceWorker)===null||t===void 0?void 0:t.controller)||null}function bB(){return FA()?self:null}var LA="firebaseLocalStorageDb",DB=1,Xf="firebaseLocalStorage",VA="fbase_key",zs=class{constructor(e){this.request=e}toPromise(){return new Promise((e,n)=>{this.request.addEventListener("success",()=>{e(this.request.result)}),this.request.addEventListener("error",()=>{n(this.request.error)})})}};function np(t,e){return t.transaction([Xf],e?"readwrite":"readonly").objectStore(Xf)}function CB(){let t=indexedDB.deleteDatabase(LA);return new zs(t).toPromise()}function Nw(){let t=indexedDB.open(LA,DB);return new Promise((e,n)=>{t.addEventListener("error",()=>{n(t.error)}),t.addEventListener("upgradeneeded",()=>{let r=t.result;try{r.createObjectStore(Xf,{keyPath:VA})}catch(i){n(i)}}),t.addEventListener("success",()=>C(this,null,function*(){let r=t.result;r.objectStoreNames.contains(Xf)?e(r):(r.close(),yield CB(),e(yield Nw()))}))})}function tA(t,e,n){return C(this,null,function*(){let r=np(t,!0).put({[VA]:e,value:n});return new zs(r).toPromise()})}function TB(t,e){return C(this,null,function*(){let n=np(t,!1).get(e),r=yield new zs(n).toPromise();return r===void 0?null:r.value})}function nA(t,e){let n=np(t,!0).delete(e);return new zs(n).toPromise()}var SB=800,AB=3,RB=(()=>{class t{constructor(){this.type="LOCAL",this._shouldAllowMigration=!0,this.listeners={},this.localCache={},this.pollTimer=null,this.pendingWrites=0,this.receiver=null,this.sender=null,this.serviceWorkerReceiverAvailable=!1,this.activeServiceWorker=null,this._workerInitializationPromise=this.initializeServiceWorkerMessaging().then(()=>{},()=>{})}_openDb(){return C(this,null,function*(){return this.db?this.db:(this.db=yield Nw(),this.db)})}_withRetries(n){return C(this,null,function*(){let r=0;for(;;)try{let i=yield this._openDb();return yield n(i)}catch(i){if(r++>AB)throw i;this.db&&(this.db.close(),this.db=void 0)}})}initializeServiceWorkerMessaging(){return C(this,null,function*(){return FA()?this.initializeReceiver():this.initializeSender()})}initializeReceiver(){return C(this,null,function*(){this.receiver=wB._getInstance(bB()),this.receiver._subscribe("keyChanged",(n,r)=>C(this,null,function*(){return{keyProcessed:(yield this._poll()).includes(r.key)}})),this.receiver._subscribe("ping",(n,r)=>C(this,null,function*(){return["keyChanged"]}))})}initializeSender(){return C(this,null,function*(){var n,r;if(this.activeServiceWorker=yield IB(),!this.activeServiceWorker)return;this.sender=new Mw(this.activeServiceWorker);let i=yield this.sender._send("ping",{},800);i&&!((n=i[0])===null||n===void 0)&&n.fulfilled&&!((r=i[0])===null||r===void 0)&&r.value.includes("keyChanged")&&(this.serviceWorkerReceiverAvailable=!0)})}notifyServiceWorker(n){return C(this,null,function*(){if(!(!this.sender||!this.activeServiceWorker||EB()!==this.activeServiceWorker))try{yield this.sender._send("keyChanged",{key:n},this.serviceWorkerReceiverAvailable?800:50)}catch{}})}_isAvailable(){return C(this,null,function*(){try{if(!indexedDB)return!1;let n=yield Nw();return yield tA(n,Zf,"1"),yield nA(n,Zf),!0}catch{}return!1})}_withPendingWrite(n){return C(this,null,function*(){this.pendingWrites++;try{yield n()}finally{this.pendingWrites--}})}_set(n,r){return C(this,null,function*(){return this._withPendingWrite(()=>C(this,null,function*(){return yield this._withRetries(i=>tA(i,n,r)),this.localCache[n]=r,this.notifyServiceWorker(n)}))})}_get(n){return C(this,null,function*(){let r=yield this._withRetries(i=>TB(i,n));return this.localCache[n]=r,r})}_remove(n){return C(this,null,function*(){return this._withPendingWrite(()=>C(this,null,function*(){return yield this._withRetries(r=>nA(r,n)),delete this.localCache[n],this.notifyServiceWorker(n)}))})}_poll(){return C(this,null,function*(){let n=yield this._withRetries(s=>{let o=np(s,!1).getAll();return new zs(o).toPromise()});if(!n)return[];if(this.pendingWrites!==0)return[];let r=[],i=new Set;if(n.length!==0)for(let{fbase_key:s,value:o}of n)i.add(s),JSON.stringify(this.localCache[s])!==JSON.stringify(o)&&(this.notifyListeners(s,o),r.push(s));for(let s of Object.keys(this.localCache))this.localCache[s]&&!i.has(s)&&(this.notifyListeners(s,null),r.push(s));return r})}notifyListeners(n,r){this.localCache[n]=r;let i=this.listeners[n];if(i)for(let s of Array.from(i))s(r)}startPolling(){this.stopPolling(),this.pollTimer=setInterval(()=>C(this,null,function*(){return this._poll()}),SB)}stopPolling(){this.pollTimer&&(clearInterval(this.pollTimer),this.pollTimer=null)}_addListener(n,r){Object.keys(this.listeners).length===0&&this.startPolling(),this.listeners[n]||(this.listeners[n]=new Set,this._get(n)),this.listeners[n].add(r)}_removeListener(n,r){this.listeners[n]&&(this.listeners[n].delete(r),this.listeners[n].size===0&&delete this.listeners[n]),Object.keys(this.listeners).length===0&&this.stopPolling()}}return t.type="LOCAL",t})(),UA=RB;var q7=SA("rcb"),z7=new qs(3e4,6e4);function xB(t,e){return e?Hr(e):(X(t._popupRedirectResolver,t,"argument-error"),t._popupRedirectResolver)}var ku=class extends Nu{constructor(e){super("custom","custom"),this.params=e}_getIdTokenResponse(e){return yw(e,this._buildIdpRequest())}_linkToIdToken(e,n){return yw(e,this._buildIdpRequest(n))}_getReauthenticationResolver(e){return yw(e,this._buildIdpRequest())}_buildIdpRequest(e){let n={requestUri:this.params.requestUri,sessionId:this.params.sessionId,postBody:this.params.postBody,tenantId:this.params.tenantId,pendingToken:this.params.pendingToken,returnSecureToken:!0,returnIdpCredential:!0};return e&&(n.idToken=e),n}};function MB(t){return MA(t.auth,new ku(t),t.bypassAuthState)}function NB(t){let{auth:e,user:n}=t;return X(n,e,"internal-error"),hB(n,new ku(t),t.bypassAuthState)}function PB(t){return C(this,null,function*(){let{auth:e,user:n}=t;return X(n,e,"internal-error"),dB(n,new ku(t),t.bypassAuthState)})}var Pw=class{constructor(e,n,r,i,s=!1){this.auth=e,this.resolver=r,this.user=i,this.bypassAuthState=s,this.pendingPromise=null,this.eventManager=null,this.filter=Array.isArray(n)?n:[n]}execute(){return new Promise((e,n)=>C(this,null,function*(){this.pendingPromise={resolve:e,reject:n};try{this.eventManager=yield this.resolver._initialize(this.auth),yield this.onExecution(),this.eventManager.registerConsumer(this)}catch(r){this.reject(r)}}))}onAuthEvent(e){return C(this,null,function*(){let{urlResponse:n,sessionId:r,postBody:i,tenantId:s,error:o,type:a}=e;if(o){this.reject(o);return}let u={auth:this.auth,requestUri:n,sessionId:r,tenantId:s||void 0,postBody:i||void 0,user:this.user,bypassAuthState:this.bypassAuthState};try{this.resolve(yield this.getIdpTask(a)(u))}catch(d){this.reject(d)}})}onError(e){this.reject(e)}getIdpTask(e){switch(e){case"signInViaPopup":case"signInViaRedirect":return MB;case"linkViaPopup":case"linkViaRedirect":return PB;case"reauthViaPopup":case"reauthViaRedirect":return NB;default:lr(this.auth,"internal-error")}}resolve(e){Bi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.resolve(e),this.unregisterAndCleanUp()}reject(e){Bi(this.pendingPromise,"Pending promise was never set"),this.pendingPromise.reject(e),this.unregisterAndCleanUp()}unregisterAndCleanUp(){this.eventManager&&this.eventManager.unregisterConsumer(this),this.pendingPromise=null,this.cleanUp()}};var G7=new qs(2e3,1e4);var kB="pendingRedirect",$f=new Map,kw=class t extends Pw{constructor(e,n,r=!1){super(e,["signInViaRedirect","linkViaRedirect","reauthViaRedirect","unknown"],n,void 0,r),this.eventId=null}execute(){return C(this,null,function*(){let e=$f.get(this.auth._key());if(!e){try{let r=(yield OB(this.resolver,this.auth))?yield mi(t.prototype,this,"execute").call(this):null;e=()=>Promise.resolve(r)}catch(n){e=()=>Promise.reject(n)}$f.set(this.auth._key(),e)}return this.bypassAuthState||$f.set(this.auth._key(),()=>Promise.resolve(null)),e()})}onAuthEvent(e){return C(this,null,function*(){if(e.type==="signInViaRedirect")return mi(t.prototype,this,"onAuthEvent").call(this,e);if(e.type==="unknown"){this.resolve(null);return}if(e.eventId){let n=yield this.auth._redirectUserForId(e.eventId);if(n)return this.user=n,mi(t.prototype,this,"onAuthEvent").call(this,e);this.resolve(null)}})}onExecution(){return C(this,null,function*(){})}cleanUp(){}};function OB(t,e){return C(this,null,function*(){let n=VB(e),r=LB(t);if(!(yield r._isAvailable()))return!1;let i=(yield r._get(n))==="true";return yield r._remove(n),i})}function FB(t,e){$f.set(t._key(),e)}function LB(t){return Hr(t._redirectPersistence)}function VB(t){return Bf(kB,t.config.apiKey,t.name)}function UB(t,e,n=!1){return C(this,null,function*(){if(xn(t.app))return Promise.reject(qr(t));let r=Gs(t),i=xB(r,e),o=yield new kw(r,i,n).execute();return o&&!n&&(delete o.user._redirectEventId,yield r._persistUserIfCurrent(o.user),yield r._setRedirectUser(null,e)),o})}var jB=10*60*1e3,Ow=class{constructor(e){this.auth=e,this.cachedEventUids=new Set,this.consumers=new Set,this.queuedRedirectEvent=null,this.hasHandledPotentialRedirect=!1,this.lastProcessedEventTime=Date.now()}registerConsumer(e){this.consumers.add(e),this.queuedRedirectEvent&&this.isEventForConsumer(this.queuedRedirectEvent,e)&&(this.sendToConsumer(this.queuedRedirectEvent,e),this.saveEventToCache(this.queuedRedirectEvent),this.queuedRedirectEvent=null)}unregisterConsumer(e){this.consumers.delete(e)}onEvent(e){if(this.hasEventBeenHandled(e))return!1;let n=!1;return this.consumers.forEach(r=>{this.isEventForConsumer(e,r)&&(n=!0,this.sendToConsumer(e,r),this.saveEventToCache(e))}),this.hasHandledPotentialRedirect||!BB(e)||(this.hasHandledPotentialRedirect=!0,n||(this.queuedRedirectEvent=e,n=!0)),n}sendToConsumer(e,n){var r;if(e.error&&!jA(e)){let i=((r=e.error.code)===null||r===void 0?void 0:r.split("auth/")[1])||"internal-error";n.onError(Hs(this.auth,i))}else n.onAuthEvent(e)}isEventForConsumer(e,n){let r=n.eventId===null||!!e.eventId&&e.eventId===n.eventId;return n.filter.includes(e.type)&&r}hasEventBeenHandled(e){return Date.now()-this.lastProcessedEventTime>=jB&&this.cachedEventUids.clear(),this.cachedEventUids.has(rA(e))}saveEventToCache(e){this.cachedEventUids.add(rA(e)),this.lastProcessedEventTime=Date.now()}};function rA(t){return[t.type,t.eventId,t.sessionId,t.tenantId].filter(e=>e).join("-")}function jA({type:t,error:e}){return t==="unknown"&&e?.code==="auth/no-auth-event"}function BB(t){switch(t.type){case"signInViaRedirect":case"linkViaRedirect":case"reauthViaRedirect":return!0;case"unknown":return jA(t);default:return!1}}function $B(n){return C(this,arguments,function*(t,e={}){return Gr(t,"GET","/v1/projects",e)})}var HB=/^\d{1,3}\.\d{1,3}\.\d{1,3}\.\d{1,3}$/,qB=/^https?/;function zB(t){return C(this,null,function*(){if(t.config.emulator)return;let{authorizedDomains:e}=yield $B(t);for(let n of e)try{if(GB(n))return}catch{}lr(t,"unauthorized-domain")})}function GB(t){let e=ww(),{protocol:n,hostname:r}=new URL(e);if(t.startsWith("chrome-extension://")){let o=new URL(t);return o.hostname===""&&r===""?n==="chrome-extension:"&&t.replace("chrome-extension://","")===e.replace("chrome-extension://",""):n==="chrome-extension:"&&o.hostname===r}if(!qB.test(n))return!1;if(HB.test(t))return r===t;let i=t.replace(/\./g,"\\.");return new RegExp("^(.+\\."+i+"|"+i+")$","i").test(r)}var WB=new qs(3e4,6e4);function iA(){let t=ur().___jsl;if(t?.H){for(let e of Object.keys(t.H))if(t.H[e].r=t.H[e].r||[],t.H[e].L=t.H[e].L||[],t.H[e].r=[...t.H[e].L],t.CP)for(let n=0;n<t.CP.length;n++)t.CP[n]=null}}function KB(t){return new Promise((e,n)=>{var r,i,s;function o(){iA(),gapi.load("gapi.iframes",{callback:()=>{e(gapi.iframes.getContext())},ontimeout:()=>{iA(),n(Hs(t,"network-request-failed"))},timeout:WB.get()})}if(!((i=(r=ur().gapi)===null||r===void 0?void 0:r.iframes)===null||i===void 0)&&i.Iframe)e(gapi.iframes.getContext());else if(!((s=ur().gapi)===null||s===void 0)&&s.load)o();else{let a=SA("iframefcb");return ur()[a]=()=>{gapi.load?o():n(Hs(t,"network-request-failed"))},TA(`${Yj()}?onload=${a}`).catch(u=>n(u))}}).catch(e=>{throw Hf=null,e})}var Hf=null;function QB(t){return Hf=Hf||KB(t),Hf}var YB=new qs(5e3,15e3),ZB="__/auth/iframe",JB="emulator/auth/iframe",XB={style:{position:"absolute",top:"-100px",width:"1px",height:"1px"},"aria-hidden":"true",tabindex:"-1"},e$=new Map([["identitytoolkit.googleapis.com","p"],["staging-identitytoolkit.sandbox.googleapis.com","s"],["test-identitytoolkit.sandbox.googleapis.com","t"]]);function t$(t){let e=t.config;X(e.authDomain,t,"auth-domain-config-required");let n=e.emulator?Uw(e,JB):`https://${t.config.authDomain}/${ZB}`,r={apiKey:e.apiKey,appName:t.name,v:cr},i=e$.get(t.config.apiHost);i&&(r.eid=i);let s=t._getFrameworks();return s.length&&(r.fw=s.join(",")),`${n}?${Du(r).slice(1)}`}function n$(t){return C(this,null,function*(){let e=yield QB(t),n=ur().gapi;return X(n,t,"internal-error"),e.open({where:document.body,url:t$(t),messageHandlersFilter:n.iframes.CROSS_ORIGIN_IFRAMES_FILTER,attributes:XB,dontclear:!0},r=>new Promise((i,s)=>C(this,null,function*(){yield r.restyle({setHideOnLeave:!1});let o=Hs(t,"network-request-failed"),a=ur().setTimeout(()=>{s(o)},YB.get());function u(){ur().clearTimeout(a),i(r)}r.ping(u).then(u,()=>{s(o)})})))})}var r$={location:"yes",resizable:"yes",statusbar:"yes",toolbar:"no"},i$=500,s$=600,o$="_blank",a$="http://localhost",ep=class{constructor(e){this.window=e,this.associatedEvent=null}close(){if(this.window)try{this.window.close()}catch{}}};function c$(t,e,n,r=i$,i=s$){let s=Math.max((window.screen.availHeight-i)/2,0).toString(),o=Math.max((window.screen.availWidth-r)/2,0).toString(),a="",u=Object.assign(Object.assign({},r$),{width:r.toString(),height:i.toString(),top:s,left:o}),d=yt().toLowerCase();n&&(a=wA(d)?o$:n),yA(d)&&(e=e||a$,u.scrollbars="yes");let p=Object.entries(u).reduce((_,[E,M])=>`${_}${E}=${M},`,"");if(qj(d)&&a!=="_self")return u$(e||"",a),new ep(null);let g=window.open(e||"",a,p);X(g,t,"popup-blocked");try{g.focus()}catch{}return new ep(g)}function u$(t,e){let n=document.createElement("a");n.href=t,n.target=e;let r=document.createEvent("MouseEvent");r.initMouseEvent("click",!0,!0,window,1,0,0,0,0,!1,!1,!1,!1,1,null),n.dispatchEvent(r)}var l$="__/auth/handler",d$="emulator/auth/handler",h$=encodeURIComponent("fac");function sA(t,e,n,r,i,s){return C(this,null,function*(){X(t.config.authDomain,t,"auth-domain-config-required"),X(t.config.apiKey,t,"invalid-api-key");let o={apiKey:t.config.apiKey,appName:t.name,authType:n,redirectUrl:r,v:cr,eventId:i};if(e instanceof Yf){e.setDefaultLanguage(t.languageCode),o.providerId=e.providerId||"",MS(e.getCustomParameters())||(o.customParameters=JSON.stringify(e.getCustomParameters()));for(let[p,g]of Object.entries(s||{}))o[p]=g}if(e instanceof Rw){let p=e.getScopes().filter(g=>g!=="");p.length>0&&(o.scopes=p.join(","))}t.tenantId&&(o.tid=t.tenantId);let a=o;for(let p of Object.keys(a))a[p]===void 0&&delete a[p];let u=yield t._getAppCheckToken(),d=u?`#${h$}=${encodeURIComponent(u)}`:"";return`${f$(t)}?${Du(a).slice(1)}${d}`})}function f$({config:t}){return t.emulator?Uw(t,d$):`https://${t.authDomain}/${l$}`}var vw="webStorageSupport",Fw=class{constructor(){this.eventManagers={},this.iframes={},this.originValidationPromises={},this._redirectPersistence=Zw,this._completeRedirectFn=UB,this._overrideRedirectResult=FB}_openPopup(e,n,r,i){return C(this,null,function*(){var s;Bi((s=this.eventManagers[e._key()])===null||s===void 0?void 0:s.manager,"_initialize() not called before _openPopup()");let o=yield sA(e,n,r,ww(),i);return c$(e,o,OA())})}_openRedirect(e,n,r,i){return C(this,null,function*(){yield this._originValidation(e);let s=yield sA(e,n,r,ww(),i);return _B(s),new Promise(()=>{})})}_initialize(e){let n=e._key();if(this.eventManagers[n]){let{manager:i,promise:s}=this.eventManagers[n];return i?Promise.resolve(i):(Bi(s,"If manager is not set, promise should be"),s)}let r=this.initAndGetManager(e);return this.eventManagers[n]={promise:r},r.catch(()=>{delete this.eventManagers[n]}),r}initAndGetManager(e){return C(this,null,function*(){let n=yield n$(e),r=new Ow(e);return n.register("authEvent",i=>(X(i?.authEvent,e,"invalid-auth-event"),{status:r.onEvent(i.authEvent)?"ACK":"ERROR"}),gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER),this.eventManagers[e._key()]={manager:r},this.iframes[e._key()]=n,r})}_isIframeWebStorageSupported(e,n){this.iframes[e._key()].send(vw,{type:vw},i=>{var s;let o=(s=i?.[0])===null||s===void 0?void 0:s[vw];o!==void 0&&n(!!o),lr(e,"internal-error")},gapi.iframes.CROSS_ORIGIN_IFRAMES_FILTER)}_originValidation(e){let n=e._key();return this.originValidationPromises[n]||(this.originValidationPromises[n]=zB(e)),this.originValidationPromises[n]}get _shouldInitProactively(){return DA()||vA()||Hw()}},BA=Fw;var oA="@firebase/auth",aA="1.7.9";var Lw=class{constructor(e){this.auth=e,this.internalListeners=new Map}getUid(){var e;return this.assertAuthConfigured(),((e=this.auth.currentUser)===null||e===void 0?void 0:e.uid)||null}getToken(e){return C(this,null,function*(){return this.assertAuthConfigured(),yield this.auth._initializationPromise,this.auth.currentUser?{accessToken:yield this.auth.currentUser.getIdToken(e)}:null})}addAuthTokenListener(e){if(this.assertAuthConfigured(),this.internalListeners.has(e))return;let n=this.auth.onIdTokenChanged(r=>{e(r?.stsTokenManager.accessToken||null)});this.internalListeners.set(e,n),this.updateProactiveRefresh()}removeAuthTokenListener(e){this.assertAuthConfigured();let n=this.internalListeners.get(e);n&&(this.internalListeners.delete(e),n(),this.updateProactiveRefresh())}assertAuthConfigured(){X(this.auth._initializationPromise,"dependent-sdk-initialized-before-auth")}updateProactiveRefresh(){this.internalListeners.size>0?this.auth._startProactiveRefresh():this.auth._stopProactiveRefresh()}};function p$(t){switch(t){case"Node":return"node";case"ReactNative":return"rn";case"Worker":return"webworker";case"Cordova":return"cordova";case"WebExtension":return"web-extension";default:return}}function g$(t){ar(new Bt("auth",(e,{options:n})=>{let r=e.getProvider("app").getImmediate(),i=e.getProvider("heartbeat"),s=e.getProvider("app-check-internal"),{apiKey:o,authDomain:a}=r.options;X(o&&!o.includes(":"),"invalid-api-key",{appName:r.name});let u={apiKey:o,authDomain:a,clientPlatform:t,apiHost:"identitytoolkit.googleapis.com",tokenApiHost:"securetoken.googleapis.com",apiScheme:"https",sdkClientVersion:CA(t)},d=new Tw(r,i,s,u);return Xj(d,n),d},"PUBLIC").setInstantiationMode("EXPLICIT").setInstanceCreatedCallback((e,n,r)=>{e.getProvider("auth-internal").initialize()})),ar(new Bt("auth-internal",e=>{let n=Gs(e.getProvider("auth").getImmediate());return(r=>new Lw(r))(n)},"PRIVATE").setInstantiationMode("EXPLICIT")),$e(oA,aA,p$(t)),$e(oA,aA,"esm2017")}var m$=5*60,y$=Zv("authIdTokenMaxAge")||m$,cA=null,v$=t=>e=>C(void 0,null,function*(){let n=e&&(yield e.getIdTokenResult()),r=n&&(new Date().getTime()-Date.parse(n.issuedAtTime))/1e3;if(r&&r>y$)return;let i=n?.token;cA!==i&&(cA=i,yield fetch(t,{method:i?"POST":"DELETE",headers:i?{Authorization:`Bearer ${i}`}:{}}))});function Jw(t=Vi()){let e=Vs(t,"auth");if(e.isInitialized())return e.getImmediate();let n=qw(t,{popupRedirectResolver:BA,persistence:[UA,kA,Zw]}),r=Zv("authTokenSyncURL");if(r&&typeof isSecureContext=="boolean"&&isSecureContext){let s=new URL(r,location.origin);if(location.origin===s.origin){let o=v$(s.toString());Yw(n,o,()=>o(n.currentUser)),Qw(n,a=>o(a))}}let i=Qv("auth");return i&&zw(n,`http://${i}`),n}function w$(){var t,e;return(e=(t=document.getElementsByTagName("head"))===null||t===void 0?void 0:t[0])!==null&&e!==void 0?e:document}Kj({loadJS(t){return new Promise((e,n)=>{let r=document.createElement("script");r.setAttribute("src",t),r.onload=e,r.onerror=i=>{let s=Hs("internal-error");s.customData=i,n(s)},r.type="text/javascript",r.charset="UTF-8",w$().appendChild(r)})},gapiScript:"https://apis.google.com/js/api.js",recaptchaV2Script:"https://www.google.com/recaptcha/api.js",recaptchaEnterpriseScript:"https://www.google.com/recaptcha/enterprise.js?render="});g$("Browser");var $A="auth",Fu=class{constructor(e){return e}},Lu=class{constructor(){return Ta($A)}};var Xw=new W("angularfire2.auth-instances");function uH(t,e){let n=Su($A,t,e);return n&&new Fu(n)}function lH(t){return(e,n)=>{let r=e.runOutsideAngular(()=>t(n));return new Fu(r)}}var dH={provide:Lu,deps:[[new St,Xw]]},hH={provide:Fu,useFactory:uH,deps:[[new St,Xw],Br]};function RQ(t,...e){return $e("angularfire",Ui.full,"auth"),Yn([hH,dH,{provide:Xw,useFactory:lH(t),multi:!0,deps:[Re,Et,Bs,$s,[new St,js],...e]}])}var xQ=We(Jw,!0);var MQ=We(Kw,!0);var NQ=We(Ww,!0);var HA=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},qA={};var $i,e_;(function(){var t;function e(T,I){function b(){}b.prototype=I.prototype,T.D=I.prototype,T.prototype=new b,T.prototype.constructor=T,T.C=function(S,A,R){for(var D=Array(arguments.length-2),gn=2;gn<arguments.length;gn++)D[gn-2]=arguments[gn];return I.prototype[A].apply(S,D)}}function n(){this.blockSize=-1}function r(){this.blockSize=-1,this.blockSize=64,this.g=Array(4),this.B=Array(this.blockSize),this.o=this.h=0,this.s()}e(r,n),r.prototype.s=function(){this.g[0]=1732584193,this.g[1]=4023233417,this.g[2]=2562383102,this.g[3]=271733878,this.o=this.h=0};function i(T,I,b){b||(b=0);var S=Array(16);if(typeof I=="string")for(var A=0;16>A;++A)S[A]=I.charCodeAt(b++)|I.charCodeAt(b++)<<8|I.charCodeAt(b++)<<16|I.charCodeAt(b++)<<24;else for(A=0;16>A;++A)S[A]=I[b++]|I[b++]<<8|I[b++]<<16|I[b++]<<24;I=T.g[0],b=T.g[1],A=T.g[2];var R=T.g[3],D=I+(R^b&(A^R))+S[0]+3614090360&4294967295;I=b+(D<<7&4294967295|D>>>25),D=R+(A^I&(b^A))+S[1]+3905402710&4294967295,R=I+(D<<12&4294967295|D>>>20),D=A+(b^R&(I^b))+S[2]+606105819&4294967295,A=R+(D<<17&4294967295|D>>>15),D=b+(I^A&(R^I))+S[3]+3250441966&4294967295,b=A+(D<<22&4294967295|D>>>10),D=I+(R^b&(A^R))+S[4]+4118548399&4294967295,I=b+(D<<7&4294967295|D>>>25),D=R+(A^I&(b^A))+S[5]+1200080426&4294967295,R=I+(D<<12&4294967295|D>>>20),D=A+(b^R&(I^b))+S[6]+2821735955&4294967295,A=R+(D<<17&4294967295|D>>>15),D=b+(I^A&(R^I))+S[7]+4249261313&4294967295,b=A+(D<<22&4294967295|D>>>10),D=I+(R^b&(A^R))+S[8]+1770035416&4294967295,I=b+(D<<7&4294967295|D>>>25),D=R+(A^I&(b^A))+S[9]+2336552879&4294967295,R=I+(D<<12&4294967295|D>>>20),D=A+(b^R&(I^b))+S[10]+4294925233&4294967295,A=R+(D<<17&4294967295|D>>>15),D=b+(I^A&(R^I))+S[11]+2304563134&4294967295,b=A+(D<<22&4294967295|D>>>10),D=I+(R^b&(A^R))+S[12]+1804603682&4294967295,I=b+(D<<7&4294967295|D>>>25),D=R+(A^I&(b^A))+S[13]+4254626195&4294967295,R=I+(D<<12&4294967295|D>>>20),D=A+(b^R&(I^b))+S[14]+2792965006&4294967295,A=R+(D<<17&4294967295|D>>>15),D=b+(I^A&(R^I))+S[15]+1236535329&4294967295,b=A+(D<<22&4294967295|D>>>10),D=I+(A^R&(b^A))+S[1]+4129170786&4294967295,I=b+(D<<5&4294967295|D>>>27),D=R+(b^A&(I^b))+S[6]+3225465664&4294967295,R=I+(D<<9&4294967295|D>>>23),D=A+(I^b&(R^I))+S[11]+643717713&4294967295,A=R+(D<<14&4294967295|D>>>18),D=b+(R^I&(A^R))+S[0]+3921069994&4294967295,b=A+(D<<20&4294967295|D>>>12),D=I+(A^R&(b^A))+S[5]+3593408605&4294967295,I=b+(D<<5&4294967295|D>>>27),D=R+(b^A&(I^b))+S[10]+38016083&4294967295,R=I+(D<<9&4294967295|D>>>23),D=A+(I^b&(R^I))+S[15]+3634488961&4294967295,A=R+(D<<14&4294967295|D>>>18),D=b+(R^I&(A^R))+S[4]+3889429448&4294967295,b=A+(D<<20&4294967295|D>>>12),D=I+(A^R&(b^A))+S[9]+568446438&4294967295,I=b+(D<<5&4294967295|D>>>27),D=R+(b^A&(I^b))+S[14]+3275163606&4294967295,R=I+(D<<9&4294967295|D>>>23),D=A+(I^b&(R^I))+S[3]+4107603335&4294967295,A=R+(D<<14&4294967295|D>>>18),D=b+(R^I&(A^R))+S[8]+1163531501&4294967295,b=A+(D<<20&4294967295|D>>>12),D=I+(A^R&(b^A))+S[13]+2850285829&4294967295,I=b+(D<<5&4294967295|D>>>27),D=R+(b^A&(I^b))+S[2]+4243563512&4294967295,R=I+(D<<9&4294967295|D>>>23),D=A+(I^b&(R^I))+S[7]+1735328473&4294967295,A=R+(D<<14&4294967295|D>>>18),D=b+(R^I&(A^R))+S[12]+2368359562&4294967295,b=A+(D<<20&4294967295|D>>>12),D=I+(b^A^R)+S[5]+4294588738&4294967295,I=b+(D<<4&4294967295|D>>>28),D=R+(I^b^A)+S[8]+2272392833&4294967295,R=I+(D<<11&4294967295|D>>>21),D=A+(R^I^b)+S[11]+1839030562&4294967295,A=R+(D<<16&4294967295|D>>>16),D=b+(A^R^I)+S[14]+4259657740&4294967295,b=A+(D<<23&4294967295|D>>>9),D=I+(b^A^R)+S[1]+2763975236&4294967295,I=b+(D<<4&4294967295|D>>>28),D=R+(I^b^A)+S[4]+1272893353&4294967295,R=I+(D<<11&4294967295|D>>>21),D=A+(R^I^b)+S[7]+4139469664&4294967295,A=R+(D<<16&4294967295|D>>>16),D=b+(A^R^I)+S[10]+3200236656&4294967295,b=A+(D<<23&4294967295|D>>>9),D=I+(b^A^R)+S[13]+681279174&4294967295,I=b+(D<<4&4294967295|D>>>28),D=R+(I^b^A)+S[0]+3936430074&4294967295,R=I+(D<<11&4294967295|D>>>21),D=A+(R^I^b)+S[3]+3572445317&4294967295,A=R+(D<<16&4294967295|D>>>16),D=b+(A^R^I)+S[6]+76029189&4294967295,b=A+(D<<23&4294967295|D>>>9),D=I+(b^A^R)+S[9]+3654602809&4294967295,I=b+(D<<4&4294967295|D>>>28),D=R+(I^b^A)+S[12]+3873151461&4294967295,R=I+(D<<11&4294967295|D>>>21),D=A+(R^I^b)+S[15]+530742520&4294967295,A=R+(D<<16&4294967295|D>>>16),D=b+(A^R^I)+S[2]+3299628645&4294967295,b=A+(D<<23&4294967295|D>>>9),D=I+(A^(b|~R))+S[0]+4096336452&4294967295,I=b+(D<<6&4294967295|D>>>26),D=R+(b^(I|~A))+S[7]+1126891415&4294967295,R=I+(D<<10&4294967295|D>>>22),D=A+(I^(R|~b))+S[14]+2878612391&4294967295,A=R+(D<<15&4294967295|D>>>17),D=b+(R^(A|~I))+S[5]+4237533241&4294967295,b=A+(D<<21&4294967295|D>>>11),D=I+(A^(b|~R))+S[12]+1700485571&4294967295,I=b+(D<<6&4294967295|D>>>26),D=R+(b^(I|~A))+S[3]+2399980690&4294967295,R=I+(D<<10&4294967295|D>>>22),D=A+(I^(R|~b))+S[10]+4293915773&4294967295,A=R+(D<<15&4294967295|D>>>17),D=b+(R^(A|~I))+S[1]+2240044497&4294967295,b=A+(D<<21&4294967295|D>>>11),D=I+(A^(b|~R))+S[8]+1873313359&4294967295,I=b+(D<<6&4294967295|D>>>26),D=R+(b^(I|~A))+S[15]+4264355552&4294967295,R=I+(D<<10&4294967295|D>>>22),D=A+(I^(R|~b))+S[6]+2734768916&4294967295,A=R+(D<<15&4294967295|D>>>17),D=b+(R^(A|~I))+S[13]+1309151649&4294967295,b=A+(D<<21&4294967295|D>>>11),D=I+(A^(b|~R))+S[4]+4149444226&4294967295,I=b+(D<<6&4294967295|D>>>26),D=R+(b^(I|~A))+S[11]+3174756917&4294967295,R=I+(D<<10&4294967295|D>>>22),D=A+(I^(R|~b))+S[2]+718787259&4294967295,A=R+(D<<15&4294967295|D>>>17),D=b+(R^(A|~I))+S[9]+3951481745&4294967295,T.g[0]=T.g[0]+I&4294967295,T.g[1]=T.g[1]+(A+(D<<21&4294967295|D>>>11))&4294967295,T.g[2]=T.g[2]+A&4294967295,T.g[3]=T.g[3]+R&4294967295}r.prototype.u=function(T,I){I===void 0&&(I=T.length);for(var b=I-this.blockSize,S=this.B,A=this.h,R=0;R<I;){if(A==0)for(;R<=b;)i(this,T,R),R+=this.blockSize;if(typeof T=="string"){for(;R<I;)if(S[A++]=T.charCodeAt(R++),A==this.blockSize){i(this,S),A=0;break}}else for(;R<I;)if(S[A++]=T[R++],A==this.blockSize){i(this,S),A=0;break}}this.h=A,this.o+=I},r.prototype.v=function(){var T=Array((56>this.h?this.blockSize:2*this.blockSize)-this.h);T[0]=128;for(var I=1;I<T.length-8;++I)T[I]=0;var b=8*this.o;for(I=T.length-8;I<T.length;++I)T[I]=b&255,b/=256;for(this.u(T),T=Array(16),I=b=0;4>I;++I)for(var S=0;32>S;S+=8)T[b++]=this.g[I]>>>S&255;return T};function s(T,I){var b=a;return Object.prototype.hasOwnProperty.call(b,T)?b[T]:b[T]=I(T)}function o(T,I){this.h=I;for(var b=[],S=!0,A=T.length-1;0<=A;A--){var R=T[A]|0;S&&R==I||(b[A]=R,S=!1)}this.g=b}var a={};function u(T){return-128<=T&&128>T?s(T,function(I){return new o([I|0],0>I?-1:0)}):new o([T|0],0>T?-1:0)}function d(T){if(isNaN(T)||!isFinite(T))return g;if(0>T)return P(d(-T));for(var I=[],b=1,S=0;T>=b;S++)I[S]=T/b|0,b*=4294967296;return new o(I,0)}function p(T,I){if(T.length==0)throw Error("number format error: empty string");if(I=I||10,2>I||36<I)throw Error("radix out of range: "+I);if(T.charAt(0)=="-")return P(p(T.substring(1),I));if(0<=T.indexOf("-"))throw Error('number format error: interior "-" character');for(var b=d(Math.pow(I,8)),S=g,A=0;A<T.length;A+=8){var R=Math.min(8,T.length-A),D=parseInt(T.substring(A,A+R),I);8>R?(R=d(Math.pow(I,R)),S=S.j(R).add(d(D))):(S=S.j(b),S=S.add(d(D)))}return S}var g=u(0),_=u(1),E=u(16777216);t=o.prototype,t.m=function(){if(O(this))return-P(this).m();for(var T=0,I=1,b=0;b<this.g.length;b++){var S=this.i(b);T+=(0<=S?S:4294967296+S)*I,I*=4294967296}return T},t.toString=function(T){if(T=T||10,2>T||36<T)throw Error("radix out of range: "+T);if(M(this))return"0";if(O(this))return"-"+P(this).toString(T);for(var I=d(Math.pow(T,6)),b=this,S="";;){var A=K(b,I).g;b=V(b,A.j(I));var R=((0<b.g.length?b.g[0]:b.h)>>>0).toString(T);if(b=A,M(b))return R+S;for(;6>R.length;)R="0"+R;S=R+S}},t.i=function(T){return 0>T?0:T<this.g.length?this.g[T]:this.h};function M(T){if(T.h!=0)return!1;for(var I=0;I<T.g.length;I++)if(T.g[I]!=0)return!1;return!0}function O(T){return T.h==-1}t.l=function(T){return T=V(this,T),O(T)?-1:M(T)?0:1};function P(T){for(var I=T.g.length,b=[],S=0;S<I;S++)b[S]=~T.g[S];return new o(b,~T.h).add(_)}t.abs=function(){return O(this)?P(this):this},t.add=function(T){for(var I=Math.max(this.g.length,T.g.length),b=[],S=0,A=0;A<=I;A++){var R=S+(this.i(A)&65535)+(T.i(A)&65535),D=(R>>>16)+(this.i(A)>>>16)+(T.i(A)>>>16);S=D>>>16,R&=65535,D&=65535,b[A]=D<<16|R}return new o(b,b[b.length-1]&-2147483648?-1:0)};function V(T,I){return T.add(P(I))}t.j=function(T){if(M(this)||M(T))return g;if(O(this))return O(T)?P(this).j(P(T)):P(P(this).j(T));if(O(T))return P(this.j(P(T)));if(0>this.l(E)&&0>T.l(E))return d(this.m()*T.m());for(var I=this.g.length+T.g.length,b=[],S=0;S<2*I;S++)b[S]=0;for(S=0;S<this.g.length;S++)for(var A=0;A<T.g.length;A++){var R=this.i(S)>>>16,D=this.i(S)&65535,gn=T.i(A)>>>16,Jr=T.i(A)&65535;b[2*S+2*A]+=D*Jr,G(b,2*S+2*A),b[2*S+2*A+1]+=R*Jr,G(b,2*S+2*A+1),b[2*S+2*A+1]+=D*gn,G(b,2*S+2*A+1),b[2*S+2*A+2]+=R*gn,G(b,2*S+2*A+2)}for(S=0;S<I;S++)b[S]=b[2*S+1]<<16|b[2*S];for(S=I;S<2*I;S++)b[S]=0;return new o(b,0)};function G(T,I){for(;(T[I]&65535)!=T[I];)T[I+1]+=T[I]>>>16,T[I]&=65535,I++}function q(T,I){this.g=T,this.h=I}function K(T,I){if(M(I))throw Error("division by zero");if(M(T))return new q(g,g);if(O(T))return I=K(P(T),I),new q(P(I.g),P(I.h));if(O(I))return I=K(T,P(I)),new q(P(I.g),I.h);if(30<T.g.length){if(O(T)||O(I))throw Error("slowDivide_ only works with positive integers.");for(var b=_,S=I;0>=S.l(T);)b=Ce(b),S=Ce(S);var A=J(b,1),R=J(S,1);for(S=J(S,2),b=J(b,2);!M(S);){var D=R.add(S);0>=D.l(T)&&(A=A.add(b),R=D),S=J(S,1),b=J(b,1)}return I=V(T,A.j(I)),new q(A,I)}for(A=g;0<=T.l(I);){for(b=Math.max(1,Math.floor(T.m()/I.m())),S=Math.ceil(Math.log(b)/Math.LN2),S=48>=S?1:Math.pow(2,S-48),R=d(b),D=R.j(I);O(D)||0<D.l(T);)b-=S,R=d(b),D=R.j(I);M(R)&&(R=_),A=A.add(R),T=V(T,D)}return new q(A,T)}t.A=function(T){return K(this,T).h},t.and=function(T){for(var I=Math.max(this.g.length,T.g.length),b=[],S=0;S<I;S++)b[S]=this.i(S)&T.i(S);return new o(b,this.h&T.h)},t.or=function(T){for(var I=Math.max(this.g.length,T.g.length),b=[],S=0;S<I;S++)b[S]=this.i(S)|T.i(S);return new o(b,this.h|T.h)},t.xor=function(T){for(var I=Math.max(this.g.length,T.g.length),b=[],S=0;S<I;S++)b[S]=this.i(S)^T.i(S);return new o(b,this.h^T.h)};function Ce(T){for(var I=T.g.length+1,b=[],S=0;S<I;S++)b[S]=T.i(S)<<1|T.i(S-1)>>>31;return new o(b,T.h)}function J(T,I){var b=I>>5;I%=32;for(var S=T.g.length-b,A=[],R=0;R<S;R++)A[R]=0<I?T.i(R+b)>>>I|T.i(R+b+1)<<32-I:T.i(R+b);return new o(A,T.h)}r.prototype.digest=r.prototype.v,r.prototype.reset=r.prototype.s,r.prototype.update=r.prototype.u,e_=qA.Md5=r,o.prototype.add=o.prototype.add,o.prototype.multiply=o.prototype.j,o.prototype.modulo=o.prototype.A,o.prototype.compare=o.prototype.l,o.prototype.toNumber=o.prototype.m,o.prototype.toString=o.prototype.toString,o.prototype.getBits=o.prototype.i,o.fromNumber=d,o.fromString=p,$i=qA.Integer=o}).apply(typeof HA<"u"?HA:typeof self<"u"?self:typeof window<"u"?window:{});var rp=typeof globalThis<"u"?globalThis:typeof window<"u"?window:typeof global<"u"?global:typeof self<"u"?self:{},Wr={};var t_,fH,Ra,n_,Vu,ip,r_,i_,s_;(function(){var t,e=typeof Object.defineProperties=="function"?Object.defineProperty:function(c,f,m){return c==Array.prototype||c==Object.prototype||(c[f]=m.value),c};function n(c){c=[typeof globalThis=="object"&&globalThis,c,typeof window=="object"&&window,typeof self=="object"&&self,typeof rp=="object"&&rp];for(var f=0;f<c.length;++f){var m=c[f];if(m&&m.Math==Math)return m}throw Error("Cannot find global object")}var r=n(this);function i(c,f){if(f)e:{var m=r;c=c.split(".");for(var v=0;v<c.length-1;v++){var x=c[v];if(!(x in m))break e;m=m[x]}c=c[c.length-1],v=m[c],f=f(v),f!=v&&f!=null&&e(m,c,{configurable:!0,writable:!0,value:f})}}function s(c,f){c instanceof String&&(c+="");var m=0,v=!1,x={next:function(){if(!v&&m<c.length){var k=m++;return{value:f(k,c[k]),done:!1}}return v=!0,{done:!0,value:void 0}}};return x[Symbol.iterator]=function(){return x},x}i("Array.prototype.values",function(c){return c||function(){return s(this,function(f,m){return m})}});var o=o||{},a=this||self;function u(c){var f=typeof c;return f=f!="object"?f:c?Array.isArray(c)?"array":f:"null",f=="array"||f=="object"&&typeof c.length=="number"}function d(c){var f=typeof c;return f=="object"&&c!=null||f=="function"}function p(c,f,m){return c.call.apply(c.bind,arguments)}function g(c,f,m){if(!c)throw Error();if(2<arguments.length){var v=Array.prototype.slice.call(arguments,2);return function(){var x=Array.prototype.slice.call(arguments);return Array.prototype.unshift.apply(x,v),c.apply(f,x)}}return function(){return c.apply(f,arguments)}}function _(c,f,m){return _=Function.prototype.bind&&Function.prototype.bind.toString().indexOf("native code")!=-1?p:g,_.apply(null,arguments)}function E(c,f){var m=Array.prototype.slice.call(arguments,1);return function(){var v=m.slice();return v.push.apply(v,arguments),c.apply(this,v)}}function M(c,f){function m(){}m.prototype=f.prototype,c.aa=f.prototype,c.prototype=new m,c.prototype.constructor=c,c.Qb=function(v,x,k){for(var U=Array(arguments.length-2),Se=2;Se<arguments.length;Se++)U[Se-2]=arguments[Se];return f.prototype[x].apply(v,U)}}function O(c){let f=c.length;if(0<f){let m=Array(f);for(let v=0;v<f;v++)m[v]=c[v];return m}return[]}function P(c,f){for(let m=1;m<arguments.length;m++){let v=arguments[m];if(u(v)){let x=c.length||0,k=v.length||0;c.length=x+k;for(let U=0;U<k;U++)c[x+U]=v[U]}else c.push(v)}}class V{constructor(f,m){this.i=f,this.j=m,this.h=0,this.g=null}get(){let f;return 0<this.h?(this.h--,f=this.g,this.g=f.next,f.next=null):f=this.i(),f}}function G(c){return/^[\s\xa0]*$/.test(c)}function q(){var c=a.navigator;return c&&(c=c.userAgent)?c:""}function K(c){return K[" "](c),c}K[" "]=function(){};var Ce=q().indexOf("Gecko")!=-1&&!(q().toLowerCase().indexOf("webkit")!=-1&&q().indexOf("Edge")==-1)&&!(q().indexOf("Trident")!=-1||q().indexOf("MSIE")!=-1)&&q().indexOf("Edge")==-1;function J(c,f,m){for(let v in c)f.call(m,c[v],v,c)}function T(c,f){for(let m in c)f.call(void 0,c[m],m,c)}function I(c){let f={};for(let m in c)f[m]=c[m];return f}let b="constructor hasOwnProperty isPrototypeOf propertyIsEnumerable toLocaleString toString valueOf".split(" ");function S(c,f){let m,v;for(let x=1;x<arguments.length;x++){v=arguments[x];for(m in v)c[m]=v[m];for(let k=0;k<b.length;k++)m=b[k],Object.prototype.hasOwnProperty.call(v,m)&&(c[m]=v[m])}}function A(c){var f=1;c=c.split(":");let m=[];for(;0<f&&c.length;)m.push(c.shift()),f--;return c.length&&m.push(c.join(":")),m}function R(c){a.setTimeout(()=>{throw c},0)}function D(){var c=ei;let f=null;return c.g&&(f=c.g,c.g=c.g.next,c.g||(c.h=null),f.next=null),f}class gn{constructor(){this.h=this.g=null}add(f,m){let v=Jr.get();v.set(f,m),this.h?this.h.next=v:this.g=v,this.h=v}}var Jr=new V(()=>new Xa,c=>c.reset());class Xa{constructor(){this.next=this.g=this.h=null}set(f,m){this.h=f,this.g=m,this.next=null}reset(){this.next=this.g=this.h=null}}let Xr,_r=!1,ei=new gn,Ht=()=>{let c=a.Promise.resolve(void 0);Xr=()=>{c.then(ti)}};var ti=()=>{for(var c;c=D();){try{c.h.call(c.g)}catch(m){R(m)}var f=Jr;f.j(c),100>f.h&&(f.h++,c.next=f.g,f.g=c)}_r=!1};function Ct(){this.s=this.s,this.C=this.C}Ct.prototype.s=!1,Ct.prototype.ma=function(){this.s||(this.s=!0,this.N())},Ct.prototype.N=function(){if(this.C)for(;this.C.length;)this.C.shift()()};function ht(c,f){this.type=c,this.g=this.target=f,this.defaultPrevented=!1}ht.prototype.h=function(){this.defaultPrevented=!0};var ni=function(){if(!a.addEventListener||!Object.defineProperty)return!1;var c=!1,f=Object.defineProperty({},"passive",{get:function(){c=!0}});try{let m=()=>{};a.addEventListener("test",m,f),a.removeEventListener("test",m,f)}catch{}return c}();function mn(c,f){if(ht.call(this,c?c.type:""),this.relatedTarget=this.g=this.target=null,this.button=this.screenY=this.screenX=this.clientY=this.clientX=0,this.key="",this.metaKey=this.shiftKey=this.altKey=this.ctrlKey=!1,this.state=null,this.pointerId=0,this.pointerType="",this.i=null,c){var m=this.type=c.type,v=c.changedTouches&&c.changedTouches.length?c.changedTouches[0]:null;if(this.target=c.target||c.srcElement,this.g=f,f=c.relatedTarget){if(Ce){e:{try{K(f.nodeName);var x=!0;break e}catch{}x=!1}x||(f=null)}}else m=="mouseover"?f=c.fromElement:m=="mouseout"&&(f=c.toElement);this.relatedTarget=f,v?(this.clientX=v.clientX!==void 0?v.clientX:v.pageX,this.clientY=v.clientY!==void 0?v.clientY:v.pageY,this.screenX=v.screenX||0,this.screenY=v.screenY||0):(this.clientX=c.clientX!==void 0?c.clientX:c.pageX,this.clientY=c.clientY!==void 0?c.clientY:c.pageY,this.screenX=c.screenX||0,this.screenY=c.screenY||0),this.button=c.button,this.key=c.key||"",this.ctrlKey=c.ctrlKey,this.altKey=c.altKey,this.shiftKey=c.shiftKey,this.metaKey=c.metaKey,this.pointerId=c.pointerId||0,this.pointerType=typeof c.pointerType=="string"?c.pointerType:pl[c.pointerType]||"",this.state=c.state,this.i=c,c.defaultPrevented&&mn.aa.h.call(this)}}M(mn,ht);var pl={2:"touch",3:"pen",4:"mouse"};mn.prototype.h=function(){mn.aa.h.call(this);var c=this.i;c.preventDefault?c.preventDefault():c.returnValue=!1};var kn="closure_listenable_"+(1e6*Math.random()|0),ec=0;function rg(c,f,m,v,x){this.listener=c,this.proxy=null,this.src=f,this.type=m,this.capture=!!v,this.ha=x,this.key=++ec,this.da=this.fa=!1}function ri(c){c.da=!0,c.listener=null,c.proxy=null,c.src=null,c.ha=null}function ii(c){this.src=c,this.g={},this.h=0}ii.prototype.add=function(c,f,m,v,x){var k=c.toString();c=this.g[k],c||(c=this.g[k]=[],this.h++);var U=tc(c,f,v,x);return-1<U?(f=c[U],m||(f.fa=!1)):(f=new rg(f,this.src,k,!!v,x),f.fa=m,c.push(f)),f};function si(c,f){var m=f.type;if(m in c.g){var v=c.g[m],x=Array.prototype.indexOf.call(v,f,void 0),k;(k=0<=x)&&Array.prototype.splice.call(v,x,1),k&&(ri(f),c.g[m].length==0&&(delete c.g[m],c.h--))}}function tc(c,f,m,v){for(var x=0;x<c.length;++x){var k=c[x];if(!k.da&&k.listener==f&&k.capture==!!m&&k.ha==v)return x}return-1}var wt="closure_lm_"+(1e6*Math.random()|0),qt={};function gl(c,f,m,v,x){if(v&&v.once)return nc(c,f,m,v,x);if(Array.isArray(f)){for(var k=0;k<f.length;k++)gl(c,f[k],m,v,x);return null}return m=Je(m),c&&c[kn]?c.K(f,m,d(v)?!!v.capture:!!v,x):Tt(c,f,m,!1,v,x)}function Tt(c,f,m,v,x,k){if(!f)throw Error("Invalid event type");var U=d(x)?!!x.capture:!!x,Se=yn(c);if(Se||(c[wt]=Se=new ii(c)),m=Se.add(f,m,v,U,k),m.proxy)return m;if(v=so(),m.proxy=v,v.src=c,v.listener=m,c.addEventListener)ni||(x=U),x===void 0&&(x=!1),c.addEventListener(f.toString(),v,x);else if(c.attachEvent)c.attachEvent(zt(f.toString()),v);else if(c.addListener&&c.removeListener)c.addListener(v);else throw Error("addEventListener and attachEvent are unavailable.");return m}function so(){function c(m){return f.call(c.src,c.listener,m)}let f=On;return c}function nc(c,f,m,v,x){if(Array.isArray(f)){for(var k=0;k<f.length;k++)nc(c,f[k],m,v,x);return null}return m=Je(m),c&&c[kn]?c.L(f,m,d(v)?!!v.capture:!!v,x):Tt(c,f,m,!0,v,x)}function rc(c,f,m,v,x){if(Array.isArray(f))for(var k=0;k<f.length;k++)rc(c,f[k],m,v,x);else v=d(v)?!!v.capture:!!v,m=Je(m),c&&c[kn]?(c=c.i,f=String(f).toString(),f in c.g&&(k=c.g[f],m=tc(k,m,v,x),-1<m&&(ri(k[m]),Array.prototype.splice.call(k,m,1),k.length==0&&(delete c.g[f],c.h--)))):c&&(c=yn(c))&&(f=c.g[f.toString()],c=-1,f&&(c=tc(f,m,v,x)),(m=-1<c?f[c]:null)&&pe(m))}function pe(c){if(typeof c!="number"&&c&&!c.da){var f=c.src;if(f&&f[kn])si(f.i,c);else{var m=c.type,v=c.proxy;f.removeEventListener?f.removeEventListener(m,v,c.capture):f.detachEvent?f.detachEvent(zt(m),v):f.addListener&&f.removeListener&&f.removeListener(v),(m=yn(f))?(si(m,c),m.h==0&&(m.src=null,f[wt]=null)):ri(c)}}}function zt(c){return c in qt?qt[c]:qt[c]="on"+c}function On(c,f){if(c.da)c=!0;else{f=new mn(f,this);var m=c.listener,v=c.ha||c.src;c.fa&&pe(c),c=m.call(v,f)}return c}function yn(c){return c=c[wt],c instanceof ii?c:null}var qe="__closure_events_fn_"+(1e9*Math.random()>>>0);function Je(c){return typeof c=="function"?c:(c[qe]||(c[qe]=function(f){return c.handleEvent(f)}),c[qe])}function Xe(){Ct.call(this),this.i=new ii(this),this.M=this,this.F=null}M(Xe,Ct),Xe.prototype[kn]=!0,Xe.prototype.removeEventListener=function(c,f,m,v){rc(this,c,f,m,v)};function ft(c,f){var m,v=c.F;if(v)for(m=[];v;v=v.F)m.push(v);if(c=c.M,v=f.type||f,typeof f=="string")f=new ht(f,c);else if(f instanceof ht)f.target=f.target||c;else{var x=f;f=new ht(v,c),S(f,x)}if(x=!0,m)for(var k=m.length-1;0<=k;k--){var U=f.g=m[k];x=Fn(U,v,!0,f)&&x}if(U=f.g=c,x=Fn(U,v,!0,f)&&x,x=Fn(U,v,!1,f)&&x,m)for(k=0;k<m.length;k++)U=f.g=m[k],x=Fn(U,v,!1,f)&&x}Xe.prototype.N=function(){if(Xe.aa.N.call(this),this.i){var c=this.i,f;for(f in c.g){for(var m=c.g[f],v=0;v<m.length;v++)ri(m[v]);delete c.g[f],c.h--}}this.F=null},Xe.prototype.K=function(c,f,m,v){return this.i.add(String(c),f,!1,m,v)},Xe.prototype.L=function(c,f,m,v){return this.i.add(String(c),f,!0,m,v)};function Fn(c,f,m,v){if(f=c.i.g[String(f)],!f)return!0;f=f.concat();for(var x=!0,k=0;k<f.length;++k){var U=f[k];if(U&&!U.da&&U.capture==m){var Se=U.listener,at=U.ha||U.src;U.fa&&si(c.i,U),x=Se.call(at,v)!==!1&&x}}return x&&!v.defaultPrevented}function _t(c,f,m){if(typeof c=="function")m&&(c=_(c,m));else if(c&&typeof c.handleEvent=="function")c=_(c.handleEvent,c);else throw Error("Invalid listener argument");return 2147483647<Number(f)?-1:a.setTimeout(c,f||0)}function ml(c){c.g=_t(()=>{c.g=null,c.i&&(c.i=!1,ml(c))},c.l);let f=c.h;c.h=null,c.m.apply(null,f)}class yl extends Ct{constructor(f,m){super(),this.m=f,this.l=m,this.h=null,this.i=!1,this.g=null}j(f){this.h=arguments,this.g?this.i=!0:ml(this)}N(){super.N(),this.g&&(a.clearTimeout(this.g),this.g=null,this.i=!1,this.h=null)}}function oi(c){Ct.call(this),this.h=c,this.g={}}M(oi,Ct);var oo=[];function vl(c){J(c.g,function(f,m){this.g.hasOwnProperty(m)&&pe(f)},c),c.g={}}oi.prototype.N=function(){oi.aa.N.call(this),vl(this)},oi.prototype.handleEvent=function(){throw Error("EventHandler.handleEvent not implemented")};var ic=a.JSON.stringify,ig=a.JSON.parse,sg=class{stringify(c){return a.JSON.stringify(c,void 0)}parse(c){return a.JSON.parse(c,void 0)}};function vn(){}vn.prototype.h=null;function wl(c){return c.h||(c.h=c.i())}function _l(){}var Zi={OPEN:"a",kb:"b",Ja:"c",wb:"d"};function sc(){ht.call(this,"d")}M(sc,ht);function oc(){ht.call(this,"c")}M(oc,ht);var wn={},Il=null;function ao(){return Il=Il||new Xe}wn.La="serverreachability";function El(c){ht.call(this,wn.La,c)}M(El,ht);function Ji(c){let f=ao();ft(f,new El(f))}wn.STAT_EVENT="statevent";function bl(c,f){ht.call(this,wn.STAT_EVENT,c),this.stat=f}M(bl,ht);function ot(c){let f=ao();ft(f,new bl(f,c))}wn.Ma="timingevent";function Dl(c,f){ht.call(this,wn.Ma,c),this.size=f}M(Dl,ht);function Xi(c,f){if(typeof c!="function")throw Error("Fn must not be null and must be a function");return a.setTimeout(function(){c()},f)}function es(){this.g=!0}es.prototype.xa=function(){this.g=!1};function og(c,f,m,v,x,k){c.info(function(){if(c.g)if(k)for(var U="",Se=k.split("&"),at=0;at<Se.length;at++){var _e=Se[at].split("=");if(1<_e.length){var pt=_e[0];_e=_e[1];var ct=pt.split("_");U=2<=ct.length&&ct[1]=="type"?U+(pt+"="+_e+"&"):U+(pt+"=redacted&")}}else U=null;else U=k;return"XMLHTTP REQ ("+v+") [attempt "+x+"]: "+f+`
`+m+`
`+U})}function ag(c,f,m,v,x,k,U){c.info(function(){return"XMLHTTP RESP ("+v+") [ attempt "+x+"]: "+f+`
`+m+`
`+k+" "+U})}function De(c,f,m,v){c.info(function(){return"XMLHTTP TEXT ("+f+"): "+ug(c,m)+(v?" "+v:"")})}function cg(c,f){c.info(function(){return"TIMEOUT: "+f})}es.prototype.info=function(){};function ug(c,f){if(!c.g)return f;if(!f)return null;try{var m=JSON.parse(f);if(m){for(c=0;c<m.length;c++)if(Array.isArray(m[c])){var v=m[c];if(!(2>v.length)){var x=v[1];if(Array.isArray(x)&&!(1>x.length)){var k=x[0];if(k!="noop"&&k!="stop"&&k!="close")for(var U=1;U<x.length;U++)x[U]=""}}}}return ic(m)}catch{return f}}var co={NO_ERROR:0,gb:1,tb:2,sb:3,nb:4,rb:5,ub:6,Ia:7,TIMEOUT:8,xb:9},Cl={lb:"complete",Hb:"success",Ja:"error",Ia:"abort",zb:"ready",Ab:"readystatechange",TIMEOUT:"timeout",vb:"incrementaldata",yb:"progress",ob:"downloadprogress",Pb:"uploadprogress"},ac;function uo(){}M(uo,vn),uo.prototype.g=function(){return new XMLHttpRequest},uo.prototype.i=function(){return{}},ac=new uo;function sn(c,f,m,v){this.j=c,this.i=f,this.l=m,this.R=v||1,this.U=new oi(this),this.I=45e3,this.H=null,this.o=!1,this.m=this.A=this.v=this.L=this.F=this.S=this.B=null,this.D=[],this.g=null,this.C=0,this.s=this.u=null,this.X=-1,this.J=!1,this.O=0,this.M=null,this.W=this.K=this.T=this.P=!1,this.h=new ai}function ai(){this.i=null,this.g="",this.h=!1}var cc={},ci={};function Fe(c,f,m){c.L=1,c.v=ho(on(f)),c.m=m,c.P=!0,Tl(c,null)}function Tl(c,f){c.F=Date.now(),ts(c),c.A=on(c.v);var m=c.A,v=c.R;Array.isArray(v)||(v=[String(v)]),$l(m.i,"t",v),c.C=0,m=c.j.J,c.h=new ai,c.g=bc(c.j,m?f:null,!c.m),0<c.O&&(c.M=new yl(_(c.Y,c,c.g),c.O)),f=c.U,m=c.g,v=c.ca;var x="readystatechange";Array.isArray(x)||(x&&(oo[0]=x.toString()),x=oo);for(var k=0;k<x.length;k++){var U=gl(m,x[k],v||f.handleEvent,!1,f.h||f);if(!U)break;f.g[U.key]=U}f=c.H?I(c.H):{},c.m?(c.u||(c.u="POST"),f["Content-Type"]="application/x-www-form-urlencoded",c.g.ea(c.A,c.u,c.m,f)):(c.u="GET",c.g.ea(c.A,c.u,null,f)),Ji(),og(c.i,c.u,c.A,c.l,c.R,c.m)}sn.prototype.ca=function(c){c=c.target;let f=this.M;f&&In(c)==3?f.j():this.Y(c)},sn.prototype.Y=function(c){try{if(c==this.g)e:{let ct=In(this.g);var f=this.g.Ba();let Bn=this.g.Z();if(!(3>ct)&&(ct!=3||this.g&&(this.h.h||this.g.oa()||Ql(this.g)))){this.J||ct!=4||f==7||(f==8||0>=Bn?Ji(3):Ji(2)),uc(this);var m=this.g.Z();this.X=m;t:if(Sl(this)){var v=Ql(this.g);c="";var x=v.length,k=In(this.g)==4;if(!this.h.i){if(typeof TextDecoder>"u"){Ln(this),ns(this);var U="";break t}this.h.i=new a.TextDecoder}for(f=0;f<x;f++)this.h.h=!0,c+=this.h.i.decode(v[f],{stream:!(k&&f==x-1)});v.length=0,this.h.g+=c,this.C=0,U=this.h.g}else U=this.g.oa();if(this.o=m==200,ag(this.i,this.u,this.A,this.l,this.R,ct,m),this.o){if(this.T&&!this.K){t:{if(this.g){var Se,at=this.g;if((Se=at.g?at.g.getResponseHeader("X-HTTP-Initial-Response"):null)&&!G(Se)){var _e=Se;break t}}_e=null}if(m=_e)De(this.i,this.l,m,"Initial handshake response via X-HTTP-Initial-Response"),this.K=!0,lc(this,m);else{this.o=!1,this.s=3,ot(12),Ln(this),ns(this);break e}}if(this.P){m=!0;let Gt;for(;!this.J&&this.C<U.length;)if(Gt=lg(this,U),Gt==ci){ct==4&&(this.s=4,ot(14),m=!1),De(this.i,this.l,null,"[Incomplete Response]");break}else if(Gt==cc){this.s=4,ot(15),De(this.i,this.l,U,"[Invalid Chunk]"),m=!1;break}else De(this.i,this.l,Gt,null),lc(this,Gt);if(Sl(this)&&this.C!=0&&(this.h.g=this.h.g.slice(this.C),this.C=0),ct!=4||U.length!=0||this.h.h||(this.s=1,ot(16),m=!1),this.o=this.o&&m,!m)De(this.i,this.l,U,"[Invalid Chunked Response]"),Ln(this),ns(this);else if(0<U.length&&!this.W){this.W=!0;var pt=this.j;pt.g==this&&pt.ba&&!pt.M&&(pt.j.info("Great, no buffering proxy detected. Bytes received: "+U.length),pi(pt),pt.M=!0,ot(11))}}else De(this.i,this.l,U,null),lc(this,U);ct==4&&Ln(this),this.o&&!this.J&&(ct==4?wc(this.j,this):(this.o=!1,ts(this)))}else wg(this.g),m==400&&0<U.indexOf("Unknown SID")?(this.s=3,ot(12)):(this.s=0,ot(13)),Ln(this),ns(this)}}}catch{}finally{}};function Sl(c){return c.g?c.u=="GET"&&c.L!=2&&c.j.Ca:!1}function lg(c,f){var m=c.C,v=f.indexOf(`
`,m);return v==-1?ci:(m=Number(f.substring(m,v)),isNaN(m)?cc:(v+=1,v+m>f.length?ci:(f=f.slice(v,v+m),c.C=v+m,f)))}sn.prototype.cancel=function(){this.J=!0,Ln(this)};function ts(c){c.S=Date.now()+c.I,Al(c,c.I)}function Al(c,f){if(c.B!=null)throw Error("WatchDog timer not null");c.B=Xi(_(c.ba,c),f)}function uc(c){c.B&&(a.clearTimeout(c.B),c.B=null)}sn.prototype.ba=function(){this.B=null;let c=Date.now();0<=c-this.S?(cg(this.i,this.A),this.L!=2&&(Ji(),ot(17)),Ln(this),this.s=2,ns(this)):Al(this,this.S-c)};function ns(c){c.j.G==0||c.J||wc(c.j,c)}function Ln(c){uc(c);var f=c.M;f&&typeof f.ma=="function"&&f.ma(),c.M=null,vl(c.U),c.g&&(f=c.g,c.g=null,f.abort(),f.ma())}function lc(c,f){try{var m=c.j;if(m.G!=0&&(m.g==c||dc(m.h,c))){if(!c.K&&dc(m.h,c)&&m.G==3){try{var v=m.Da.g.parse(f)}catch{v=null}if(Array.isArray(v)&&v.length==3){var x=v;if(x[0]==0){e:if(!m.u){if(m.g)if(m.g.F+3e3<c.F)ls(m),mo(m);else break e;us(m),ot(18)}}else m.za=x[1],0<m.za-m.T&&37500>x[2]&&m.F&&m.v==0&&!m.C&&(m.C=Xi(_(m.Za,m),6e3));if(1>=Nl(m.h)&&m.ca){try{m.ca()}catch{}m.ca=void 0}}else jn(m,11)}else if((c.K||m.g==c)&&ls(m),!G(f))for(x=m.Da.g.parse(f),f=0;f<x.length;f++){let _e=x[f];if(m.T=_e[0],_e=_e[1],m.G==2)if(_e[0]=="c"){m.K=_e[1],m.ia=_e[2];let pt=_e[3];pt!=null&&(m.la=pt,m.j.info("VER="+m.la));let ct=_e[4];ct!=null&&(m.Aa=ct,m.j.info("SVER="+m.Aa));let Bn=_e[5];Bn!=null&&typeof Bn=="number"&&0<Bn&&(v=1.5*Bn,m.L=v,m.j.info("backChannelRequestTimeoutMs_="+v)),v=m;let Gt=c.g;if(Gt){let vo=Gt.g?Gt.g.getResponseHeader("X-Client-Wire-Protocol"):null;if(vo){var k=v.h;k.g||vo.indexOf("spdy")==-1&&vo.indexOf("quic")==-1&&vo.indexOf("h2")==-1||(k.j=k.l,k.g=new Set,k.h&&(hc(k,k.h),k.h=null))}if(v.D){let Cc=Gt.g?Gt.g.getResponseHeader("X-HTTP-Session-Id"):null;Cc&&(v.ya=Cc,Ne(v.I,v.D,Cc))}}m.G=3,m.l&&m.l.ua(),m.ba&&(m.R=Date.now()-c.F,m.j.info("Handshake RTT: "+m.R+"ms")),v=m;var U=c;if(v.qa=Ec(v,v.J?v.ia:null,v.W),U.K){Pl(v.h,U);var Se=U,at=v.L;at&&(Se.I=at),Se.B&&(uc(Se),ts(Se)),v.g=U}else vc(v);0<m.i.length&&yo(m)}else _e[0]!="stop"&&_e[0]!="close"||jn(m,7);else m.G==3&&(_e[0]=="stop"||_e[0]=="close"?_e[0]=="stop"?jn(m,7):go(m):_e[0]!="noop"&&m.l&&m.l.ta(_e),m.v=0)}}Ji(4)}catch{}}var Rl=class{constructor(c,f){this.g=c,this.map=f}};function xl(c){this.l=c||10,a.PerformanceNavigationTiming?(c=a.performance.getEntriesByType("navigation"),c=0<c.length&&(c[0].nextHopProtocol=="hq"||c[0].nextHopProtocol=="h2")):c=!!(a.chrome&&a.chrome.loadTimes&&a.chrome.loadTimes()&&a.chrome.loadTimes().wasFetchedViaSpdy),this.j=c?this.l:1,this.g=null,1<this.j&&(this.g=new Set),this.h=null,this.i=[]}function Ml(c){return c.h?!0:c.g?c.g.size>=c.j:!1}function Nl(c){return c.h?1:c.g?c.g.size:0}function dc(c,f){return c.h?c.h==f:c.g?c.g.has(f):!1}function hc(c,f){c.g?c.g.add(f):c.h=f}function Pl(c,f){c.h&&c.h==f?c.h=null:c.g&&c.g.has(f)&&c.g.delete(f)}xl.prototype.cancel=function(){if(this.i=kl(this),this.h)this.h.cancel(),this.h=null;else if(this.g&&this.g.size!==0){for(let c of this.g.values())c.cancel();this.g.clear()}};function kl(c){if(c.h!=null)return c.i.concat(c.h.D);if(c.g!=null&&c.g.size!==0){let f=c.i;for(let m of c.g.values())f=f.concat(m.D);return f}return O(c.i)}function Ol(c){if(c.V&&typeof c.V=="function")return c.V();if(typeof Map<"u"&&c instanceof Map||typeof Set<"u"&&c instanceof Set)return Array.from(c.values());if(typeof c=="string")return c.split("");if(u(c)){for(var f=[],m=c.length,v=0;v<m;v++)f.push(c[v]);return f}f=[],m=0;for(v in c)f[m++]=c[v];return f}function dg(c){if(c.na&&typeof c.na=="function")return c.na();if(!c.V||typeof c.V!="function"){if(typeof Map<"u"&&c instanceof Map)return Array.from(c.keys());if(!(typeof Set<"u"&&c instanceof Set)){if(u(c)||typeof c=="string"){var f=[];c=c.length;for(var m=0;m<c;m++)f.push(m);return f}f=[],m=0;for(let v in c)f[m++]=v;return f}}}function fc(c,f){if(c.forEach&&typeof c.forEach=="function")c.forEach(f,void 0);else if(u(c)||typeof c=="string")Array.prototype.forEach.call(c,f,void 0);else for(var m=dg(c),v=Ol(c),x=v.length,k=0;k<x;k++)f.call(void 0,v[k],m&&m[k],c)}var Fl=RegExp("^(?:([^:/?#.]+):)?(?://(?:([^\\\\/?#]*)@)?([^\\\\/?#]*?)(?::([0-9]+))?(?=[\\\\/?#]|$))?([^?#]+)?(?:\\?([^#]*))?(?:#([\\s\\S]*))?$");function hg(c,f){if(c){c=c.split("&");for(var m=0;m<c.length;m++){var v=c[m].indexOf("="),x=null;if(0<=v){var k=c[m].substring(0,v);x=c[m].substring(v+1)}else k=c[m];f(k,x?decodeURIComponent(x.replace(/\+/g," ")):"")}}}function Lt(c){if(this.g=this.o=this.j="",this.s=null,this.m=this.l="",this.h=!1,c instanceof Lt){this.h=c.h,lo(this,c.j),this.o=c.o,this.g=c.g,ui(this,c.s),this.l=c.l;var f=c.i,m=new ss;m.i=f.i,f.g&&(m.g=new Map(f.g),m.h=f.h),pc(this,m),this.m=c.m}else c&&(f=String(c).match(Fl))?(this.h=!1,lo(this,f[1]||"",!0),this.o=rs(f[2]||""),this.g=rs(f[3]||"",!0),ui(this,f[4]),this.l=rs(f[5]||"",!0),pc(this,f[6]||"",!0),this.m=rs(f[7]||"")):(this.h=!1,this.i=new ss(null,this.h))}Lt.prototype.toString=function(){var c=[],f=this.j;f&&c.push(is(f,Ll,!0),":");var m=this.g;return(m||f=="file")&&(c.push("//"),(f=this.o)&&c.push(is(f,Ll,!0),"@"),c.push(encodeURIComponent(String(m)).replace(/%25([0-9a-fA-F]{2})/g,"%$1")),m=this.s,m!=null&&c.push(":",String(m))),(m=this.l)&&(this.g&&m.charAt(0)!="/"&&c.push("/"),c.push(is(m,m.charAt(0)=="/"?pg:li,!0))),(m=this.i.toString())&&c.push("?",m),(m=this.m)&&c.push("#",is(m,Ul)),c.join("")};function on(c){return new Lt(c)}function lo(c,f,m){c.j=m?rs(f,!0):f,c.j&&(c.j=c.j.replace(/:$/,""))}function ui(c,f){if(f){if(f=Number(f),isNaN(f)||0>f)throw Error("Bad port number "+f);c.s=f}else c.s=null}function pc(c,f,m){f instanceof ss?(c.i=f,gg(c.i,c.h)):(m||(f=is(f,Vl)),c.i=new ss(f,c.h))}function Ne(c,f,m){c.i.set(f,m)}function ho(c){return Ne(c,"zx",Math.floor(2147483648*Math.random()).toString(36)+Math.abs(Math.floor(2147483648*Math.random())^Date.now()).toString(36)),c}function rs(c,f){return c?f?decodeURI(c.replace(/%25/g,"%2525")):decodeURIComponent(c):""}function is(c,f,m){return typeof c=="string"?(c=encodeURI(c).replace(f,fg),m&&(c=c.replace(/%25([0-9a-fA-F]{2})/g,"%$1")),c):null}function fg(c){return c=c.charCodeAt(0),"%"+(c>>4&15).toString(16)+(c&15).toString(16)}var Ll=/[#\/\?@]/g,li=/[#\?:]/g,pg=/[#\?]/g,Vl=/[#\?@]/g,Ul=/#/g;function ss(c,f){this.h=this.g=null,this.i=c||null,this.j=!!f}function Vn(c){c.g||(c.g=new Map,c.h=0,c.i&&hg(c.i,function(f,m){c.add(decodeURIComponent(f.replace(/\+/g," ")),m)}))}t=ss.prototype,t.add=function(c,f){Vn(this),this.i=null,c=di(this,c);var m=this.g.get(c);return m||this.g.set(c,m=[]),m.push(f),this.h+=1,this};function jl(c,f){Vn(c),f=di(c,f),c.g.has(f)&&(c.i=null,c.h-=c.g.get(f).length,c.g.delete(f))}function Bl(c,f){return Vn(c),f=di(c,f),c.g.has(f)}t.forEach=function(c,f){Vn(this),this.g.forEach(function(m,v){m.forEach(function(x){c.call(f,x,v,this)},this)},this)},t.na=function(){Vn(this);let c=Array.from(this.g.values()),f=Array.from(this.g.keys()),m=[];for(let v=0;v<f.length;v++){let x=c[v];for(let k=0;k<x.length;k++)m.push(f[v])}return m},t.V=function(c){Vn(this);let f=[];if(typeof c=="string")Bl(this,c)&&(f=f.concat(this.g.get(di(this,c))));else{c=Array.from(this.g.values());for(let m=0;m<c.length;m++)f=f.concat(c[m])}return f},t.set=function(c,f){return Vn(this),this.i=null,c=di(this,c),Bl(this,c)&&(this.h-=this.g.get(c).length),this.g.set(c,[f]),this.h+=1,this},t.get=function(c,f){return c?(c=this.V(c),0<c.length?String(c[0]):f):f};function $l(c,f,m){jl(c,f),0<m.length&&(c.i=null,c.g.set(di(c,f),O(m)),c.h+=m.length)}t.toString=function(){if(this.i)return this.i;if(!this.g)return"";let c=[],f=Array.from(this.g.keys());for(var m=0;m<f.length;m++){var v=f[m];let k=encodeURIComponent(String(v)),U=this.V(v);for(v=0;v<U.length;v++){var x=k;U[v]!==""&&(x+="="+encodeURIComponent(String(U[v]))),c.push(x)}}return this.i=c.join("&")};function di(c,f){return f=String(f),c.j&&(f=f.toLowerCase()),f}function gg(c,f){f&&!c.j&&(Vn(c),c.i=null,c.g.forEach(function(m,v){var x=v.toLowerCase();v!=x&&(jl(this,v),$l(this,x,m))},c)),c.j=f}function hi(c,f){let m=new es;if(a.Image){let v=new Image;v.onload=E(Un,m,"TestLoadImage: loaded",!0,f,v),v.onerror=E(Un,m,"TestLoadImage: error",!1,f,v),v.onabort=E(Un,m,"TestLoadImage: abort",!1,f,v),v.ontimeout=E(Un,m,"TestLoadImage: timeout",!1,f,v),a.setTimeout(function(){v.ontimeout&&v.ontimeout()},1e4),v.src=c}else f(!1)}function mg(c,f){let m=new es,v=new AbortController,x=setTimeout(()=>{v.abort(),Un(m,"TestPingServer: timeout",!1,f)},1e4);fetch(c,{signal:v.signal}).then(k=>{clearTimeout(x),k.ok?Un(m,"TestPingServer: ok",!0,f):Un(m,"TestPingServer: server error",!1,f)}).catch(()=>{clearTimeout(x),Un(m,"TestPingServer: error",!1,f)})}function Un(c,f,m,v,x){try{x&&(x.onload=null,x.onerror=null,x.onabort=null,x.ontimeout=null),v(m)}catch{}}function Hl(){this.g=new sg}function yg(c,f,m){let v=m||"";try{fc(c,function(x,k){let U=x;d(x)&&(U=ic(x)),f.push(v+k+"="+encodeURIComponent(U))})}catch(x){throw f.push(v+"type="+encodeURIComponent("_badmap")),x}}function Vt(c){this.l=c.Ub||null,this.j=c.eb||!1}M(Vt,vn),Vt.prototype.g=function(){return new fo(this.l,this.j)},Vt.prototype.i=function(c){return function(){return c}}({});function fo(c,f){Xe.call(this),this.D=c,this.o=f,this.m=void 0,this.status=this.readyState=0,this.responseType=this.responseText=this.response=this.statusText="",this.onreadystatechange=null,this.u=new Headers,this.h=null,this.B="GET",this.A="",this.g=!1,this.v=this.j=this.l=null}M(fo,Xe),t=fo.prototype,t.open=function(c,f){if(this.readyState!=0)throw this.abort(),Error("Error reopening a connection");this.B=c,this.A=f,this.readyState=1,os(this)},t.send=function(c){if(this.readyState!=1)throw this.abort(),Error("need to call open() first. ");this.g=!0;let f={headers:this.u,method:this.B,credentials:this.m,cache:void 0};c&&(f.body=c),(this.D||a).fetch(new Request(this.A,f)).then(this.Sa.bind(this),this.ga.bind(this))},t.abort=function(){this.response=this.responseText="",this.u=new Headers,this.status=0,this.j&&this.j.cancel("Request was aborted.").catch(()=>{}),1<=this.readyState&&this.g&&this.readyState!=4&&(this.g=!1,_n(this)),this.readyState=0},t.Sa=function(c){if(this.g&&(this.l=c,this.h||(this.status=this.l.status,this.statusText=this.l.statusText,this.h=c.headers,this.readyState=2,os(this)),this.g&&(this.readyState=3,os(this),this.g)))if(this.responseType==="arraybuffer")c.arrayBuffer().then(this.Qa.bind(this),this.ga.bind(this));else if(typeof a.ReadableStream<"u"&&"body"in c){if(this.j=c.body.getReader(),this.o){if(this.responseType)throw Error('responseType must be empty for "streamBinaryChunks" mode responses.');this.response=[]}else this.response=this.responseText="",this.v=new TextDecoder;gc(this)}else c.text().then(this.Ra.bind(this),this.ga.bind(this))};function gc(c){c.j.read().then(c.Pa.bind(c)).catch(c.ga.bind(c))}t.Pa=function(c){if(this.g){if(this.o&&c.value)this.response.push(c.value);else if(!this.o){var f=c.value?c.value:new Uint8Array(0);(f=this.v.decode(f,{stream:!c.done}))&&(this.response=this.responseText+=f)}c.done?_n(this):os(this),this.readyState==3&&gc(this)}},t.Ra=function(c){this.g&&(this.response=this.responseText=c,_n(this))},t.Qa=function(c){this.g&&(this.response=c,_n(this))},t.ga=function(){this.g&&_n(this)};function _n(c){c.readyState=4,c.l=null,c.j=null,c.v=null,os(c)}t.setRequestHeader=function(c,f){this.u.append(c,f)},t.getResponseHeader=function(c){return this.h&&this.h.get(c.toLowerCase())||""},t.getAllResponseHeaders=function(){if(!this.h)return"";let c=[],f=this.h.entries();for(var m=f.next();!m.done;)m=m.value,c.push(m[0]+": "+m[1]),m=f.next();return c.join(`\r
`)};function os(c){c.onreadystatechange&&c.onreadystatechange.call(c)}Object.defineProperty(fo.prototype,"withCredentials",{get:function(){return this.m==="include"},set:function(c){this.m=c?"include":"same-origin"}});function ql(c){let f="";return J(c,function(m,v){f+=v,f+=":",f+=m,f+=`\r
`}),f}function mc(c,f,m){e:{for(v in m){var v=!1;break e}v=!0}v||(m=ql(m),typeof c=="string"?m!=null&&encodeURIComponent(String(m)):Ne(c,f,m))}function Le(c){Xe.call(this),this.headers=new Map,this.o=c||null,this.h=!1,this.v=this.g=null,this.D="",this.m=0,this.l="",this.j=this.B=this.u=this.A=!1,this.I=null,this.H="",this.J=!1}M(Le,Xe);var fi=/^https?$/i,vg=["POST","PUT"];t=Le.prototype,t.Ha=function(c){this.J=c},t.ea=function(c,f,m,v){if(this.g)throw Error("[goog.net.XhrIo] Object is active with another request="+this.D+"; newUri="+c);f=f?f.toUpperCase():"GET",this.D=c,this.l="",this.m=0,this.A=!1,this.h=!0,this.g=this.o?this.o.g():ac.g(),this.v=this.o?wl(this.o):wl(ac),this.g.onreadystatechange=_(this.Ea,this);try{this.B=!0,this.g.open(f,String(c),!0),this.B=!1}catch(k){zl(this,k);return}if(c=m||"",m=new Map(this.headers),v)if(Object.getPrototypeOf(v)===Object.prototype)for(var x in v)m.set(x,v[x]);else if(typeof v.keys=="function"&&typeof v.get=="function")for(let k of v.keys())m.set(k,v.get(k));else throw Error("Unknown input type for opt_headers: "+String(v));v=Array.from(m.keys()).find(k=>k.toLowerCase()=="content-type"),x=a.FormData&&c instanceof a.FormData,!(0<=Array.prototype.indexOf.call(vg,f,void 0))||v||x||m.set("Content-Type","application/x-www-form-urlencoded;charset=utf-8");for(let[k,U]of m)this.g.setRequestHeader(k,U);this.H&&(this.g.responseType=this.H),"withCredentials"in this.g&&this.g.withCredentials!==this.J&&(this.g.withCredentials=this.J);try{Kl(this),this.u=!0,this.g.send(c),this.u=!1}catch(k){zl(this,k)}};function zl(c,f){c.h=!1,c.g&&(c.j=!0,c.g.abort(),c.j=!1),c.l=f,c.m=5,Gl(c),po(c)}function Gl(c){c.A||(c.A=!0,ft(c,"complete"),ft(c,"error"))}t.abort=function(c){this.g&&this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1,this.m=c||7,ft(this,"complete"),ft(this,"abort"),po(this))},t.N=function(){this.g&&(this.h&&(this.h=!1,this.j=!0,this.g.abort(),this.j=!1),po(this,!0)),Le.aa.N.call(this)},t.Ea=function(){this.s||(this.B||this.u||this.j?Wl(this):this.bb())},t.bb=function(){Wl(this)};function Wl(c){if(c.h&&typeof o<"u"&&(!c.v[1]||In(c)!=4||c.Z()!=2)){if(c.u&&In(c)==4)_t(c.Ea,0,c);else if(ft(c,"readystatechange"),In(c)==4){c.h=!1;try{let U=c.Z();e:switch(U){case 200:case 201:case 202:case 204:case 206:case 304:case 1223:var f=!0;break e;default:f=!1}var m;if(!(m=f)){var v;if(v=U===0){var x=String(c.D).match(Fl)[1]||null;!x&&a.self&&a.self.location&&(x=a.self.location.protocol.slice(0,-1)),v=!fi.test(x?x.toLowerCase():"")}m=v}if(m)ft(c,"complete"),ft(c,"success");else{c.m=6;try{var k=2<In(c)?c.g.statusText:""}catch{k=""}c.l=k+" ["+c.Z()+"]",Gl(c)}}finally{po(c)}}}}function po(c,f){if(c.g){Kl(c);let m=c.g,v=c.v[0]?()=>{}:null;c.g=null,c.v=null,f||ft(c,"ready");try{m.onreadystatechange=v}catch{}}}function Kl(c){c.I&&(a.clearTimeout(c.I),c.I=null)}t.isActive=function(){return!!this.g};function In(c){return c.g?c.g.readyState:0}t.Z=function(){try{return 2<In(this)?this.g.status:-1}catch{return-1}},t.oa=function(){try{return this.g?this.g.responseText:""}catch{return""}},t.Oa=function(c){if(this.g){var f=this.g.responseText;return c&&f.indexOf(c)==0&&(f=f.substring(c.length)),ig(f)}};function Ql(c){try{if(!c.g)return null;if("response"in c.g)return c.g.response;switch(c.H){case"":case"text":return c.g.responseText;case"arraybuffer":if("mozResponseArrayBuffer"in c.g)return c.g.mozResponseArrayBuffer}return null}catch{return null}}function wg(c){let f={};c=(c.g&&2<=In(c)&&c.g.getAllResponseHeaders()||"").split(`\r
`);for(let v=0;v<c.length;v++){if(G(c[v]))continue;var m=A(c[v]);let x=m[0];if(m=m[1],typeof m!="string")continue;m=m.trim();let k=f[x]||[];f[x]=k,k.push(m)}T(f,function(v){return v.join(", ")})}t.Ba=function(){return this.m},t.Ka=function(){return typeof this.l=="string"?this.l:String(this.l)};function as(c,f,m){return m&&m.internalChannelParams&&m.internalChannelParams[c]||f}function cs(c){this.Aa=0,this.i=[],this.j=new es,this.ia=this.qa=this.I=this.W=this.g=this.ya=this.D=this.H=this.m=this.S=this.o=null,this.Ya=this.U=0,this.Va=as("failFast",!1,c),this.F=this.C=this.u=this.s=this.l=null,this.X=!0,this.za=this.T=-1,this.Y=this.v=this.B=0,this.Ta=as("baseRetryDelayMs",5e3,c),this.cb=as("retryDelaySeedMs",1e4,c),this.Wa=as("forwardChannelMaxRetries",2,c),this.wa=as("forwardChannelRequestTimeoutMs",2e4,c),this.pa=c&&c.xmlHttpFactory||void 0,this.Xa=c&&c.Tb||void 0,this.Ca=c&&c.useFetchStreams||!1,this.L=void 0,this.J=c&&c.supportsCrossDomainXhr||!1,this.K="",this.h=new xl(c&&c.concurrentRequestLimit),this.Da=new Hl,this.P=c&&c.fastHandshake||!1,this.O=c&&c.encodeInitMessageHeaders||!1,this.P&&this.O&&(this.O=!1),this.Ua=c&&c.Rb||!1,c&&c.xa&&this.j.xa(),c&&c.forceLongPolling&&(this.X=!1),this.ba=!this.P&&this.X&&c&&c.detectBufferingProxy||!1,this.ja=void 0,c&&c.longPollingTimeout&&0<c.longPollingTimeout&&(this.ja=c.longPollingTimeout),this.ca=void 0,this.R=0,this.M=!1,this.ka=this.A=null}t=cs.prototype,t.la=8,t.G=1,t.connect=function(c,f,m,v){ot(0),this.W=c,this.H=f||{},m&&v!==void 0&&(this.H.OSID=m,this.H.OAID=v),this.F=this.X,this.I=Ec(this,null,this.W),yo(this)};function go(c){if(Yl(c),c.G==3){var f=c.U++,m=on(c.I);if(Ne(m,"SID",c.K),Ne(m,"RID",f),Ne(m,"TYPE","terminate"),Ir(c,m),f=new sn(c,c.j,f),f.L=2,f.v=ho(on(m)),m=!1,a.navigator&&a.navigator.sendBeacon)try{m=a.navigator.sendBeacon(f.v.toString(),"")}catch{}!m&&a.Image&&(new Image().src=f.v,m=!0),m||(f.g=bc(f.j,null),f.g.ea(f.v)),f.F=Date.now(),ts(f)}Ic(c)}function mo(c){c.g&&(pi(c),c.g.cancel(),c.g=null)}function Yl(c){mo(c),c.u&&(a.clearTimeout(c.u),c.u=null),ls(c),c.h.cancel(),c.s&&(typeof c.s=="number"&&a.clearTimeout(c.s),c.s=null)}function yo(c){if(!Ml(c.h)&&!c.s){c.s=!0;var f=c.Ga;Xr||Ht(),_r||(Xr(),_r=!0),ei.add(f,c),c.B=0}}function Zl(c,f){return Nl(c.h)>=c.h.j-(c.s?1:0)?!1:c.s?(c.i=f.D.concat(c.i),!0):c.G==1||c.G==2||c.B>=(c.Va?0:c.Wa)?!1:(c.s=Xi(_(c.Ga,c,f),_c(c,c.B)),c.B++,!0)}t.Ga=function(c){if(this.s)if(this.s=null,this.G==1){if(!c){this.U=Math.floor(1e5*Math.random()),c=this.U++;let x=new sn(this,this.j,c),k=this.o;if(this.S&&(k?(k=I(k),S(k,this.S)):k=this.S),this.m!==null||this.O||(x.H=k,k=null),this.P)e:{for(var f=0,m=0;m<this.i.length;m++){t:{var v=this.i[m];if("__data__"in v.map&&(v=v.map.__data__,typeof v=="string")){v=v.length;break t}v=void 0}if(v===void 0)break;if(f+=v,4096<f){f=m;break e}if(f===4096||m===this.i.length-1){f=m+1;break e}}f=1e3}else f=1e3;f=yc(this,x,f),m=on(this.I),Ne(m,"RID",c),Ne(m,"CVER",22),this.D&&Ne(m,"X-HTTP-Session-Id",this.D),Ir(this,m),k&&(this.O?f="headers="+encodeURIComponent(String(ql(k)))+"&"+f:this.m&&mc(m,this.m,k)),hc(this.h,x),this.Ua&&Ne(m,"TYPE","init"),this.P?(Ne(m,"$req",f),Ne(m,"SID","null"),x.T=!0,Fe(x,m,null)):Fe(x,m,f),this.G=2}}else this.G==3&&(c?Jl(this,c):this.i.length==0||Ml(this.h)||Jl(this))};function Jl(c,f){var m;f?m=f.l:m=c.U++;let v=on(c.I);Ne(v,"SID",c.K),Ne(v,"RID",m),Ne(v,"AID",c.T),Ir(c,v),c.m&&c.o&&mc(v,c.m,c.o),m=new sn(c,c.j,m,c.B+1),c.m===null&&(m.H=c.o),f&&(c.i=f.D.concat(c.i)),f=yc(c,m,1e3),m.I=Math.round(.5*c.wa)+Math.round(.5*c.wa*Math.random()),hc(c.h,m),Fe(m,v,f)}function Ir(c,f){c.H&&J(c.H,function(m,v){Ne(f,v,m)}),c.l&&fc({},function(m,v){Ne(f,v,m)})}function yc(c,f,m){m=Math.min(c.i.length,m);var v=c.l?_(c.l.Na,c.l,c):null;e:{var x=c.i;let k=-1;for(;;){let U=["count="+m];k==-1?0<m?(k=x[0].g,U.push("ofs="+k)):k=0:U.push("ofs="+k);let Se=!0;for(let at=0;at<m;at++){let _e=x[at].g,pt=x[at].map;if(_e-=k,0>_e)k=Math.max(0,x[at].g-100),Se=!1;else try{yg(pt,U,"req"+_e+"_")}catch{v&&v(pt)}}if(Se){v=U.join("&");break e}}}return c=c.i.splice(0,m),f.D=c,v}function vc(c){if(!c.g&&!c.u){c.Y=1;var f=c.Fa;Xr||Ht(),_r||(Xr(),_r=!0),ei.add(f,c),c.v=0}}function us(c){return c.g||c.u||3<=c.v?!1:(c.Y++,c.u=Xi(_(c.Fa,c),_c(c,c.v)),c.v++,!0)}t.Fa=function(){if(this.u=null,Xl(this),this.ba&&!(this.M||this.g==null||0>=this.R)){var c=2*this.R;this.j.info("BP detection timer enabled: "+c),this.A=Xi(_(this.ab,this),c)}},t.ab=function(){this.A&&(this.A=null,this.j.info("BP detection timeout reached."),this.j.info("Buffering proxy detected and switch to long-polling!"),this.F=!1,this.M=!0,ot(10),mo(this),Xl(this))};function pi(c){c.A!=null&&(a.clearTimeout(c.A),c.A=null)}function Xl(c){c.g=new sn(c,c.j,"rpc",c.Y),c.m===null&&(c.g.H=c.o),c.g.O=0;var f=on(c.qa);Ne(f,"RID","rpc"),Ne(f,"SID",c.K),Ne(f,"AID",c.T),Ne(f,"CI",c.F?"0":"1"),!c.F&&c.ja&&Ne(f,"TO",c.ja),Ne(f,"TYPE","xmlhttp"),Ir(c,f),c.m&&c.o&&mc(f,c.m,c.o),c.L&&(c.g.I=c.L);var m=c.g;c=c.ia,m.L=1,m.v=ho(on(f)),m.m=null,m.P=!0,Tl(m,c)}t.Za=function(){this.C!=null&&(this.C=null,mo(this),us(this),ot(19))};function ls(c){c.C!=null&&(a.clearTimeout(c.C),c.C=null)}function wc(c,f){var m=null;if(c.g==f){ls(c),pi(c),c.g=null;var v=2}else if(dc(c.h,f))m=f.D,Pl(c.h,f),v=1;else return;if(c.G!=0){if(f.o)if(v==1){m=f.m?f.m.length:0,f=Date.now()-f.F;var x=c.B;v=ao(),ft(v,new Dl(v,m)),yo(c)}else vc(c);else if(x=f.s,x==3||x==0&&0<f.X||!(v==1&&Zl(c,f)||v==2&&us(c)))switch(m&&0<m.length&&(f=c.h,f.i=f.i.concat(m)),x){case 1:jn(c,5);break;case 4:jn(c,10);break;case 3:jn(c,6);break;default:jn(c,2)}}}function _c(c,f){let m=c.Ta+Math.floor(Math.random()*c.cb);return c.isActive()||(m*=2),m*f}function jn(c,f){if(c.j.info("Error code "+f),f==2){var m=_(c.fb,c),v=c.Xa;let x=!v;v=new Lt(v||"//www.google.com/images/cleardot.gif"),a.location&&a.location.protocol=="http"||lo(v,"https"),ho(v),x?hi(v.toString(),m):mg(v.toString(),m)}else ot(2);c.G=0,c.l&&c.l.sa(f),Ic(c),Yl(c)}t.fb=function(c){c?(this.j.info("Successfully pinged google.com"),ot(2)):(this.j.info("Failed to ping google.com"),ot(1))};function Ic(c){if(c.G=0,c.ka=[],c.l){let f=kl(c.h);(f.length!=0||c.i.length!=0)&&(P(c.ka,f),P(c.ka,c.i),c.h.i.length=0,O(c.i),c.i.length=0),c.l.ra()}}function Ec(c,f,m){var v=m instanceof Lt?on(m):new Lt(m);if(v.g!="")f&&(v.g=f+"."+v.g),ui(v,v.s);else{var x=a.location;v=x.protocol,f=f?f+"."+x.hostname:x.hostname,x=+x.port;var k=new Lt(null);v&&lo(k,v),f&&(k.g=f),x&&ui(k,x),m&&(k.l=m),v=k}return m=c.D,f=c.ya,m&&f&&Ne(v,m,f),Ne(v,"VER",c.la),Ir(c,v),v}function bc(c,f,m){if(f&&!c.J)throw Error("Can't create secondary domain capable XhrIo object.");return f=c.Ca&&!c.pa?new Le(new Vt({eb:m})):new Le(c.pa),f.Ha(c.J),f}t.isActive=function(){return!!this.l&&this.l.isActive(this)};function Dc(){}t=Dc.prototype,t.ua=function(){},t.ta=function(){},t.sa=function(){},t.ra=function(){},t.isActive=function(){return!0},t.Na=function(){};function ds(){}ds.prototype.g=function(c,f){return new et(c,f)};function et(c,f){Xe.call(this),this.g=new cs(f),this.l=c,this.h=f&&f.messageUrlParams||null,c=f&&f.messageHeaders||null,f&&f.clientProtocolHeaderRequired&&(c?c["X-Client-Protocol"]="webchannel":c={"X-Client-Protocol":"webchannel"}),this.g.o=c,c=f&&f.initMessageHeaders||null,f&&f.messageContentType&&(c?c["X-WebChannel-Content-Type"]=f.messageContentType:c={"X-WebChannel-Content-Type":f.messageContentType}),f&&f.va&&(c?c["X-WebChannel-Client-Profile"]=f.va:c={"X-WebChannel-Client-Profile":f.va}),this.g.S=c,(c=f&&f.Sb)&&!G(c)&&(this.g.m=c),this.v=f&&f.supportsCrossDomainXhr||!1,this.u=f&&f.sendRawJson||!1,(f=f&&f.httpSessionIdParam)&&!G(f)&&(this.g.D=f,c=this.h,c!==null&&f in c&&(c=this.h,f in c&&delete c[f])),this.j=new gi(this)}M(et,Xe),et.prototype.m=function(){this.g.l=this.j,this.v&&(this.g.J=!0),this.g.connect(this.l,this.h||void 0)},et.prototype.close=function(){go(this.g)},et.prototype.o=function(c){var f=this.g;if(typeof c=="string"){var m={};m.__data__=c,c=m}else this.u&&(m={},m.__data__=ic(c),c=m);f.i.push(new Rl(f.Ya++,c)),f.G==3&&yo(f)},et.prototype.N=function(){this.g.l=null,delete this.j,go(this.g),delete this.g,et.aa.N.call(this)};function ed(c){sc.call(this),c.__headers__&&(this.headers=c.__headers__,this.statusCode=c.__status__,delete c.__headers__,delete c.__status__);var f=c.__sm__;if(f){e:{for(let m in f){c=m;break e}c=void 0}(this.i=c)&&(c=this.i,f=f!==null&&c in f?f[c]:void 0),this.data=f}else this.data=c}M(ed,sc);function td(){oc.call(this),this.status=1}M(td,oc);function gi(c){this.g=c}M(gi,Dc),gi.prototype.ua=function(){ft(this.g,"a")},gi.prototype.ta=function(c){ft(this.g,new ed(c))},gi.prototype.sa=function(c){ft(this.g,new td)},gi.prototype.ra=function(){ft(this.g,"b")},ds.prototype.createWebChannel=ds.prototype.g,et.prototype.send=et.prototype.o,et.prototype.open=et.prototype.m,et.prototype.close=et.prototype.close,s_=Wr.createWebChannelTransport=function(){return new ds},i_=Wr.getStatEventTarget=function(){return ao()},r_=Wr.Event=wn,ip=Wr.Stat={mb:0,pb:1,qb:2,Jb:3,Ob:4,Lb:5,Mb:6,Kb:7,Ib:8,Nb:9,PROXY:10,NOPROXY:11,Gb:12,Cb:13,Db:14,Bb:15,Eb:16,Fb:17,ib:18,hb:19,jb:20},co.NO_ERROR=0,co.TIMEOUT=8,co.HTTP_ERROR=6,Vu=Wr.ErrorCode=co,Cl.COMPLETE="complete",n_=Wr.EventType=Cl,_l.EventType=Zi,Zi.OPEN="a",Zi.CLOSE="b",Zi.ERROR="c",Zi.MESSAGE="d",Xe.prototype.listen=Xe.prototype.K,Ra=Wr.WebChannel=_l,fH=Wr.FetchXmlHttpFactory=Vt,Le.prototype.listenOnce=Le.prototype.L,Le.prototype.getLastError=Le.prototype.Ka,Le.prototype.getLastErrorCode=Le.prototype.Ba,Le.prototype.getStatus=Le.prototype.Z,Le.prototype.getResponseJson=Le.prototype.Oa,Le.prototype.getResponseText=Le.prototype.oa,Le.prototype.send=Le.prototype.ea,Le.prototype.setWithCredentials=Le.prototype.Ha,t_=Wr.XhrIo=Le}).apply(typeof rp<"u"?rp:typeof self<"u"?self:typeof window<"u"?window:{});var zA="@firebase/firestore";var vt=class{constructor(e){this.uid=e}isAuthenticated(){return this.uid!=null}toKey(){return this.isAuthenticated()?"uid:"+this.uid:"anonymous-user"}isEqual(e){return e.uid===this.uid}};vt.UNAUTHENTICATED=new vt(null),vt.GOOGLE_CREDENTIALS=new vt("google-credentials-uid"),vt.FIRST_PARTY=new vt("first-party-uid"),vt.MOCK_USER=new vt("mock-user");var Ka="10.14.0";var Ys=new Fi("@firebase/firestore");function Uu(){return Ys.logLevel}function z(t,...e){if(Ys.logLevel<=ve.DEBUG){let n=e.map($I);Ys.debug(`Firestore (${Ka}): ${t}`,...n)}}function Qr(t,...e){if(Ys.logLevel<=ve.ERROR){let n=e.map($I);Ys.error(`Firestore (${Ka}): ${t}`,...n)}}function Fa(t,...e){if(Ys.logLevel<=ve.WARN){let n=e.map($I);Ys.warn(`Firestore (${Ka}): ${t}`,...n)}}function $I(t){if(typeof t=="string")return t;try{return function(n){return JSON.stringify(n)}(t)}catch{return t}}function te(t="Unexpected state"){let e=`FIRESTORE (${Ka}) INTERNAL ASSERTION FAILED: `+t;throw Qr(e),new Error(e)}function Me(t,e){t||te()}function se(t,e){return t}var F={OK:"ok",CANCELLED:"cancelled",UNKNOWN:"unknown",INVALID_ARGUMENT:"invalid-argument",DEADLINE_EXCEEDED:"deadline-exceeded",NOT_FOUND:"not-found",ALREADY_EXISTS:"already-exists",PERMISSION_DENIED:"permission-denied",UNAUTHENTICATED:"unauthenticated",RESOURCE_EXHAUSTED:"resource-exhausted",FAILED_PRECONDITION:"failed-precondition",ABORTED:"aborted",OUT_OF_RANGE:"out-of-range",UNIMPLEMENTED:"unimplemented",INTERNAL:"internal",UNAVAILABLE:"unavailable",DATA_LOSS:"data-loss"},H=class extends Ft{constructor(e,n){super(e,n),this.code=e,this.message=n,this.toString=()=>`${this.name}: [code=${this.code}]: ${this.message}`}};var hr=class{constructor(){this.promise=new Promise((e,n)=>{this.resolve=e,this.reject=n})}};var up=class{constructor(e,n){this.user=n,this.type="OAuth",this.headers=new Map,this.headers.set("Authorization",`Bearer ${e}`)}},l_=class{getToken(){return Promise.resolve(null)}invalidateToken(){}start(e,n){e.enqueueRetryable(()=>n(vt.UNAUTHENTICATED))}shutdown(){}},d_=class{constructor(e){this.token=e,this.changeListener=null}getToken(){return Promise.resolve(this.token)}invalidateToken(){}start(e,n){this.changeListener=n,e.enqueueRetryable(()=>n(this.token.user))}shutdown(){this.changeListener=null}},h_=class{constructor(e){this.t=e,this.currentUser=vt.UNAUTHENTICATED,this.i=0,this.forceRefresh=!1,this.auth=null}start(e,n){Me(this.o===void 0);let r=this.i,i=u=>this.i!==r?(r=this.i,n(u)):Promise.resolve(),s=new hr;this.o=()=>{this.i++,this.currentUser=this.u(),s.resolve(),s=new hr,e.enqueueRetryable(()=>i(this.currentUser))};let o=()=>{let u=s;e.enqueueRetryable(()=>C(this,null,function*(){yield u.promise,yield i(this.currentUser)}))},a=u=>{z("FirebaseAuthCredentialsProvider","Auth detected"),this.auth=u,this.o&&(this.auth.addAuthTokenListener(this.o),o())};this.t.onInit(u=>a(u)),setTimeout(()=>{if(!this.auth){let u=this.t.getImmediate({optional:!0});u?a(u):(z("FirebaseAuthCredentialsProvider","Auth not yet detected"),s.resolve(),s=new hr)}},0),o()}getToken(){let e=this.i,n=this.forceRefresh;return this.forceRefresh=!1,this.auth?this.auth.getToken(n).then(r=>this.i!==e?(z("FirebaseAuthCredentialsProvider","getToken aborted due to token change."),this.getToken()):r?(Me(typeof r.accessToken=="string"),new up(r.accessToken,this.currentUser)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.auth&&this.o&&this.auth.removeAuthTokenListener(this.o),this.o=void 0}u(){let e=this.auth&&this.auth.getUid();return Me(e===null||typeof e=="string"),new vt(e)}},f_=class{constructor(e,n,r){this.l=e,this.h=n,this.P=r,this.type="FirstParty",this.user=vt.FIRST_PARTY,this.I=new Map}T(){return this.P?this.P():null}get headers(){this.I.set("X-Goog-AuthUser",this.l);let e=this.T();return e&&this.I.set("Authorization",e),this.h&&this.I.set("X-Goog-Iam-Authorization-Token",this.h),this.I}},p_=class{constructor(e,n,r){this.l=e,this.h=n,this.P=r}getToken(){return Promise.resolve(new f_(this.l,this.h,this.P))}start(e,n){e.enqueueRetryable(()=>n(vt.FIRST_PARTY))}shutdown(){}invalidateToken(){}},g_=class{constructor(e){this.value=e,this.type="AppCheck",this.headers=new Map,e&&e.length>0&&this.headers.set("x-firebase-appcheck",this.value)}},m_=class{constructor(e){this.A=e,this.forceRefresh=!1,this.appCheck=null,this.R=null}start(e,n){Me(this.o===void 0);let r=s=>{s.error!=null&&z("FirebaseAppCheckTokenProvider",`Error getting App Check token; using placeholder token instead. Error: ${s.error.message}`);let o=s.token!==this.R;return this.R=s.token,z("FirebaseAppCheckTokenProvider",`Received ${o?"new":"existing"} token.`),o?n(s.token):Promise.resolve()};this.o=s=>{e.enqueueRetryable(()=>r(s))};let i=s=>{z("FirebaseAppCheckTokenProvider","AppCheck detected"),this.appCheck=s,this.o&&this.appCheck.addTokenListener(this.o)};this.A.onInit(s=>i(s)),setTimeout(()=>{if(!this.appCheck){let s=this.A.getImmediate({optional:!0});s?i(s):z("FirebaseAppCheckTokenProvider","AppCheck not yet detected")}},0)}getToken(){let e=this.forceRefresh;return this.forceRefresh=!1,this.appCheck?this.appCheck.getToken(e).then(n=>n?(Me(typeof n.token=="string"),this.R=n.token,new g_(n.token)):null):Promise.resolve(null)}invalidateToken(){this.forceRefresh=!0}shutdown(){this.appCheck&&this.o&&this.appCheck.removeTokenListener(this.o),this.o=void 0}};function pH(t){let e=typeof self<"u"&&(self.crypto||self.msCrypto),n=new Uint8Array(t);if(e&&typeof e.getRandomValues=="function")e.getRandomValues(n);else for(let r=0;r<t;r++)n[r]=Math.floor(256*Math.random());return n}var lp=class{static newId(){let e="ABCDEFGHIJKLMNOPQRSTUVWXYZabcdefghijklmnopqrstuvwxyz0123456789",n=Math.floor(256/e.length)*e.length,r="";for(;r.length<20;){let i=pH(40);for(let s=0;s<i.length;++s)r.length<20&&i[s]<n&&(r+=e.charAt(i[s]%e.length))}return r}};function Te(t,e){return t<e?-1:t>e?1:0}function La(t,e,n){return t.length===e.length&&t.every((r,i)=>n(r,e[i]))}var bt=class t{constructor(e,n){if(this.seconds=e,this.nanoseconds=n,n<0)throw new H(F.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(n>=1e9)throw new H(F.INVALID_ARGUMENT,"Timestamp nanoseconds out of range: "+n);if(e<-62135596800)throw new H(F.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e);if(e>=253402300800)throw new H(F.INVALID_ARGUMENT,"Timestamp seconds out of range: "+e)}static now(){return t.fromMillis(Date.now())}static fromDate(e){return t.fromMillis(e.getTime())}static fromMillis(e){let n=Math.floor(e/1e3),r=Math.floor(1e6*(e-1e3*n));return new t(n,r)}toDate(){return new Date(this.toMillis())}toMillis(){return 1e3*this.seconds+this.nanoseconds/1e6}_compareTo(e){return this.seconds===e.seconds?Te(this.nanoseconds,e.nanoseconds):Te(this.seconds,e.seconds)}isEqual(e){return e.seconds===this.seconds&&e.nanoseconds===this.nanoseconds}toString(){return"Timestamp(seconds="+this.seconds+", nanoseconds="+this.nanoseconds+")"}toJSON(){return{seconds:this.seconds,nanoseconds:this.nanoseconds}}valueOf(){let e=this.seconds- -62135596800;return String(e).padStart(12,"0")+"."+String(this.nanoseconds).padStart(9,"0")}};var ae=class t{constructor(e){this.timestamp=e}static fromTimestamp(e){return new t(e)}static min(){return new t(new bt(0,0))}static max(){return new t(new bt(253402300799,999999999))}compareTo(e){return this.timestamp._compareTo(e.timestamp)}isEqual(e){return this.timestamp.isEqual(e.timestamp)}toMicroseconds(){return 1e6*this.timestamp.seconds+this.timestamp.nanoseconds/1e3}toString(){return"SnapshotVersion("+this.timestamp.toString()+")"}toTimestamp(){return this.timestamp}};var dp=class t{constructor(e,n,r){n===void 0?n=0:n>e.length&&te(),r===void 0?r=e.length-n:r>e.length-n&&te(),this.segments=e,this.offset=n,this.len=r}get length(){return this.len}isEqual(e){return t.comparator(this,e)===0}child(e){let n=this.segments.slice(this.offset,this.limit());return e instanceof t?e.forEach(r=>{n.push(r)}):n.push(e),this.construct(n)}limit(){return this.offset+this.length}popFirst(e){return e=e===void 0?1:e,this.construct(this.segments,this.offset+e,this.length-e)}popLast(){return this.construct(this.segments,this.offset,this.length-1)}firstSegment(){return this.segments[this.offset]}lastSegment(){return this.get(this.length-1)}get(e){return this.segments[this.offset+e]}isEmpty(){return this.length===0}isPrefixOf(e){if(e.length<this.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}isImmediateParentOf(e){if(this.length+1!==e.length)return!1;for(let n=0;n<this.length;n++)if(this.get(n)!==e.get(n))return!1;return!0}forEach(e){for(let n=this.offset,r=this.limit();n<r;n++)e(this.segments[n])}toArray(){return this.segments.slice(this.offset,this.limit())}static comparator(e,n){let r=Math.min(e.length,n.length);for(let i=0;i<r;i++){let s=e.get(i),o=n.get(i);if(s<o)return-1;if(s>o)return 1}return e.length<n.length?-1:e.length>n.length?1:0}},He=class t extends dp{construct(e,n,r){return new t(e,n,r)}canonicalString(){return this.toArray().join("/")}toString(){return this.canonicalString()}toUriEncodedString(){return this.toArray().map(encodeURIComponent).join("/")}static fromString(...e){let n=[];for(let r of e){if(r.indexOf("//")>=0)throw new H(F.INVALID_ARGUMENT,`Invalid segment (${r}). Paths must not contain // in them.`);n.push(...r.split("/").filter(i=>i.length>0))}return new t(n)}static emptyPath(){return new t([])}},gH=/^[_a-zA-Z][_a-zA-Z0-9]*$/,rn=class t extends dp{construct(e,n,r){return new t(e,n,r)}static isValidIdentifier(e){return gH.test(e)}canonicalString(){return this.toArray().map(e=>(e=e.replace(/\\/g,"\\\\").replace(/`/g,"\\`"),t.isValidIdentifier(e)||(e="`"+e+"`"),e)).join(".")}toString(){return this.canonicalString()}isKeyField(){return this.length===1&&this.get(0)==="__name__"}static keyField(){return new t(["__name__"])}static fromServerFormat(e){let n=[],r="",i=0,s=()=>{if(r.length===0)throw new H(F.INVALID_ARGUMENT,`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`);n.push(r),r=""},o=!1;for(;i<e.length;){let a=e[i];if(a==="\\"){if(i+1===e.length)throw new H(F.INVALID_ARGUMENT,"Path has trailing escape character: "+e);let u=e[i+1];if(u!=="\\"&&u!=="."&&u!=="`")throw new H(F.INVALID_ARGUMENT,"Path has invalid escape sequence: "+e);r+=u,i+=2}else a==="`"?(o=!o,i++):a!=="."||o?(r+=a,i++):(s(),i++)}if(s(),o)throw new H(F.INVALID_ARGUMENT,"Unterminated ` in path: "+e);return new t(n)}static emptyPath(){return new t([])}};var Z=class t{constructor(e){this.path=e}static fromPath(e){return new t(He.fromString(e))}static fromName(e){return new t(He.fromString(e).popFirst(5))}static empty(){return new t(He.emptyPath())}get collectionGroup(){return this.path.popLast().lastSegment()}hasCollectionId(e){return this.path.length>=2&&this.path.get(this.path.length-2)===e}getCollectionGroup(){return this.path.get(this.path.length-2)}getCollectionPath(){return this.path.popLast()}isEqual(e){return e!==null&&He.comparator(this.path,e.path)===0}toString(){return this.path.toString()}static comparator(e,n){return He.comparator(e.path,n.path)}static isDocumentKey(e){return e.length%2==0}static fromSegments(e){return new t(new He(e.slice()))}};var y_=class{constructor(e,n,r,i){this.indexId=e,this.collectionGroup=n,this.fields=r,this.indexState=i}};y_.UNKNOWN_ID=-1;function mH(t,e){let n=t.toTimestamp().seconds,r=t.toTimestamp().nanoseconds+1,i=ae.fromTimestamp(r===1e9?new bt(n+1,0):new bt(n,r));return new Zs(i,Z.empty(),e)}function yH(t){return new Zs(t.readTime,t.key,-1)}var Zs=class t{constructor(e,n,r){this.readTime=e,this.documentKey=n,this.largestBatchId=r}static min(){return new t(ae.min(),Z.empty(),-1)}static max(){return new t(ae.max(),Z.empty(),-1)}};function vH(t,e){let n=t.readTime.compareTo(e.readTime);return n!==0?n:(n=Z.comparator(t.documentKey,e.documentKey),n!==0?n:Te(t.largestBatchId,e.largestBatchId))}var wH="The current tab is not in the required state to perform this operation. It might be necessary to refresh the browser tab.",v_=class{constructor(){this.onCommittedListeners=[]}addOnCommittedListener(e){this.onCommittedListeners.push(e)}raiseOnCommittedEvent(){this.onCommittedListeners.forEach(e=>e())}};function il(t){return C(this,null,function*(){if(t.code!==F.FAILED_PRECONDITION||t.message!==wH)throw t;z("LocalStore","Unexpectedly lost primary lease")})}var L=class t{constructor(e){this.nextCallback=null,this.catchCallback=null,this.result=void 0,this.error=void 0,this.isDone=!1,this.callbackAttached=!1,e(n=>{this.isDone=!0,this.result=n,this.nextCallback&&this.nextCallback(n)},n=>{this.isDone=!0,this.error=n,this.catchCallback&&this.catchCallback(n)})}catch(e){return this.next(void 0,e)}next(e,n){return this.callbackAttached&&te(),this.callbackAttached=!0,this.isDone?this.error?this.wrapFailure(n,this.error):this.wrapSuccess(e,this.result):new t((r,i)=>{this.nextCallback=s=>{this.wrapSuccess(e,s).next(r,i)},this.catchCallback=s=>{this.wrapFailure(n,s).next(r,i)}})}toPromise(){return new Promise((e,n)=>{this.next(e,n)})}wrapUserFunction(e){try{let n=e();return n instanceof t?n:t.resolve(n)}catch(n){return t.reject(n)}}wrapSuccess(e,n){return e?this.wrapUserFunction(()=>e(n)):t.resolve(n)}wrapFailure(e,n){return e?this.wrapUserFunction(()=>e(n)):t.reject(n)}static resolve(e){return new t((n,r)=>{n(e)})}static reject(e){return new t((n,r)=>{r(e)})}static waitFor(e){return new t((n,r)=>{let i=0,s=0,o=!1;e.forEach(a=>{++i,a.next(()=>{++s,o&&s===i&&n()},u=>r(u))}),o=!0,s===i&&n()})}static or(e){let n=t.resolve(!1);for(let r of e)n=n.next(i=>i?t.resolve(i):r());return n}static forEach(e,n){let r=[];return e.forEach((i,s)=>{r.push(n.call(this,i,s))}),this.waitFor(r)}static mapArray(e,n){return new t((r,i)=>{let s=e.length,o=new Array(s),a=0;for(let u=0;u<s;u++){let d=u;n(e[d]).next(p=>{o[d]=p,++a,a===s&&r(o)},p=>i(p))}})}static doWhile(e,n){return new t((r,i)=>{let s=()=>{e()===!0?n().next(()=>{s()},i):r()};s()})}};function _H(t){let e=t.match(/Android ([\d.]+)/i),n=e?e[1].split(".").slice(0,2).join("."):"-1";return Number(n)}function sl(t){return t.name==="IndexedDbTransactionError"}var TR=(()=>{class t{constructor(n,r){this.previousValue=n,r&&(r.sequenceNumberHandler=i=>this.ie(i),this.se=i=>r.writeSequenceNumber(i))}ie(n){return this.previousValue=Math.max(n,this.previousValue),this.previousValue}next(){let n=++this.previousValue;return this.se&&this.se(n),n}}return t.oe=-1,t})();function qp(t){return t==null}function zu(t){return t===0&&1/t==-1/0}function IH(t){return typeof t=="number"&&Number.isInteger(t)&&!zu(t)&&t<=Number.MAX_SAFE_INTEGER&&t>=Number.MIN_SAFE_INTEGER}var EH=["mutationQueues","mutations","documentMutations","remoteDocuments","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries"],WQ=[...EH,"documentOverlays"],bH=["mutationQueues","mutations","documentMutations","remoteDocumentsV14","targets","owner","targetGlobal","targetDocuments","clientMetadata","remoteDocumentGlobal","collectionParents","bundles","namedQueries","documentOverlays"],DH=bH,CH=[...DH,"indexConfiguration","indexState","indexEntries"];var KQ=[...CH,"globals"];function GA(t){let e=0;for(let n in t)Object.prototype.hasOwnProperty.call(t,n)&&e++;return e}function ro(t,e){for(let n in t)Object.prototype.hasOwnProperty.call(t,n)&&e(n,t[n])}function SR(t){for(let e in t)if(Object.prototype.hasOwnProperty.call(t,e))return!1;return!0}var Ke=class t{constructor(e,n){this.comparator=e,this.root=n||fr.EMPTY}insert(e,n){return new t(this.comparator,this.root.insert(e,n,this.comparator).copy(null,null,fr.BLACK,null,null))}remove(e){return new t(this.comparator,this.root.remove(e,this.comparator).copy(null,null,fr.BLACK,null,null))}get(e){let n=this.root;for(;!n.isEmpty();){let r=this.comparator(e,n.key);if(r===0)return n.value;r<0?n=n.left:r>0&&(n=n.right)}return null}indexOf(e){let n=0,r=this.root;for(;!r.isEmpty();){let i=this.comparator(e,r.key);if(i===0)return n+r.left.size;i<0?r=r.left:(n+=r.left.size+1,r=r.right)}return-1}isEmpty(){return this.root.isEmpty()}get size(){return this.root.size}minKey(){return this.root.minKey()}maxKey(){return this.root.maxKey()}inorderTraversal(e){return this.root.inorderTraversal(e)}forEach(e){this.inorderTraversal((n,r)=>(e(n,r),!1))}toString(){let e=[];return this.inorderTraversal((n,r)=>(e.push(`${n}:${r}`),!1)),`{${e.join(", ")}}`}reverseTraversal(e){return this.root.reverseTraversal(e)}getIterator(){return new Pa(this.root,null,this.comparator,!1)}getIteratorFrom(e){return new Pa(this.root,e,this.comparator,!1)}getReverseIterator(){return new Pa(this.root,null,this.comparator,!0)}getReverseIteratorFrom(e){return new Pa(this.root,e,this.comparator,!0)}},Pa=class{constructor(e,n,r,i){this.isReverse=i,this.nodeStack=[];let s=1;for(;!e.isEmpty();)if(s=n?r(e.key,n):1,n&&i&&(s*=-1),s<0)e=this.isReverse?e.left:e.right;else{if(s===0){this.nodeStack.push(e);break}this.nodeStack.push(e),e=this.isReverse?e.right:e.left}}getNext(){let e=this.nodeStack.pop(),n={key:e.key,value:e.value};if(this.isReverse)for(e=e.left;!e.isEmpty();)this.nodeStack.push(e),e=e.right;else for(e=e.right;!e.isEmpty();)this.nodeStack.push(e),e=e.left;return n}hasNext(){return this.nodeStack.length>0}peek(){if(this.nodeStack.length===0)return null;let e=this.nodeStack[this.nodeStack.length-1];return{key:e.key,value:e.value}}},fr=class t{constructor(e,n,r,i,s){this.key=e,this.value=n,this.color=r??t.RED,this.left=i??t.EMPTY,this.right=s??t.EMPTY,this.size=this.left.size+1+this.right.size}copy(e,n,r,i,s){return new t(e??this.key,n??this.value,r??this.color,i??this.left,s??this.right)}isEmpty(){return!1}inorderTraversal(e){return this.left.inorderTraversal(e)||e(this.key,this.value)||this.right.inorderTraversal(e)}reverseTraversal(e){return this.right.reverseTraversal(e)||e(this.key,this.value)||this.left.reverseTraversal(e)}min(){return this.left.isEmpty()?this:this.left.min()}minKey(){return this.min().key}maxKey(){return this.right.isEmpty()?this.key:this.right.maxKey()}insert(e,n,r){let i=this,s=r(e,i.key);return i=s<0?i.copy(null,null,null,i.left.insert(e,n,r),null):s===0?i.copy(null,n,null,null,null):i.copy(null,null,null,null,i.right.insert(e,n,r)),i.fixUp()}removeMin(){if(this.left.isEmpty())return t.EMPTY;let e=this;return e.left.isRed()||e.left.left.isRed()||(e=e.moveRedLeft()),e=e.copy(null,null,null,e.left.removeMin(),null),e.fixUp()}remove(e,n){let r,i=this;if(n(e,i.key)<0)i.left.isEmpty()||i.left.isRed()||i.left.left.isRed()||(i=i.moveRedLeft()),i=i.copy(null,null,null,i.left.remove(e,n),null);else{if(i.left.isRed()&&(i=i.rotateRight()),i.right.isEmpty()||i.right.isRed()||i.right.left.isRed()||(i=i.moveRedRight()),n(e,i.key)===0){if(i.right.isEmpty())return t.EMPTY;r=i.right.min(),i=i.copy(r.key,r.value,null,null,i.right.removeMin())}i=i.copy(null,null,null,null,i.right.remove(e,n))}return i.fixUp()}isRed(){return this.color}fixUp(){let e=this;return e.right.isRed()&&!e.left.isRed()&&(e=e.rotateLeft()),e.left.isRed()&&e.left.left.isRed()&&(e=e.rotateRight()),e.left.isRed()&&e.right.isRed()&&(e=e.colorFlip()),e}moveRedLeft(){let e=this.colorFlip();return e.right.left.isRed()&&(e=e.copy(null,null,null,null,e.right.rotateRight()),e=e.rotateLeft(),e=e.colorFlip()),e}moveRedRight(){let e=this.colorFlip();return e.left.left.isRed()&&(e=e.rotateRight(),e=e.colorFlip()),e}rotateLeft(){let e=this.copy(null,null,t.RED,null,this.right.left);return this.right.copy(null,null,this.color,e,null)}rotateRight(){let e=this.copy(null,null,t.RED,this.left.right,null);return this.left.copy(null,null,this.color,null,e)}colorFlip(){let e=this.left.copy(null,null,!this.left.color,null,null),n=this.right.copy(null,null,!this.right.color,null,null);return this.copy(null,null,!this.color,e,n)}checkMaxDepth(){let e=this.check();return Math.pow(2,e)<=this.size+1}check(){if(this.isRed()&&this.left.isRed()||this.right.isRed())throw te();let e=this.left.check();if(e!==this.right.check())throw te();return e+(this.isRed()?0:1)}};fr.EMPTY=null,fr.RED=!0,fr.BLACK=!1;fr.EMPTY=new class{constructor(){this.size=0}get key(){throw te()}get value(){throw te()}get color(){throw te()}get left(){throw te()}get right(){throw te()}copy(e,n,r,i,s){return this}insert(e,n,r){return new fr(e,n)}remove(e,n){return this}isEmpty(){return!0}inorderTraversal(e){return!1}reverseTraversal(e){return!1}minKey(){return null}maxKey(){return null}isRed(){return!1}checkMaxDepth(){return!0}check(){return 0}};var Rt=class t{constructor(e){this.comparator=e,this.data=new Ke(this.comparator)}has(e){return this.data.get(e)!==null}first(){return this.data.minKey()}last(){return this.data.maxKey()}get size(){return this.data.size}indexOf(e){return this.data.indexOf(e)}forEach(e){this.data.inorderTraversal((n,r)=>(e(n),!1))}forEachInRange(e,n){let r=this.data.getIteratorFrom(e[0]);for(;r.hasNext();){let i=r.getNext();if(this.comparator(i.key,e[1])>=0)return;n(i.key)}}forEachWhile(e,n){let r;for(r=n!==void 0?this.data.getIteratorFrom(n):this.data.getIterator();r.hasNext();)if(!e(r.getNext().key))return}firstAfterOrEqual(e){let n=this.data.getIteratorFrom(e);return n.hasNext()?n.getNext().key:null}getIterator(){return new hp(this.data.getIterator())}getIteratorFrom(e){return new hp(this.data.getIteratorFrom(e))}add(e){return this.copy(this.data.remove(e).insert(e,!0))}delete(e){return this.has(e)?this.copy(this.data.remove(e)):this}isEmpty(){return this.data.isEmpty()}unionWith(e){let n=this;return n.size<e.size&&(n=e,e=this),e.forEach(r=>{n=n.add(r)}),n}isEqual(e){if(!(e instanceof t)||this.size!==e.size)return!1;let n=this.data.getIterator(),r=e.data.getIterator();for(;n.hasNext();){let i=n.getNext().key,s=r.getNext().key;if(this.comparator(i,s)!==0)return!1}return!0}toArray(){let e=[];return this.forEach(n=>{e.push(n)}),e}toString(){let e=[];return this.forEach(n=>e.push(n)),"SortedSet("+e.toString()+")"}copy(e){let n=new t(this.comparator);return n.data=e,n}},hp=class{constructor(e){this.iter=e}getNext(){return this.iter.getNext().key}hasNext(){return this.iter.hasNext()}};var pn=class t{constructor(e){this.fields=e,e.sort(rn.comparator)}static empty(){return new t([])}unionWith(e){let n=new Rt(rn.comparator);for(let r of this.fields)n=n.add(r);for(let r of e)n=n.add(r);return new t(n.toArray())}covers(e){for(let n of this.fields)if(n.isPrefixOf(e))return!0;return!1}isEqual(e){return La(this.fields,e.fields,(n,r)=>n.isEqual(r))}};var fp=class extends Error{constructor(){super(...arguments),this.name="Base64DecodeError"}};var xt=class t{constructor(e){this.binaryString=e}static fromBase64String(e){let n=function(i){try{return atob(i)}catch(s){throw typeof DOMException<"u"&&s instanceof DOMException?new fp("Invalid base64 string: "+s):s}}(e);return new t(n)}static fromUint8Array(e){let n=function(i){let s="";for(let o=0;o<i.length;++o)s+=String.fromCharCode(i[o]);return s}(e);return new t(n)}[Symbol.iterator](){let e=0;return{next:()=>e<this.binaryString.length?{value:this.binaryString.charCodeAt(e++),done:!1}:{value:void 0,done:!0}}}toBase64(){return function(n){return btoa(n)}(this.binaryString)}toUint8Array(){return function(n){let r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}(this.binaryString)}approximateByteSize(){return 2*this.binaryString.length}compareTo(e){return Te(this.binaryString,e.binaryString)}isEqual(e){return this.binaryString===e.binaryString}};xt.EMPTY_BYTE_STRING=new xt("");var TH=new RegExp(/^\d{4}-\d\d-\d\dT\d\d:\d\d:\d\d(?:\.(\d+))?Z$/);function Yr(t){if(Me(!!t),typeof t=="string"){let e=0,n=TH.exec(t);if(Me(!!n),n[1]){let i=n[1];i=(i+"000000000").substr(0,9),e=Number(i)}let r=new Date(t);return{seconds:Math.floor(r.getTime()/1e3),nanos:e}}return{seconds:je(t.seconds),nanos:je(t.nanos)}}function je(t){return typeof t=="number"?t:typeof t=="string"?Number(t):0}function zi(t){return typeof t=="string"?xt.fromBase64String(t):xt.fromUint8Array(t)}function HI(t){var e,n;return((n=(((e=t?.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="server_timestamp"}function qI(t){let e=t.mapValue.fields.__previous_value__;return HI(e)?qI(e):e}function Gu(t){let e=Yr(t.mapValue.fields.__local_write_time__.timestampValue);return new bt(e.seconds,e.nanos)}var w_=class{constructor(e,n,r,i,s,o,a,u,d){this.databaseId=e,this.appId=n,this.persistenceKey=r,this.host=i,this.ssl=s,this.forceLongPolling=o,this.autoDetectLongPolling=a,this.longPollingOptions=u,this.useFetchStreams=d}},pp=class t{constructor(e,n){this.projectId=e,this.database=n||"(default)"}static empty(){return new t("","")}get isDefaultDatabase(){return this.database==="(default)"}isEqual(e){return e instanceof t&&e.projectId===this.projectId&&e.database===this.database}};var sp={mapValue:{fields:{__type__:{stringValue:"__max__"}}}};function Js(t){return"nullValue"in t?0:"booleanValue"in t?1:"integerValue"in t||"doubleValue"in t?2:"timestampValue"in t?3:"stringValue"in t?5:"bytesValue"in t?6:"referenceValue"in t?7:"geoPointValue"in t?8:"arrayValue"in t?9:"mapValue"in t?HI(t)?4:RR(t)?9007199254740991:AR(t)?10:11:te()}function mr(t,e){if(t===e)return!0;let n=Js(t);if(n!==Js(e))return!1;switch(n){case 0:case 9007199254740991:return!0;case 1:return t.booleanValue===e.booleanValue;case 4:return Gu(t).isEqual(Gu(e));case 3:return function(i,s){if(typeof i.timestampValue=="string"&&typeof s.timestampValue=="string"&&i.timestampValue.length===s.timestampValue.length)return i.timestampValue===s.timestampValue;let o=Yr(i.timestampValue),a=Yr(s.timestampValue);return o.seconds===a.seconds&&o.nanos===a.nanos}(t,e);case 5:return t.stringValue===e.stringValue;case 6:return function(i,s){return zi(i.bytesValue).isEqual(zi(s.bytesValue))}(t,e);case 7:return t.referenceValue===e.referenceValue;case 8:return function(i,s){return je(i.geoPointValue.latitude)===je(s.geoPointValue.latitude)&&je(i.geoPointValue.longitude)===je(s.geoPointValue.longitude)}(t,e);case 2:return function(i,s){if("integerValue"in i&&"integerValue"in s)return je(i.integerValue)===je(s.integerValue);if("doubleValue"in i&&"doubleValue"in s){let o=je(i.doubleValue),a=je(s.doubleValue);return o===a?zu(o)===zu(a):isNaN(o)&&isNaN(a)}return!1}(t,e);case 9:return La(t.arrayValue.values||[],e.arrayValue.values||[],mr);case 10:case 11:return function(i,s){let o=i.mapValue.fields||{},a=s.mapValue.fields||{};if(GA(o)!==GA(a))return!1;for(let u in o)if(o.hasOwnProperty(u)&&(a[u]===void 0||!mr(o[u],a[u])))return!1;return!0}(t,e);default:return te()}}function Wu(t,e){return(t.values||[]).find(n=>mr(n,e))!==void 0}function Va(t,e){if(t===e)return 0;let n=Js(t),r=Js(e);if(n!==r)return Te(n,r);switch(n){case 0:case 9007199254740991:return 0;case 1:return Te(t.booleanValue,e.booleanValue);case 2:return function(s,o){let a=je(s.integerValue||s.doubleValue),u=je(o.integerValue||o.doubleValue);return a<u?-1:a>u?1:a===u?0:isNaN(a)?isNaN(u)?0:-1:1}(t,e);case 3:return WA(t.timestampValue,e.timestampValue);case 4:return WA(Gu(t),Gu(e));case 5:return Te(t.stringValue,e.stringValue);case 6:return function(s,o){let a=zi(s),u=zi(o);return a.compareTo(u)}(t.bytesValue,e.bytesValue);case 7:return function(s,o){let a=s.split("/"),u=o.split("/");for(let d=0;d<a.length&&d<u.length;d++){let p=Te(a[d],u[d]);if(p!==0)return p}return Te(a.length,u.length)}(t.referenceValue,e.referenceValue);case 8:return function(s,o){let a=Te(je(s.latitude),je(o.latitude));return a!==0?a:Te(je(s.longitude),je(o.longitude))}(t.geoPointValue,e.geoPointValue);case 9:return KA(t.arrayValue,e.arrayValue);case 10:return function(s,o){var a,u,d,p;let g=s.fields||{},_=o.fields||{},E=(a=g.value)===null||a===void 0?void 0:a.arrayValue,M=(u=_.value)===null||u===void 0?void 0:u.arrayValue,O=Te(((d=E?.values)===null||d===void 0?void 0:d.length)||0,((p=M?.values)===null||p===void 0?void 0:p.length)||0);return O!==0?O:KA(E,M)}(t.mapValue,e.mapValue);case 11:return function(s,o){if(s===sp.mapValue&&o===sp.mapValue)return 0;if(s===sp.mapValue)return 1;if(o===sp.mapValue)return-1;let a=s.fields||{},u=Object.keys(a),d=o.fields||{},p=Object.keys(d);u.sort(),p.sort();for(let g=0;g<u.length&&g<p.length;++g){let _=Te(u[g],p[g]);if(_!==0)return _;let E=Va(a[u[g]],d[p[g]]);if(E!==0)return E}return Te(u.length,p.length)}(t.mapValue,e.mapValue);default:throw te()}}function WA(t,e){if(typeof t=="string"&&typeof e=="string"&&t.length===e.length)return Te(t,e);let n=Yr(t),r=Yr(e),i=Te(n.seconds,r.seconds);return i!==0?i:Te(n.nanos,r.nanos)}function KA(t,e){let n=t.values||[],r=e.values||[];for(let i=0;i<n.length&&i<r.length;++i){let s=Va(n[i],r[i]);if(s)return s}return Te(n.length,r.length)}function Ua(t){return __(t)}function __(t){return"nullValue"in t?"null":"booleanValue"in t?""+t.booleanValue:"integerValue"in t?""+t.integerValue:"doubleValue"in t?""+t.doubleValue:"timestampValue"in t?function(n){let r=Yr(n);return`time(${r.seconds},${r.nanos})`}(t.timestampValue):"stringValue"in t?t.stringValue:"bytesValue"in t?function(n){return zi(n).toBase64()}(t.bytesValue):"referenceValue"in t?function(n){return Z.fromName(n).toString()}(t.referenceValue):"geoPointValue"in t?function(n){return`geo(${n.latitude},${n.longitude})`}(t.geoPointValue):"arrayValue"in t?function(n){let r="[",i=!0;for(let s of n.values||[])i?i=!1:r+=",",r+=__(s);return r+"]"}(t.arrayValue):"mapValue"in t?function(n){let r=Object.keys(n.fields||{}).sort(),i="{",s=!0;for(let o of r)s?s=!1:i+=",",i+=`${o}:${__(n.fields[o])}`;return i+"}"}(t.mapValue):te()}function QA(t,e){return{referenceValue:`projects/${t.projectId}/databases/${t.database}/documents/${e.path.canonicalString()}`}}function I_(t){return!!t&&"integerValue"in t}function zI(t){return!!t&&"arrayValue"in t}function YA(t){return!!t&&"nullValue"in t}function ZA(t){return!!t&&"doubleValue"in t&&isNaN(Number(t.doubleValue))}function ap(t){return!!t&&"mapValue"in t}function AR(t){var e,n;return((n=(((e=t?.mapValue)===null||e===void 0?void 0:e.fields)||{}).__type__)===null||n===void 0?void 0:n.stringValue)==="__vector__"}function Bu(t){if(t.geoPointValue)return{geoPointValue:Object.assign({},t.geoPointValue)};if(t.timestampValue&&typeof t.timestampValue=="object")return{timestampValue:Object.assign({},t.timestampValue)};if(t.mapValue){let e={mapValue:{fields:{}}};return ro(t.mapValue.fields,(n,r)=>e.mapValue.fields[n]=Bu(r)),e}if(t.arrayValue){let e={arrayValue:{values:[]}};for(let n=0;n<(t.arrayValue.values||[]).length;++n)e.arrayValue.values[n]=Bu(t.arrayValue.values[n]);return e}return Object.assign({},t)}function RR(t){return(((t.mapValue||{}).fields||{}).__type__||{}).stringValue==="__max__"}var nn=class t{constructor(e){this.value=e}static empty(){return new t({mapValue:{}})}field(e){if(e.isEmpty())return this.value;{let n=this.value;for(let r=0;r<e.length-1;++r)if(n=(n.mapValue.fields||{})[e.get(r)],!ap(n))return null;return n=(n.mapValue.fields||{})[e.lastSegment()],n||null}}set(e,n){this.getFieldsMap(e.popLast())[e.lastSegment()]=Bu(n)}setAll(e){let n=rn.emptyPath(),r={},i=[];e.forEach((o,a)=>{if(!n.isImmediateParentOf(a)){let u=this.getFieldsMap(n);this.applyChanges(u,r,i),r={},i=[],n=a.popLast()}o?r[a.lastSegment()]=Bu(o):i.push(a.lastSegment())});let s=this.getFieldsMap(n);this.applyChanges(s,r,i)}delete(e){let n=this.field(e.popLast());ap(n)&&n.mapValue.fields&&delete n.mapValue.fields[e.lastSegment()]}isEqual(e){return mr(this.value,e.value)}getFieldsMap(e){let n=this.value;n.mapValue.fields||(n.mapValue={fields:{}});for(let r=0;r<e.length;++r){let i=n.mapValue.fields[e.get(r)];ap(i)&&i.mapValue.fields||(i={mapValue:{fields:{}}},n.mapValue.fields[e.get(r)]=i),n=i}return n.mapValue.fields}applyChanges(e,n,r){ro(n,(i,s)=>e[i]=s);for(let i of r)delete e[i]}clone(){return new t(Bu(this.value))}};function xR(t){let e=[];return ro(t.fields,(n,r)=>{let i=new rn([n]);if(ap(r)){let s=xR(r.mapValue).fields;if(s.length===0)e.push(i);else for(let o of s)e.push(i.child(o))}else e.push(i)}),new pn(e)}var Mn=class t{constructor(e,n,r,i,s,o,a){this.key=e,this.documentType=n,this.version=r,this.readTime=i,this.createTime=s,this.data=o,this.documentState=a}static newInvalidDocument(e){return new t(e,0,ae.min(),ae.min(),ae.min(),nn.empty(),0)}static newFoundDocument(e,n,r,i){return new t(e,1,n,ae.min(),r,i,0)}static newNoDocument(e,n){return new t(e,2,n,ae.min(),ae.min(),nn.empty(),0)}static newUnknownDocument(e,n){return new t(e,3,n,ae.min(),ae.min(),nn.empty(),2)}convertToFoundDocument(e,n){return!this.createTime.isEqual(ae.min())||this.documentType!==2&&this.documentType!==0||(this.createTime=e),this.version=e,this.documentType=1,this.data=n,this.documentState=0,this}convertToNoDocument(e){return this.version=e,this.documentType=2,this.data=nn.empty(),this.documentState=0,this}convertToUnknownDocument(e){return this.version=e,this.documentType=3,this.data=nn.empty(),this.documentState=2,this}setHasCommittedMutations(){return this.documentState=2,this}setHasLocalMutations(){return this.documentState=1,this.version=ae.min(),this}setReadTime(e){return this.readTime=e,this}get hasLocalMutations(){return this.documentState===1}get hasCommittedMutations(){return this.documentState===2}get hasPendingWrites(){return this.hasLocalMutations||this.hasCommittedMutations}isValidDocument(){return this.documentType!==0}isFoundDocument(){return this.documentType===1}isNoDocument(){return this.documentType===2}isUnknownDocument(){return this.documentType===3}isEqual(e){return e instanceof t&&this.key.isEqual(e.key)&&this.version.isEqual(e.version)&&this.documentType===e.documentType&&this.documentState===e.documentState&&this.data.isEqual(e.data)}mutableCopy(){return new t(this.key,this.documentType,this.version,this.readTime,this.createTime,this.data.clone(),this.documentState)}toString(){return`Document(${this.key}, ${this.version}, ${JSON.stringify(this.data.value)}, {createTime: ${this.createTime}}), {documentType: ${this.documentType}}), {documentState: ${this.documentState}})`}};var ja=class{constructor(e,n){this.position=e,this.inclusive=n}};function JA(t,e,n){let r=0;for(let i=0;i<t.position.length;i++){let s=e[i],o=t.position[i];if(s.field.isKeyField()?r=Z.comparator(Z.fromName(o.referenceValue),n.key):r=Va(o,n.data.field(s.field)),s.dir==="desc"&&(r*=-1),r!==0)break}return r}function XA(t,e){if(t===null)return e===null;if(e===null||t.inclusive!==e.inclusive||t.position.length!==e.position.length)return!1;for(let n=0;n<t.position.length;n++)if(!mr(t.position[n],e.position[n]))return!1;return!0}var Xs=class{constructor(e,n="asc"){this.field=e,this.dir=n}};function SH(t,e){return t.dir===e.dir&&t.field.isEqual(e.field)}var gp=class{},st=class t extends gp{constructor(e,n,r){super(),this.field=e,this.op=n,this.value=r}static create(e,n,r){return e.isKeyField()?n==="in"||n==="not-in"?this.createKeyFieldInFilter(e,n,r):new b_(e,n,r):n==="array-contains"?new T_(e,r):n==="in"?new S_(e,r):n==="not-in"?new A_(e,r):n==="array-contains-any"?new R_(e,r):new t(e,n,r)}static createKeyFieldInFilter(e,n,r){return n==="in"?new D_(e,r):new C_(e,r)}matches(e){let n=e.data.field(this.field);return this.op==="!="?n!==null&&this.matchesComparison(Va(n,this.value)):n!==null&&Js(this.value)===Js(n)&&this.matchesComparison(Va(n,this.value))}matchesComparison(e){switch(this.op){case"<":return e<0;case"<=":return e<=0;case"==":return e===0;case"!=":return e!==0;case">":return e>0;case">=":return e>=0;default:return te()}}isInequality(){return["<","<=",">",">=","!=","not-in"].indexOf(this.op)>=0}getFlattenedFilters(){return[this]}getFilters(){return[this]}},Nn=class t extends gp{constructor(e,n){super(),this.filters=e,this.op=n,this.ae=null}static create(e,n){return new t(e,n)}matches(e){return MR(this)?this.filters.find(n=>!n.matches(e))===void 0:this.filters.find(n=>n.matches(e))!==void 0}getFlattenedFilters(){return this.ae!==null||(this.ae=this.filters.reduce((e,n)=>e.concat(n.getFlattenedFilters()),[])),this.ae}getFilters(){return Object.assign([],this.filters)}};function MR(t){return t.op==="and"}function NR(t){return AH(t)&&MR(t)}function AH(t){for(let e of t.filters)if(e instanceof Nn)return!1;return!0}function E_(t){if(t instanceof st)return t.field.canonicalString()+t.op.toString()+Ua(t.value);if(NR(t))return t.filters.map(e=>E_(e)).join(",");{let e=t.filters.map(n=>E_(n)).join(",");return`${t.op}(${e})`}}function PR(t,e){return t instanceof st?function(r,i){return i instanceof st&&r.op===i.op&&r.field.isEqual(i.field)&&mr(r.value,i.value)}(t,e):t instanceof Nn?function(r,i){return i instanceof Nn&&r.op===i.op&&r.filters.length===i.filters.length?r.filters.reduce((s,o,a)=>s&&PR(o,i.filters[a]),!0):!1}(t,e):void te()}function kR(t){return t instanceof st?function(n){return`${n.field.canonicalString()} ${n.op} ${Ua(n.value)}`}(t):t instanceof Nn?function(n){return n.op.toString()+" {"+n.getFilters().map(kR).join(" ,")+"}"}(t):"Filter"}var b_=class extends st{constructor(e,n,r){super(e,n,r),this.key=Z.fromName(r.referenceValue)}matches(e){let n=Z.comparator(e.key,this.key);return this.matchesComparison(n)}},D_=class extends st{constructor(e,n){super(e,"in",n),this.keys=OR("in",n)}matches(e){return this.keys.some(n=>n.isEqual(e.key))}},C_=class extends st{constructor(e,n){super(e,"not-in",n),this.keys=OR("not-in",n)}matches(e){return!this.keys.some(n=>n.isEqual(e.key))}};function OR(t,e){var n;return(((n=e.arrayValue)===null||n===void 0?void 0:n.values)||[]).map(r=>Z.fromName(r.referenceValue))}var T_=class extends st{constructor(e,n){super(e,"array-contains",n)}matches(e){let n=e.data.field(this.field);return zI(n)&&Wu(n.arrayValue,this.value)}},S_=class extends st{constructor(e,n){super(e,"in",n)}matches(e){let n=e.data.field(this.field);return n!==null&&Wu(this.value.arrayValue,n)}},A_=class extends st{constructor(e,n){super(e,"not-in",n)}matches(e){if(Wu(this.value.arrayValue,{nullValue:"NULL_VALUE"}))return!1;let n=e.data.field(this.field);return n!==null&&!Wu(this.value.arrayValue,n)}},R_=class extends st{constructor(e,n){super(e,"array-contains-any",n)}matches(e){let n=e.data.field(this.field);return!(!zI(n)||!n.arrayValue.values)&&n.arrayValue.values.some(r=>Wu(this.value.arrayValue,r))}};var x_=class{constructor(e,n=null,r=[],i=[],s=null,o=null,a=null){this.path=e,this.collectionGroup=n,this.orderBy=r,this.filters=i,this.limit=s,this.startAt=o,this.endAt=a,this.ue=null}};function eR(t,e=null,n=[],r=[],i=null,s=null,o=null){return new x_(t,e,n,r,i,s,o)}function GI(t){let e=se(t);if(e.ue===null){let n=e.path.canonicalString();e.collectionGroup!==null&&(n+="|cg:"+e.collectionGroup),n+="|f:",n+=e.filters.map(r=>E_(r)).join(","),n+="|ob:",n+=e.orderBy.map(r=>function(s){return s.field.canonicalString()+s.dir}(r)).join(","),qp(e.limit)||(n+="|l:",n+=e.limit),e.startAt&&(n+="|lb:",n+=e.startAt.inclusive?"b:":"a:",n+=e.startAt.position.map(r=>Ua(r)).join(",")),e.endAt&&(n+="|ub:",n+=e.endAt.inclusive?"a:":"b:",n+=e.endAt.position.map(r=>Ua(r)).join(",")),e.ue=n}return e.ue}function WI(t,e){if(t.limit!==e.limit||t.orderBy.length!==e.orderBy.length)return!1;for(let n=0;n<t.orderBy.length;n++)if(!SH(t.orderBy[n],e.orderBy[n]))return!1;if(t.filters.length!==e.filters.length)return!1;for(let n=0;n<t.filters.length;n++)if(!PR(t.filters[n],e.filters[n]))return!1;return t.collectionGroup===e.collectionGroup&&!!t.path.isEqual(e.path)&&!!XA(t.startAt,e.startAt)&&XA(t.endAt,e.endAt)}function M_(t){return Z.isDocumentKey(t.path)&&t.collectionGroup===null&&t.filters.length===0}var Gi=class{constructor(e,n=null,r=[],i=[],s=null,o="F",a=null,u=null){this.path=e,this.collectionGroup=n,this.explicitOrderBy=r,this.filters=i,this.limit=s,this.limitType=o,this.startAt=a,this.endAt=u,this.ce=null,this.le=null,this.he=null,this.startAt,this.endAt}};function RH(t,e,n,r,i,s,o,a){return new Gi(t,e,n,r,i,s,o,a)}function KI(t){return new Gi(t)}function tR(t){return t.filters.length===0&&t.limit===null&&t.startAt==null&&t.endAt==null&&(t.explicitOrderBy.length===0||t.explicitOrderBy.length===1&&t.explicitOrderBy[0].field.isKeyField())}function FR(t){return t.collectionGroup!==null}function $u(t){let e=se(t);if(e.ce===null){e.ce=[];let n=new Set;for(let s of e.explicitOrderBy)e.ce.push(s),n.add(s.field.canonicalString());let r=e.explicitOrderBy.length>0?e.explicitOrderBy[e.explicitOrderBy.length-1].dir:"asc";(function(o){let a=new Rt(rn.comparator);return o.filters.forEach(u=>{u.getFlattenedFilters().forEach(d=>{d.isInequality()&&(a=a.add(d.field))})}),a})(e).forEach(s=>{n.has(s.canonicalString())||s.isKeyField()||e.ce.push(new Xs(s,r))}),n.has(rn.keyField().canonicalString())||e.ce.push(new Xs(rn.keyField(),r))}return e.ce}function pr(t){let e=se(t);return e.le||(e.le=xH(e,$u(t))),e.le}function xH(t,e){if(t.limitType==="F")return eR(t.path,t.collectionGroup,e,t.filters,t.limit,t.startAt,t.endAt);{e=e.map(i=>{let s=i.dir==="desc"?"asc":"desc";return new Xs(i.field,s)});let n=t.endAt?new ja(t.endAt.position,t.endAt.inclusive):null,r=t.startAt?new ja(t.startAt.position,t.startAt.inclusive):null;return eR(t.path,t.collectionGroup,e,t.filters,t.limit,n,r)}}function N_(t,e){let n=t.filters.concat([e]);return new Gi(t.path,t.collectionGroup,t.explicitOrderBy.slice(),n,t.limit,t.limitType,t.startAt,t.endAt)}function P_(t,e,n){return new Gi(t.path,t.collectionGroup,t.explicitOrderBy.slice(),t.filters.slice(),e,n,t.startAt,t.endAt)}function zp(t,e){return WI(pr(t),pr(e))&&t.limitType===e.limitType}function LR(t){return`${GI(pr(t))}|lt:${t.limitType}`}function xa(t){return`Query(target=${function(n){let r=n.path.canonicalString();return n.collectionGroup!==null&&(r+=" collectionGroup="+n.collectionGroup),n.filters.length>0&&(r+=`, filters: [${n.filters.map(i=>kR(i)).join(", ")}]`),qp(n.limit)||(r+=", limit: "+n.limit),n.orderBy.length>0&&(r+=`, orderBy: [${n.orderBy.map(i=>function(o){return`${o.field.canonicalString()} (${o.dir})`}(i)).join(", ")}]`),n.startAt&&(r+=", startAt: ",r+=n.startAt.inclusive?"b:":"a:",r+=n.startAt.position.map(i=>Ua(i)).join(",")),n.endAt&&(r+=", endAt: ",r+=n.endAt.inclusive?"a:":"b:",r+=n.endAt.position.map(i=>Ua(i)).join(",")),`Target(${r})`}(pr(t))}; limitType=${t.limitType})`}function Gp(t,e){return e.isFoundDocument()&&function(r,i){let s=i.key.path;return r.collectionGroup!==null?i.key.hasCollectionId(r.collectionGroup)&&r.path.isPrefixOf(s):Z.isDocumentKey(r.path)?r.path.isEqual(s):r.path.isImmediateParentOf(s)}(t,e)&&function(r,i){for(let s of $u(r))if(!s.field.isKeyField()&&i.data.field(s.field)===null)return!1;return!0}(t,e)&&function(r,i){for(let s of r.filters)if(!s.matches(i))return!1;return!0}(t,e)&&function(r,i){return!(r.startAt&&!function(o,a,u){let d=JA(o,a,u);return o.inclusive?d<=0:d<0}(r.startAt,$u(r),i)||r.endAt&&!function(o,a,u){let d=JA(o,a,u);return o.inclusive?d>=0:d>0}(r.endAt,$u(r),i))}(t,e)}function MH(t){return t.collectionGroup||(t.path.length%2==1?t.path.lastSegment():t.path.get(t.path.length-2))}function VR(t){return(e,n)=>{let r=!1;for(let i of $u(t)){let s=NH(i,e,n);if(s!==0)return s;r=r||i.field.isKeyField()}return 0}}function NH(t,e,n){let r=t.field.isKeyField()?Z.comparator(e.key,n.key):function(s,o,a){let u=o.data.field(s),d=a.data.field(s);return u!==null&&d!==null?Va(u,d):te()}(t.field,e,n);switch(t.dir){case"asc":return r;case"desc":return-1*r;default:return te()}}var Wi=class{constructor(e,n){this.mapKeyFn=e,this.equalsFn=n,this.inner={},this.innerSize=0}get(e){let n=this.mapKeyFn(e),r=this.inner[n];if(r!==void 0){for(let[i,s]of r)if(this.equalsFn(i,e))return s}}has(e){return this.get(e)!==void 0}set(e,n){let r=this.mapKeyFn(e),i=this.inner[r];if(i===void 0)return this.inner[r]=[[e,n]],void this.innerSize++;for(let s=0;s<i.length;s++)if(this.equalsFn(i[s][0],e))return void(i[s]=[e,n]);i.push([e,n]),this.innerSize++}delete(e){let n=this.mapKeyFn(e),r=this.inner[n];if(r===void 0)return!1;for(let i=0;i<r.length;i++)if(this.equalsFn(r[i][0],e))return r.length===1?delete this.inner[n]:r.splice(i,1),this.innerSize--,!0;return!1}forEach(e){ro(this.inner,(n,r)=>{for(let[i,s]of r)e(i,s)})}isEmpty(){return SR(this.inner)}size(){return this.innerSize}};var PH=new Ke(Z.comparator);function Zr(){return PH}var UR=new Ke(Z.comparator);function ju(...t){let e=UR;for(let n of t)e=e.insert(n.key,n);return e}function jR(t){let e=UR;return t.forEach((n,r)=>e=e.insert(n,r.overlayedDocument)),e}function Ws(){return Hu()}function BR(){return Hu()}function Hu(){return new Wi(t=>t.toString(),(t,e)=>t.isEqual(e))}var kH=new Ke(Z.comparator),OH=new Rt(Z.comparator);function we(...t){let e=OH;for(let n of t)e=e.add(n);return e}var FH=new Rt(Te);function LH(){return FH}function QI(t,e){if(t.useProto3Json){if(isNaN(e))return{doubleValue:"NaN"};if(e===1/0)return{doubleValue:"Infinity"};if(e===-1/0)return{doubleValue:"-Infinity"}}return{doubleValue:zu(e)?"-0":e}}function $R(t){return{integerValue:""+t}}function VH(t,e){return IH(e)?$R(e):QI(t,e)}var Ba=class{constructor(){this._=void 0}};function UH(t,e,n){return t instanceof $a?function(i,s){let o={fields:{__type__:{stringValue:"server_timestamp"},__local_write_time__:{timestampValue:{seconds:i.seconds,nanos:i.nanoseconds}}}};return s&&HI(s)&&(s=qI(s)),s&&(o.fields.__previous_value__=s),{mapValue:o}}(n,e):t instanceof eo?qR(t,e):t instanceof to?zR(t,e):function(i,s){let o=HR(i,s),a=nR(o)+nR(i.Pe);return I_(o)&&I_(i.Pe)?$R(a):QI(i.serializer,a)}(t,e)}function jH(t,e,n){return t instanceof eo?qR(t,e):t instanceof to?zR(t,e):n}function HR(t,e){return t instanceof Ha?function(r){return I_(r)||function(s){return!!s&&"doubleValue"in s}(r)}(e)?e:{integerValue:0}:null}var $a=class extends Ba{},eo=class extends Ba{constructor(e){super(),this.elements=e}};function qR(t,e){let n=GR(e);for(let r of t.elements)n.some(i=>mr(i,r))||n.push(r);return{arrayValue:{values:n}}}var to=class extends Ba{constructor(e){super(),this.elements=e}};function zR(t,e){let n=GR(e);for(let r of t.elements)n=n.filter(i=>!mr(i,r));return{arrayValue:{values:n}}}var Ha=class extends Ba{constructor(e,n){super(),this.serializer=e,this.Pe=n}};function nR(t){return je(t.integerValue||t.doubleValue)}function GR(t){return zI(t)&&t.arrayValue.values?t.arrayValue.values.slice():[]}function BH(t,e){return t.field.isEqual(e.field)&&function(r,i){return r instanceof eo&&i instanceof eo||r instanceof to&&i instanceof to?La(r.elements,i.elements,mr):r instanceof Ha&&i instanceof Ha?mr(r.Pe,i.Pe):r instanceof $a&&i instanceof $a}(t.transform,e.transform)}var k_=class{constructor(e,n){this.version=e,this.transformResults=n}},Hi=class t{constructor(e,n){this.updateTime=e,this.exists=n}static none(){return new t}static exists(e){return new t(void 0,e)}static updateTime(e){return new t(e)}get isNone(){return this.updateTime===void 0&&this.exists===void 0}isEqual(e){return this.exists===e.exists&&(this.updateTime?!!e.updateTime&&this.updateTime.isEqual(e.updateTime):!e.updateTime)}};function cp(t,e){return t.updateTime!==void 0?e.isFoundDocument()&&e.version.isEqual(t.updateTime):t.exists===void 0||t.exists===e.isFoundDocument()}var qa=class{};function WR(t,e){if(!t.hasLocalMutations||e&&e.fields.length===0)return null;if(e===null)return t.isNoDocument()?new mp(t.key,Hi.none()):new no(t.key,t.data,Hi.none());{let n=t.data,r=nn.empty(),i=new Rt(rn.comparator);for(let s of e.fields)if(!i.has(s)){let o=n.field(s);o===null&&s.length>1&&(s=s.popLast(),o=n.field(s)),o===null?r.delete(s):r.set(s,o),i=i.add(s)}return new yr(t.key,r,new pn(i.toArray()),Hi.none())}}function $H(t,e,n){t instanceof no?function(i,s,o){let a=i.value.clone(),u=iR(i.fieldTransforms,s,o.transformResults);a.setAll(u),s.convertToFoundDocument(o.version,a).setHasCommittedMutations()}(t,e,n):t instanceof yr?function(i,s,o){if(!cp(i.precondition,s))return void s.convertToUnknownDocument(o.version);let a=iR(i.fieldTransforms,s,o.transformResults),u=s.data;u.setAll(KR(i)),u.setAll(a),s.convertToFoundDocument(o.version,u).setHasCommittedMutations()}(t,e,n):function(i,s,o){s.convertToNoDocument(o.version).setHasCommittedMutations()}(0,e,n)}function qu(t,e,n,r){return t instanceof no?function(s,o,a,u){if(!cp(s.precondition,o))return a;let d=s.value.clone(),p=sR(s.fieldTransforms,u,o);return d.setAll(p),o.convertToFoundDocument(o.version,d).setHasLocalMutations(),null}(t,e,n,r):t instanceof yr?function(s,o,a,u){if(!cp(s.precondition,o))return a;let d=sR(s.fieldTransforms,u,o),p=o.data;return p.setAll(KR(s)),p.setAll(d),o.convertToFoundDocument(o.version,p).setHasLocalMutations(),a===null?null:a.unionWith(s.fieldMask.fields).unionWith(s.fieldTransforms.map(g=>g.field))}(t,e,n,r):function(s,o,a){return cp(s.precondition,o)?(o.convertToNoDocument(o.version).setHasLocalMutations(),null):a}(t,e,n)}function HH(t,e){let n=null;for(let r of t.fieldTransforms){let i=e.data.field(r.field),s=HR(r.transform,i||null);s!=null&&(n===null&&(n=nn.empty()),n.set(r.field,s))}return n||null}function rR(t,e){return t.type===e.type&&!!t.key.isEqual(e.key)&&!!t.precondition.isEqual(e.precondition)&&!!function(r,i){return r===void 0&&i===void 0||!(!r||!i)&&La(r,i,(s,o)=>BH(s,o))}(t.fieldTransforms,e.fieldTransforms)&&(t.type===0?t.value.isEqual(e.value):t.type!==1||t.data.isEqual(e.data)&&t.fieldMask.isEqual(e.fieldMask))}var no=class extends qa{constructor(e,n,r,i=[]){super(),this.key=e,this.value=n,this.precondition=r,this.fieldTransforms=i,this.type=0}getFieldMask(){return null}},yr=class extends qa{constructor(e,n,r,i,s=[]){super(),this.key=e,this.data=n,this.fieldMask=r,this.precondition=i,this.fieldTransforms=s,this.type=1}getFieldMask(){return this.fieldMask}};function KR(t){let e=new Map;return t.fieldMask.fields.forEach(n=>{if(!n.isEmpty()){let r=t.data.field(n);e.set(n,r)}}),e}function iR(t,e,n){let r=new Map;Me(t.length===n.length);for(let i=0;i<n.length;i++){let s=t[i],o=s.transform,a=e.data.field(s.field);r.set(s.field,jH(o,a,n[i]))}return r}function sR(t,e,n){let r=new Map;for(let i of t){let s=i.transform,o=n.data.field(i.field);r.set(i.field,UH(s,o,e))}return r}var mp=class extends qa{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=2,this.fieldTransforms=[]}getFieldMask(){return null}},O_=class extends qa{constructor(e,n){super(),this.key=e,this.precondition=n,this.type=3,this.fieldTransforms=[]}getFieldMask(){return null}};var F_=class{constructor(e,n,r,i){this.batchId=e,this.localWriteTime=n,this.baseMutations=r,this.mutations=i}applyToRemoteDocument(e,n){let r=n.mutationResults;for(let i=0;i<this.mutations.length;i++){let s=this.mutations[i];s.key.isEqual(e.key)&&$H(s,e,r[i])}}applyToLocalView(e,n){for(let r of this.baseMutations)r.key.isEqual(e.key)&&(n=qu(r,e,n,this.localWriteTime));for(let r of this.mutations)r.key.isEqual(e.key)&&(n=qu(r,e,n,this.localWriteTime));return n}applyToLocalDocumentSet(e,n){let r=BR();return this.mutations.forEach(i=>{let s=e.get(i.key),o=s.overlayedDocument,a=this.applyToLocalView(o,s.mutatedFields);a=n.has(i.key)?null:a;let u=WR(o,a);u!==null&&r.set(i.key,u),o.isValidDocument()||o.convertToNoDocument(ae.min())}),r}keys(){return this.mutations.reduce((e,n)=>e.add(n.key),we())}isEqual(e){return this.batchId===e.batchId&&La(this.mutations,e.mutations,(n,r)=>rR(n,r))&&La(this.baseMutations,e.baseMutations,(n,r)=>rR(n,r))}},L_=class t{constructor(e,n,r,i){this.batch=e,this.commitVersion=n,this.mutationResults=r,this.docVersions=i}static from(e,n,r){Me(e.mutations.length===r.length);let i=function(){return kH}(),s=e.mutations;for(let o=0;o<s.length;o++)i=i.insert(s[o].key,r[o].version);return new t(e,n,r,i)}};var V_=class{constructor(e,n){this.largestBatchId=e,this.mutation=n}getKey(){return this.mutation.key}isEqual(e){return e!==null&&this.mutation===e.mutation}toString(){return`Overlay{
      largestBatchId: ${this.largestBatchId},
      mutation: ${this.mutation.toString()}
    }`}};var U_=class{constructor(e,n){this.count=e,this.unchangedNames=n}};var rt,be;function qH(t){switch(t){default:return te();case F.CANCELLED:case F.UNKNOWN:case F.DEADLINE_EXCEEDED:case F.RESOURCE_EXHAUSTED:case F.INTERNAL:case F.UNAVAILABLE:case F.UNAUTHENTICATED:return!1;case F.INVALID_ARGUMENT:case F.NOT_FOUND:case F.ALREADY_EXISTS:case F.PERMISSION_DENIED:case F.FAILED_PRECONDITION:case F.ABORTED:case F.OUT_OF_RANGE:case F.UNIMPLEMENTED:case F.DATA_LOSS:return!0}}function QR(t){if(t===void 0)return Qr("GRPC error has no .code"),F.UNKNOWN;switch(t){case rt.OK:return F.OK;case rt.CANCELLED:return F.CANCELLED;case rt.UNKNOWN:return F.UNKNOWN;case rt.DEADLINE_EXCEEDED:return F.DEADLINE_EXCEEDED;case rt.RESOURCE_EXHAUSTED:return F.RESOURCE_EXHAUSTED;case rt.INTERNAL:return F.INTERNAL;case rt.UNAVAILABLE:return F.UNAVAILABLE;case rt.UNAUTHENTICATED:return F.UNAUTHENTICATED;case rt.INVALID_ARGUMENT:return F.INVALID_ARGUMENT;case rt.NOT_FOUND:return F.NOT_FOUND;case rt.ALREADY_EXISTS:return F.ALREADY_EXISTS;case rt.PERMISSION_DENIED:return F.PERMISSION_DENIED;case rt.FAILED_PRECONDITION:return F.FAILED_PRECONDITION;case rt.ABORTED:return F.ABORTED;case rt.OUT_OF_RANGE:return F.OUT_OF_RANGE;case rt.UNIMPLEMENTED:return F.UNIMPLEMENTED;case rt.DATA_LOSS:return F.DATA_LOSS;default:return te()}}(be=rt||(rt={}))[be.OK=0]="OK",be[be.CANCELLED=1]="CANCELLED",be[be.UNKNOWN=2]="UNKNOWN",be[be.INVALID_ARGUMENT=3]="INVALID_ARGUMENT",be[be.DEADLINE_EXCEEDED=4]="DEADLINE_EXCEEDED",be[be.NOT_FOUND=5]="NOT_FOUND",be[be.ALREADY_EXISTS=6]="ALREADY_EXISTS",be[be.PERMISSION_DENIED=7]="PERMISSION_DENIED",be[be.UNAUTHENTICATED=16]="UNAUTHENTICATED",be[be.RESOURCE_EXHAUSTED=8]="RESOURCE_EXHAUSTED",be[be.FAILED_PRECONDITION=9]="FAILED_PRECONDITION",be[be.ABORTED=10]="ABORTED",be[be.OUT_OF_RANGE=11]="OUT_OF_RANGE",be[be.UNIMPLEMENTED=12]="UNIMPLEMENTED",be[be.INTERNAL=13]="INTERNAL",be[be.UNAVAILABLE=14]="UNAVAILABLE",be[be.DATA_LOSS=15]="DATA_LOSS";var oR=null;function zH(){return new TextEncoder}var GH=new $i([4294967295,4294967295],0);function aR(t){let e=zH().encode(t),n=new e_;return n.update(e),new Uint8Array(n.digest())}function cR(t){let e=new DataView(t.buffer),n=e.getUint32(0,!0),r=e.getUint32(4,!0),i=e.getUint32(8,!0),s=e.getUint32(12,!0);return[new $i([n,r],0),new $i([i,s],0)]}var j_=class t{constructor(e,n,r){if(this.bitmap=e,this.padding=n,this.hashCount=r,n<0||n>=8)throw new Ks(`Invalid padding: ${n}`);if(r<0)throw new Ks(`Invalid hash count: ${r}`);if(e.length>0&&this.hashCount===0)throw new Ks(`Invalid hash count: ${r}`);if(e.length===0&&n!==0)throw new Ks(`Invalid padding when bitmap length is 0: ${n}`);this.Ie=8*e.length-n,this.Te=$i.fromNumber(this.Ie)}Ee(e,n,r){let i=e.add(n.multiply($i.fromNumber(r)));return i.compare(GH)===1&&(i=new $i([i.getBits(0),i.getBits(1)],0)),i.modulo(this.Te).toNumber()}de(e){return(this.bitmap[Math.floor(e/8)]&1<<e%8)!=0}mightContain(e){if(this.Ie===0)return!1;let n=aR(e),[r,i]=cR(n);for(let s=0;s<this.hashCount;s++){let o=this.Ee(r,i,s);if(!this.de(o))return!1}return!0}static create(e,n,r){let i=e%8==0?0:8-e%8,s=new Uint8Array(Math.ceil(e/8)),o=new t(s,i,n);return r.forEach(a=>o.insert(a)),o}insert(e){if(this.Ie===0)return;let n=aR(e),[r,i]=cR(n);for(let s=0;s<this.hashCount;s++){let o=this.Ee(r,i,s);this.Ae(o)}}Ae(e){let n=Math.floor(e/8),r=e%8;this.bitmap[n]|=1<<r}},Ks=class extends Error{constructor(){super(...arguments),this.name="BloomFilterError"}};var yp=class t{constructor(e,n,r,i,s){this.snapshotVersion=e,this.targetChanges=n,this.targetMismatches=r,this.documentUpdates=i,this.resolvedLimboDocuments=s}static createSynthesizedRemoteEventForCurrentChange(e,n,r){let i=new Map;return i.set(e,Ku.createSynthesizedTargetChangeForCurrentChange(e,n,r)),new t(ae.min(),i,new Ke(Te),Zr(),we())}},Ku=class t{constructor(e,n,r,i,s){this.resumeToken=e,this.current=n,this.addedDocuments=r,this.modifiedDocuments=i,this.removedDocuments=s}static createSynthesizedTargetChangeForCurrentChange(e,n,r){return new t(r,n,we(),we(),we())}};var ka=class{constructor(e,n,r,i){this.Re=e,this.removedTargetIds=n,this.key=r,this.Ve=i}},vp=class{constructor(e,n){this.targetId=e,this.me=n}},wp=class{constructor(e,n,r=xt.EMPTY_BYTE_STRING,i=null){this.state=e,this.targetIds=n,this.resumeToken=r,this.cause=i}},_p=class{constructor(){this.fe=0,this.ge=lR(),this.pe=xt.EMPTY_BYTE_STRING,this.ye=!1,this.we=!0}get current(){return this.ye}get resumeToken(){return this.pe}get Se(){return this.fe!==0}get be(){return this.we}De(e){e.approximateByteSize()>0&&(this.we=!0,this.pe=e)}ve(){let e=we(),n=we(),r=we();return this.ge.forEach((i,s)=>{switch(s){case 0:e=e.add(i);break;case 2:n=n.add(i);break;case 1:r=r.add(i);break;default:te()}}),new Ku(this.pe,this.ye,e,n,r)}Ce(){this.we=!1,this.ge=lR()}Fe(e,n){this.we=!0,this.ge=this.ge.insert(e,n)}Me(e){this.we=!0,this.ge=this.ge.remove(e)}xe(){this.fe+=1}Oe(){this.fe-=1,Me(this.fe>=0)}Ne(){this.we=!0,this.ye=!0}},B_=class{constructor(e){this.Le=e,this.Be=new Map,this.ke=Zr(),this.qe=uR(),this.Qe=new Ke(Te)}Ke(e){for(let n of e.Re)e.Ve&&e.Ve.isFoundDocument()?this.$e(n,e.Ve):this.Ue(n,e.key,e.Ve);for(let n of e.removedTargetIds)this.Ue(n,e.key,e.Ve)}We(e){this.forEachTarget(e,n=>{let r=this.Ge(n);switch(e.state){case 0:this.ze(n)&&r.De(e.resumeToken);break;case 1:r.Oe(),r.Se||r.Ce(),r.De(e.resumeToken);break;case 2:r.Oe(),r.Se||this.removeTarget(n);break;case 3:this.ze(n)&&(r.Ne(),r.De(e.resumeToken));break;case 4:this.ze(n)&&(this.je(n),r.De(e.resumeToken));break;default:te()}})}forEachTarget(e,n){e.targetIds.length>0?e.targetIds.forEach(n):this.Be.forEach((r,i)=>{this.ze(i)&&n(i)})}He(e){let n=e.targetId,r=e.me.count,i=this.Je(n);if(i){let s=i.target;if(M_(s))if(r===0){let o=new Z(s.path);this.Ue(n,o,Mn.newNoDocument(o,ae.min()))}else Me(r===1);else{let o=this.Ye(n);if(o!==r){let a=this.Ze(e),u=a?this.Xe(a,e,o):1;if(u!==0){this.je(n);let d=u===2?"TargetPurposeExistenceFilterMismatchBloom":"TargetPurposeExistenceFilterMismatch";this.Qe=this.Qe.insert(n,d)}oR?.et(function(p,g,_,E,M){var O,P,V,G,q,K;let Ce={localCacheCount:p,existenceFilterCount:g.count,databaseId:_.database,projectId:_.projectId},J=g.unchangedNames;return J&&(Ce.bloomFilter={applied:M===0,hashCount:(O=J?.hashCount)!==null&&O!==void 0?O:0,bitmapLength:(G=(V=(P=J?.bits)===null||P===void 0?void 0:P.bitmap)===null||V===void 0?void 0:V.length)!==null&&G!==void 0?G:0,padding:(K=(q=J?.bits)===null||q===void 0?void 0:q.padding)!==null&&K!==void 0?K:0,mightContain:T=>{var I;return(I=E?.mightContain(T))!==null&&I!==void 0&&I}}),Ce}(o,e.me,this.Le.tt(),a,u))}}}}Ze(e){let n=e.me.unchangedNames;if(!n||!n.bits)return null;let{bits:{bitmap:r="",padding:i=0},hashCount:s=0}=n,o,a;try{o=zi(r).toUint8Array()}catch(u){if(u instanceof fp)return Fa("Decoding the base64 bloom filter in existence filter failed ("+u.message+"); ignoring the bloom filter and falling back to full re-query."),null;throw u}try{a=new j_(o,i,s)}catch(u){return Fa(u instanceof Ks?"BloomFilter error: ":"Applying bloom filter failed: ",u),null}return a.Ie===0?null:a}Xe(e,n,r){return n.me.count===r-this.nt(e,n.targetId)?0:2}nt(e,n){let r=this.Le.getRemoteKeysForTarget(n),i=0;return r.forEach(s=>{let o=this.Le.tt(),a=`projects/${o.projectId}/databases/${o.database}/documents/${s.path.canonicalString()}`;e.mightContain(a)||(this.Ue(n,s,null),i++)}),i}rt(e){let n=new Map;this.Be.forEach((s,o)=>{let a=this.Je(o);if(a){if(s.current&&M_(a.target)){let u=new Z(a.target.path);this.ke.get(u)!==null||this.it(o,u)||this.Ue(o,u,Mn.newNoDocument(u,e))}s.be&&(n.set(o,s.ve()),s.Ce())}});let r=we();this.qe.forEach((s,o)=>{let a=!0;o.forEachWhile(u=>{let d=this.Je(u);return!d||d.purpose==="TargetPurposeLimboResolution"||(a=!1,!1)}),a&&(r=r.add(s))}),this.ke.forEach((s,o)=>o.setReadTime(e));let i=new yp(e,n,this.Qe,this.ke,r);return this.ke=Zr(),this.qe=uR(),this.Qe=new Ke(Te),i}$e(e,n){if(!this.ze(e))return;let r=this.it(e,n.key)?2:0;this.Ge(e).Fe(n.key,r),this.ke=this.ke.insert(n.key,n),this.qe=this.qe.insert(n.key,this.st(n.key).add(e))}Ue(e,n,r){if(!this.ze(e))return;let i=this.Ge(e);this.it(e,n)?i.Fe(n,1):i.Me(n),this.qe=this.qe.insert(n,this.st(n).delete(e)),r&&(this.ke=this.ke.insert(n,r))}removeTarget(e){this.Be.delete(e)}Ye(e){let n=this.Ge(e).ve();return this.Le.getRemoteKeysForTarget(e).size+n.addedDocuments.size-n.removedDocuments.size}xe(e){this.Ge(e).xe()}Ge(e){let n=this.Be.get(e);return n||(n=new _p,this.Be.set(e,n)),n}st(e){let n=this.qe.get(e);return n||(n=new Rt(Te),this.qe=this.qe.insert(e,n)),n}ze(e){let n=this.Je(e)!==null;return n||z("WatchChangeAggregator","Detected inactive target",e),n}Je(e){let n=this.Be.get(e);return n&&n.Se?null:this.Le.ot(e)}je(e){this.Be.set(e,new _p),this.Le.getRemoteKeysForTarget(e).forEach(n=>{this.Ue(e,n,null)})}it(e,n){return this.Le.getRemoteKeysForTarget(e).has(n)}};function uR(){return new Ke(Z.comparator)}function lR(){return new Ke(Z.comparator)}var WH={asc:"ASCENDING",desc:"DESCENDING"},KH={"<":"LESS_THAN","<=":"LESS_THAN_OR_EQUAL",">":"GREATER_THAN",">=":"GREATER_THAN_OR_EQUAL","==":"EQUAL","!=":"NOT_EQUAL","array-contains":"ARRAY_CONTAINS",in:"IN","not-in":"NOT_IN","array-contains-any":"ARRAY_CONTAINS_ANY"},QH={and:"AND",or:"OR"},$_=class{constructor(e,n){this.databaseId=e,this.useProto3Json=n}};function H_(t,e){return t.useProto3Json||qp(e)?e:{value:e}}function Ip(t,e){return t.useProto3Json?`${new Date(1e3*e.seconds).toISOString().replace(/\.\d*/,"").replace("Z","")}.${("000000000"+e.nanoseconds).slice(-9)}Z`:{seconds:""+e.seconds,nanos:e.nanoseconds}}function YR(t,e){return t.useProto3Json?e.toBase64():e.toUint8Array()}function YH(t,e){return Ip(t,e.toTimestamp())}function gr(t){return Me(!!t),ae.fromTimestamp(function(n){let r=Yr(n);return new bt(r.seconds,r.nanos)}(t))}function YI(t,e){return q_(t,e).canonicalString()}function q_(t,e){let n=function(i){return new He(["projects",i.projectId,"databases",i.database])}(t).child("documents");return e===void 0?n:n.child(e)}function ZR(t){let e=He.fromString(t);return Me(nx(e)),e}function z_(t,e){return YI(t.databaseId,e.path)}function o_(t,e){let n=ZR(e);if(n.get(1)!==t.databaseId.projectId)throw new H(F.INVALID_ARGUMENT,"Tried to deserialize key from different project: "+n.get(1)+" vs "+t.databaseId.projectId);if(n.get(3)!==t.databaseId.database)throw new H(F.INVALID_ARGUMENT,"Tried to deserialize key from different database: "+n.get(3)+" vs "+t.databaseId.database);return new Z(XR(n))}function JR(t,e){return YI(t.databaseId,e)}function ZH(t){let e=ZR(t);return e.length===4?He.emptyPath():XR(e)}function G_(t){return new He(["projects",t.databaseId.projectId,"databases",t.databaseId.database]).canonicalString()}function XR(t){return Me(t.length>4&&t.get(4)==="documents"),t.popFirst(5)}function dR(t,e,n){return{name:z_(t,e),fields:n.value.mapValue.fields}}function JH(t,e){let n;if("targetChange"in e){e.targetChange;let r=function(d){return d==="NO_CHANGE"?0:d==="ADD"?1:d==="REMOVE"?2:d==="CURRENT"?3:d==="RESET"?4:te()}(e.targetChange.targetChangeType||"NO_CHANGE"),i=e.targetChange.targetIds||[],s=function(d,p){return d.useProto3Json?(Me(p===void 0||typeof p=="string"),xt.fromBase64String(p||"")):(Me(p===void 0||p instanceof Buffer||p instanceof Uint8Array),xt.fromUint8Array(p||new Uint8Array))}(t,e.targetChange.resumeToken),o=e.targetChange.cause,a=o&&function(d){let p=d.code===void 0?F.UNKNOWN:QR(d.code);return new H(p,d.message||"")}(o);n=new wp(r,i,s,a||null)}else if("documentChange"in e){e.documentChange;let r=e.documentChange;r.document,r.document.name,r.document.updateTime;let i=o_(t,r.document.name),s=gr(r.document.updateTime),o=r.document.createTime?gr(r.document.createTime):ae.min(),a=new nn({mapValue:{fields:r.document.fields}}),u=Mn.newFoundDocument(i,s,o,a),d=r.targetIds||[],p=r.removedTargetIds||[];n=new ka(d,p,u.key,u)}else if("documentDelete"in e){e.documentDelete;let r=e.documentDelete;r.document;let i=o_(t,r.document),s=r.readTime?gr(r.readTime):ae.min(),o=Mn.newNoDocument(i,s),a=r.removedTargetIds||[];n=new ka([],a,o.key,o)}else if("documentRemove"in e){e.documentRemove;let r=e.documentRemove;r.document;let i=o_(t,r.document),s=r.removedTargetIds||[];n=new ka([],s,i,null)}else{if(!("filter"in e))return te();{e.filter;let r=e.filter;r.targetId;let{count:i=0,unchangedNames:s}=r,o=new U_(i,s),a=r.targetId;n=new vp(a,o)}}return n}function XH(t,e){let n;if(e instanceof no)n={update:dR(t,e.key,e.value)};else if(e instanceof mp)n={delete:z_(t,e.key)};else if(e instanceof yr)n={update:dR(t,e.key,e.data),updateMask:cq(e.fieldMask)};else{if(!(e instanceof O_))return te();n={verify:z_(t,e.key)}}return e.fieldTransforms.length>0&&(n.updateTransforms=e.fieldTransforms.map(r=>function(s,o){let a=o.transform;if(a instanceof $a)return{fieldPath:o.field.canonicalString(),setToServerValue:"REQUEST_TIME"};if(a instanceof eo)return{fieldPath:o.field.canonicalString(),appendMissingElements:{values:a.elements}};if(a instanceof to)return{fieldPath:o.field.canonicalString(),removeAllFromArray:{values:a.elements}};if(a instanceof Ha)return{fieldPath:o.field.canonicalString(),increment:a.Pe};throw te()}(0,r))),e.precondition.isNone||(n.currentDocument=function(i,s){return s.updateTime!==void 0?{updateTime:YH(i,s.updateTime)}:s.exists!==void 0?{exists:s.exists}:te()}(t,e.precondition)),n}function eq(t,e){return t&&t.length>0?(Me(e!==void 0),t.map(n=>function(i,s){let o=i.updateTime?gr(i.updateTime):gr(s);return o.isEqual(ae.min())&&(o=gr(s)),new k_(o,i.transformResults||[])}(n,e))):[]}function tq(t,e){return{documents:[JR(t,e.path)]}}function nq(t,e){let n={structuredQuery:{}},r=e.path,i;e.collectionGroup!==null?(i=r,n.structuredQuery.from=[{collectionId:e.collectionGroup,allDescendants:!0}]):(i=r.popLast(),n.structuredQuery.from=[{collectionId:r.lastSegment()}]),n.parent=JR(t,i);let s=function(d){if(d.length!==0)return tx(Nn.create(d,"and"))}(e.filters);s&&(n.structuredQuery.where=s);let o=function(d){if(d.length!==0)return d.map(p=>function(_){return{field:Ma(_.field),direction:sq(_.dir)}}(p))}(e.orderBy);o&&(n.structuredQuery.orderBy=o);let a=H_(t,e.limit);return a!==null&&(n.structuredQuery.limit=a),e.startAt&&(n.structuredQuery.startAt=function(d){return{before:d.inclusive,values:d.position}}(e.startAt)),e.endAt&&(n.structuredQuery.endAt=function(d){return{before:!d.inclusive,values:d.position}}(e.endAt)),{_t:n,parent:i}}function rq(t){let e=ZH(t.parent),n=t.structuredQuery,r=n.from?n.from.length:0,i=null;if(r>0){Me(r===1);let p=n.from[0];p.allDescendants?i=p.collectionId:e=e.child(p.collectionId)}let s=[];n.where&&(s=function(g){let _=ex(g);return _ instanceof Nn&&NR(_)?_.getFilters():[_]}(n.where));let o=[];n.orderBy&&(o=function(g){return g.map(_=>function(M){return new Xs(Na(M.field),function(P){switch(P){case"ASCENDING":return"asc";case"DESCENDING":return"desc";default:return}}(M.direction))}(_))}(n.orderBy));let a=null;n.limit&&(a=function(g){let _;return _=typeof g=="object"?g.value:g,qp(_)?null:_}(n.limit));let u=null;n.startAt&&(u=function(g){let _=!!g.before,E=g.values||[];return new ja(E,_)}(n.startAt));let d=null;return n.endAt&&(d=function(g){let _=!g.before,E=g.values||[];return new ja(E,_)}(n.endAt)),RH(e,i,o,s,a,"F",u,d)}function iq(t,e){let n=function(i){switch(i){case"TargetPurposeListen":return null;case"TargetPurposeExistenceFilterMismatch":return"existence-filter-mismatch";case"TargetPurposeExistenceFilterMismatchBloom":return"existence-filter-mismatch-bloom";case"TargetPurposeLimboResolution":return"limbo-document";default:return te()}}(e.purpose);return n==null?null:{"goog-listen-tags":n}}function ex(t){return t.unaryFilter!==void 0?function(n){switch(n.unaryFilter.op){case"IS_NAN":let r=Na(n.unaryFilter.field);return st.create(r,"==",{doubleValue:NaN});case"IS_NULL":let i=Na(n.unaryFilter.field);return st.create(i,"==",{nullValue:"NULL_VALUE"});case"IS_NOT_NAN":let s=Na(n.unaryFilter.field);return st.create(s,"!=",{doubleValue:NaN});case"IS_NOT_NULL":let o=Na(n.unaryFilter.field);return st.create(o,"!=",{nullValue:"NULL_VALUE"});default:return te()}}(t):t.fieldFilter!==void 0?function(n){return st.create(Na(n.fieldFilter.field),function(i){switch(i){case"EQUAL":return"==";case"NOT_EQUAL":return"!=";case"GREATER_THAN":return">";case"GREATER_THAN_OR_EQUAL":return">=";case"LESS_THAN":return"<";case"LESS_THAN_OR_EQUAL":return"<=";case"ARRAY_CONTAINS":return"array-contains";case"IN":return"in";case"NOT_IN":return"not-in";case"ARRAY_CONTAINS_ANY":return"array-contains-any";default:return te()}}(n.fieldFilter.op),n.fieldFilter.value)}(t):t.compositeFilter!==void 0?function(n){return Nn.create(n.compositeFilter.filters.map(r=>ex(r)),function(i){switch(i){case"AND":return"and";case"OR":return"or";default:return te()}}(n.compositeFilter.op))}(t):te()}function sq(t){return WH[t]}function oq(t){return KH[t]}function aq(t){return QH[t]}function Ma(t){return{fieldPath:t.canonicalString()}}function Na(t){return rn.fromServerFormat(t.fieldPath)}function tx(t){return t instanceof st?function(n){if(n.op==="=="){if(ZA(n.value))return{unaryFilter:{field:Ma(n.field),op:"IS_NAN"}};if(YA(n.value))return{unaryFilter:{field:Ma(n.field),op:"IS_NULL"}}}else if(n.op==="!="){if(ZA(n.value))return{unaryFilter:{field:Ma(n.field),op:"IS_NOT_NAN"}};if(YA(n.value))return{unaryFilter:{field:Ma(n.field),op:"IS_NOT_NULL"}}}return{fieldFilter:{field:Ma(n.field),op:oq(n.op),value:n.value}}}(t):t instanceof Nn?function(n){let r=n.getFilters().map(i=>tx(i));return r.length===1?r[0]:{compositeFilter:{op:aq(n.op),filters:r}}}(t):te()}function cq(t){let e=[];return t.fields.forEach(n=>e.push(n.canonicalString())),{fieldPaths:e}}function nx(t){return t.length>=4&&t.get(0)==="projects"&&t.get(2)==="databases"}var Qu=class t{constructor(e,n,r,i,s=ae.min(),o=ae.min(),a=xt.EMPTY_BYTE_STRING,u=null){this.target=e,this.targetId=n,this.purpose=r,this.sequenceNumber=i,this.snapshotVersion=s,this.lastLimboFreeSnapshotVersion=o,this.resumeToken=a,this.expectedCount=u}withSequenceNumber(e){return new t(this.target,this.targetId,this.purpose,e,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,this.expectedCount)}withResumeToken(e,n){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,n,this.lastLimboFreeSnapshotVersion,e,null)}withExpectedCount(e){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,this.lastLimboFreeSnapshotVersion,this.resumeToken,e)}withLastLimboFreeSnapshotVersion(e){return new t(this.target,this.targetId,this.purpose,this.sequenceNumber,this.snapshotVersion,e,this.resumeToken,this.expectedCount)}};var W_=class{constructor(e){this.ct=e}};function uq(t){let e=rq({parent:t.parent,structuredQuery:t.structuredQuery});return t.limitType==="LAST"?P_(e,e.limit,"L"):e}var Ep=class{constructor(){}It(e,n){this.Tt(e,n),n.Et()}Tt(e,n){if("nullValue"in e)this.dt(n,5);else if("booleanValue"in e)this.dt(n,10),n.At(e.booleanValue?1:0);else if("integerValue"in e)this.dt(n,15),n.At(je(e.integerValue));else if("doubleValue"in e){let r=je(e.doubleValue);isNaN(r)?this.dt(n,13):(this.dt(n,15),zu(r)?n.At(0):n.At(r))}else if("timestampValue"in e){let r=e.timestampValue;this.dt(n,20),typeof r=="string"&&(r=Yr(r)),n.Rt(`${r.seconds||""}`),n.At(r.nanos||0)}else if("stringValue"in e)this.Vt(e.stringValue,n),this.ft(n);else if("bytesValue"in e)this.dt(n,30),n.gt(zi(e.bytesValue)),this.ft(n);else if("referenceValue"in e)this.yt(e.referenceValue,n);else if("geoPointValue"in e){let r=e.geoPointValue;this.dt(n,45),n.At(r.latitude||0),n.At(r.longitude||0)}else"mapValue"in e?RR(e)?this.dt(n,Number.MAX_SAFE_INTEGER):AR(e)?this.wt(e.mapValue,n):(this.St(e.mapValue,n),this.ft(n)):"arrayValue"in e?(this.bt(e.arrayValue,n),this.ft(n)):te()}Vt(e,n){this.dt(n,25),this.Dt(e,n)}Dt(e,n){n.Rt(e)}St(e,n){let r=e.fields||{};this.dt(n,55);for(let i of Object.keys(r))this.Vt(i,n),this.Tt(r[i],n)}wt(e,n){var r,i;let s=e.fields||{};this.dt(n,53);let o="value",a=((i=(r=s[o].arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.length)||0;this.dt(n,15),n.At(je(a)),this.Vt(o,n),this.Tt(s[o],n)}bt(e,n){let r=e.values||[];this.dt(n,50);for(let i of r)this.Tt(i,n)}yt(e,n){this.dt(n,37),Z.fromName(e).path.forEach(r=>{this.dt(n,60),this.Dt(r,n)})}dt(e,n){e.At(n)}ft(e){e.At(2)}};Ep.vt=new Ep;var K_=class{constructor(){this.un=new Q_}addToCollectionParentIndex(e,n){return this.un.add(n),L.resolve()}getCollectionParents(e,n){return L.resolve(this.un.getEntries(n))}addFieldIndex(e,n){return L.resolve()}deleteFieldIndex(e,n){return L.resolve()}deleteAllFieldIndexes(e){return L.resolve()}createTargetIndexes(e,n){return L.resolve()}getDocumentsMatchingTarget(e,n){return L.resolve(null)}getIndexType(e,n){return L.resolve(0)}getFieldIndexes(e,n){return L.resolve([])}getNextCollectionGroupToUpdate(e){return L.resolve(null)}getMinOffset(e,n){return L.resolve(Zs.min())}getMinOffsetFromCollectionGroup(e,n){return L.resolve(Zs.min())}updateCollectionGroup(e,n,r){return L.resolve()}updateIndexEntries(e,n){return L.resolve()}},Q_=class{constructor(){this.index={}}add(e){let n=e.lastSegment(),r=e.popLast(),i=this.index[n]||new Rt(He.comparator),s=!i.has(r);return this.index[n]=i.add(r),s}has(e){let n=e.lastSegment(),r=e.popLast(),i=this.index[n];return i&&i.has(r)}getEntries(e){return(this.index[e]||new Rt(He.comparator)).toArray()}};var YQ=new Uint8Array(0);var dr=class t{constructor(e,n,r){this.cacheSizeCollectionThreshold=e,this.percentileToCollect=n,this.maximumSequenceNumbersToCollect=r}static withCacheSize(e){return new t(e,t.DEFAULT_COLLECTION_PERCENTILE,t.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT)}};dr.DEFAULT_COLLECTION_PERCENTILE=10,dr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT=1e3,dr.DEFAULT=new dr(41943040,dr.DEFAULT_COLLECTION_PERCENTILE,dr.DEFAULT_MAX_SEQUENCE_NUMBERS_TO_COLLECT),dr.DISABLED=new dr(-1,0,0);var Yu=class t{constructor(e){this.Ln=e}next(){return this.Ln+=2,this.Ln}static Bn(){return new t(0)}static kn(){return new t(-1)}};var Y_=class{constructor(){this.changes=new Wi(e=>e.toString(),(e,n)=>e.isEqual(n)),this.changesApplied=!1}addEntry(e){this.assertNotApplied(),this.changes.set(e.key,e)}removeEntry(e,n){this.assertNotApplied(),this.changes.set(e,Mn.newInvalidDocument(e).setReadTime(n))}getEntry(e,n){this.assertNotApplied();let r=this.changes.get(n);return r!==void 0?L.resolve(r):this.getFromCache(e,n)}getEntries(e,n){return this.getAllFromCache(e,n)}apply(e){return this.assertNotApplied(),this.changesApplied=!0,this.applyChanges(e)}assertNotApplied(){}};var Z_=class{constructor(e,n){this.overlayedDocument=e,this.mutatedFields=n}};var J_=class{constructor(e,n,r,i){this.remoteDocumentCache=e,this.mutationQueue=n,this.documentOverlayCache=r,this.indexManager=i}getDocument(e,n){let r=null;return this.documentOverlayCache.getOverlay(e,n).next(i=>(r=i,this.remoteDocumentCache.getEntry(e,n))).next(i=>(r!==null&&qu(r.mutation,i,pn.empty(),bt.now()),i))}getDocuments(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.getLocalViewOfDocuments(e,r,we()).next(()=>r))}getLocalViewOfDocuments(e,n,r=we()){let i=Ws();return this.populateOverlays(e,i,n).next(()=>this.computeViews(e,n,i,r).next(s=>{let o=ju();return s.forEach((a,u)=>{o=o.insert(a,u.overlayedDocument)}),o}))}getOverlayedDocuments(e,n){let r=Ws();return this.populateOverlays(e,r,n).next(()=>this.computeViews(e,n,r,we()))}populateOverlays(e,n,r){let i=[];return r.forEach(s=>{n.has(s)||i.push(s)}),this.documentOverlayCache.getOverlays(e,i).next(s=>{s.forEach((o,a)=>{n.set(o,a)})})}computeViews(e,n,r,i){let s=Zr(),o=Hu(),a=function(){return Hu()}();return n.forEach((u,d)=>{let p=r.get(d.key);i.has(d.key)&&(p===void 0||p.mutation instanceof yr)?s=s.insert(d.key,d):p!==void 0?(o.set(d.key,p.mutation.getFieldMask()),qu(p.mutation,d,p.mutation.getFieldMask(),bt.now())):o.set(d.key,pn.empty())}),this.recalculateAndSaveOverlays(e,s).next(u=>(u.forEach((d,p)=>o.set(d,p)),n.forEach((d,p)=>{var g;return a.set(d,new Z_(p,(g=o.get(d))!==null&&g!==void 0?g:null))}),a))}recalculateAndSaveOverlays(e,n){let r=Hu(),i=new Ke((o,a)=>o-a),s=we();return this.mutationQueue.getAllMutationBatchesAffectingDocumentKeys(e,n).next(o=>{for(let a of o)a.keys().forEach(u=>{let d=n.get(u);if(d===null)return;let p=r.get(u)||pn.empty();p=a.applyToLocalView(d,p),r.set(u,p);let g=(i.get(a.batchId)||we()).add(u);i=i.insert(a.batchId,g)})}).next(()=>{let o=[],a=i.getReverseIterator();for(;a.hasNext();){let u=a.getNext(),d=u.key,p=u.value,g=BR();p.forEach(_=>{if(!s.has(_)){let E=WR(n.get(_),r.get(_));E!==null&&g.set(_,E),s=s.add(_)}}),o.push(this.documentOverlayCache.saveOverlays(e,d,g))}return L.waitFor(o)}).next(()=>r)}recalculateAndSaveOverlaysForDocumentKeys(e,n){return this.remoteDocumentCache.getEntries(e,n).next(r=>this.recalculateAndSaveOverlays(e,r))}getDocumentsMatchingQuery(e,n,r,i){return function(o){return Z.isDocumentKey(o.path)&&o.collectionGroup===null&&o.filters.length===0}(n)?this.getDocumentsMatchingDocumentQuery(e,n.path):FR(n)?this.getDocumentsMatchingCollectionGroupQuery(e,n,r,i):this.getDocumentsMatchingCollectionQuery(e,n,r,i)}getNextDocuments(e,n,r,i){return this.remoteDocumentCache.getAllFromCollectionGroup(e,n,r,i).next(s=>{let o=i-s.size>0?this.documentOverlayCache.getOverlaysForCollectionGroup(e,n,r.largestBatchId,i-s.size):L.resolve(Ws()),a=-1,u=s;return o.next(d=>L.forEach(d,(p,g)=>(a<g.largestBatchId&&(a=g.largestBatchId),s.get(p)?L.resolve():this.remoteDocumentCache.getEntry(e,p).next(_=>{u=u.insert(p,_)}))).next(()=>this.populateOverlays(e,d,s)).next(()=>this.computeViews(e,u,d,we())).next(p=>({batchId:a,changes:jR(p)})))})}getDocumentsMatchingDocumentQuery(e,n){return this.getDocument(e,new Z(n)).next(r=>{let i=ju();return r.isFoundDocument()&&(i=i.insert(r.key,r)),i})}getDocumentsMatchingCollectionGroupQuery(e,n,r,i){let s=n.collectionGroup,o=ju();return this.indexManager.getCollectionParents(e,s).next(a=>L.forEach(a,u=>{let d=function(g,_){return new Gi(_,null,g.explicitOrderBy.slice(),g.filters.slice(),g.limit,g.limitType,g.startAt,g.endAt)}(n,u.child(s));return this.getDocumentsMatchingCollectionQuery(e,d,r,i).next(p=>{p.forEach((g,_)=>{o=o.insert(g,_)})})}).next(()=>o))}getDocumentsMatchingCollectionQuery(e,n,r,i){let s;return this.documentOverlayCache.getOverlaysForCollection(e,n.path,r.largestBatchId).next(o=>(s=o,this.remoteDocumentCache.getDocumentsMatchingQuery(e,n,r,s,i))).next(o=>{s.forEach((u,d)=>{let p=d.getKey();o.get(p)===null&&(o=o.insert(p,Mn.newInvalidDocument(p)))});let a=ju();return o.forEach((u,d)=>{let p=s.get(u);p!==void 0&&qu(p.mutation,d,pn.empty(),bt.now()),Gp(n,d)&&(a=a.insert(u,d))}),a})}};var X_=class{constructor(e){this.serializer=e,this.hr=new Map,this.Pr=new Map}getBundleMetadata(e,n){return L.resolve(this.hr.get(n))}saveBundleMetadata(e,n){return this.hr.set(n.id,function(i){return{id:i.id,version:i.version,createTime:gr(i.createTime)}}(n)),L.resolve()}getNamedQuery(e,n){return L.resolve(this.Pr.get(n))}saveNamedQuery(e,n){return this.Pr.set(n.name,function(i){return{name:i.name,query:uq(i.bundledQuery),readTime:gr(i.readTime)}}(n)),L.resolve()}};var eI=class{constructor(){this.overlays=new Ke(Z.comparator),this.Ir=new Map}getOverlay(e,n){return L.resolve(this.overlays.get(n))}getOverlays(e,n){let r=Ws();return L.forEach(n,i=>this.getOverlay(e,i).next(s=>{s!==null&&r.set(i,s)})).next(()=>r)}saveOverlays(e,n,r){return r.forEach((i,s)=>{this.ht(e,n,s)}),L.resolve()}removeOverlaysForBatchId(e,n,r){let i=this.Ir.get(r);return i!==void 0&&(i.forEach(s=>this.overlays=this.overlays.remove(s)),this.Ir.delete(r)),L.resolve()}getOverlaysForCollection(e,n,r){let i=Ws(),s=n.length+1,o=new Z(n.child("")),a=this.overlays.getIteratorFrom(o);for(;a.hasNext();){let u=a.getNext().value,d=u.getKey();if(!n.isPrefixOf(d.path))break;d.path.length===s&&u.largestBatchId>r&&i.set(u.getKey(),u)}return L.resolve(i)}getOverlaysForCollectionGroup(e,n,r,i){let s=new Ke((d,p)=>d-p),o=this.overlays.getIterator();for(;o.hasNext();){let d=o.getNext().value;if(d.getKey().getCollectionGroup()===n&&d.largestBatchId>r){let p=s.get(d.largestBatchId);p===null&&(p=Ws(),s=s.insert(d.largestBatchId,p)),p.set(d.getKey(),d)}}let a=Ws(),u=s.getIterator();for(;u.hasNext()&&(u.getNext().value.forEach((d,p)=>a.set(d,p)),!(a.size()>=i)););return L.resolve(a)}ht(e,n,r){let i=this.overlays.get(r.key);if(i!==null){let o=this.Ir.get(i.largestBatchId).delete(r.key);this.Ir.set(i.largestBatchId,o)}this.overlays=this.overlays.insert(r.key,new V_(n,r));let s=this.Ir.get(n);s===void 0&&(s=we(),this.Ir.set(n,s)),this.Ir.set(n,s.add(r.key))}};var tI=class{constructor(){this.sessionToken=xt.EMPTY_BYTE_STRING}getSessionToken(e){return L.resolve(this.sessionToken)}setSessionToken(e,n){return this.sessionToken=n,L.resolve()}};var Zu=class{constructor(){this.Tr=new Rt(it.Er),this.dr=new Rt(it.Ar)}isEmpty(){return this.Tr.isEmpty()}addReference(e,n){let r=new it(e,n);this.Tr=this.Tr.add(r),this.dr=this.dr.add(r)}Rr(e,n){e.forEach(r=>this.addReference(r,n))}removeReference(e,n){this.Vr(new it(e,n))}mr(e,n){e.forEach(r=>this.removeReference(r,n))}gr(e){let n=new Z(new He([])),r=new it(n,e),i=new it(n,e+1),s=[];return this.dr.forEachInRange([r,i],o=>{this.Vr(o),s.push(o.key)}),s}pr(){this.Tr.forEach(e=>this.Vr(e))}Vr(e){this.Tr=this.Tr.delete(e),this.dr=this.dr.delete(e)}yr(e){let n=new Z(new He([])),r=new it(n,e),i=new it(n,e+1),s=we();return this.dr.forEachInRange([r,i],o=>{s=s.add(o.key)}),s}containsKey(e){let n=new it(e,0),r=this.Tr.firstAfterOrEqual(n);return r!==null&&e.isEqual(r.key)}},it=class{constructor(e,n){this.key=e,this.wr=n}static Er(e,n){return Z.comparator(e.key,n.key)||Te(e.wr,n.wr)}static Ar(e,n){return Te(e.wr,n.wr)||Z.comparator(e.key,n.key)}};var nI=class{constructor(e,n){this.indexManager=e,this.referenceDelegate=n,this.mutationQueue=[],this.Sr=1,this.br=new Rt(it.Er)}checkEmpty(e){return L.resolve(this.mutationQueue.length===0)}addMutationBatch(e,n,r,i){let s=this.Sr;this.Sr++,this.mutationQueue.length>0&&this.mutationQueue[this.mutationQueue.length-1];let o=new F_(s,n,r,i);this.mutationQueue.push(o);for(let a of i)this.br=this.br.add(new it(a.key,s)),this.indexManager.addToCollectionParentIndex(e,a.key.path.popLast());return L.resolve(o)}lookupMutationBatch(e,n){return L.resolve(this.Dr(n))}getNextMutationBatchAfterBatchId(e,n){let r=n+1,i=this.vr(r),s=i<0?0:i;return L.resolve(this.mutationQueue.length>s?this.mutationQueue[s]:null)}getHighestUnacknowledgedBatchId(){return L.resolve(this.mutationQueue.length===0?-1:this.Sr-1)}getAllMutationBatches(e){return L.resolve(this.mutationQueue.slice())}getAllMutationBatchesAffectingDocumentKey(e,n){let r=new it(n,0),i=new it(n,Number.POSITIVE_INFINITY),s=[];return this.br.forEachInRange([r,i],o=>{let a=this.Dr(o.wr);s.push(a)}),L.resolve(s)}getAllMutationBatchesAffectingDocumentKeys(e,n){let r=new Rt(Te);return n.forEach(i=>{let s=new it(i,0),o=new it(i,Number.POSITIVE_INFINITY);this.br.forEachInRange([s,o],a=>{r=r.add(a.wr)})}),L.resolve(this.Cr(r))}getAllMutationBatchesAffectingQuery(e,n){let r=n.path,i=r.length+1,s=r;Z.isDocumentKey(s)||(s=s.child(""));let o=new it(new Z(s),0),a=new Rt(Te);return this.br.forEachWhile(u=>{let d=u.key.path;return!!r.isPrefixOf(d)&&(d.length===i&&(a=a.add(u.wr)),!0)},o),L.resolve(this.Cr(a))}Cr(e){let n=[];return e.forEach(r=>{let i=this.Dr(r);i!==null&&n.push(i)}),n}removeMutationBatch(e,n){Me(this.Fr(n.batchId,"removed")===0),this.mutationQueue.shift();let r=this.br;return L.forEach(n.mutations,i=>{let s=new it(i.key,n.batchId);return r=r.delete(s),this.referenceDelegate.markPotentiallyOrphaned(e,i.key)}).next(()=>{this.br=r})}On(e){}containsKey(e,n){let r=new it(n,0),i=this.br.firstAfterOrEqual(r);return L.resolve(n.isEqual(i&&i.key))}performConsistencyCheck(e){return this.mutationQueue.length,L.resolve()}Fr(e,n){return this.vr(e)}vr(e){return this.mutationQueue.length===0?0:e-this.mutationQueue[0].batchId}Dr(e){let n=this.vr(e);return n<0||n>=this.mutationQueue.length?null:this.mutationQueue[n]}};var rI=class{constructor(e){this.Mr=e,this.docs=function(){return new Ke(Z.comparator)}(),this.size=0}setIndexManager(e){this.indexManager=e}addEntry(e,n){let r=n.key,i=this.docs.get(r),s=i?i.size:0,o=this.Mr(n);return this.docs=this.docs.insert(r,{document:n.mutableCopy(),size:o}),this.size+=o-s,this.indexManager.addToCollectionParentIndex(e,r.path.popLast())}removeEntry(e){let n=this.docs.get(e);n&&(this.docs=this.docs.remove(e),this.size-=n.size)}getEntry(e,n){let r=this.docs.get(n);return L.resolve(r?r.document.mutableCopy():Mn.newInvalidDocument(n))}getEntries(e,n){let r=Zr();return n.forEach(i=>{let s=this.docs.get(i);r=r.insert(i,s?s.document.mutableCopy():Mn.newInvalidDocument(i))}),L.resolve(r)}getDocumentsMatchingQuery(e,n,r,i){let s=Zr(),o=n.path,a=new Z(o.child("")),u=this.docs.getIteratorFrom(a);for(;u.hasNext();){let{key:d,value:{document:p}}=u.getNext();if(!o.isPrefixOf(d.path))break;d.path.length>o.length+1||vH(yH(p),r)<=0||(i.has(p.key)||Gp(n,p))&&(s=s.insert(p.key,p.mutableCopy()))}return L.resolve(s)}getAllFromCollectionGroup(e,n,r,i){te()}Or(e,n){return L.forEach(this.docs,r=>n(r))}newChangeBuffer(e){return new iI(this)}getSize(e){return L.resolve(this.size)}},iI=class extends Y_{constructor(e){super(),this.cr=e}applyChanges(e){let n=[];return this.changes.forEach((r,i)=>{i.isValidDocument()?n.push(this.cr.addEntry(e,i)):this.cr.removeEntry(r)}),L.waitFor(n)}getFromCache(e,n){return this.cr.getEntry(e,n)}getAllFromCache(e,n){return this.cr.getEntries(e,n)}};var sI=class{constructor(e){this.persistence=e,this.Nr=new Wi(n=>GI(n),WI),this.lastRemoteSnapshotVersion=ae.min(),this.highestTargetId=0,this.Lr=0,this.Br=new Zu,this.targetCount=0,this.kr=Yu.Bn()}forEachTarget(e,n){return this.Nr.forEach((r,i)=>n(i)),L.resolve()}getLastRemoteSnapshotVersion(e){return L.resolve(this.lastRemoteSnapshotVersion)}getHighestSequenceNumber(e){return L.resolve(this.Lr)}allocateTargetId(e){return this.highestTargetId=this.kr.next(),L.resolve(this.highestTargetId)}setTargetsMetadata(e,n,r){return r&&(this.lastRemoteSnapshotVersion=r),n>this.Lr&&(this.Lr=n),L.resolve()}Kn(e){this.Nr.set(e.target,e);let n=e.targetId;n>this.highestTargetId&&(this.kr=new Yu(n),this.highestTargetId=n),e.sequenceNumber>this.Lr&&(this.Lr=e.sequenceNumber)}addTargetData(e,n){return this.Kn(n),this.targetCount+=1,L.resolve()}updateTargetData(e,n){return this.Kn(n),L.resolve()}removeTargetData(e,n){return this.Nr.delete(n.target),this.Br.gr(n.targetId),this.targetCount-=1,L.resolve()}removeTargets(e,n,r){let i=0,s=[];return this.Nr.forEach((o,a)=>{a.sequenceNumber<=n&&r.get(a.targetId)===null&&(this.Nr.delete(o),s.push(this.removeMatchingKeysForTargetId(e,a.targetId)),i++)}),L.waitFor(s).next(()=>i)}getTargetCount(e){return L.resolve(this.targetCount)}getTargetData(e,n){let r=this.Nr.get(n)||null;return L.resolve(r)}addMatchingKeys(e,n,r){return this.Br.Rr(n,r),L.resolve()}removeMatchingKeys(e,n,r){this.Br.mr(n,r);let i=this.persistence.referenceDelegate,s=[];return i&&n.forEach(o=>{s.push(i.markPotentiallyOrphaned(e,o))}),L.waitFor(s)}removeMatchingKeysForTargetId(e,n){return this.Br.gr(n),L.resolve()}getMatchingKeysForTargetId(e,n){let r=this.Br.yr(n);return L.resolve(r)}containsKey(e,n){return L.resolve(this.Br.containsKey(n))}};var oI=class{constructor(e,n){this.qr={},this.overlays={},this.Qr=new TR(0),this.Kr=!1,this.Kr=!0,this.$r=new tI,this.referenceDelegate=e(this),this.Ur=new sI(this),this.indexManager=new K_,this.remoteDocumentCache=function(i){return new rI(i)}(r=>this.referenceDelegate.Wr(r)),this.serializer=new W_(n),this.Gr=new X_(this.serializer)}start(){return Promise.resolve()}shutdown(){return this.Kr=!1,Promise.resolve()}get started(){return this.Kr}setDatabaseDeletedListener(){}setNetworkEnabled(){}getIndexManager(e){return this.indexManager}getDocumentOverlayCache(e){let n=this.overlays[e.toKey()];return n||(n=new eI,this.overlays[e.toKey()]=n),n}getMutationQueue(e,n){let r=this.qr[e.toKey()];return r||(r=new nI(n,this.referenceDelegate),this.qr[e.toKey()]=r),r}getGlobalsCache(){return this.$r}getTargetCache(){return this.Ur}getRemoteDocumentCache(){return this.remoteDocumentCache}getBundleCache(){return this.Gr}runTransaction(e,n,r){z("MemoryPersistence","Starting transaction:",e);let i=new aI(this.Qr.next());return this.referenceDelegate.zr(),r(i).next(s=>this.referenceDelegate.jr(i).next(()=>s)).toPromise().then(s=>(i.raiseOnCommittedEvent(),s))}Hr(e,n){return L.or(Object.values(this.qr).map(r=>()=>r.containsKey(e,n)))}},aI=class extends v_{constructor(e){super(),this.currentSequenceNumber=e}},cI=class t{constructor(e){this.persistence=e,this.Jr=new Zu,this.Yr=null}static Zr(e){return new t(e)}get Xr(){if(this.Yr)return this.Yr;throw te()}addReference(e,n,r){return this.Jr.addReference(r,n),this.Xr.delete(r.toString()),L.resolve()}removeReference(e,n,r){return this.Jr.removeReference(r,n),this.Xr.add(r.toString()),L.resolve()}markPotentiallyOrphaned(e,n){return this.Xr.add(n.toString()),L.resolve()}removeTarget(e,n){this.Jr.gr(n.targetId).forEach(i=>this.Xr.add(i.toString()));let r=this.persistence.getTargetCache();return r.getMatchingKeysForTargetId(e,n.targetId).next(i=>{i.forEach(s=>this.Xr.add(s.toString()))}).next(()=>r.removeTargetData(e,n))}zr(){this.Yr=new Set}jr(e){let n=this.persistence.getRemoteDocumentCache().newChangeBuffer();return L.forEach(this.Xr,r=>{let i=Z.fromPath(r);return this.ei(e,i).next(s=>{s||n.removeEntry(i,ae.min())})}).next(()=>(this.Yr=null,n.apply(e)))}updateLimboDocument(e,n){return this.ei(e,n).next(r=>{r?this.Xr.delete(n.toString()):this.Xr.add(n.toString())})}Wr(e){return 0}ei(e,n){return L.or([()=>L.resolve(this.Jr.containsKey(n)),()=>this.persistence.getTargetCache().containsKey(e,n),()=>this.persistence.Hr(e,n)])}};var uI=class t{constructor(e,n,r,i){this.targetId=e,this.fromCache=n,this.$i=r,this.Ui=i}static Wi(e,n){let r=we(),i=we();for(let s of n.docChanges)switch(s.type){case 0:r=r.add(s.doc.key);break;case 1:i=i.add(s.doc.key)}return new t(e,n.fromCache,r,i)}};var lI=class{constructor(){this._documentReadCount=0}get documentReadCount(){return this._documentReadCount}incrementDocumentReadCount(e){this._documentReadCount+=e}};var dI=class{constructor(){this.Gi=!1,this.zi=!1,this.ji=100,this.Hi=function(){return RS()?8:_H(yt())>0?6:4}()}initialize(e,n){this.Ji=e,this.indexManager=n,this.Gi=!0}getDocumentsMatchingQuery(e,n,r,i){let s={result:null};return this.Yi(e,n).next(o=>{s.result=o}).next(()=>{if(!s.result)return this.Zi(e,n,i,r).next(o=>{s.result=o})}).next(()=>{if(s.result)return;let o=new lI;return this.Xi(e,n,o).next(a=>{if(s.result=a,this.zi)return this.es(e,n,o,a.size)})}).next(()=>s.result)}es(e,n,r,i){return r.documentReadCount<this.ji?(Uu()<=ve.DEBUG&&z("QueryEngine","SDK will not create cache indexes for query:",xa(n),"since it only creates cache indexes for collection contains","more than or equal to",this.ji,"documents"),L.resolve()):(Uu()<=ve.DEBUG&&z("QueryEngine","Query:",xa(n),"scans",r.documentReadCount,"local documents and returns",i,"documents as results."),r.documentReadCount>this.Hi*i?(Uu()<=ve.DEBUG&&z("QueryEngine","The SDK decides to create cache indexes for query:",xa(n),"as using cache indexes may help improve performance."),this.indexManager.createTargetIndexes(e,pr(n))):L.resolve())}Yi(e,n){if(tR(n))return L.resolve(null);let r=pr(n);return this.indexManager.getIndexType(e,r).next(i=>i===0?null:(n.limit!==null&&i===1&&(n=P_(n,null,"F"),r=pr(n)),this.indexManager.getDocumentsMatchingTarget(e,r).next(s=>{let o=we(...s);return this.Ji.getDocuments(e,o).next(a=>this.indexManager.getMinOffset(e,r).next(u=>{let d=this.ts(n,a);return this.ns(n,d,o,u.readTime)?this.Yi(e,P_(n,null,"F")):this.rs(e,d,n,u)}))})))}Zi(e,n,r,i){return tR(n)||i.isEqual(ae.min())?L.resolve(null):this.Ji.getDocuments(e,r).next(s=>{let o=this.ts(n,s);return this.ns(n,o,r,i)?L.resolve(null):(Uu()<=ve.DEBUG&&z("QueryEngine","Re-using previous result from %s to execute query: %s",i.toString(),xa(n)),this.rs(e,o,n,mH(i,-1)).next(a=>a))})}ts(e,n){let r=new Rt(VR(e));return n.forEach((i,s)=>{Gp(e,s)&&(r=r.add(s))}),r}ns(e,n,r,i){if(e.limit===null)return!1;if(r.size!==n.size)return!0;let s=e.limitType==="F"?n.last():n.first();return!!s&&(s.hasPendingWrites||s.version.compareTo(i)>0)}Xi(e,n,r){return Uu()<=ve.DEBUG&&z("QueryEngine","Using full collection scan to execute query:",xa(n)),this.Ji.getDocumentsMatchingQuery(e,n,Zs.min(),r)}rs(e,n,r,i){return this.Ji.getDocumentsMatchingQuery(e,r,i).next(s=>(n.forEach(o=>{s=s.insert(o.key,o)}),s))}};var hI=class{constructor(e,n,r,i){this.persistence=e,this.ss=n,this.serializer=i,this.os=new Ke(Te),this._s=new Wi(s=>GI(s),WI),this.us=new Map,this.cs=e.getRemoteDocumentCache(),this.Ur=e.getTargetCache(),this.Gr=e.getBundleCache(),this.ls(r)}ls(e){this.documentOverlayCache=this.persistence.getDocumentOverlayCache(e),this.indexManager=this.persistence.getIndexManager(e),this.mutationQueue=this.persistence.getMutationQueue(e,this.indexManager),this.localDocuments=new J_(this.cs,this.mutationQueue,this.documentOverlayCache,this.indexManager),this.cs.setIndexManager(this.indexManager),this.ss.initialize(this.localDocuments,this.indexManager)}collectGarbage(e){return this.persistence.runTransaction("Collect garbage","readwrite-primary",n=>e.collect(n,this.os))}};function lq(t,e,n,r){return new hI(t,e,n,r)}function rx(t,e){return C(this,null,function*(){let n=se(t);return yield n.persistence.runTransaction("Handle user change","readonly",r=>{let i;return n.mutationQueue.getAllMutationBatches(r).next(s=>(i=s,n.ls(e),n.mutationQueue.getAllMutationBatches(r))).next(s=>{let o=[],a=[],u=we();for(let d of i){o.push(d.batchId);for(let p of d.mutations)u=u.add(p.key)}for(let d of s){a.push(d.batchId);for(let p of d.mutations)u=u.add(p.key)}return n.localDocuments.getDocuments(r,u).next(d=>({hs:d,removedBatchIds:o,addedBatchIds:a}))})})})}function dq(t,e){let n=se(t);return n.persistence.runTransaction("Acknowledge batch","readwrite-primary",r=>{let i=e.batch.keys(),s=n.cs.newChangeBuffer({trackRemovals:!0});return function(a,u,d,p){let g=d.batch,_=g.keys(),E=L.resolve();return _.forEach(M=>{E=E.next(()=>p.getEntry(u,M)).next(O=>{let P=d.docVersions.get(M);Me(P!==null),O.version.compareTo(P)<0&&(g.applyToRemoteDocument(O,d),O.isValidDocument()&&(O.setReadTime(d.commitVersion),p.addEntry(O)))})}),E.next(()=>a.mutationQueue.removeMutationBatch(u,g))}(n,r,e,s).next(()=>s.apply(r)).next(()=>n.mutationQueue.performConsistencyCheck(r)).next(()=>n.documentOverlayCache.removeOverlaysForBatchId(r,i,e.batch.batchId)).next(()=>n.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(r,function(a){let u=we();for(let d=0;d<a.mutationResults.length;++d)a.mutationResults[d].transformResults.length>0&&(u=u.add(a.batch.mutations[d].key));return u}(e))).next(()=>n.localDocuments.getDocuments(r,i))})}function ix(t){let e=se(t);return e.persistence.runTransaction("Get last remote snapshot version","readonly",n=>e.Ur.getLastRemoteSnapshotVersion(n))}function hq(t,e){let n=se(t),r=e.snapshotVersion,i=n.os;return n.persistence.runTransaction("Apply remote event","readwrite-primary",s=>{let o=n.cs.newChangeBuffer({trackRemovals:!0});i=n.os;let a=[];e.targetChanges.forEach((p,g)=>{let _=i.get(g);if(!_)return;a.push(n.Ur.removeMatchingKeys(s,p.removedDocuments,g).next(()=>n.Ur.addMatchingKeys(s,p.addedDocuments,g)));let E=_.withSequenceNumber(s.currentSequenceNumber);e.targetMismatches.get(g)!==null?E=E.withResumeToken(xt.EMPTY_BYTE_STRING,ae.min()).withLastLimboFreeSnapshotVersion(ae.min()):p.resumeToken.approximateByteSize()>0&&(E=E.withResumeToken(p.resumeToken,r)),i=i.insert(g,E),function(O,P,V){return O.resumeToken.approximateByteSize()===0||P.snapshotVersion.toMicroseconds()-O.snapshotVersion.toMicroseconds()>=3e8?!0:V.addedDocuments.size+V.modifiedDocuments.size+V.removedDocuments.size>0}(_,E,p)&&a.push(n.Ur.updateTargetData(s,E))});let u=Zr(),d=we();if(e.documentUpdates.forEach(p=>{e.resolvedLimboDocuments.has(p)&&a.push(n.persistence.referenceDelegate.updateLimboDocument(s,p))}),a.push(fq(s,o,e.documentUpdates).next(p=>{u=p.Ps,d=p.Is})),!r.isEqual(ae.min())){let p=n.Ur.getLastRemoteSnapshotVersion(s).next(g=>n.Ur.setTargetsMetadata(s,s.currentSequenceNumber,r));a.push(p)}return L.waitFor(a).next(()=>o.apply(s)).next(()=>n.localDocuments.getLocalViewOfDocuments(s,u,d)).next(()=>u)}).then(s=>(n.os=i,s))}function fq(t,e,n){let r=we(),i=we();return n.forEach(s=>r=r.add(s)),e.getEntries(t,r).next(s=>{let o=Zr();return n.forEach((a,u)=>{let d=s.get(a);u.isFoundDocument()!==d.isFoundDocument()&&(i=i.add(a)),u.isNoDocument()&&u.version.isEqual(ae.min())?(e.removeEntry(a,u.readTime),o=o.insert(a,u)):!d.isValidDocument()||u.version.compareTo(d.version)>0||u.version.compareTo(d.version)===0&&d.hasPendingWrites?(e.addEntry(u),o=o.insert(a,u)):z("LocalStore","Ignoring outdated watch update for ",a,". Current version:",d.version," Watch version:",u.version)}),{Ps:o,Is:i}})}function pq(t,e){let n=se(t);return n.persistence.runTransaction("Get next mutation batch","readonly",r=>(e===void 0&&(e=-1),n.mutationQueue.getNextMutationBatchAfterBatchId(r,e)))}function gq(t,e){let n=se(t);return n.persistence.runTransaction("Allocate target","readwrite",r=>{let i;return n.Ur.getTargetData(r,e).next(s=>s?(i=s,L.resolve(i)):n.Ur.allocateTargetId(r).next(o=>(i=new Qu(e,o,"TargetPurposeListen",r.currentSequenceNumber),n.Ur.addTargetData(r,i).next(()=>i))))}).then(r=>{let i=n.os.get(r.targetId);return(i===null||r.snapshotVersion.compareTo(i.snapshotVersion)>0)&&(n.os=n.os.insert(r.targetId,r),n._s.set(e,r.targetId)),r})}function fI(t,e,n){return C(this,null,function*(){let r=se(t),i=r.os.get(e),s=n?"readwrite":"readwrite-primary";try{n||(yield r.persistence.runTransaction("Release target",s,o=>r.persistence.referenceDelegate.removeTarget(o,i)))}catch(o){if(!sl(o))throw o;z("LocalStore",`Failed to update sequence numbers for target ${e}: ${o}`)}r.os=r.os.remove(e),r._s.delete(i.target)})}function hR(t,e,n){let r=se(t),i=ae.min(),s=we();return r.persistence.runTransaction("Execute query","readwrite",o=>function(u,d,p){let g=se(u),_=g._s.get(p);return _!==void 0?L.resolve(g.os.get(_)):g.Ur.getTargetData(d,p)}(r,o,pr(e)).next(a=>{if(a)return i=a.lastLimboFreeSnapshotVersion,r.Ur.getMatchingKeysForTargetId(o,a.targetId).next(u=>{s=u})}).next(()=>r.ss.getDocumentsMatchingQuery(o,e,n?i:ae.min(),n?s:we())).next(a=>(mq(r,MH(e),a),{documents:a,Ts:s})))}function mq(t,e,n){let r=t.us.get(e)||ae.min();n.forEach((i,s)=>{s.readTime.compareTo(r)>0&&(r=s.readTime)}),t.us.set(e,r)}var bp=class{constructor(){this.activeTargetIds=LH()}fs(e){this.activeTargetIds=this.activeTargetIds.add(e)}gs(e){this.activeTargetIds=this.activeTargetIds.delete(e)}Vs(){let e={activeTargetIds:this.activeTargetIds.toArray(),updateTimeMs:Date.now()};return JSON.stringify(e)}};var pI=class{constructor(){this.so=new bp,this.oo={},this.onlineStateHandler=null,this.sequenceNumberHandler=null}addPendingMutation(e){}updateMutationState(e,n,r){}addLocalQueryTarget(e,n=!0){return n&&this.so.fs(e),this.oo[e]||"not-current"}updateQueryState(e,n,r){this.oo[e]=n}removeLocalQueryTarget(e){this.so.gs(e)}isLocalQueryTarget(e){return this.so.activeTargetIds.has(e)}clearQueryState(e){delete this.oo[e]}getAllActiveQueryTargets(){return this.so.activeTargetIds}isActiveQueryTarget(e){return this.so.activeTargetIds.has(e)}start(){return this.so=new bp,Promise.resolve()}handleUserChange(e,n,r){}setOnlineState(e){}shutdown(){}writeSequenceNumber(e){}notifyBundleLoaded(e){}};var gI=class{_o(e){}shutdown(){}};var Dp=class{constructor(){this.ao=()=>this.uo(),this.co=()=>this.lo(),this.ho=[],this.Po()}_o(e){this.ho.push(e)}shutdown(){window.removeEventListener("online",this.ao),window.removeEventListener("offline",this.co)}Po(){window.addEventListener("online",this.ao),window.addEventListener("offline",this.co)}uo(){z("ConnectivityMonitor","Network connectivity changed: AVAILABLE");for(let e of this.ho)e(0)}lo(){z("ConnectivityMonitor","Network connectivity changed: UNAVAILABLE");for(let e of this.ho)e(1)}static D(){return typeof window<"u"&&window.addEventListener!==void 0&&window.removeEventListener!==void 0}};var op=null;function a_(){return op===null?op=function(){return 268435456+Math.round(2147483648*Math.random())}():op++,"0x"+op.toString(16)}var yq={BatchGetDocuments:"batchGet",Commit:"commit",RunQuery:"runQuery",RunAggregationQuery:"runAggregationQuery"};var mI=class{constructor(e){this.Io=e.Io,this.To=e.To}Eo(e){this.Ao=e}Ro(e){this.Vo=e}mo(e){this.fo=e}onMessage(e){this.po=e}close(){this.To()}send(e){this.Io(e)}yo(){this.Ao()}wo(){this.Vo()}So(e){this.fo(e)}bo(e){this.po(e)}};var At="WebChannelConnection",yI=class extends class{constructor(n){this.databaseInfo=n,this.databaseId=n.databaseId;let r=n.ssl?"https":"http",i=encodeURIComponent(this.databaseId.projectId),s=encodeURIComponent(this.databaseId.database);this.Do=r+"://"+n.host,this.vo=`projects/${i}/databases/${s}`,this.Co=this.databaseId.database==="(default)"?`project_id=${i}`:`project_id=${i}&database_id=${s}`}get Fo(){return!1}Mo(n,r,i,s,o){let a=a_(),u=this.xo(n,r.toUriEncodedString());z("RestConnection",`Sending RPC '${n}' ${a}:`,u,i);let d={"google-cloud-resource-prefix":this.vo,"x-goog-request-params":this.Co};return this.Oo(d,s,o),this.No(n,u,d,i).then(p=>(z("RestConnection",`Received RPC '${n}' ${a}: `,p),p),p=>{throw Fa("RestConnection",`RPC '${n}' ${a} failed with error: `,p,"url: ",u,"request:",i),p})}Lo(n,r,i,s,o,a){return this.Mo(n,r,i,s,o)}Oo(n,r,i){n["X-Goog-Api-Client"]=function(){return"gl-js/ fire/"+Ka}(),n["Content-Type"]="text/plain",this.databaseInfo.appId&&(n["X-Firebase-GMPID"]=this.databaseInfo.appId),r&&r.headers.forEach((s,o)=>n[o]=s),i&&i.headers.forEach((s,o)=>n[o]=s)}xo(n,r){let i=yq[n];return`${this.Do}/v1/${r}:${i}`}terminate(){}}{constructor(e){super(e),this.forceLongPolling=e.forceLongPolling,this.autoDetectLongPolling=e.autoDetectLongPolling,this.useFetchStreams=e.useFetchStreams,this.longPollingOptions=e.longPollingOptions}No(e,n,r,i){let s=a_();return new Promise((o,a)=>{let u=new t_;u.setWithCredentials(!0),u.listenOnce(n_.COMPLETE,()=>{try{switch(u.getLastErrorCode()){case Vu.NO_ERROR:let p=u.getResponseJson();z(At,`XHR for RPC '${e}' ${s} received:`,JSON.stringify(p)),o(p);break;case Vu.TIMEOUT:z(At,`RPC '${e}' ${s} timed out`),a(new H(F.DEADLINE_EXCEEDED,"Request time out"));break;case Vu.HTTP_ERROR:let g=u.getStatus();if(z(At,`RPC '${e}' ${s} failed with status:`,g,"response text:",u.getResponseText()),g>0){let _=u.getResponseJson();Array.isArray(_)&&(_=_[0]);let E=_?.error;if(E&&E.status&&E.message){let M=function(P){let V=P.toLowerCase().replace(/_/g,"-");return Object.values(F).indexOf(V)>=0?V:F.UNKNOWN}(E.status);a(new H(M,E.message))}else a(new H(F.UNKNOWN,"Server responded with status "+u.getStatus()))}else a(new H(F.UNAVAILABLE,"Connection failed."));break;default:te()}}finally{z(At,`RPC '${e}' ${s} completed.`)}});let d=JSON.stringify(i);z(At,`RPC '${e}' ${s} sending request:`,i),u.send(n,"POST",d,r,15)})}Bo(e,n,r){let i=a_(),s=[this.Do,"/","google.firestore.v1.Firestore","/",e,"/channel"],o=s_(),a=i_(),u={httpSessionIdParam:"gsessionid",initMessageHeaders:{},messageUrlParams:{database:`projects/${this.databaseId.projectId}/databases/${this.databaseId.database}`},sendRawJson:!0,supportsCrossDomainXhr:!0,internalChannelParams:{forwardChannelRequestTimeoutMs:6e5},forceLongPolling:this.forceLongPolling,detectBufferingProxy:this.autoDetectLongPolling},d=this.longPollingOptions.timeoutSeconds;d!==void 0&&(u.longPollingTimeout=Math.round(1e3*d)),this.useFetchStreams&&(u.useFetchStreams=!0),this.Oo(u.initMessageHeaders,n,r),u.encodeInitMessageHeaders=!0;let p=s.join("");z(At,`Creating RPC '${e}' stream ${i}: ${p}`,u);let g=o.createWebChannel(p,u),_=!1,E=!1,M=new mI({Io:P=>{E?z(At,`Not sending because RPC '${e}' stream ${i} is closed:`,P):(_||(z(At,`Opening RPC '${e}' stream ${i} transport.`),g.open(),_=!0),z(At,`RPC '${e}' stream ${i} sending:`,P),g.send(P))},To:()=>g.close()}),O=(P,V,G)=>{P.listen(V,q=>{try{G(q)}catch(K){setTimeout(()=>{throw K},0)}})};return O(g,Ra.EventType.OPEN,()=>{E||(z(At,`RPC '${e}' stream ${i} transport opened.`),M.yo())}),O(g,Ra.EventType.CLOSE,()=>{E||(E=!0,z(At,`RPC '${e}' stream ${i} transport closed`),M.So())}),O(g,Ra.EventType.ERROR,P=>{E||(E=!0,Fa(At,`RPC '${e}' stream ${i} transport errored:`,P),M.So(new H(F.UNAVAILABLE,"The operation could not be completed")))}),O(g,Ra.EventType.MESSAGE,P=>{var V;if(!E){let G=P.data[0];Me(!!G);let q=G,K=q.error||((V=q[0])===null||V===void 0?void 0:V.error);if(K){z(At,`RPC '${e}' stream ${i} received error:`,K);let Ce=K.status,J=function(b){let S=rt[b];if(S!==void 0)return QR(S)}(Ce),T=K.message;J===void 0&&(J=F.INTERNAL,T="Unknown error status: "+Ce+" with message "+K.message),E=!0,M.So(new H(J,T)),g.close()}else z(At,`RPC '${e}' stream ${i} received:`,G),M.bo(G)}}),O(a,r_.STAT_EVENT,P=>{P.stat===ip.PROXY?z(At,`RPC '${e}' stream ${i} detected buffering proxy`):P.stat===ip.NOPROXY&&z(At,`RPC '${e}' stream ${i} detected no buffering proxy`)}),setTimeout(()=>{M.wo()},0),M}};function c_(){return typeof document<"u"?document:null}function Wp(t){return new $_(t,!0)}var Cp=class{constructor(e,n,r=1e3,i=1.5,s=6e4){this.ui=e,this.timerId=n,this.ko=r,this.qo=i,this.Qo=s,this.Ko=0,this.$o=null,this.Uo=Date.now(),this.reset()}reset(){this.Ko=0}Wo(){this.Ko=this.Qo}Go(e){this.cancel();let n=Math.floor(this.Ko+this.zo()),r=Math.max(0,Date.now()-this.Uo),i=Math.max(0,n-r);i>0&&z("ExponentialBackoff",`Backing off for ${i} ms (base delay: ${this.Ko} ms, delay with jitter: ${n} ms, last attempt: ${r} ms ago)`),this.$o=this.ui.enqueueAfterDelay(this.timerId,i,()=>(this.Uo=Date.now(),e())),this.Ko*=this.qo,this.Ko<this.ko&&(this.Ko=this.ko),this.Ko>this.Qo&&(this.Ko=this.Qo)}jo(){this.$o!==null&&(this.$o.skipDelay(),this.$o=null)}cancel(){this.$o!==null&&(this.$o.cancel(),this.$o=null)}zo(){return(Math.random()-.5)*this.Ko}};var Tp=class{constructor(e,n,r,i,s,o,a,u){this.ui=e,this.Ho=r,this.Jo=i,this.connection=s,this.authCredentialsProvider=o,this.appCheckCredentialsProvider=a,this.listener=u,this.state=0,this.Yo=0,this.Zo=null,this.Xo=null,this.stream=null,this.e_=0,this.t_=new Cp(e,n)}n_(){return this.state===1||this.state===5||this.r_()}r_(){return this.state===2||this.state===3}start(){this.e_=0,this.state!==4?this.auth():this.i_()}stop(){return C(this,null,function*(){this.n_()&&(yield this.close(0))})}s_(){this.state=0,this.t_.reset()}o_(){this.r_()&&this.Zo===null&&(this.Zo=this.ui.enqueueAfterDelay(this.Ho,6e4,()=>this.__()))}a_(e){this.u_(),this.stream.send(e)}__(){return C(this,null,function*(){if(this.r_())return this.close(0)})}u_(){this.Zo&&(this.Zo.cancel(),this.Zo=null)}c_(){this.Xo&&(this.Xo.cancel(),this.Xo=null)}close(e,n){return C(this,null,function*(){this.u_(),this.c_(),this.t_.cancel(),this.Yo++,e!==4?this.t_.reset():n&&n.code===F.RESOURCE_EXHAUSTED?(Qr(n.toString()),Qr("Using maximum backoff delay to prevent overloading the backend."),this.t_.Wo()):n&&n.code===F.UNAUTHENTICATED&&this.state!==3&&(this.authCredentialsProvider.invalidateToken(),this.appCheckCredentialsProvider.invalidateToken()),this.stream!==null&&(this.l_(),this.stream.close(),this.stream=null),this.state=e,yield this.listener.mo(n)})}l_(){}auth(){this.state=1;let e=this.h_(this.Yo),n=this.Yo;Promise.all([this.authCredentialsProvider.getToken(),this.appCheckCredentialsProvider.getToken()]).then(([r,i])=>{this.Yo===n&&this.P_(r,i)},r=>{e(()=>{let i=new H(F.UNKNOWN,"Fetching auth token failed: "+r.message);return this.I_(i)})})}P_(e,n){let r=this.h_(this.Yo);this.stream=this.T_(e,n),this.stream.Eo(()=>{r(()=>this.listener.Eo())}),this.stream.Ro(()=>{r(()=>(this.state=2,this.Xo=this.ui.enqueueAfterDelay(this.Jo,1e4,()=>(this.r_()&&(this.state=3),Promise.resolve())),this.listener.Ro()))}),this.stream.mo(i=>{r(()=>this.I_(i))}),this.stream.onMessage(i=>{r(()=>++this.e_==1?this.E_(i):this.onNext(i))})}i_(){this.state=5,this.t_.Go(()=>C(this,null,function*(){this.state=0,this.start()}))}I_(e){return z("PersistentStream",`close with error: ${e}`),this.stream=null,this.close(4,e)}h_(e){return n=>{this.ui.enqueueAndForget(()=>this.Yo===e?n():(z("PersistentStream","stream callback skipped by getCloseGuardedDispatcher."),Promise.resolve()))}}},vI=class extends Tp{constructor(e,n,r,i,s,o){super(e,"listen_stream_connection_backoff","listen_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}T_(e,n){return this.connection.Bo("Listen",e,n)}E_(e){return this.onNext(e)}onNext(e){this.t_.reset();let n=JH(this.serializer,e),r=function(s){if(!("targetChange"in s))return ae.min();let o=s.targetChange;return o.targetIds&&o.targetIds.length?ae.min():o.readTime?gr(o.readTime):ae.min()}(e);return this.listener.d_(n,r)}A_(e){let n={};n.database=G_(this.serializer),n.addTarget=function(s,o){let a,u=o.target;if(a=M_(u)?{documents:tq(s,u)}:{query:nq(s,u)._t},a.targetId=o.targetId,o.resumeToken.approximateByteSize()>0){a.resumeToken=YR(s,o.resumeToken);let d=H_(s,o.expectedCount);d!==null&&(a.expectedCount=d)}else if(o.snapshotVersion.compareTo(ae.min())>0){a.readTime=Ip(s,o.snapshotVersion.toTimestamp());let d=H_(s,o.expectedCount);d!==null&&(a.expectedCount=d)}return a}(this.serializer,e);let r=iq(this.serializer,e);r&&(n.labels=r),this.a_(n)}R_(e){let n={};n.database=G_(this.serializer),n.removeTarget=e,this.a_(n)}},wI=class extends Tp{constructor(e,n,r,i,s,o){super(e,"write_stream_connection_backoff","write_stream_idle","health_check_timeout",n,r,i,o),this.serializer=s}get V_(){return this.e_>0}start(){this.lastStreamToken=void 0,super.start()}l_(){this.V_&&this.m_([])}T_(e,n){return this.connection.Bo("Write",e,n)}E_(e){return Me(!!e.streamToken),this.lastStreamToken=e.streamToken,Me(!e.writeResults||e.writeResults.length===0),this.listener.f_()}onNext(e){Me(!!e.streamToken),this.lastStreamToken=e.streamToken,this.t_.reset();let n=eq(e.writeResults,e.commitTime),r=gr(e.commitTime);return this.listener.g_(r,n)}p_(){let e={};e.database=G_(this.serializer),this.a_(e)}m_(e){let n={streamToken:this.lastStreamToken,writes:e.map(r=>XH(this.serializer,r))};this.a_(n)}};var _I=class extends class{}{constructor(e,n,r,i){super(),this.authCredentials=e,this.appCheckCredentials=n,this.connection=r,this.serializer=i,this.y_=!1}w_(){if(this.y_)throw new H(F.FAILED_PRECONDITION,"The client has already been terminated.")}Mo(e,n,r,i){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([s,o])=>this.connection.Mo(e,q_(n,r),i,s,o)).catch(s=>{throw s.name==="FirebaseError"?(s.code===F.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),s):new H(F.UNKNOWN,s.toString())})}Lo(e,n,r,i,s){return this.w_(),Promise.all([this.authCredentials.getToken(),this.appCheckCredentials.getToken()]).then(([o,a])=>this.connection.Lo(e,q_(n,r),i,o,a,s)).catch(o=>{throw o.name==="FirebaseError"?(o.code===F.UNAUTHENTICATED&&(this.authCredentials.invalidateToken(),this.appCheckCredentials.invalidateToken()),o):new H(F.UNKNOWN,o.toString())})}terminate(){this.y_=!0,this.connection.terminate()}},II=class{constructor(e,n){this.asyncQueue=e,this.onlineStateHandler=n,this.state="Unknown",this.S_=0,this.b_=null,this.D_=!0}v_(){this.S_===0&&(this.C_("Unknown"),this.b_=this.asyncQueue.enqueueAfterDelay("online_state_timeout",1e4,()=>(this.b_=null,this.F_("Backend didn't respond within 10 seconds."),this.C_("Offline"),Promise.resolve())))}M_(e){this.state==="Online"?this.C_("Unknown"):(this.S_++,this.S_>=1&&(this.x_(),this.F_(`Connection failed 1 times. Most recent error: ${e.toString()}`),this.C_("Offline")))}set(e){this.x_(),this.S_=0,e==="Online"&&(this.D_=!1),this.C_(e)}C_(e){e!==this.state&&(this.state=e,this.onlineStateHandler(e))}F_(e){let n=`Could not reach Cloud Firestore backend. ${e}
This typically indicates that your device does not have a healthy Internet connection at the moment. The client will operate in offline mode until it is able to successfully connect to the backend.`;this.D_?(Qr(n),this.D_=!1):z("OnlineStateTracker",n)}x_(){this.b_!==null&&(this.b_.cancel(),this.b_=null)}};var EI=class{constructor(e,n,r,i,s){this.localStore=e,this.datastore=n,this.asyncQueue=r,this.remoteSyncer={},this.O_=[],this.N_=new Map,this.L_=new Set,this.B_=[],this.k_=s,this.k_._o(o=>{r.enqueueAndForget(()=>C(this,null,function*(){io(this)&&(z("RemoteStore","Restarting streams for network reachability change."),yield function(u){return C(this,null,function*(){let d=se(u);d.L_.add(4),yield ol(d),d.q_.set("Unknown"),d.L_.delete(4),yield Kp(d)})}(this))}))}),this.q_=new II(r,i)}};function Kp(t){return C(this,null,function*(){if(io(t))for(let e of t.B_)yield e(!0)})}function ol(t){return C(this,null,function*(){for(let e of t.B_)yield e(!1)})}function sx(t,e){let n=se(t);n.N_.has(e.targetId)||(n.N_.set(e.targetId,e),eE(n)?XI(n):Qa(n).r_()&&JI(n,e))}function ZI(t,e){let n=se(t),r=Qa(n);n.N_.delete(e),r.r_()&&ox(n,e),n.N_.size===0&&(r.r_()?r.o_():io(n)&&n.q_.set("Unknown"))}function JI(t,e){if(t.Q_.xe(e.targetId),e.resumeToken.approximateByteSize()>0||e.snapshotVersion.compareTo(ae.min())>0){let n=t.remoteSyncer.getRemoteKeysForTarget(e.targetId).size;e=e.withExpectedCount(n)}Qa(t).A_(e)}function ox(t,e){t.Q_.xe(e),Qa(t).R_(e)}function XI(t){t.Q_=new B_({getRemoteKeysForTarget:e=>t.remoteSyncer.getRemoteKeysForTarget(e),ot:e=>t.N_.get(e)||null,tt:()=>t.datastore.serializer.databaseId}),Qa(t).start(),t.q_.v_()}function eE(t){return io(t)&&!Qa(t).n_()&&t.N_.size>0}function io(t){return se(t).L_.size===0}function ax(t){t.Q_=void 0}function vq(t){return C(this,null,function*(){t.q_.set("Online")})}function wq(t){return C(this,null,function*(){t.N_.forEach((e,n)=>{JI(t,e)})})}function _q(t,e){return C(this,null,function*(){ax(t),eE(t)?(t.q_.M_(e),XI(t)):t.q_.set("Unknown")})}function Iq(t,e,n){return C(this,null,function*(){if(t.q_.set("Online"),e instanceof wp&&e.state===2&&e.cause)try{yield function(i,s){return C(this,null,function*(){let o=s.cause;for(let a of s.targetIds)i.N_.has(a)&&(yield i.remoteSyncer.rejectListen(a,o),i.N_.delete(a),i.Q_.removeTarget(a))})}(t,e)}catch(r){z("RemoteStore","Failed to remove targets %s: %s ",e.targetIds.join(","),r),yield Sp(t,r)}else if(e instanceof ka?t.Q_.Ke(e):e instanceof vp?t.Q_.He(e):t.Q_.We(e),!n.isEqual(ae.min()))try{let r=yield ix(t.localStore);n.compareTo(r)>=0&&(yield function(s,o){let a=s.Q_.rt(o);return a.targetChanges.forEach((u,d)=>{if(u.resumeToken.approximateByteSize()>0){let p=s.N_.get(d);p&&s.N_.set(d,p.withResumeToken(u.resumeToken,o))}}),a.targetMismatches.forEach((u,d)=>{let p=s.N_.get(u);if(!p)return;s.N_.set(u,p.withResumeToken(xt.EMPTY_BYTE_STRING,p.snapshotVersion)),ox(s,u);let g=new Qu(p.target,u,d,p.sequenceNumber);JI(s,g)}),s.remoteSyncer.applyRemoteEvent(a)}(t,n))}catch(r){z("RemoteStore","Failed to raise snapshot:",r),yield Sp(t,r)}})}function Sp(t,e,n){return C(this,null,function*(){if(!sl(e))throw e;t.L_.add(1),yield ol(t),t.q_.set("Offline"),n||(n=()=>ix(t.localStore)),t.asyncQueue.enqueueRetryable(()=>C(this,null,function*(){z("RemoteStore","Retrying IndexedDB access"),yield n(),t.L_.delete(1),yield Kp(t)}))})}function cx(t,e){return e().catch(n=>Sp(t,n,e))}function Qp(t){return C(this,null,function*(){let e=se(t),n=Ki(e),r=e.O_.length>0?e.O_[e.O_.length-1].batchId:-1;for(;Eq(e);)try{let i=yield pq(e.localStore,r);if(i===null){e.O_.length===0&&n.o_();break}r=i.batchId,bq(e,i)}catch(i){yield Sp(e,i)}ux(e)&&lx(e)})}function Eq(t){return io(t)&&t.O_.length<10}function bq(t,e){t.O_.push(e);let n=Ki(t);n.r_()&&n.V_&&n.m_(e.mutations)}function ux(t){return io(t)&&!Ki(t).n_()&&t.O_.length>0}function lx(t){Ki(t).start()}function Dq(t){return C(this,null,function*(){Ki(t).p_()})}function Cq(t){return C(this,null,function*(){let e=Ki(t);for(let n of t.O_)e.m_(n.mutations)})}function Tq(t,e,n){return C(this,null,function*(){let r=t.O_.shift(),i=L_.from(r,e,n);yield cx(t,()=>t.remoteSyncer.applySuccessfulWrite(i)),yield Qp(t)})}function Sq(t,e){return C(this,null,function*(){e&&Ki(t).V_&&(yield function(r,i){return C(this,null,function*(){if(function(o){return qH(o)&&o!==F.ABORTED}(i.code)){let s=r.O_.shift();Ki(r).s_(),yield cx(r,()=>r.remoteSyncer.rejectFailedWrite(s.batchId,i)),yield Qp(r)}})}(t,e)),ux(t)&&lx(t)})}function fR(t,e){return C(this,null,function*(){let n=se(t);n.asyncQueue.verifyOperationInProgress(),z("RemoteStore","RemoteStore received new credentials");let r=io(n);n.L_.add(3),yield ol(n),r&&n.q_.set("Unknown"),yield n.remoteSyncer.handleCredentialChange(e),n.L_.delete(3),yield Kp(n)})}function Aq(t,e){return C(this,null,function*(){let n=se(t);e?(n.L_.delete(2),yield Kp(n)):e||(n.L_.add(2),yield ol(n),n.q_.set("Unknown"))})}function Qa(t){return t.K_||(t.K_=function(n,r,i){let s=se(n);return s.w_(),new vI(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Eo:vq.bind(null,t),Ro:wq.bind(null,t),mo:_q.bind(null,t),d_:Iq.bind(null,t)}),t.B_.push(e=>C(this,null,function*(){e?(t.K_.s_(),eE(t)?XI(t):t.q_.set("Unknown")):(yield t.K_.stop(),ax(t))}))),t.K_}function Ki(t){return t.U_||(t.U_=function(n,r,i){let s=se(n);return s.w_(),new wI(r,s.connection,s.authCredentials,s.appCheckCredentials,s.serializer,i)}(t.datastore,t.asyncQueue,{Eo:()=>Promise.resolve(),Ro:Dq.bind(null,t),mo:Sq.bind(null,t),f_:Cq.bind(null,t),g_:Tq.bind(null,t)}),t.B_.push(e=>C(this,null,function*(){e?(t.U_.s_(),yield Qp(t)):(yield t.U_.stop(),t.O_.length>0&&(z("RemoteStore",`Stopping write stream with ${t.O_.length} pending writes`),t.O_=[]))}))),t.U_}var bI=class t{constructor(e,n,r,i,s){this.asyncQueue=e,this.timerId=n,this.targetTimeMs=r,this.op=i,this.removalCallback=s,this.deferred=new hr,this.then=this.deferred.promise.then.bind(this.deferred.promise),this.deferred.promise.catch(o=>{})}get promise(){return this.deferred.promise}static createAndSchedule(e,n,r,i,s){let o=Date.now()+r,a=new t(e,n,o,i,s);return a.start(r),a}start(e){this.timerHandle=setTimeout(()=>this.handleDelayElapsed(),e)}skipDelay(){return this.handleDelayElapsed()}cancel(e){this.timerHandle!==null&&(this.clearTimeout(),this.deferred.reject(new H(F.CANCELLED,"Operation cancelled"+(e?": "+e:""))))}handleDelayElapsed(){this.asyncQueue.enqueueAndForget(()=>this.timerHandle!==null?(this.clearTimeout(),this.op().then(e=>this.deferred.resolve(e))):Promise.resolve())}clearTimeout(){this.timerHandle!==null&&(this.removalCallback(this),clearTimeout(this.timerHandle),this.timerHandle=null)}};function tE(t,e){if(Qr("AsyncQueue",`${e}: ${t}`),sl(t))return new H(F.UNAVAILABLE,`${e}: ${t}`);throw t}var Ap=class t{constructor(e){this.comparator=e?(n,r)=>e(n,r)||Z.comparator(n.key,r.key):(n,r)=>Z.comparator(n.key,r.key),this.keyedMap=ju(),this.sortedSet=new Ke(this.comparator)}static emptySet(e){return new t(e.comparator)}has(e){return this.keyedMap.get(e)!=null}get(e){return this.keyedMap.get(e)}first(){return this.sortedSet.minKey()}last(){return this.sortedSet.maxKey()}isEmpty(){return this.sortedSet.isEmpty()}indexOf(e){let n=this.keyedMap.get(e);return n?this.sortedSet.indexOf(n):-1}get size(){return this.sortedSet.size}forEach(e){this.sortedSet.inorderTraversal((n,r)=>(e(n),!1))}add(e){let n=this.delete(e.key);return n.copy(n.keyedMap.insert(e.key,e),n.sortedSet.insert(e,null))}delete(e){let n=this.get(e);return n?this.copy(this.keyedMap.remove(e),this.sortedSet.remove(n)):this}isEqual(e){if(!(e instanceof t)||this.size!==e.size)return!1;let n=this.sortedSet.getIterator(),r=e.sortedSet.getIterator();for(;n.hasNext();){let i=n.getNext().key,s=r.getNext().key;if(!i.isEqual(s))return!1}return!0}toString(){let e=[];return this.forEach(n=>{e.push(n.toString())}),e.length===0?"DocumentSet ()":`DocumentSet (
  `+e.join(`  
`)+`
)`}copy(e,n){let r=new t;return r.comparator=this.comparator,r.keyedMap=e,r.sortedSet=n,r}};var Rp=class{constructor(){this.W_=new Ke(Z.comparator)}track(e){let n=e.doc.key,r=this.W_.get(n);r?e.type!==0&&r.type===3?this.W_=this.W_.insert(n,e):e.type===3&&r.type!==1?this.W_=this.W_.insert(n,{type:r.type,doc:e.doc}):e.type===2&&r.type===2?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):e.type===2&&r.type===0?this.W_=this.W_.insert(n,{type:0,doc:e.doc}):e.type===1&&r.type===0?this.W_=this.W_.remove(n):e.type===1&&r.type===2?this.W_=this.W_.insert(n,{type:1,doc:r.doc}):e.type===0&&r.type===1?this.W_=this.W_.insert(n,{type:2,doc:e.doc}):te():this.W_=this.W_.insert(n,e)}G_(){let e=[];return this.W_.inorderTraversal((n,r)=>{e.push(r)}),e}},za=class t{constructor(e,n,r,i,s,o,a,u,d){this.query=e,this.docs=n,this.oldDocs=r,this.docChanges=i,this.mutatedKeys=s,this.fromCache=o,this.syncStateChanged=a,this.excludesMetadataChanges=u,this.hasCachedResults=d}static fromInitialDocuments(e,n,r,i,s){let o=[];return n.forEach(a=>{o.push({type:0,doc:a})}),new t(e,n,Ap.emptySet(n),o,r,i,!0,!1,s)}get hasPendingWrites(){return!this.mutatedKeys.isEmpty()}isEqual(e){if(!(this.fromCache===e.fromCache&&this.hasCachedResults===e.hasCachedResults&&this.syncStateChanged===e.syncStateChanged&&this.mutatedKeys.isEqual(e.mutatedKeys)&&zp(this.query,e.query)&&this.docs.isEqual(e.docs)&&this.oldDocs.isEqual(e.oldDocs)))return!1;let n=this.docChanges,r=e.docChanges;if(n.length!==r.length)return!1;for(let i=0;i<n.length;i++)if(n[i].type!==r[i].type||!n[i].doc.isEqual(r[i].doc))return!1;return!0}};var DI=class{constructor(){this.z_=void 0,this.j_=[]}H_(){return this.j_.some(e=>e.J_())}},CI=class{constructor(){this.queries=pR(),this.onlineState="Unknown",this.Y_=new Set}terminate(){(function(n,r){let i=se(n),s=i.queries;i.queries=pR(),s.forEach((o,a)=>{for(let u of a.j_)u.onError(r)})})(this,new H(F.ABORTED,"Firestore shutting down"))}};function pR(){return new Wi(t=>LR(t),zp)}function dx(t,e){return C(this,null,function*(){let n=se(t),r=3,i=e.query,s=n.queries.get(i);s?!s.H_()&&e.J_()&&(r=2):(s=new DI,r=e.J_()?0:1);try{switch(r){case 0:s.z_=yield n.onListen(i,!0);break;case 1:s.z_=yield n.onListen(i,!1);break;case 2:yield n.onFirstRemoteStoreListen(i)}}catch(o){let a=tE(o,`Initialization of query '${xa(e.query)}' failed`);return void e.onError(a)}n.queries.set(i,s),s.j_.push(e),e.Z_(n.onlineState),s.z_&&e.X_(s.z_)&&nE(n)})}function hx(t,e){return C(this,null,function*(){let n=se(t),r=e.query,i=3,s=n.queries.get(r);if(s){let o=s.j_.indexOf(e);o>=0&&(s.j_.splice(o,1),s.j_.length===0?i=e.J_()?0:1:!s.H_()&&e.J_()&&(i=2))}switch(i){case 0:return n.queries.delete(r),n.onUnlisten(r,!0);case 1:return n.queries.delete(r),n.onUnlisten(r,!1);case 2:return n.onLastRemoteStoreUnlisten(r);default:return}})}function Rq(t,e){let n=se(t),r=!1;for(let i of e){let s=i.query,o=n.queries.get(s);if(o){for(let a of o.j_)a.X_(i)&&(r=!0);o.z_=i}}r&&nE(n)}function xq(t,e,n){let r=se(t),i=r.queries.get(e);if(i)for(let s of i.j_)s.onError(n);r.queries.delete(e)}function nE(t){t.Y_.forEach(e=>{e.next()})}var TI,gR;(gR=TI||(TI={})).ea="default",gR.Cache="cache";var xp=class{constructor(e,n,r){this.query=e,this.ta=n,this.na=!1,this.ra=null,this.onlineState="Unknown",this.options=r||{}}X_(e){if(!this.options.includeMetadataChanges){let r=[];for(let i of e.docChanges)i.type!==3&&r.push(i);e=new za(e.query,e.docs,e.oldDocs,r,e.mutatedKeys,e.fromCache,e.syncStateChanged,!0,e.hasCachedResults)}let n=!1;return this.na?this.ia(e)&&(this.ta.next(e),n=!0):this.sa(e,this.onlineState)&&(this.oa(e),n=!0),this.ra=e,n}onError(e){this.ta.error(e)}Z_(e){this.onlineState=e;let n=!1;return this.ra&&!this.na&&this.sa(this.ra,e)&&(this.oa(this.ra),n=!0),n}sa(e,n){if(!e.fromCache||!this.J_())return!0;let r=n!=="Offline";return(!this.options._a||!r)&&(!e.docs.isEmpty()||e.hasCachedResults||n==="Offline")}ia(e){if(e.docChanges.length>0)return!0;let n=this.ra&&this.ra.hasPendingWrites!==e.hasPendingWrites;return!(!e.syncStateChanged&&!n)&&this.options.includeMetadataChanges===!0}oa(e){e=za.fromInitialDocuments(e.query,e.docs,e.mutatedKeys,e.fromCache,e.hasCachedResults),this.na=!0,this.ta.next(e)}J_(){return this.options.source!==TI.Cache}};var Mp=class{constructor(e){this.key=e}},Np=class{constructor(e){this.key=e}},SI=class{constructor(e,n){this.query=e,this.Ta=n,this.Ea=null,this.hasCachedResults=!1,this.current=!1,this.da=we(),this.mutatedKeys=we(),this.Aa=VR(e),this.Ra=new Ap(this.Aa)}get Va(){return this.Ta}ma(e,n){let r=n?n.fa:new Rp,i=n?n.Ra:this.Ra,s=n?n.mutatedKeys:this.mutatedKeys,o=i,a=!1,u=this.query.limitType==="F"&&i.size===this.query.limit?i.last():null,d=this.query.limitType==="L"&&i.size===this.query.limit?i.first():null;if(e.inorderTraversal((p,g)=>{let _=i.get(p),E=Gp(this.query,g)?g:null,M=!!_&&this.mutatedKeys.has(_.key),O=!!E&&(E.hasLocalMutations||this.mutatedKeys.has(E.key)&&E.hasCommittedMutations),P=!1;_&&E?_.data.isEqual(E.data)?M!==O&&(r.track({type:3,doc:E}),P=!0):this.ga(_,E)||(r.track({type:2,doc:E}),P=!0,(u&&this.Aa(E,u)>0||d&&this.Aa(E,d)<0)&&(a=!0)):!_&&E?(r.track({type:0,doc:E}),P=!0):_&&!E&&(r.track({type:1,doc:_}),P=!0,(u||d)&&(a=!0)),P&&(E?(o=o.add(E),s=O?s.add(p):s.delete(p)):(o=o.delete(p),s=s.delete(p)))}),this.query.limit!==null)for(;o.size>this.query.limit;){let p=this.query.limitType==="F"?o.last():o.first();o=o.delete(p.key),s=s.delete(p.key),r.track({type:1,doc:p})}return{Ra:o,fa:r,ns:a,mutatedKeys:s}}ga(e,n){return e.hasLocalMutations&&n.hasCommittedMutations&&!n.hasLocalMutations}applyChanges(e,n,r,i){let s=this.Ra;this.Ra=e.Ra,this.mutatedKeys=e.mutatedKeys;let o=e.fa.G_();o.sort((p,g)=>function(E,M){let O=P=>{switch(P){case 0:return 1;case 2:case 3:return 2;case 1:return 0;default:return te()}};return O(E)-O(M)}(p.type,g.type)||this.Aa(p.doc,g.doc)),this.pa(r),i=i!=null&&i;let a=n&&!i?this.ya():[],u=this.da.size===0&&this.current&&!i?1:0,d=u!==this.Ea;return this.Ea=u,o.length!==0||d?{snapshot:new za(this.query,e.Ra,s,o,e.mutatedKeys,u===0,d,!1,!!r&&r.resumeToken.approximateByteSize()>0),wa:a}:{wa:a}}Z_(e){return this.current&&e==="Offline"?(this.current=!1,this.applyChanges({Ra:this.Ra,fa:new Rp,mutatedKeys:this.mutatedKeys,ns:!1},!1)):{wa:[]}}Sa(e){return!this.Ta.has(e)&&!!this.Ra.has(e)&&!this.Ra.get(e).hasLocalMutations}pa(e){e&&(e.addedDocuments.forEach(n=>this.Ta=this.Ta.add(n)),e.modifiedDocuments.forEach(n=>{}),e.removedDocuments.forEach(n=>this.Ta=this.Ta.delete(n)),this.current=e.current)}ya(){if(!this.current)return[];let e=this.da;this.da=we(),this.Ra.forEach(r=>{this.Sa(r.key)&&(this.da=this.da.add(r.key))});let n=[];return e.forEach(r=>{this.da.has(r)||n.push(new Np(r))}),this.da.forEach(r=>{e.has(r)||n.push(new Mp(r))}),n}ba(e){this.Ta=e.Ts,this.da=we();let n=this.ma(e.documents);return this.applyChanges(n,!0)}Da(){return za.fromInitialDocuments(this.query,this.Ra,this.mutatedKeys,this.Ea===0,this.hasCachedResults)}},AI=class{constructor(e,n,r){this.query=e,this.targetId=n,this.view=r}},RI=class{constructor(e){this.key=e,this.va=!1}},xI=class{constructor(e,n,r,i,s,o){this.localStore=e,this.remoteStore=n,this.eventManager=r,this.sharedClientState=i,this.currentUser=s,this.maxConcurrentLimboResolutions=o,this.Ca={},this.Fa=new Wi(a=>LR(a),zp),this.Ma=new Map,this.xa=new Set,this.Oa=new Ke(Z.comparator),this.Na=new Map,this.La=new Zu,this.Ba={},this.ka=new Map,this.qa=Yu.kn(),this.onlineState="Unknown",this.Qa=void 0}get isPrimaryClient(){return this.Qa===!0}};function Mq(t,e,n=!0){return C(this,null,function*(){let r=vx(t),i,s=r.Fa.get(e);return s?(r.sharedClientState.addLocalQueryTarget(s.targetId),i=s.view.Da()):i=yield fx(r,e,n,!0),i})}function Nq(t,e){return C(this,null,function*(){let n=vx(t);yield fx(n,e,!0,!1)})}function fx(t,e,n,r){return C(this,null,function*(){let i=yield gq(t.localStore,pr(e)),s=i.targetId,o=t.sharedClientState.addLocalQueryTarget(s,n),a;return r&&(a=yield Pq(t,e,s,o==="current",i.resumeToken)),t.isPrimaryClient&&n&&sx(t.remoteStore,i),a})}function Pq(t,e,n,r,i){return C(this,null,function*(){t.Ka=(g,_,E)=>function(O,P,V,G){return C(this,null,function*(){let q=P.view.ma(V);q.ns&&(q=yield hR(O.localStore,P.query,!1).then(({documents:T})=>P.view.ma(T,q)));let K=G&&G.targetChanges.get(P.targetId),Ce=G&&G.targetMismatches.get(P.targetId)!=null,J=P.view.applyChanges(q,O.isPrimaryClient,K,Ce);return yR(O,P.targetId,J.wa),J.snapshot})}(t,g,_,E);let s=yield hR(t.localStore,e,!0),o=new SI(e,s.Ts),a=o.ma(s.documents),u=Ku.createSynthesizedTargetChangeForCurrentChange(n,r&&t.onlineState!=="Offline",i),d=o.applyChanges(a,t.isPrimaryClient,u);yR(t,n,d.wa);let p=new AI(e,n,o);return t.Fa.set(e,p),t.Ma.has(n)?t.Ma.get(n).push(e):t.Ma.set(n,[e]),d.snapshot})}function kq(t,e,n){return C(this,null,function*(){let r=se(t),i=r.Fa.get(e),s=r.Ma.get(i.targetId);if(s.length>1)return r.Ma.set(i.targetId,s.filter(o=>!zp(o,e))),void r.Fa.delete(e);r.isPrimaryClient?(r.sharedClientState.removeLocalQueryTarget(i.targetId),r.sharedClientState.isActiveQueryTarget(i.targetId)||(yield fI(r.localStore,i.targetId,!1).then(()=>{r.sharedClientState.clearQueryState(i.targetId),n&&ZI(r.remoteStore,i.targetId),MI(r,i.targetId)}).catch(il))):(MI(r,i.targetId),yield fI(r.localStore,i.targetId,!0))})}function Oq(t,e){return C(this,null,function*(){let n=se(t),r=n.Fa.get(e),i=n.Ma.get(r.targetId);n.isPrimaryClient&&i.length===1&&(n.sharedClientState.removeLocalQueryTarget(r.targetId),ZI(n.remoteStore,r.targetId))})}function Fq(t,e,n){return C(this,null,function*(){let r=Hq(t);try{let i=yield function(o,a){let u=se(o),d=bt.now(),p=a.reduce((E,M)=>E.add(M.key),we()),g,_;return u.persistence.runTransaction("Locally write mutations","readwrite",E=>{let M=Zr(),O=we();return u.cs.getEntries(E,p).next(P=>{M=P,M.forEach((V,G)=>{G.isValidDocument()||(O=O.add(V))})}).next(()=>u.localDocuments.getOverlayedDocuments(E,M)).next(P=>{g=P;let V=[];for(let G of a){let q=HH(G,g.get(G.key).overlayedDocument);q!=null&&V.push(new yr(G.key,q,xR(q.value.mapValue),Hi.exists(!0)))}return u.mutationQueue.addMutationBatch(E,d,V,a)}).next(P=>{_=P;let V=P.applyToLocalDocumentSet(g,O);return u.documentOverlayCache.saveOverlays(E,P.batchId,V)})}).then(()=>({batchId:_.batchId,changes:jR(g)}))}(r.localStore,e);r.sharedClientState.addPendingMutation(i.batchId),function(o,a,u){let d=o.Ba[o.currentUser.toKey()];d||(d=new Ke(Te)),d=d.insert(a,u),o.Ba[o.currentUser.toKey()]=d}(r,i.batchId,n),yield al(r,i.changes),yield Qp(r.remoteStore)}catch(i){let s=tE(i,"Failed to persist write");n.reject(s)}})}function px(t,e){return C(this,null,function*(){let n=se(t);try{let r=yield hq(n.localStore,e);e.targetChanges.forEach((i,s)=>{let o=n.Na.get(s);o&&(Me(i.addedDocuments.size+i.modifiedDocuments.size+i.removedDocuments.size<=1),i.addedDocuments.size>0?o.va=!0:i.modifiedDocuments.size>0?Me(o.va):i.removedDocuments.size>0&&(Me(o.va),o.va=!1))}),yield al(n,r,e)}catch(r){yield il(r)}})}function mR(t,e,n){let r=se(t);if(r.isPrimaryClient&&n===0||!r.isPrimaryClient&&n===1){let i=[];r.Fa.forEach((s,o)=>{let a=o.view.Z_(e);a.snapshot&&i.push(a.snapshot)}),function(o,a){let u=se(o);u.onlineState=a;let d=!1;u.queries.forEach((p,g)=>{for(let _ of g.j_)_.Z_(a)&&(d=!0)}),d&&nE(u)}(r.eventManager,e),i.length&&r.Ca.d_(i),r.onlineState=e,r.isPrimaryClient&&r.sharedClientState.setOnlineState(e)}}function Lq(t,e,n){return C(this,null,function*(){let r=se(t);r.sharedClientState.updateQueryState(e,"rejected",n);let i=r.Na.get(e),s=i&&i.key;if(s){let o=new Ke(Z.comparator);o=o.insert(s,Mn.newNoDocument(s,ae.min()));let a=we().add(s),u=new yp(ae.min(),new Map,new Ke(Te),o,a);yield px(r,u),r.Oa=r.Oa.remove(s),r.Na.delete(e),rE(r)}else yield fI(r.localStore,e,!1).then(()=>MI(r,e,n)).catch(il)})}function Vq(t,e){return C(this,null,function*(){let n=se(t),r=e.batch.batchId;try{let i=yield dq(n.localStore,e);mx(n,r,null),gx(n,r),n.sharedClientState.updateMutationState(r,"acknowledged"),yield al(n,i)}catch(i){yield il(i)}})}function Uq(t,e,n){return C(this,null,function*(){let r=se(t);try{let i=yield function(o,a){let u=se(o);return u.persistence.runTransaction("Reject batch","readwrite-primary",d=>{let p;return u.mutationQueue.lookupMutationBatch(d,a).next(g=>(Me(g!==null),p=g.keys(),u.mutationQueue.removeMutationBatch(d,g))).next(()=>u.mutationQueue.performConsistencyCheck(d)).next(()=>u.documentOverlayCache.removeOverlaysForBatchId(d,p,a)).next(()=>u.localDocuments.recalculateAndSaveOverlaysForDocumentKeys(d,p)).next(()=>u.localDocuments.getDocuments(d,p))})}(r.localStore,e);mx(r,e,n),gx(r,e),r.sharedClientState.updateMutationState(e,"rejected",n),yield al(r,i)}catch(i){yield il(i)}})}function gx(t,e){(t.ka.get(e)||[]).forEach(n=>{n.resolve()}),t.ka.delete(e)}function mx(t,e,n){let r=se(t),i=r.Ba[r.currentUser.toKey()];if(i){let s=i.get(e);s&&(n?s.reject(n):s.resolve(),i=i.remove(e)),r.Ba[r.currentUser.toKey()]=i}}function MI(t,e,n=null){t.sharedClientState.removeLocalQueryTarget(e);for(let r of t.Ma.get(e))t.Fa.delete(r),n&&t.Ca.$a(r,n);t.Ma.delete(e),t.isPrimaryClient&&t.La.gr(e).forEach(r=>{t.La.containsKey(r)||yx(t,r)})}function yx(t,e){t.xa.delete(e.path.canonicalString());let n=t.Oa.get(e);n!==null&&(ZI(t.remoteStore,n),t.Oa=t.Oa.remove(e),t.Na.delete(n),rE(t))}function yR(t,e,n){for(let r of n)r instanceof Mp?(t.La.addReference(r.key,e),jq(t,r)):r instanceof Np?(z("SyncEngine","Document no longer in limbo: "+r.key),t.La.removeReference(r.key,e),t.La.containsKey(r.key)||yx(t,r.key)):te()}function jq(t,e){let n=e.key,r=n.path.canonicalString();t.Oa.get(n)||t.xa.has(r)||(z("SyncEngine","New document in limbo: "+n),t.xa.add(r),rE(t))}function rE(t){for(;t.xa.size>0&&t.Oa.size<t.maxConcurrentLimboResolutions;){let e=t.xa.values().next().value;t.xa.delete(e);let n=new Z(He.fromString(e)),r=t.qa.next();t.Na.set(r,new RI(n)),t.Oa=t.Oa.insert(n,r),sx(t.remoteStore,new Qu(pr(KI(n.path)),r,"TargetPurposeLimboResolution",TR.oe))}}function al(t,e,n){return C(this,null,function*(){let r=se(t),i=[],s=[],o=[];r.Fa.isEmpty()||(r.Fa.forEach((a,u)=>{o.push(r.Ka(u,e,n).then(d=>{var p;if((d||n)&&r.isPrimaryClient){let g=d?!d.fromCache:(p=n?.targetChanges.get(u.targetId))===null||p===void 0?void 0:p.current;r.sharedClientState.updateQueryState(u.targetId,g?"current":"not-current")}if(d){i.push(d);let g=uI.Wi(u.targetId,d);s.push(g)}}))}),yield Promise.all(o),r.Ca.d_(i),yield function(u,d){return C(this,null,function*(){let p=se(u);try{yield p.persistence.runTransaction("notifyLocalViewChanges","readwrite",g=>L.forEach(d,_=>L.forEach(_.$i,E=>p.persistence.referenceDelegate.addReference(g,_.targetId,E)).next(()=>L.forEach(_.Ui,E=>p.persistence.referenceDelegate.removeReference(g,_.targetId,E)))))}catch(g){if(!sl(g))throw g;z("LocalStore","Failed to update sequence numbers: "+g)}for(let g of d){let _=g.targetId;if(!g.fromCache){let E=p.os.get(_),M=E.snapshotVersion,O=E.withLastLimboFreeSnapshotVersion(M);p.os=p.os.insert(_,O)}}})}(r.localStore,s))})}function Bq(t,e){return C(this,null,function*(){let n=se(t);if(!n.currentUser.isEqual(e)){z("SyncEngine","User change. New user:",e.toKey());let r=yield rx(n.localStore,e);n.currentUser=e,function(s,o){s.ka.forEach(a=>{a.forEach(u=>{u.reject(new H(F.CANCELLED,o))})}),s.ka.clear()}(n,"'waitForPendingWrites' promise is rejected due to a user change."),n.sharedClientState.handleUserChange(e,r.removedBatchIds,r.addedBatchIds),yield al(n,r.hs)}})}function $q(t,e){let n=se(t),r=n.Na.get(e);if(r&&r.va)return we().add(r.key);{let i=we(),s=n.Ma.get(e);if(!s)return i;for(let o of s){let a=n.Fa.get(o);i=i.unionWith(a.view.Va)}return i}}function vx(t){let e=se(t);return e.remoteStore.remoteSyncer.applyRemoteEvent=px.bind(null,e),e.remoteStore.remoteSyncer.getRemoteKeysForTarget=$q.bind(null,e),e.remoteStore.remoteSyncer.rejectListen=Lq.bind(null,e),e.Ca.d_=Rq.bind(null,e.eventManager),e.Ca.$a=xq.bind(null,e.eventManager),e}function Hq(t){let e=se(t);return e.remoteStore.remoteSyncer.applySuccessfulWrite=Vq.bind(null,e),e.remoteStore.remoteSyncer.rejectFailedWrite=Uq.bind(null,e),e}var vR=(()=>{class t{constructor(){this.kind="memory",this.synchronizeTabs=!1}initialize(n){return C(this,null,function*(){this.serializer=Wp(n.databaseInfo.databaseId),this.sharedClientState=this.Wa(n),this.persistence=this.Ga(n),yield this.persistence.start(),this.localStore=this.za(n),this.gcScheduler=this.ja(n,this.localStore),this.indexBackfillerScheduler=this.Ha(n,this.localStore)})}ja(n,r){return null}Ha(n,r){return null}za(n){return lq(this.persistence,new dI,n.initialUser,this.serializer)}Ga(n){return new oI(cI.Zr,this.serializer)}Wa(n){return new pI}terminate(){return C(this,null,function*(){var n,r;(n=this.gcScheduler)===null||n===void 0||n.stop(),(r=this.indexBackfillerScheduler)===null||r===void 0||r.stop(),this.sharedClientState.shutdown(),yield this.persistence.shutdown()})}}return t.provider={build:()=>new t},t})();var qq=(()=>{class t{initialize(n,r){return C(this,null,function*(){this.localStore||(this.localStore=n.localStore,this.sharedClientState=n.sharedClientState,this.datastore=this.createDatastore(r),this.remoteStore=this.createRemoteStore(r),this.eventManager=this.createEventManager(r),this.syncEngine=this.createSyncEngine(r,!n.synchronizeTabs),this.sharedClientState.onlineStateHandler=i=>mR(this.syncEngine,i,1),this.remoteStore.remoteSyncer.handleCredentialChange=Bq.bind(null,this.syncEngine),yield Aq(this.remoteStore,this.syncEngine.isPrimaryClient))})}createEventManager(n){return function(){return new CI}()}createDatastore(n){let r=Wp(n.databaseInfo.databaseId),i=function(o){return new yI(o)}(n.databaseInfo);return function(o,a,u,d){return new _I(o,a,u,d)}(n.authCredentials,n.appCheckCredentials,i,r)}createRemoteStore(n){return function(i,s,o,a,u){return new EI(i,s,o,a,u)}(this.localStore,this.datastore,n.asyncQueue,r=>mR(this.syncEngine,r,0),function(){return Dp.D()?new Dp:new gI}())}createSyncEngine(n,r){return function(s,o,a,u,d,p,g){let _=new xI(s,o,a,u,d,p);return g&&(_.Qa=!0),_}(this.localStore,this.remoteStore,this.eventManager,this.sharedClientState,n.initialUser,n.maxConcurrentLimboResolutions,r)}terminate(){return C(this,null,function*(){var n,r;yield function(s){return C(this,null,function*(){let o=se(s);z("RemoteStore","RemoteStore shutting down."),o.L_.add(5),yield ol(o),o.k_.shutdown(),o.q_.set("Unknown")})}(this.remoteStore),(n=this.datastore)===null||n===void 0||n.terminate(),(r=this.eventManager)===null||r===void 0||r.terminate()})}}return t.provider={build:()=>new t},t})();var Pp=class{constructor(e){this.observer=e,this.muted=!1}next(e){this.muted||this.observer.next&&this.Ya(this.observer.next,e)}error(e){this.muted||(this.observer.error?this.Ya(this.observer.error,e):Qr("Uncaught Error in snapshot listener:",e.toString()))}Za(){this.muted=!0}Ya(e,n){setTimeout(()=>{this.muted||e(n)},0)}};var NI=class{constructor(e,n,r,i,s){this.authCredentials=e,this.appCheckCredentials=n,this.asyncQueue=r,this.databaseInfo=i,this.user=vt.UNAUTHENTICATED,this.clientId=lp.newId(),this.authCredentialListener=()=>Promise.resolve(),this.appCheckCredentialListener=()=>Promise.resolve(),this._uninitializedComponentsProvider=s,this.authCredentials.start(r,o=>C(this,null,function*(){z("FirestoreClient","Received user=",o.uid),yield this.authCredentialListener(o),this.user=o})),this.appCheckCredentials.start(r,o=>(z("FirestoreClient","Received new app check token=",o),this.appCheckCredentialListener(o,this.user)))}get configuration(){return{asyncQueue:this.asyncQueue,databaseInfo:this.databaseInfo,clientId:this.clientId,authCredentials:this.authCredentials,appCheckCredentials:this.appCheckCredentials,initialUser:this.user,maxConcurrentLimboResolutions:100}}setCredentialChangeListener(e){this.authCredentialListener=e}setAppCheckTokenChangeListener(e){this.appCheckCredentialListener=e}terminate(){this.asyncQueue.enterRestrictedMode();let e=new hr;return this.asyncQueue.enqueueAndForgetEvenWhileRestricted(()=>C(this,null,function*(){try{this._onlineComponents&&(yield this._onlineComponents.terminate()),this._offlineComponents&&(yield this._offlineComponents.terminate()),this.authCredentials.shutdown(),this.appCheckCredentials.shutdown(),e.resolve()}catch(n){let r=tE(n,"Failed to shutdown persistence");e.reject(r)}})),e.promise}};function u_(t,e){return C(this,null,function*(){t.asyncQueue.verifyOperationInProgress(),z("FirestoreClient","Initializing OfflineComponentProvider");let n=t.configuration;yield e.initialize(n);let r=n.initialUser;t.setCredentialChangeListener(i=>C(this,null,function*(){r.isEqual(i)||(yield rx(e.localStore,i),r=i)})),e.persistence.setDatabaseDeletedListener(()=>t.terminate()),t._offlineComponents=e})}function wR(t,e){return C(this,null,function*(){t.asyncQueue.verifyOperationInProgress();let n=yield zq(t);z("FirestoreClient","Initializing OnlineComponentProvider"),yield e.initialize(n,t.configuration),t.setCredentialChangeListener(r=>fR(e.remoteStore,r)),t.setAppCheckTokenChangeListener((r,i)=>fR(e.remoteStore,i)),t._onlineComponents=e})}function zq(t){return C(this,null,function*(){if(!t._offlineComponents)if(t._uninitializedComponentsProvider){z("FirestoreClient","Using user provided OfflineComponentProvider");try{yield u_(t,t._uninitializedComponentsProvider._offline)}catch(e){let n=e;if(!function(i){return i.name==="FirebaseError"?i.code===F.FAILED_PRECONDITION||i.code===F.UNIMPLEMENTED:!(typeof DOMException<"u"&&i instanceof DOMException)||i.code===22||i.code===20||i.code===11}(n))throw n;Fa("Error using user provided cache. Falling back to memory cache: "+n),yield u_(t,new vR)}}else z("FirestoreClient","Using default OfflineComponentProvider"),yield u_(t,new vR);return t._offlineComponents})}function wx(t){return C(this,null,function*(){return t._onlineComponents||(t._uninitializedComponentsProvider?(z("FirestoreClient","Using user provided OnlineComponentProvider"),yield wR(t,t._uninitializedComponentsProvider._online)):(z("FirestoreClient","Using default OnlineComponentProvider"),yield wR(t,new qq))),t._onlineComponents})}function Gq(t){return wx(t).then(e=>e.syncEngine)}function PI(t){return C(this,null,function*(){let e=yield wx(t),n=e.eventManager;return n.onListen=Mq.bind(null,e.syncEngine),n.onUnlisten=kq.bind(null,e.syncEngine),n.onFirstRemoteStoreListen=Nq.bind(null,e.syncEngine),n.onLastRemoteStoreUnlisten=Oq.bind(null,e.syncEngine),n})}function Wq(t,e,n={}){let r=new hr;return t.asyncQueue.enqueueAndForget(()=>C(this,null,function*(){return function(s,o,a,u,d){let p=new Pp({next:_=>{p.Za(),o.enqueueAndForget(()=>hx(s,g)),_.fromCache&&u.source==="server"?d.reject(new H(F.UNAVAILABLE,'Failed to get documents from server. (However, these documents may exist in the local cache. Run again without setting source to "server" to retrieve the cached documents.)')):d.resolve(_)},error:_=>d.reject(_)}),g=new xp(a,p,{includeMetadataChanges:!0,_a:!0});return dx(s,g)}(yield PI(t),t.asyncQueue,e,n,r)})),r.promise}function _x(t){let e={};return t.timeoutSeconds!==void 0&&(e.timeoutSeconds=t.timeoutSeconds),e}var _R=new Map;function Ix(t,e,n){if(!n)throw new H(F.INVALID_ARGUMENT,`Function ${t}() cannot be called with an empty ${e}.`)}function Kq(t,e,n,r){if(e===!0&&r===!0)throw new H(F.INVALID_ARGUMENT,`${t} and ${n} cannot be used together.`)}function IR(t){if(!Z.isDocumentKey(t))throw new H(F.INVALID_ARGUMENT,`Invalid document reference. Document references must have an even number of segments, but ${t} has ${t.length}.`)}function ER(t){if(Z.isDocumentKey(t))throw new H(F.INVALID_ARGUMENT,`Invalid collection reference. Collection references must have an odd number of segments, but ${t} has ${t.length}.`)}function Yp(t){if(t===void 0)return"undefined";if(t===null)return"null";if(typeof t=="string")return t.length>20&&(t=`${t.substring(0,20)}...`),JSON.stringify(t);if(typeof t=="number"||typeof t=="boolean")return""+t;if(typeof t=="object"){if(t instanceof Array)return"an array";{let e=function(r){return r.constructor?r.constructor.name:null}(t);return e?`a custom ${e} object`:"an object"}}return typeof t=="function"?"a function":te()}function Kr(t,e){if("_delegate"in t&&(t=t._delegate),!(t instanceof e)){if(e.name===t.constructor.name)throw new H(F.INVALID_ARGUMENT,"Type does not match the expected instance. Did you pass a reference from a different Firestore SDK?");{let n=Yp(t);throw new H(F.INVALID_ARGUMENT,`Expected type '${e.name}', but it was: ${n}`)}}return t}var kp=class{constructor(e){var n,r;if(e.host===void 0){if(e.ssl!==void 0)throw new H(F.INVALID_ARGUMENT,"Can't provide ssl option if host option is not set");this.host="firestore.googleapis.com",this.ssl=!0}else this.host=e.host,this.ssl=(n=e.ssl)===null||n===void 0||n;if(this.credentials=e.credentials,this.ignoreUndefinedProperties=!!e.ignoreUndefinedProperties,this.localCache=e.localCache,e.cacheSizeBytes===void 0)this.cacheSizeBytes=41943040;else{if(e.cacheSizeBytes!==-1&&e.cacheSizeBytes<1048576)throw new H(F.INVALID_ARGUMENT,"cacheSizeBytes must be at least 1048576");this.cacheSizeBytes=e.cacheSizeBytes}Kq("experimentalForceLongPolling",e.experimentalForceLongPolling,"experimentalAutoDetectLongPolling",e.experimentalAutoDetectLongPolling),this.experimentalForceLongPolling=!!e.experimentalForceLongPolling,this.experimentalForceLongPolling?this.experimentalAutoDetectLongPolling=!1:e.experimentalAutoDetectLongPolling===void 0?this.experimentalAutoDetectLongPolling=!0:this.experimentalAutoDetectLongPolling=!!e.experimentalAutoDetectLongPolling,this.experimentalLongPollingOptions=_x((r=e.experimentalLongPollingOptions)!==null&&r!==void 0?r:{}),function(s){if(s.timeoutSeconds!==void 0){if(isNaN(s.timeoutSeconds))throw new H(F.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (must not be NaN)`);if(s.timeoutSeconds<5)throw new H(F.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (minimum allowed value is 5)`);if(s.timeoutSeconds>30)throw new H(F.INVALID_ARGUMENT,`invalid long polling timeout: ${s.timeoutSeconds} (maximum allowed value is 30)`)}}(this.experimentalLongPollingOptions),this.useFetchStreams=!!e.useFetchStreams}isEqual(e){return this.host===e.host&&this.ssl===e.ssl&&this.credentials===e.credentials&&this.cacheSizeBytes===e.cacheSizeBytes&&this.experimentalForceLongPolling===e.experimentalForceLongPolling&&this.experimentalAutoDetectLongPolling===e.experimentalAutoDetectLongPolling&&function(r,i){return r.timeoutSeconds===i.timeoutSeconds}(this.experimentalLongPollingOptions,e.experimentalLongPollingOptions)&&this.ignoreUndefinedProperties===e.ignoreUndefinedProperties&&this.useFetchStreams===e.useFetchStreams}},Ga=class{constructor(e,n,r,i){this._authCredentials=e,this._appCheckCredentials=n,this._databaseId=r,this._app=i,this.type="firestore-lite",this._persistenceKey="(lite)",this._settings=new kp({}),this._settingsFrozen=!1,this._terminateTask="notTerminated"}get app(){if(!this._app)throw new H(F.FAILED_PRECONDITION,"Firestore was not initialized using the Firebase SDK. 'app' is not available");return this._app}get _initialized(){return this._settingsFrozen}get _terminated(){return this._terminateTask!=="notTerminated"}_setSettings(e){if(this._settingsFrozen)throw new H(F.FAILED_PRECONDITION,"Firestore has already been started and its settings can no longer be changed. You can only modify settings before calling any other methods on a Firestore object.");this._settings=new kp(e),e.credentials!==void 0&&(this._authCredentials=function(r){if(!r)return new l_;switch(r.type){case"firstParty":return new p_(r.sessionIndex||"0",r.iamToken||null,r.authTokenFactory||null);case"provider":return r.client;default:throw new H(F.INVALID_ARGUMENT,"makeAuthCredentialsProvider failed due to invalid credential type")}}(e.credentials))}_getSettings(){return this._settings}_freezeSettings(){return this._settingsFrozen=!0,this._settings}_delete(){return this._terminateTask==="notTerminated"&&(this._terminateTask=this._terminate()),this._terminateTask}_restart(){return C(this,null,function*(){this._terminateTask==="notTerminated"?yield this._terminate():this._terminateTask="notTerminated"})}toJSON(){return{app:this._app,databaseId:this._databaseId,settings:this._settings}}_terminate(){return function(n){let r=_R.get(n);r&&(z("ComponentProvider","Removing Datastore"),_R.delete(n),r.terminate())}(this),Promise.resolve()}};function Ex(t,e,n,r={}){var i;let s=(t=Kr(t,Ga))._getSettings(),o=`${e}:${n}`;if(s.host!=="firestore.googleapis.com"&&s.host!==o&&Fa("Host has been set in both settings() and connectFirestoreEmulator(), emulator host will be used."),t._setSettings(Object.assign(Object.assign({},s),{host:o,ssl:!1})),r.mockUserToken){let a,u;if(typeof r.mockUserToken=="string")a=r.mockUserToken,u=vt.MOCK_USER;else{a=Pf(r.mockUserToken,(i=t._app)===null||i===void 0?void 0:i.options.projectId);let d=r.mockUserToken.sub||r.mockUserToken.user_id;if(!d)throw new H(F.INVALID_ARGUMENT,"mockUserToken must contain 'sub' or 'user_id' field!");u=new vt(d)}t._authCredentials=new d_(new up(a,u))}}var Qi=class t{constructor(e,n,r){this.converter=n,this._query=r,this.type="query",this.firestore=e}withConverter(e){return new t(this.firestore,e,this._query)}},$t=class t{constructor(e,n,r){this.converter=n,this._key=r,this.type="document",this.firestore=e}get _path(){return this._key.path}get id(){return this._key.path.lastSegment()}get path(){return this._key.path.canonicalString()}get parent(){return new qi(this.firestore,this.converter,this._key.path.popLast())}withConverter(e){return new t(this.firestore,e,this._key)}},qi=class t extends Qi{constructor(e,n,r){super(e,n,KI(r)),this._path=r,this.type="collection"}get id(){return this._query.path.lastSegment()}get path(){return this._query.path.canonicalString()}get parent(){let e=this._path.popLast();return e.isEmpty()?null:new $t(this.firestore,null,new Z(e))}withConverter(e){return new t(this.firestore,e,this._path)}};function bx(t,e,...n){if(t=Ve(t),Ix("collection","path",e),t instanceof Ga){let r=He.fromString(e,...n);return ER(r),new qi(t,null,r)}{if(!(t instanceof $t||t instanceof qi))throw new H(F.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=t._path.child(He.fromString(e,...n));return ER(r),new qi(t.firestore,null,r)}}function iE(t,e,...n){if(t=Ve(t),arguments.length===1&&(e=lp.newId()),Ix("doc","path",e),t instanceof Ga){let r=He.fromString(e,...n);return IR(r),new $t(t,null,new Z(r))}{if(!(t instanceof $t||t instanceof qi))throw new H(F.INVALID_ARGUMENT,"Expected first argument to collection() to be a CollectionReference, a DocumentReference or FirebaseFirestore");let r=t._path.child(He.fromString(e,...n));return IR(r),new $t(t.firestore,t instanceof qi?t.converter:null,new Z(r))}}var Op=class{constructor(e=Promise.resolve()){this.Pu=[],this.Iu=!1,this.Tu=[],this.Eu=null,this.du=!1,this.Au=!1,this.Ru=[],this.t_=new Cp(this,"async_queue_retry"),this.Vu=()=>{let r=c_();r&&z("AsyncQueue","Visibility state changed to "+r.visibilityState),this.t_.jo()},this.mu=e;let n=c_();n&&typeof n.addEventListener=="function"&&n.addEventListener("visibilitychange",this.Vu)}get isShuttingDown(){return this.Iu}enqueueAndForget(e){this.enqueue(e)}enqueueAndForgetEvenWhileRestricted(e){this.fu(),this.gu(e)}enterRestrictedMode(e){if(!this.Iu){this.Iu=!0,this.Au=e||!1;let n=c_();n&&typeof n.removeEventListener=="function"&&n.removeEventListener("visibilitychange",this.Vu)}}enqueue(e){if(this.fu(),this.Iu)return new Promise(()=>{});let n=new hr;return this.gu(()=>this.Iu&&this.Au?Promise.resolve():(e().then(n.resolve,n.reject),n.promise)).then(()=>n.promise)}enqueueRetryable(e){this.enqueueAndForget(()=>(this.Pu.push(e),this.pu()))}pu(){return C(this,null,function*(){if(this.Pu.length!==0){try{yield this.Pu[0](),this.Pu.shift(),this.t_.reset()}catch(e){if(!sl(e))throw e;z("AsyncQueue","Operation failed with retryable error: "+e)}this.Pu.length>0&&this.t_.Go(()=>this.pu())}})}gu(e){let n=this.mu.then(()=>(this.du=!0,e().catch(r=>{this.Eu=r,this.du=!1;let i=function(o){let a=o.message||"";return o.stack&&(a=o.stack.includes(o.message)?o.stack:o.message+`
`+o.stack),a}(r);throw Qr("INTERNAL UNHANDLED ERROR: ",i),r}).then(r=>(this.du=!1,r))));return this.mu=n,n}enqueueAfterDelay(e,n,r){this.fu(),this.Ru.indexOf(e)>-1&&(n=0);let i=bI.createAndSchedule(this,e,n,r,s=>this.yu(s));return this.Tu.push(i),i}fu(){this.Eu&&te()}verifyOperationInProgress(){}wu(){return C(this,null,function*(){let e;do e=this.mu,yield e;while(e!==this.mu)})}Su(e){for(let n of this.Tu)if(n.timerId===e)return!0;return!1}bu(e){return this.wu().then(()=>{this.Tu.sort((n,r)=>n.targetTimeMs-r.targetTimeMs);for(let n of this.Tu)if(n.skipDelay(),e!=="all"&&n.timerId===e)break;return this.wu()})}Du(e){this.Ru.push(e)}yu(e){let n=this.Tu.indexOf(e);this.Tu.splice(n,1)}};function bR(t){return function(n,r){if(typeof n!="object"||n===null)return!1;let i=n;for(let s of r)if(s in i&&typeof i[s]=="function")return!0;return!1}(t,["next","error","complete"])}var Yi=class extends Ga{constructor(e,n,r,i){super(e,n,r,i),this.type="firestore",this._queue=new Op,this._persistenceKey=i?.name||"[DEFAULT]"}_terminate(){return C(this,null,function*(){if(this._firestoreClient){let e=this._firestoreClient.terminate();this._queue=new Op(e),this._firestoreClient=void 0,yield e}})}};function Dx(t,e){let n=typeof t=="object"?t:Vi(),r=typeof t=="string"?t:e||"(default)",i=Vs(n,"firestore").getImmediate({identifier:r});if(!i._initialized){let s=Nf("firestore");s&&Ex(i,...s)}return i}function sE(t){if(t._terminated)throw new H(F.FAILED_PRECONDITION,"The client has already been terminated.");return t._firestoreClient||Qq(t),t._firestoreClient}function Qq(t){var e,n,r;let i=t._freezeSettings(),s=function(a,u,d,p){return new w_(a,u,d,p.host,p.ssl,p.experimentalForceLongPolling,p.experimentalAutoDetectLongPolling,_x(p.experimentalLongPollingOptions),p.useFetchStreams)}(t._databaseId,((e=t._app)===null||e===void 0?void 0:e.options.appId)||"",t._persistenceKey,i);t._componentsProvider||!((n=i.localCache)===null||n===void 0)&&n._offlineComponentProvider&&(!((r=i.localCache)===null||r===void 0)&&r._onlineComponentProvider)&&(t._componentsProvider={_offline:i.localCache._offlineComponentProvider,_online:i.localCache._onlineComponentProvider}),t._firestoreClient=new NI(t._authCredentials,t._appCheckCredentials,t._queue,s,t._componentsProvider&&function(a){let u=a?._online.build();return{_offline:a?._offline.build(u),_online:u}}(t._componentsProvider))}var Ju=class t{constructor(e){this._byteString=e}static fromBase64String(e){try{return new t(xt.fromBase64String(e))}catch(n){throw new H(F.INVALID_ARGUMENT,"Failed to construct data from Base64 string: "+n)}}static fromUint8Array(e){return new t(xt.fromUint8Array(e))}toBase64(){return this._byteString.toBase64()}toUint8Array(){return this._byteString.toUint8Array()}toString(){return"Bytes(base64: "+this.toBase64()+")"}isEqual(e){return this._byteString.isEqual(e._byteString)}};var Wa=class{constructor(...e){for(let n=0;n<e.length;++n)if(e[n].length===0)throw new H(F.INVALID_ARGUMENT,"Invalid field name at argument $(i + 1). Field names must not be empty.");this._internalPath=new rn(e)}isEqual(e){return this._internalPath.isEqual(e._internalPath)}};var Xu=class{constructor(e){this._methodName=e}};var el=class{constructor(e,n){if(!isFinite(e)||e<-90||e>90)throw new H(F.INVALID_ARGUMENT,"Latitude must be a number between -90 and 90, but was: "+e);if(!isFinite(n)||n<-180||n>180)throw new H(F.INVALID_ARGUMENT,"Longitude must be a number between -180 and 180, but was: "+n);this._lat=e,this._long=n}get latitude(){return this._lat}get longitude(){return this._long}isEqual(e){return this._lat===e._lat&&this._long===e._long}toJSON(){return{latitude:this._lat,longitude:this._long}}_compareTo(e){return Te(this._lat,e._lat)||Te(this._long,e._long)}};var tl=class{constructor(e){this._values=(e||[]).map(n=>n)}toArray(){return this._values.map(e=>e)}isEqual(e){return function(r,i){if(r.length!==i.length)return!1;for(let s=0;s<r.length;++s)if(r[s]!==i[s])return!1;return!0}(this._values,e._values)}};var Yq=/^__.*__$/,kI=class{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return this.fieldMask!==null?new yr(e,this.data,this.fieldMask,n,this.fieldTransforms):new no(e,this.data,n,this.fieldTransforms)}},Fp=class{constructor(e,n,r){this.data=e,this.fieldMask=n,this.fieldTransforms=r}toMutation(e,n){return new yr(e,this.data,this.fieldMask,n,this.fieldTransforms)}};function Cx(t){switch(t){case 0:case 2:case 1:return!0;case 3:case 4:return!1;default:throw te()}}var OI=class t{constructor(e,n,r,i,s,o){this.settings=e,this.databaseId=n,this.serializer=r,this.ignoreUndefinedProperties=i,s===void 0&&this.vu(),this.fieldTransforms=s||[],this.fieldMask=o||[]}get path(){return this.settings.path}get Cu(){return this.settings.Cu}Fu(e){return new t(Object.assign(Object.assign({},this.settings),e),this.databaseId,this.serializer,this.ignoreUndefinedProperties,this.fieldTransforms,this.fieldMask)}Mu(e){var n;let r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Fu({path:r,xu:!1});return i.Ou(e),i}Nu(e){var n;let r=(n=this.path)===null||n===void 0?void 0:n.child(e),i=this.Fu({path:r,xu:!1});return i.vu(),i}Lu(e){return this.Fu({path:void 0,xu:!0})}Bu(e){return Vp(e,this.settings.methodName,this.settings.ku||!1,this.path,this.settings.qu)}contains(e){return this.fieldMask.find(n=>e.isPrefixOf(n))!==void 0||this.fieldTransforms.find(n=>e.isPrefixOf(n.field))!==void 0}vu(){if(this.path)for(let e=0;e<this.path.length;e++)this.Ou(this.path.get(e))}Ou(e){if(e.length===0)throw this.Bu("Document fields must not be empty");if(Cx(this.Cu)&&Yq.test(e))throw this.Bu('Document fields cannot begin and end with "__"')}},FI=class{constructor(e,n,r){this.databaseId=e,this.ignoreUndefinedProperties=n,this.serializer=r||Wp(e)}Qu(e,n,r,i=!1){return new OI({Cu:e,methodName:n,qu:r,path:rn.emptyPath(),xu:!1,ku:i},this.databaseId,this.serializer,this.ignoreUndefinedProperties)}};function oE(t){let e=t._freezeSettings(),n=Wp(t._databaseId);return new FI(t._databaseId,!!e.ignoreUndefinedProperties,n)}function Zq(t,e,n,r,i,s={}){let o=t.Qu(s.merge||s.mergeFields?2:0,e,n,i);aE("Data must be an object, but it was:",o,r);let a=Tx(r,o),u,d;if(s.merge)u=new pn(o.fieldMask),d=o.fieldTransforms;else if(s.mergeFields){let p=[];for(let g of s.mergeFields){let _=LI(e,g,n);if(!o.contains(_))throw new H(F.INVALID_ARGUMENT,`Field '${_}' is specified in your field mask but missing from your input data.`);Ax(p,_)||p.push(_)}u=new pn(p),d=o.fieldTransforms.filter(g=>u.covers(g.field))}else u=null,d=o.fieldTransforms;return new kI(new nn(a),u,d)}var Lp=class t extends Xu{_toFieldTransform(e){if(e.Cu!==2)throw e.Cu===1?e.Bu(`${this._methodName}() can only appear at the top level of your update data`):e.Bu(`${this._methodName}() cannot be used with set() unless you pass {merge:true}`);return e.fieldMask.push(e.path),null}isEqual(e){return e instanceof t}};function Jq(t,e,n,r){let i=t.Qu(1,e,n);aE("Data must be an object, but it was:",i,r);let s=[],o=nn.empty();ro(r,(u,d)=>{let p=cE(e,u,n);d=Ve(d);let g=i.Nu(p);if(d instanceof Lp)s.push(p);else{let _=cl(d,g);_!=null&&(s.push(p),o.set(p,_))}});let a=new pn(s);return new Fp(o,a,i.fieldTransforms)}function Xq(t,e,n,r,i,s){let o=t.Qu(1,e,n),a=[LI(e,r,n)],u=[i];if(s.length%2!=0)throw new H(F.INVALID_ARGUMENT,`Function ${e}() needs to be called with an even number of arguments that alternate between field names and values.`);for(let _=0;_<s.length;_+=2)a.push(LI(e,s[_])),u.push(s[_+1]);let d=[],p=nn.empty();for(let _=a.length-1;_>=0;--_)if(!Ax(d,a[_])){let E=a[_],M=u[_];M=Ve(M);let O=o.Nu(E);if(M instanceof Lp)d.push(E);else{let P=cl(M,O);P!=null&&(d.push(E),p.set(E,P))}}let g=new pn(d);return new Fp(p,g,o.fieldTransforms)}function ez(t,e,n,r=!1){return cl(n,t.Qu(r?4:3,e))}function cl(t,e){if(Sx(t=Ve(t)))return aE("Unsupported field value:",e,t),Tx(t,e);if(t instanceof Xu)return function(r,i){if(!Cx(i.Cu))throw i.Bu(`${r._methodName}() can only be used with update() and set()`);if(!i.path)throw i.Bu(`${r._methodName}() is not currently supported inside arrays`);let s=r._toFieldTransform(i);s&&i.fieldTransforms.push(s)}(t,e),null;if(t===void 0&&e.ignoreUndefinedProperties)return null;if(e.path&&e.fieldMask.push(e.path),t instanceof Array){if(e.settings.xu&&e.Cu!==4)throw e.Bu("Nested arrays are not supported");return function(r,i){let s=[],o=0;for(let a of r){let u=cl(a,i.Lu(o));u==null&&(u={nullValue:"NULL_VALUE"}),s.push(u),o++}return{arrayValue:{values:s}}}(t,e)}return function(r,i){if((r=Ve(r))===null)return{nullValue:"NULL_VALUE"};if(typeof r=="number")return VH(i.serializer,r);if(typeof r=="boolean")return{booleanValue:r};if(typeof r=="string")return{stringValue:r};if(r instanceof Date){let s=bt.fromDate(r);return{timestampValue:Ip(i.serializer,s)}}if(r instanceof bt){let s=new bt(r.seconds,1e3*Math.floor(r.nanoseconds/1e3));return{timestampValue:Ip(i.serializer,s)}}if(r instanceof el)return{geoPointValue:{latitude:r.latitude,longitude:r.longitude}};if(r instanceof Ju)return{bytesValue:YR(i.serializer,r._byteString)};if(r instanceof $t){let s=i.databaseId,o=r.firestore._databaseId;if(!o.isEqual(s))throw i.Bu(`Document reference is for database ${o.projectId}/${o.database} but should be for database ${s.projectId}/${s.database}`);return{referenceValue:YI(r.firestore._databaseId||i.databaseId,r._key.path)}}if(r instanceof tl)return function(o,a){return{mapValue:{fields:{__type__:{stringValue:"__vector__"},value:{arrayValue:{values:o.toArray().map(u=>{if(typeof u!="number")throw a.Bu("VectorValues must only contain numeric values.");return QI(a.serializer,u)})}}}}}}(r,i);throw i.Bu(`Unsupported field value: ${Yp(r)}`)}(t,e)}function Tx(t,e){let n={};return SR(t)?e.path&&e.path.length>0&&e.fieldMask.push(e.path):ro(t,(r,i)=>{let s=cl(i,e.Mu(r));s!=null&&(n[r]=s)}),{mapValue:{fields:n}}}function Sx(t){return!(typeof t!="object"||t===null||t instanceof Array||t instanceof Date||t instanceof bt||t instanceof el||t instanceof Ju||t instanceof $t||t instanceof Xu||t instanceof tl)}function aE(t,e,n){if(!Sx(n)||!function(i){return typeof i=="object"&&i!==null&&(Object.getPrototypeOf(i)===Object.prototype||Object.getPrototypeOf(i)===null)}(n)){let r=Yp(n);throw r==="an object"?e.Bu(t+" a custom object"):e.Bu(t+" "+r)}}function LI(t,e,n){if((e=Ve(e))instanceof Wa)return e._internalPath;if(typeof e=="string")return cE(t,e);throw Vp("Field path arguments must be of type string or ",t,!1,void 0,n)}var tz=new RegExp("[~\\*/\\[\\]]");function cE(t,e,n){if(e.search(tz)>=0)throw Vp(`Invalid field path (${e}). Paths must not contain '~', '*', '/', '[', or ']'`,t,!1,void 0,n);try{return new Wa(...e.split("."))._internalPath}catch{throw Vp(`Invalid field path (${e}). Paths must not be empty, begin with '.', end with '.', or contain '..'`,t,!1,void 0,n)}}function Vp(t,e,n,r,i){let s=r&&!r.isEmpty(),o=i!==void 0,a=`Function ${e}() called with invalid data`;n&&(a+=" (via `toFirestore()`)"),a+=". ";let u="";return(s||o)&&(u+=" (found",s&&(u+=` in field ${r}`),o&&(u+=` in document ${i}`),u+=")"),new H(F.INVALID_ARGUMENT,a+t+u)}function Ax(t,e){return t.some(n=>n.isEqual(e))}var Up=class{constructor(e,n,r,i,s){this._firestore=e,this._userDataWriter=n,this._key=r,this._document=i,this._converter=s}get id(){return this._key.path.lastSegment()}get ref(){return new $t(this._firestore,this._converter,this._key)}exists(){return this._document!==null}data(){if(this._document){if(this._converter){let e=new VI(this._firestore,this._userDataWriter,this._key,this._document,null);return this._converter.fromFirestore(e)}return this._userDataWriter.convertValue(this._document.data.value)}}get(e){if(this._document){let n=this._document.data.field(Zp("DocumentSnapshot.get",e));if(n!==null)return this._userDataWriter.convertValue(n)}}},VI=class extends Up{data(){return super.data()}};function Zp(t,e){return typeof e=="string"?cE(t,e):e instanceof Wa?e._internalPath:e._delegate._internalPath}function Rx(t){if(t.limitType==="L"&&t.explicitOrderBy.length===0)throw new H(F.UNIMPLEMENTED,"limitToLast() queries require specifying at least one orderBy() clause")}var nl=class{},jp=class extends nl{};function xx(t,e,...n){let r=[];e instanceof nl&&r.push(e),r=r.concat(n),function(s){let o=s.filter(u=>u instanceof UI).length,a=s.filter(u=>u instanceof Bp).length;if(o>1||o>0&&a>0)throw new H(F.INVALID_ARGUMENT,"InvalidQuery. When using composite filters, you cannot use more than one filter at the top level. Consider nesting the multiple filters within an `and(...)` statement. For example: change `query(query, where(...), or(...))` to `query(query, and(where(...), or(...)))`.")}(r);for(let i of r)t=i._apply(t);return t}var Bp=class t extends jp{constructor(e,n,r){super(),this._field=e,this._op=n,this._value=r,this.type="where"}static _create(e,n,r){return new t(e,n,r)}_apply(e){let n=this._parse(e);return Px(e._query,n),new Qi(e.firestore,e.converter,N_(e._query,n))}_parse(e){let n=oE(e.firestore);return function(s,o,a,u,d,p,g){let _;if(d.isKeyField()){if(p==="array-contains"||p==="array-contains-any")throw new H(F.INVALID_ARGUMENT,`Invalid Query. You can't perform '${p}' queries on documentId().`);if(p==="in"||p==="not-in"){CR(g,p);let E=[];for(let M of g)E.push(DR(u,s,M));_={arrayValue:{values:E}}}else _=DR(u,s,g)}else p!=="in"&&p!=="not-in"&&p!=="array-contains-any"||CR(g,p),_=ez(a,o,g,p==="in"||p==="not-in");return st.create(d,p,_)}(e._query,"where",n,e.firestore._databaseId,this._field,this._op,this._value)}};function Mx(t,e,n){let r=e,i=Zp("where",t);return Bp._create(i,r,n)}var UI=class t extends nl{constructor(e,n){super(),this.type=e,this._queryConstraints=n}static _create(e,n){return new t(e,n)}_parse(e){let n=this._queryConstraints.map(r=>r._parse(e)).filter(r=>r.getFilters().length>0);return n.length===1?n[0]:Nn.create(n,this._getOperator())}_apply(e){let n=this._parse(e);return n.getFilters().length===0?e:(function(i,s){let o=i,a=s.getFlattenedFilters();for(let u of a)Px(o,u),o=N_(o,u)}(e._query,n),new Qi(e.firestore,e.converter,N_(e._query,n)))}_getQueryConstraints(){return this._queryConstraints}_getOperator(){return this.type==="and"?"and":"or"}};var jI=class t extends jp{constructor(e,n){super(),this._field=e,this._direction=n,this.type="orderBy"}static _create(e,n){return new t(e,n)}_apply(e){let n=function(i,s,o){if(i.startAt!==null)throw new H(F.INVALID_ARGUMENT,"Invalid query. You must not call startAt() or startAfter() before calling orderBy().");if(i.endAt!==null)throw new H(F.INVALID_ARGUMENT,"Invalid query. You must not call endAt() or endBefore() before calling orderBy().");return new Xs(s,o)}(e._query,this._field,this._direction);return new Qi(e.firestore,e.converter,function(i,s){let o=i.explicitOrderBy.concat([s]);return new Gi(i.path,i.collectionGroup,o,i.filters.slice(),i.limit,i.limitType,i.startAt,i.endAt)}(e._query,n))}};function Nx(t,e="asc"){let n=e,r=Zp("orderBy",t);return jI._create(r,n)}function DR(t,e,n){if(typeof(n=Ve(n))=="string"){if(n==="")throw new H(F.INVALID_ARGUMENT,"Invalid query. When querying with documentId(), you must provide a valid document ID, but it was an empty string.");if(!FR(e)&&n.indexOf("/")!==-1)throw new H(F.INVALID_ARGUMENT,`Invalid query. When querying a collection by documentId(), you must provide a plain document ID, but '${n}' contains a '/' character.`);let r=e.path.child(He.fromString(n));if(!Z.isDocumentKey(r))throw new H(F.INVALID_ARGUMENT,`Invalid query. When querying a collection group by documentId(), the value provided must result in a valid document path, but '${r}' is not because it has an odd number of segments (${r.length}).`);return QA(t,new Z(r))}if(n instanceof $t)return QA(t,n._key);throw new H(F.INVALID_ARGUMENT,`Invalid query. When querying with documentId(), you must provide a valid string or a DocumentReference, but it was: ${Yp(n)}.`)}function CR(t,e){if(!Array.isArray(t)||t.length===0)throw new H(F.INVALID_ARGUMENT,`Invalid Query. A non-empty array is required for '${e.toString()}' filters.`)}function Px(t,e){let n=function(i,s){for(let o of i)for(let a of o.getFlattenedFilters())if(s.indexOf(a.op)>=0)return a.op;return null}(t.filters,function(i){switch(i){case"!=":return["!=","not-in"];case"array-contains-any":case"in":return["not-in"];case"not-in":return["array-contains-any","in","not-in","!="];default:return[]}}(e.op));if(n!==null)throw n===e.op?new H(F.INVALID_ARGUMENT,`Invalid query. You cannot use more than one '${e.op.toString()}' filter.`):new H(F.INVALID_ARGUMENT,`Invalid query. You cannot use '${e.op.toString()}' filters with '${n.toString()}' filters.`)}var BI=class{convertValue(e,n="none"){switch(Js(e)){case 0:return null;case 1:return e.booleanValue;case 2:return je(e.integerValue||e.doubleValue);case 3:return this.convertTimestamp(e.timestampValue);case 4:return this.convertServerTimestamp(e,n);case 5:return e.stringValue;case 6:return this.convertBytes(zi(e.bytesValue));case 7:return this.convertReference(e.referenceValue);case 8:return this.convertGeoPoint(e.geoPointValue);case 9:return this.convertArray(e.arrayValue,n);case 11:return this.convertObject(e.mapValue,n);case 10:return this.convertVectorValue(e.mapValue);default:throw te()}}convertObject(e,n){return this.convertObjectMap(e.fields,n)}convertObjectMap(e,n="none"){let r={};return ro(e,(i,s)=>{r[i]=this.convertValue(s,n)}),r}convertVectorValue(e){var n,r,i;let s=(i=(r=(n=e.fields)===null||n===void 0?void 0:n.value.arrayValue)===null||r===void 0?void 0:r.values)===null||i===void 0?void 0:i.map(o=>je(o.doubleValue));return new tl(s)}convertGeoPoint(e){return new el(je(e.latitude),je(e.longitude))}convertArray(e,n){return(e.values||[]).map(r=>this.convertValue(r,n))}convertServerTimestamp(e,n){switch(n){case"previous":let r=qI(e);return r==null?null:this.convertValue(r,n);case"estimate":return this.convertTimestamp(Gu(e));default:return null}}convertTimestamp(e){let n=Yr(e);return new bt(n.seconds,n.nanos)}convertDocumentKey(e,n){let r=He.fromString(e);Me(nx(r));let i=new pp(r.get(1),r.get(3)),s=new Z(r.popFirst(5));return i.isEqual(n)||Qr(`Document ${s} contains a document reference within a different database (${i.projectId}/${i.database}) which is not supported. It will be treated as a reference in the current database (${n.projectId}/${n.database}) instead.`),s}};function nz(t,e,n){let r;return r=t?n&&(n.merge||n.mergeFields)?t.toFirestore(e,n):t.toFirestore(e):e,r}var Qs=class{constructor(e,n){this.hasPendingWrites=e,this.fromCache=n}isEqual(e){return this.hasPendingWrites===e.hasPendingWrites&&this.fromCache===e.fromCache}},$p=class extends Up{constructor(e,n,r,i,s,o){super(e,n,r,i,o),this._firestore=e,this._firestoreImpl=e,this.metadata=s}exists(){return super.exists()}data(e={}){if(this._document){if(this._converter){let n=new Oa(this._firestore,this._userDataWriter,this._key,this._document,this.metadata,null);return this._converter.fromFirestore(n,e)}return this._userDataWriter.convertValue(this._document.data.value,e.serverTimestamps)}}get(e,n={}){if(this._document){let r=this._document.data.field(Zp("DocumentSnapshot.get",e));if(r!==null)return this._userDataWriter.convertValue(r,n.serverTimestamps)}}},Oa=class extends $p{data(e={}){return super.data(e)}},Hp=class{constructor(e,n,r,i){this._firestore=e,this._userDataWriter=n,this._snapshot=i,this.metadata=new Qs(i.hasPendingWrites,i.fromCache),this.query=r}get docs(){let e=[];return this.forEach(n=>e.push(n)),e}get size(){return this._snapshot.docs.size}get empty(){return this.size===0}forEach(e,n){this._snapshot.docs.forEach(r=>{e.call(n,new Oa(this._firestore,this._userDataWriter,r.key,r,new Qs(this._snapshot.mutatedKeys.has(r.key),this._snapshot.fromCache),this.query.converter))})}docChanges(e={}){let n=!!e.includeMetadataChanges;if(n&&this._snapshot.excludesMetadataChanges)throw new H(F.INVALID_ARGUMENT,"To include metadata changes with your document changes, you must also pass { includeMetadataChanges:true } to onSnapshot().");return this._cachedChanges&&this._cachedChangesIncludeMetadataChanges===n||(this._cachedChanges=function(i,s){if(i._snapshot.oldDocs.isEmpty()){let o=0;return i._snapshot.docChanges.map(a=>{let u=new Oa(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Qs(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter);return a.doc,{type:"added",doc:u,oldIndex:-1,newIndex:o++}})}{let o=i._snapshot.oldDocs;return i._snapshot.docChanges.filter(a=>s||a.type!==3).map(a=>{let u=new Oa(i._firestore,i._userDataWriter,a.doc.key,a.doc,new Qs(i._snapshot.mutatedKeys.has(a.doc.key),i._snapshot.fromCache),i.query.converter),d=-1,p=-1;return a.type!==0&&(d=o.indexOf(a.doc.key),o=o.delete(a.doc.key)),a.type!==1&&(o=o.add(a.doc),p=o.indexOf(a.doc.key)),{type:rz(a.type),doc:u,oldIndex:d,newIndex:p}})}}(this,n),this._cachedChangesIncludeMetadataChanges=n),this._cachedChanges}};function rz(t){switch(t){case 0:return"added";case 2:case 3:return"modified";case 1:return"removed";default:return te()}}var rl=class extends BI{constructor(e){super(),this.firestore=e}convertBytes(e){return new Ju(e)}convertReference(e){let n=this.convertDocumentKey(e,this.firestore._databaseId);return new $t(this.firestore,null,n)}};function kx(t){t=Kr(t,Qi);let e=Kr(t.firestore,Yi),n=sE(e),r=new rl(e);return Rx(t._query),Wq(n,t._query).then(i=>new Hp(e,r,t,i))}function Ox(t,e,n,...r){t=Kr(t,$t);let i=Kr(t.firestore,Yi),s=oE(i),o;return o=typeof(e=Ve(e))=="string"||e instanceof Wa?Xq(s,"updateDoc",t._key,e,n,r):Jq(s,"updateDoc",t._key,e),Lx(i,[o.toMutation(t._key,Hi.exists(!0))])}function Fx(t,e){let n=Kr(t.firestore,Yi),r=iE(t),i=nz(t.converter,e);return Lx(n,[Zq(oE(t.firestore),"addDoc",r._key,i,t.converter!==null,{}).toMutation(r._key,Hi.exists(!1))]).then(()=>r)}function uE(t,...e){var n,r,i;t=Ve(t);let s={includeMetadataChanges:!1,source:"default"},o=0;typeof e[o]!="object"||bR(e[o])||(s=e[o],o++);let a={includeMetadataChanges:s.includeMetadataChanges,source:s.source};if(bR(e[o])){let g=e[o];e[o]=(n=g.next)===null||n===void 0?void 0:n.bind(g),e[o+1]=(r=g.error)===null||r===void 0?void 0:r.bind(g),e[o+2]=(i=g.complete)===null||i===void 0?void 0:i.bind(g)}let u,d,p;if(t instanceof $t)d=Kr(t.firestore,Yi),p=KI(t._key.path),u={next:g=>{e[o]&&e[o](iz(d,t,g))},error:e[o+1],complete:e[o+2]};else{let g=Kr(t,Qi);d=Kr(g.firestore,Yi),p=g._query;let _=new rl(d);u={next:E=>{e[o]&&e[o](new Hp(d,_,g,E))},error:e[o+1],complete:e[o+2]},Rx(t._query)}return function(_,E,M,O){let P=new Pp(O),V=new xp(E,P,M);return _.asyncQueue.enqueueAndForget(()=>C(this,null,function*(){return dx(yield PI(_),V)})),()=>{P.Za(),_.asyncQueue.enqueueAndForget(()=>C(this,null,function*(){return hx(yield PI(_),V)}))}}(sE(d),p,a,u)}function Lx(t,e){return function(r,i){let s=new hr;return r.asyncQueue.enqueueAndForget(()=>C(this,null,function*(){return Fq(yield Gq(r),i,s)})),s.promise}(sE(t),e)}function iz(t,e,n){let r=n.docs.get(e._key),i=new rl(t);return new $p(t,i,e._key,r,new Qs(n.hasPendingWrites,n.fromCache),e.converter)}(function(e,n=!0){(function(i){Ka=i})(cr),ar(new Bt("firestore",(r,{instanceIdentifier:i,options:s})=>{let o=r.getProvider("app").getImmediate(),a=new Yi(new h_(r.getProvider("auth-internal")),new m_(r.getProvider("app-check-internal")),function(d,p){if(!Object.prototype.hasOwnProperty.apply(d.options,["projectId"]))throw new H(F.INVALID_ARGUMENT,'"projectId" not provided in firebase.initializeApp.');return new pp(d.options.projectId,p)}(o,i),o);return s=Object.assign({useFetchStreams:n},s),a._setSettings(s),a},"PUBLIC").setMultipleInstances(!0)),$e(zA,"4.7.3",e),$e(zA,"4.7.3","esm2017")})();var Jp=function(){return Jp=Object.assign||function(e){for(var n,r=1,i=arguments.length;r<i;r++){n=arguments[r];for(var s in n)Object.prototype.hasOwnProperty.call(n,s)&&(e[s]=n[s])}return e},Jp.apply(this,arguments)};var az={includeMetadataChanges:!1};function Vx(t,e){return e===void 0&&(e=az),new me(function(n){var r=uE(t,e,{next:n.next.bind(n),error:n.error.bind(n),complete:n.complete.bind(n)});return{unsubscribe:r}})}function Ux(t,e){var n;e===void 0&&(e={});var r=t.data(e);return!t.exists()||typeof r!="object"||r===null||!e.idField?r:Jp(Jp({},r),(n={},n[e.idField]=t.id,n))}function jx(t){return Vx(t,{includeMetadataChanges:!0}).pipe(le(function(e){return e.docs}))}function Bx(t,e){return e===void 0&&(e={}),jx(t).pipe(le(function(n){return n.map(function(r){return Ux(r,e)})}))}var ul=class{constructor(e){return e}},$x="firestore",lE=class{constructor(){return Ta($x)}};var dE=new W("angularfire2.firestore-instances");function cz(t,e){let n=Su($x,t,e);return n&&new ul(n)}function uz(t){return(e,n)=>{let r=e.runOutsideAngular(()=>t(n));return new ul(r)}}var lz={provide:lE,deps:[[new St,dE]]},dz={provide:ul,useFactory:cz,deps:[[new St,dE],Br]};function CZ(t,...e){return $e("angularfire",Ui.full,"fst"),Yn([dz,lz,{provide:dE,useFactory:uz(t),multi:!0,deps:[Re,Et,Bs,$s,[new St,Lu],[new St,js],...e]}])}var TZ=We(Bx,!0);var SZ=We(Fx,!0);var AZ=We(bx,!0);var RZ=We(iE,!0);var xZ=We(kx,!0);var MZ=We(Dx,!0);var NZ=We(Nx,!0);var PZ=We(xx,!0);var kZ=We(Ox,!0);var OZ=We(Mx,!0);var fE=fN(Hx());var qx=class t{mostrarSuccess(e){fE.default.fire({toast:!0,position:"top-end",icon:"success",title:"Exito",text:e,showConfirmButton:!1,timer:2e3,background:"#333",color:"#fff",iconColor:"#28a745",customClass:{popup:"colored-toast"}})}mostrarError(e){fE.default.fire({toast:!0,position:"top-end",icon:"error",title:"Error",text:e,showConfirmButton:!1,timer:3e3,background:"#333",color:"#fff",iconColor:"#ff5f6d",customClass:{popup:"colored-toast"}})}static \u0275fac=function(n){return new(n||t)};static \u0275prov=Y({token:t,factory:t.\u0275fac,providedIn:"root"})};var Zx="firebasestorage.googleapis.com",Jx="storageBucket",hz=2*60*1e3,fz=10*60*1e3;var Qe=class t extends Ft{constructor(e,n,r=0){super(pE(e),`Firebase Storage: ${n} (${pE(e)})`),this.status_=r,this.customData={serverResponse:null},this._baseMessage=this.message,Object.setPrototypeOf(this,t.prototype)}get status(){return this.status_}set status(e){this.status_=e}_codeEquals(e){return pE(e)===this.code}get serverResponse(){return this.customData.serverResponse}set serverResponse(e){this.customData.serverResponse=e,this.customData.serverResponse?this.message=`${this._baseMessage}
${this.customData.serverResponse}`:this.message=this._baseMessage}},Ze=function(t){return t.UNKNOWN="unknown",t.OBJECT_NOT_FOUND="object-not-found",t.BUCKET_NOT_FOUND="bucket-not-found",t.PROJECT_NOT_FOUND="project-not-found",t.QUOTA_EXCEEDED="quota-exceeded",t.UNAUTHENTICATED="unauthenticated",t.UNAUTHORIZED="unauthorized",t.UNAUTHORIZED_APP="unauthorized-app",t.RETRY_LIMIT_EXCEEDED="retry-limit-exceeded",t.INVALID_CHECKSUM="invalid-checksum",t.CANCELED="canceled",t.INVALID_EVENT_NAME="invalid-event-name",t.INVALID_URL="invalid-url",t.INVALID_DEFAULT_BUCKET="invalid-default-bucket",t.NO_DEFAULT_BUCKET="no-default-bucket",t.CANNOT_SLICE_BLOB="cannot-slice-blob",t.SERVER_FILE_WRONG_SIZE="server-file-wrong-size",t.NO_DOWNLOAD_URL="no-download-url",t.INVALID_ARGUMENT="invalid-argument",t.INVALID_ARGUMENT_COUNT="invalid-argument-count",t.APP_DELETED="app-deleted",t.INVALID_ROOT_OPERATION="invalid-root-operation",t.INVALID_FORMAT="invalid-format",t.INTERNAL_ERROR="internal-error",t.UNSUPPORTED_ENVIRONMENT="unsupported-environment",t}(Ze||{});function pE(t){return"storage/"+t}function _E(){let t="An unknown error occurred, please check the error payload for server response.";return new Qe(Ze.UNKNOWN,t)}function pz(t){return new Qe(Ze.OBJECT_NOT_FOUND,"Object '"+t+"' does not exist.")}function gz(t){return new Qe(Ze.QUOTA_EXCEEDED,"Quota for bucket '"+t+"' exceeded, please view quota on https://firebase.google.com/pricing/.")}function mz(){let t="User is not authenticated, please authenticate using Firebase Authentication and try again.";return new Qe(Ze.UNAUTHENTICATED,t)}function yz(){return new Qe(Ze.UNAUTHORIZED_APP,"This app does not have permission to access Firebase Storage on this project.")}function vz(t){return new Qe(Ze.UNAUTHORIZED,"User does not have permission to access '"+t+"'.")}function wz(){return new Qe(Ze.RETRY_LIMIT_EXCEEDED,"Max retry time for operation exceeded, please try again.")}function _z(){return new Qe(Ze.CANCELED,"User canceled the upload/download.")}function Iz(t){return new Qe(Ze.INVALID_URL,"Invalid URL '"+t+"'.")}function Ez(t){return new Qe(Ze.INVALID_DEFAULT_BUCKET,"Invalid default bucket '"+t+"'.")}function bz(){return new Qe(Ze.NO_DEFAULT_BUCKET,"No default bucket found. Did you set the '"+Jx+"' property when initializing the app?")}function Dz(){return new Qe(Ze.CANNOT_SLICE_BLOB,"Cannot slice blob for upload. Please retry the upload.")}function Cz(){return new Qe(Ze.NO_DOWNLOAD_URL,"The given file does not have any download URLs.")}function Tz(t){return new Qe(Ze.UNSUPPORTED_ENVIRONMENT,`${t} is missing. Make sure to install the required polyfills. See https://firebase.google.com/docs/web/environments-js-sdk#polyfills for more information.`)}function gE(t){return new Qe(Ze.INVALID_ARGUMENT,t)}function Xx(){return new Qe(Ze.APP_DELETED,"The Firebase app was deleted.")}function Sz(t){return new Qe(Ze.INVALID_ROOT_OPERATION,"The operation '"+t+"' cannot be performed on a root reference, create a non-root reference using child, such as .child('file.png').")}function dl(t,e){return new Qe(Ze.INVALID_FORMAT,"String does not match format '"+t+"': "+e)}function ll(t){throw new Qe(Ze.INTERNAL_ERROR,"Internal error: "+t)}var Pn=class t{constructor(e,n){this.bucket=e,this.path_=n}get path(){return this.path_}get isRoot(){return this.path.length===0}fullServerUrl(){let e=encodeURIComponent;return"/b/"+e(this.bucket)+"/o/"+e(this.path)}bucketOnlyServerUrl(){return"/b/"+encodeURIComponent(this.bucket)+"/o"}static makeFromBucketSpec(e,n){let r;try{r=t.makeFromUrl(e,n)}catch{return new t(e,"")}if(r.path==="")return r;throw Ez(e)}static makeFromUrl(e,n){let r=null,i="([A-Za-z0-9.\\-_]+)";function s(K){K.path.charAt(K.path.length-1)==="/"&&(K.path_=K.path_.slice(0,-1))}let o="(/(.*))?$",a=new RegExp("^gs://"+i+o,"i"),u={bucket:1,path:3};function d(K){K.path_=decodeURIComponent(K.path)}let p="v[A-Za-z0-9_]+",g=n.replace(/[.]/g,"\\."),_="(/([^?#]*).*)?$",E=new RegExp(`^https?://${g}/${p}/b/${i}/o${_}`,"i"),M={bucket:1,path:3},O=n===Zx?"(?:storage.googleapis.com|storage.cloud.google.com)":n,P="([^?#]*)",V=new RegExp(`^https?://${O}/${i}/${P}`,"i"),q=[{regex:a,indices:u,postModify:s},{regex:E,indices:M,postModify:d},{regex:V,indices:{bucket:1,path:2},postModify:d}];for(let K=0;K<q.length;K++){let Ce=q[K],J=Ce.regex.exec(e);if(J){let T=J[Ce.indices.bucket],I=J[Ce.indices.path];I||(I=""),r=new t(T,I),Ce.postModify(r);break}}if(r==null)throw Iz(e);return r}},mE=class{constructor(e){this.promise_=Promise.reject(e)}getPromise(){return this.promise_}cancel(e=!1){}};function Az(t,e,n){let r=1,i=null,s=null,o=!1,a=0;function u(){return a===2}let d=!1;function p(...P){d||(d=!0,e.apply(null,P))}function g(P){i=setTimeout(()=>{i=null,t(E,u())},P)}function _(){s&&clearTimeout(s)}function E(P,...V){if(d){_();return}if(P){_(),p.call(null,P,...V);return}if(u()||o){_(),p.call(null,P,...V);return}r<64&&(r*=2);let q;a===1?(a=2,q=0):q=(r+Math.random())*1e3,g(q)}let M=!1;function O(P){M||(M=!0,_(),!d&&(i!==null?(P||(a=2),clearTimeout(i),g(0)):P||(a=1)))}return g(0),s=setTimeout(()=>{o=!0,O(!0)},n),O}function Rz(t){t(!1)}function xz(t){return t!==void 0}function Mz(t){return typeof t=="object"&&!Array.isArray(t)}function IE(t){return typeof t=="string"||t instanceof String}function zx(t){return EE()&&t instanceof Blob}function EE(){return typeof Blob<"u"}function Gx(t,e,n,r){if(r<e)throw gE(`Invalid value for '${t}'. Expected ${e} or greater.`);if(r>n)throw gE(`Invalid value for '${t}'. Expected ${n} or less.`)}function bE(t,e,n){let r=e;return n==null&&(r=`https://${e}`),`${n}://${r}/v0${t}`}function eM(t){let e=encodeURIComponent,n="?";for(let r in t)if(t.hasOwnProperty(r)){let i=e(r)+"="+e(t[r]);n=n+i+"&"}return n=n.slice(0,-1),n}var Za=function(t){return t[t.NO_ERROR=0]="NO_ERROR",t[t.NETWORK_ERROR=1]="NETWORK_ERROR",t[t.ABORT=2]="ABORT",t}(Za||{});function Nz(t,e){let n=t>=500&&t<600,i=[408,429].indexOf(t)!==-1,s=e.indexOf(t)!==-1;return n||i||s}var yE=class{constructor(e,n,r,i,s,o,a,u,d,p,g,_=!0){this.url_=e,this.method_=n,this.headers_=r,this.body_=i,this.successCodes_=s,this.additionalRetryCodes_=o,this.callback_=a,this.errorCallback_=u,this.timeout_=d,this.progressCallback_=p,this.connectionFactory_=g,this.retry=_,this.pendingConnection_=null,this.backoffId_=null,this.canceled_=!1,this.appDelete_=!1,this.promise_=new Promise((E,M)=>{this.resolve_=E,this.reject_=M,this.start_()})}start_(){let e=(r,i)=>{if(i){r(!1,new Ya(!1,null,!0));return}let s=this.connectionFactory_();this.pendingConnection_=s;let o=a=>{let u=a.loaded,d=a.lengthComputable?a.total:-1;this.progressCallback_!==null&&this.progressCallback_(u,d)};this.progressCallback_!==null&&s.addUploadProgressListener(o),s.send(this.url_,this.method_,this.body_,this.headers_).then(()=>{this.progressCallback_!==null&&s.removeUploadProgressListener(o),this.pendingConnection_=null;let a=s.getErrorCode()===Za.NO_ERROR,u=s.getStatus();if(!a||Nz(u,this.additionalRetryCodes_)&&this.retry){let p=s.getErrorCode()===Za.ABORT;r(!1,new Ya(!1,null,p));return}let d=this.successCodes_.indexOf(u)!==-1;r(!0,new Ya(d,s))})},n=(r,i)=>{let s=this.resolve_,o=this.reject_,a=i.connection;if(i.wasSuccessCode)try{let u=this.callback_(a,a.getResponse());xz(u)?s(u):s()}catch(u){o(u)}else if(a!==null){let u=_E();u.serverResponse=a.getErrorText(),this.errorCallback_?o(this.errorCallback_(a,u)):o(u)}else if(i.canceled){let u=this.appDelete_?Xx():_z();o(u)}else{let u=wz();o(u)}};this.canceled_?n(!1,new Ya(!1,null,!0)):this.backoffId_=Az(e,n,this.timeout_)}getPromise(){return this.promise_}cancel(e){this.canceled_=!0,this.appDelete_=e||!1,this.backoffId_!==null&&Rz(this.backoffId_),this.pendingConnection_!==null&&this.pendingConnection_.abort()}},Ya=class{constructor(e,n,r){this.wasSuccessCode=e,this.connection=n,this.canceled=!!r}};function Pz(t,e){e!==null&&e.length>0&&(t.Authorization="Firebase "+e)}function kz(t,e){t["X-Firebase-Storage-Version"]="webjs/"+(e??"AppManager")}function Oz(t,e){e&&(t["X-Firebase-GMPID"]=e)}function Fz(t,e){e!==null&&(t["X-Firebase-AppCheck"]=e)}function Lz(t,e,n,r,i,s,o=!0){let a=eM(t.urlParams),u=t.url+a,d=Object.assign({},t.headers);return Oz(d,e),Pz(d,n),kz(d,s),Fz(d,r),new yE(u,t.method,d,t.body,t.successCodes,t.additionalRetryCodes,t.handler,t.errorHandler,t.timeout,t.progressCallback,i,o)}function Vz(){return typeof BlobBuilder<"u"?BlobBuilder:typeof WebKitBlobBuilder<"u"?WebKitBlobBuilder:void 0}function Uz(...t){let e=Vz();if(e!==void 0){let n=new e;for(let r=0;r<t.length;r++)n.append(t[r]);return n.getBlob()}else{if(EE())return new Blob(t);throw new Qe(Ze.UNSUPPORTED_ENVIRONMENT,"This browser doesn't seem to support creating Blobs")}}function jz(t,e,n){return t.webkitSlice?t.webkitSlice(e,n):t.mozSlice?t.mozSlice(e,n):t.slice?t.slice(e,n):null}function Bz(t){if(typeof atob>"u")throw Tz("base-64");return atob(t)}var wr={RAW:"raw",BASE64:"base64",BASE64URL:"base64url",DATA_URL:"data_url"},hl=class{constructor(e,n){this.data=e,this.contentType=n||null}};function $z(t,e){switch(t){case wr.RAW:return new hl(tM(e));case wr.BASE64:case wr.BASE64URL:return new hl(nM(t,e));case wr.DATA_URL:return new hl(qz(e),zz(e))}throw _E()}function tM(t){let e=[];for(let n=0;n<t.length;n++){let r=t.charCodeAt(n);if(r<=127)e.push(r);else if(r<=2047)e.push(192|r>>6,128|r&63);else if((r&64512)===55296)if(!(n<t.length-1&&(t.charCodeAt(n+1)&64512)===56320))e.push(239,191,189);else{let s=r,o=t.charCodeAt(++n);r=65536|(s&1023)<<10|o&1023,e.push(240|r>>18,128|r>>12&63,128|r>>6&63,128|r&63)}else(r&64512)===56320?e.push(239,191,189):e.push(224|r>>12,128|r>>6&63,128|r&63)}return new Uint8Array(e)}function Hz(t){let e;try{e=decodeURIComponent(t)}catch{throw dl(wr.DATA_URL,"Malformed data URL.")}return tM(e)}function nM(t,e){switch(t){case wr.BASE64:{let i=e.indexOf("-")!==-1,s=e.indexOf("_")!==-1;if(i||s)throw dl(t,"Invalid character '"+(i?"-":"_")+"' found: is it base64url encoded?");break}case wr.BASE64URL:{let i=e.indexOf("+")!==-1,s=e.indexOf("/")!==-1;if(i||s)throw dl(t,"Invalid character '"+(i?"+":"/")+"' found: is it base64 encoded?");e=e.replace(/-/g,"+").replace(/_/g,"/");break}}let n;try{n=Bz(e)}catch(i){throw i.message.includes("polyfill")?i:dl(t,"Invalid character found")}let r=new Uint8Array(n.length);for(let i=0;i<n.length;i++)r[i]=n.charCodeAt(i);return r}var eg=class{constructor(e){this.base64=!1,this.contentType=null;let n=e.match(/^data:([^,]+)?,/);if(n===null)throw dl(wr.DATA_URL,"Must be formatted 'data:[<mediatype>][;base64],<data>");let r=n[1]||null;r!=null&&(this.base64=Gz(r,";base64"),this.contentType=this.base64?r.substring(0,r.length-7):r),this.rest=e.substring(e.indexOf(",")+1)}};function qz(t){let e=new eg(t);return e.base64?nM(wr.BASE64,e.rest):Hz(e.rest)}function zz(t){return new eg(t).contentType}function Gz(t,e){return t.length>=e.length?t.substring(t.length-e.length)===e:!1}var tg=class t{constructor(e,n){let r=0,i="";zx(e)?(this.data_=e,r=e.size,i=e.type):e instanceof ArrayBuffer?(n?this.data_=new Uint8Array(e):(this.data_=new Uint8Array(e.byteLength),this.data_.set(new Uint8Array(e))),r=this.data_.length):e instanceof Uint8Array&&(n?this.data_=e:(this.data_=new Uint8Array(e.length),this.data_.set(e)),r=e.length),this.size_=r,this.type_=i}size(){return this.size_}type(){return this.type_}slice(e,n){if(zx(this.data_)){let r=this.data_,i=jz(r,e,n);return i===null?null:new t(i)}else{let r=new Uint8Array(this.data_.buffer,e,n-e);return new t(r,!0)}}static getBlob(...e){if(EE()){let n=e.map(r=>r instanceof t?r.data_:r);return new t(Uz.apply(null,n))}else{let n=e.map(o=>IE(o)?$z(wr.RAW,o).data:o.data_),r=0;n.forEach(o=>{r+=o.byteLength});let i=new Uint8Array(r),s=0;return n.forEach(o=>{for(let a=0;a<o.length;a++)i[s++]=o[a]}),new t(i,!0)}}uploadData(){return this.data_}};function rM(t){let e;try{e=JSON.parse(t)}catch{return null}return Mz(e)?e:null}function Wz(t){if(t.length===0)return null;let e=t.lastIndexOf("/");return e===-1?"":t.slice(0,e)}function Kz(t,e){let n=e.split("/").filter(r=>r.length>0).join("/");return t.length===0?n:t+"/"+n}function iM(t){let e=t.lastIndexOf("/",t.length-2);return e===-1?t:t.slice(e+1)}function Qz(t,e){return e}var Dt=class{constructor(e,n,r,i){this.server=e,this.local=n||e,this.writable=!!r,this.xform=i||Qz}},Xp=null;function Yz(t){return!IE(t)||t.length<2?t:iM(t)}function sM(){if(Xp)return Xp;let t=[];t.push(new Dt("bucket")),t.push(new Dt("generation")),t.push(new Dt("metageneration")),t.push(new Dt("name","fullPath",!0));function e(s,o){return Yz(o)}let n=new Dt("name");n.xform=e,t.push(n);function r(s,o){return o!==void 0?Number(o):o}let i=new Dt("size");return i.xform=r,t.push(i),t.push(new Dt("timeCreated")),t.push(new Dt("updated")),t.push(new Dt("md5Hash",null,!0)),t.push(new Dt("cacheControl",null,!0)),t.push(new Dt("contentDisposition",null,!0)),t.push(new Dt("contentEncoding",null,!0)),t.push(new Dt("contentLanguage",null,!0)),t.push(new Dt("contentType",null,!0)),t.push(new Dt("metadata","customMetadata",!0)),Xp=t,Xp}function Zz(t,e){function n(){let r=t.bucket,i=t.fullPath,s=new Pn(r,i);return e._makeStorageReference(s)}Object.defineProperty(t,"ref",{get:n})}function Jz(t,e,n){let r={};r.type="file";let i=n.length;for(let s=0;s<i;s++){let o=n[s];r[o.local]=o.xform(r,e[o.server])}return Zz(r,t),r}function oM(t,e,n){let r=rM(e);return r===null?null:Jz(t,r,n)}function Xz(t,e,n,r){let i=rM(e);if(i===null||!IE(i.downloadTokens))return null;let s=i.downloadTokens;if(s.length===0)return null;let o=encodeURIComponent;return s.split(",").map(d=>{let p=t.bucket,g=t.fullPath,_="/b/"+o(p)+"/o/"+o(g),E=bE(_,n,r),M=eM({alt:"media",token:d});return E+M})[0]}function e4(t,e){let n={},r=e.length;for(let i=0;i<r;i++){let s=e[i];s.writable&&(n[s.server]=t[s.local])}return JSON.stringify(n)}var ng=class{constructor(e,n,r,i){this.url=e,this.method=n,this.handler=r,this.timeout=i,this.urlParams={},this.headers={},this.body=null,this.errorHandler=null,this.progressCallback=null,this.successCodes=[200],this.additionalRetryCodes=[]}};function aM(t){if(!t)throw _E()}function t4(t,e){function n(r,i){let s=oM(t,i,e);return aM(s!==null),s}return n}function n4(t,e){function n(r,i){let s=oM(t,i,e);return aM(s!==null),Xz(s,i,t.host,t._protocol)}return n}function cM(t){function e(n,r){let i;return n.getStatus()===401?n.getErrorText().includes("Firebase App Check token is invalid")?i=yz():i=mz():n.getStatus()===402?i=gz(t.bucket):n.getStatus()===403?i=vz(t.path):i=r,i.status=n.getStatus(),i.serverResponse=r.serverResponse,i}return e}function r4(t){let e=cM(t);function n(r,i){let s=e(r,i);return r.getStatus()===404&&(s=pz(t.path)),s.serverResponse=i.serverResponse,s}return n}function i4(t,e,n){let r=e.fullServerUrl(),i=bE(r,t.host,t._protocol),s="GET",o=t.maxOperationRetryTime,a=new ng(i,s,n4(t,n),o);return a.errorHandler=r4(e),a}function s4(t,e){return t&&t.contentType||e&&e.type()||"application/octet-stream"}function o4(t,e,n){let r=Object.assign({},n);return r.fullPath=t.path,r.size=e.size(),r.contentType||(r.contentType=s4(null,e)),r}function a4(t,e,n,r,i){let s=e.bucketOnlyServerUrl(),o={"X-Goog-Upload-Protocol":"multipart"};function a(){let q="";for(let K=0;K<2;K++)q=q+Math.random().toString().slice(2);return q}let u=a();o["Content-Type"]="multipart/related; boundary="+u;let d=o4(e,r,i),p=e4(d,n),g="--"+u+`\r
Content-Type: application/json; charset=utf-8\r
\r
`+p+`\r
--`+u+`\r
Content-Type: `+d.contentType+`\r
\r
`,_=`\r
--`+u+"--",E=tg.getBlob(g,r,_);if(E===null)throw Dz();let M={name:d.fullPath},O=bE(s,t.host,t._protocol),P="POST",V=t.maxUploadRetryTime,G=new ng(O,P,t4(t,n),V);return G.urlParams=M,G.headers=o,G.body=E.uploadData(),G.errorHandler=cM(e),G}var $Z=256*1024;var Wx=null,vE=class{constructor(){this.sent_=!1,this.xhr_=new XMLHttpRequest,this.initXhr(),this.errorCode_=Za.NO_ERROR,this.sendPromise_=new Promise(e=>{this.xhr_.addEventListener("abort",()=>{this.errorCode_=Za.ABORT,e()}),this.xhr_.addEventListener("error",()=>{this.errorCode_=Za.NETWORK_ERROR,e()}),this.xhr_.addEventListener("load",()=>{e()})})}send(e,n,r,i){if(this.sent_)throw ll("cannot .send() more than once");if(this.sent_=!0,this.xhr_.open(n,e,!0),i!==void 0)for(let s in i)i.hasOwnProperty(s)&&this.xhr_.setRequestHeader(s,i[s].toString());return r!==void 0?this.xhr_.send(r):this.xhr_.send(),this.sendPromise_}getErrorCode(){if(!this.sent_)throw ll("cannot .getErrorCode() before sending");return this.errorCode_}getStatus(){if(!this.sent_)throw ll("cannot .getStatus() before sending");try{return this.xhr_.status}catch{return-1}}getResponse(){if(!this.sent_)throw ll("cannot .getResponse() before sending");return this.xhr_.response}getErrorText(){if(!this.sent_)throw ll("cannot .getErrorText() before sending");return this.xhr_.statusText}abort(){this.xhr_.abort()}getResponseHeader(e){return this.xhr_.getResponseHeader(e)}addUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.addEventListener("progress",e)}removeUploadProgressListener(e){this.xhr_.upload!=null&&this.xhr_.upload.removeEventListener("progress",e)}},wE=class extends vE{initXhr(){this.xhr_.responseType="text"}};function uM(){return Wx?Wx():new wE}var Ja=class t{constructor(e,n){this._service=e,n instanceof Pn?this._location=n:this._location=Pn.makeFromUrl(n,e.host)}toString(){return"gs://"+this._location.bucket+"/"+this._location.path}_newRef(e,n){return new t(e,n)}get root(){let e=new Pn(this._location.bucket,"");return this._newRef(this._service,e)}get bucket(){return this._location.bucket}get fullPath(){return this._location.path}get name(){return iM(this._location.path)}get storage(){return this._service}get parent(){let e=Wz(this._location.path);if(e===null)return null;let n=new Pn(this._location.bucket,e);return new t(this._service,n)}_throwIfRoot(e){if(this._location.path==="")throw Sz(e)}};function c4(t,e,n){t._throwIfRoot("uploadBytes");let r=a4(t.storage,t._location,sM(),new tg(e,!0),n);return t.storage.makeRequestWithTokens(r,uM).then(i=>({metadata:i,ref:t}))}function u4(t){t._throwIfRoot("getDownloadURL");let e=i4(t.storage,t._location,sM());return t.storage.makeRequestWithTokens(e,uM).then(n=>{if(n===null)throw Cz();return n})}function l4(t,e){let n=Kz(t._location.path,e),r=new Pn(t._location.bucket,n);return new Ja(t.storage,r)}function d4(t){return/^[A-Za-z]+:\/\//.test(t)}function h4(t,e){return new Ja(t,e)}function lM(t,e){if(t instanceof fl){let n=t;if(n._bucket==null)throw bz();let r=new Ja(n,n._bucket);return e!=null?lM(r,e):r}else return e!==void 0?l4(t,e):t}function f4(t,e){if(e&&d4(e)){if(t instanceof fl)return h4(t,e);throw gE("To use ref(service, url), the first argument must be a Storage instance.")}else return lM(t,e)}function Kx(t,e){let n=e?.[Jx];return n==null?null:Pn.makeFromBucketSpec(n,t)}function p4(t,e,n,r={}){t.host=`${e}:${n}`,t._protocol="http";let{mockUserToken:i}=r;i&&(t._overrideAuthToken=typeof i=="string"?i:Pf(i,t.app.options.projectId))}var fl=class{constructor(e,n,r,i,s){this.app=e,this._authProvider=n,this._appCheckProvider=r,this._url=i,this._firebaseVersion=s,this._bucket=null,this._host=Zx,this._protocol="https",this._appId=null,this._deleted=!1,this._maxOperationRetryTime=hz,this._maxUploadRetryTime=fz,this._requests=new Set,i!=null?this._bucket=Pn.makeFromBucketSpec(i,this._host):this._bucket=Kx(this._host,this.app.options)}get host(){return this._host}set host(e){this._host=e,this._url!=null?this._bucket=Pn.makeFromBucketSpec(this._url,e):this._bucket=Kx(e,this.app.options)}get maxUploadRetryTime(){return this._maxUploadRetryTime}set maxUploadRetryTime(e){Gx("time",0,Number.POSITIVE_INFINITY,e),this._maxUploadRetryTime=e}get maxOperationRetryTime(){return this._maxOperationRetryTime}set maxOperationRetryTime(e){Gx("time",0,Number.POSITIVE_INFINITY,e),this._maxOperationRetryTime=e}_getAuthToken(){return C(this,null,function*(){if(this._overrideAuthToken)return this._overrideAuthToken;let e=this._authProvider.getImmediate({optional:!0});if(e){let n=yield e.getToken();if(n!==null)return n.accessToken}return null})}_getAppCheckToken(){return C(this,null,function*(){let e=this._appCheckProvider.getImmediate({optional:!0});return e?(yield e.getToken()).token:null})}_delete(){return this._deleted||(this._deleted=!0,this._requests.forEach(e=>e.cancel()),this._requests.clear()),Promise.resolve()}_makeStorageReference(e){return new Ja(this,e)}_makeRequest(e,n,r,i,s=!0){if(this._deleted)return new mE(Xx());{let o=Lz(e,this._appId,r,i,n,this._firebaseVersion,s);return this._requests.add(o),o.getPromise().then(()=>this._requests.delete(o),()=>this._requests.delete(o)),o}}makeRequestWithTokens(e,n){return C(this,null,function*(){let[r,i]=yield Promise.all([this._getAuthToken(),this._getAppCheckToken()]);return this._makeRequest(e,n,r,i).getPromise()})}},Qx="@firebase/storage",Yx="0.13.2";var dM="storage";function hM(t,e,n){return t=Ve(t),c4(t,e,n)}function fM(t){return t=Ve(t),u4(t)}function pM(t,e){return t=Ve(t),f4(t,e)}function gM(t=Vi(),e){t=Ve(t);let r=Vs(t,dM).getImmediate({identifier:e}),i=Nf("storage");return i&&mM(r,...i),r}function mM(t,e,n,r={}){p4(t,e,n,r)}function g4(t,{instanceIdentifier:e}){let n=t.getProvider("app").getImmediate(),r=t.getProvider("auth-internal"),i=t.getProvider("app-check-internal");return new fl(n,r,i,e,cr)}function m4(){ar(new Bt(dM,g4,"PUBLIC").setMultipleInstances(!0)),$e(Qx,Yx,""),$e(Qx,Yx,"esm2017")}m4();var oJ=We(fM,!0);var aJ=We(gM,!0);var cJ=We(pM,!0);var uJ=We(hM,!0);export{C as a,It as b,Y as c,Ar as d,ie as e,j as f,bh as g,Rr as h,L9 as i,V9 as j,U9 as k,ee as l,ky as m,Fy as n,Vh as o,H9 as p,zc as q,Uh as r,Gc as s,q9 as t,nr as u,z9 as v,G9 as w,dT as x,EF as y,hT as z,bF as A,W9 as B,DF as C,jh as D,K9 as E,Q9 as F,E8 as G,b8 as H,PT as I,Wy as J,K8 as K,jV as L,Vr as M,qK as N,zK as O,GK as P,O7 as Q,F7 as R,PA as S,Kw as T,Fu as U,RQ as V,xQ as W,MQ as X,NQ as Y,e0 as Z,qT as _,hK as $,fK as aa,nf as ba,zL as ca,I0 as da,KL as ea,gK as fa,YL as ga,JL as ha,eV as ia,D0 as ja,mK as ka,yK as la,aV as ma,uV as na,vK as oa,wK as pa,A0 as qa,ul as ra,CZ as sa,TZ as ta,SZ as ua,AZ as va,RZ as wa,xZ as xa,MZ as ya,NZ as za,PZ as Aa,kZ as Ba,OZ as Ca,qx as Da,oJ as Ea,aJ as Fa,cJ as Ga,uJ as Ha};
