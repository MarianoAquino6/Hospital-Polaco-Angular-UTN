<app-loading [isLoading]="isLoading"></app-loading>

<div class="tabla">
    <div class="tabla-scroll">
        <table>
            <tr>
                <th>Email</th>
                <th>Nombre</th>
                <th>Apellido</th>
                <th>Documento</th>
                <th>Rol</th>
                <th>Habilitado</th>
                <th>Acci√≥n</th>
                <th>Historia Clinica</th>
            </tr>
            <tr *ngFor="let objeto of objetos">
                <td>{{ objeto.email }}</td>
                <td>{{ objeto.nombre }}</td>
                <td>{{ objeto.apellido }}</td>
                <td>{{ objeto.documento }}</td>
                <td>{{ objeto.rol }}</td>
                <td> @if(objeto.habilitado) {
                    Habilitado
                    }
                    @else {
                    Deshabilitado
                    }
                </td>
                <td>
                    @if(objeto.habilitado) {
                    <div class="rojo" (click)="cambiarHabilitacionUsuario(false, objeto)">
                        <button>
                            Deshabilitar
                        </button>
                    </div>
                    }
                    @else {
                    <div class="verde" (click)="cambiarHabilitacionUsuario(true, objeto)">
                        <button>
                            Habilitar
                        </button>
                    </div>
                    }
                </td>
                @if (objeto.tieneHC) {
                <td class="cancel-icon-cell">
                    <i class="fas fa-notes-medical" aria-hidden="true" (click)="verHistoriaClinica(objeto.email)"></i>
                </td>
                }
                @else {
                <td>
                    No tiene HC
                </td>
                }
            </tr>
        </table>
    </div>
</div>